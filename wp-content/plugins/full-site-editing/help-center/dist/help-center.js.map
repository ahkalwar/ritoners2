{"version":3,"file":"help-center.js","mappings":"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","sources":["webpack://EditingToolkit/../../node_modules/@tannin/compile/index.js","webpack://EditingToolkit/../../node_modules/@tannin/evaluate/index.js","webpack://EditingToolkit/../../node_modules/@tannin/plural-forms/index.js","webpack://EditingToolkit/../../node_modules/@tannin/postfix/index.js","webpack://EditingToolkit/../../node_modules/@tannin/sprintf/index.js","webpack://EditingToolkit/../../node_modules/@wordpress/icons/build-module/library/chevron-up.js","webpack://EditingToolkit/../../node_modules/@wordpress/icons/build-module/library/close-small.js","webpack://EditingToolkit/../../node_modules/@wordpress/icons/build-module/library/line-solid.js","webpack://EditingToolkit/../../node_modules/@wordpress/interface/build-module/components/pinned-items/index.js","webpack://EditingToolkit/../../node_modules/@wordpress/interface/build-module/store/actions.js","webpack://EditingToolkit/../../node_modules/@wordpress/interface/build-module/store/constants.js","webpack://EditingToolkit/../../node_modules/@wordpress/interface/build-module/store/index.js","webpack://EditingToolkit/../../node_modules/@wordpress/interface/build-module/store/reducer.js","webpack://EditingToolkit/../../node_modules/@wordpress/interface/build-module/store/selectors.js","webpack://EditingToolkit/../../node_modules/array-filter/index.js","webpack://EditingToolkit/../../node_modules/builtin-status-codes/browser.js","webpack://EditingToolkit/../../node_modules/call-bind/callBound.js","webpack://EditingToolkit/../../node_modules/call-bind/index.js","webpack://EditingToolkit/../../node_modules/classnames/index.js","webpack://EditingToolkit/../../node_modules/clsx/dist/clsx.m.js","webpack://EditingToolkit/../../node_modules/cookie/index.js","webpack://EditingToolkit/../../node_modules/core-js/internals/a-callable.js","webpack://EditingToolkit/../../node_modules/core-js/internals/a-possible-prototype.js","webpack://EditingToolkit/../../node_modules/core-js/internals/an-object.js","webpack://EditingToolkit/../../node_modules/core-js/internals/array-buffer-native.js","webpack://EditingToolkit/../../node_modules/core-js/internals/array-buffer-view-core.js","webpack://EditingToolkit/../../node_modules/core-js/internals/array-includes.js","webpack://EditingToolkit/../../node_modules/core-js/internals/array-slice.js","webpack://EditingToolkit/../../node_modules/core-js/internals/classof-raw.js","webpack://EditingToolkit/../../node_modules/core-js/internals/classof.js","webpack://EditingToolkit/../../node_modules/core-js/internals/copy-constructor-properties.js","webpack://EditingToolkit/../../node_modules/core-js/internals/correct-prototype-getter.js","webpack://EditingToolkit/../../node_modules/core-js/internals/create-non-enumerable-property.js","webpack://EditingToolkit/../../node_modules/core-js/internals/create-property-descriptor.js","webpack://EditingToolkit/../../node_modules/core-js/internals/descriptors.js","webpack://EditingToolkit/../../node_modules/core-js/internals/document-create-element.js","webpack://EditingToolkit/../../node_modules/core-js/internals/engine-is-ios.js","webpack://EditingToolkit/../../node_modules/core-js/internals/engine-is-node.js","webpack://EditingToolkit/../../node_modules/core-js/internals/engine-user-agent.js","webpack://EditingToolkit/../../node_modules/core-js/internals/engine-v8-version.js","webpack://EditingToolkit/../../node_modules/core-js/internals/enum-bug-keys.js","webpack://EditingToolkit/../../node_modules/core-js/internals/export.js","webpack://EditingToolkit/../../node_modules/core-js/internals/fails.js","webpack://EditingToolkit/../../node_modules/core-js/internals/function-apply.js","webpack://EditingToolkit/../../node_modules/core-js/internals/function-bind-context.js","webpack://EditingToolkit/../../node_modules/core-js/internals/function-call.js","webpack://EditingToolkit/../../node_modules/core-js/internals/function-name.js","webpack://EditingToolkit/../../node_modules/core-js/internals/function-uncurry-this.js","webpack://EditingToolkit/../../node_modules/core-js/internals/get-built-in.js","webpack://EditingToolkit/../../node_modules/core-js/internals/get-method.js","webpack://EditingToolkit/../../node_modules/core-js/internals/global.js","webpack://EditingToolkit/../../node_modules/core-js/internals/has-own-property.js","webpack://EditingToolkit/../../node_modules/core-js/internals/hidden-keys.js","webpack://EditingToolkit/../../node_modules/core-js/internals/html.js","webpack://EditingToolkit/../../node_modules/core-js/internals/ie8-dom-define.js","webpack://EditingToolkit/../../node_modules/core-js/internals/indexed-object.js","webpack://EditingToolkit/../../node_modules/core-js/internals/inspect-source.js","webpack://EditingToolkit/../../node_modules/core-js/internals/internal-state.js","webpack://EditingToolkit/../../node_modules/core-js/internals/is-callable.js","webpack://EditingToolkit/../../node_modules/core-js/internals/is-forced.js","webpack://EditingToolkit/../../node_modules/core-js/internals/is-object.js","webpack://EditingToolkit/../../node_modules/core-js/internals/is-pure.js","webpack://EditingToolkit/../../node_modules/core-js/internals/is-symbol.js","webpack://EditingToolkit/../../node_modules/core-js/internals/length-of-array-like.js","webpack://EditingToolkit/../../node_modules/core-js/internals/native-symbol.js","webpack://EditingToolkit/../../node_modules/core-js/internals/native-weak-map.js","webpack://EditingToolkit/../../node_modules/core-js/internals/object-define-property.js","webpack://EditingToolkit/../../node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://EditingToolkit/../../node_modules/core-js/internals/object-get-own-property-names.js","webpack://EditingToolkit/../../node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://EditingToolkit/../../node_modules/core-js/internals/object-get-prototype-of.js","webpack://EditingToolkit/../../node_modules/core-js/internals/object-is-prototype-of.js","webpack://EditingToolkit/../../node_modules/core-js/internals/object-keys-internal.js","webpack://EditingToolkit/../../node_modules/core-js/internals/object-property-is-enumerable.js","webpack://EditingToolkit/../../node_modules/core-js/internals/object-set-prototype-of.js","webpack://EditingToolkit/../../node_modules/core-js/internals/ordinary-to-primitive.js","webpack://EditingToolkit/../../node_modules/core-js/internals/own-keys.js","webpack://EditingToolkit/../../node_modules/core-js/internals/redefine.js","webpack://EditingToolkit/../../node_modules/core-js/internals/require-object-coercible.js","webpack://EditingToolkit/../../node_modules/core-js/internals/set-global.js","webpack://EditingToolkit/../../node_modules/core-js/internals/shared-key.js","webpack://EditingToolkit/../../node_modules/core-js/internals/shared-store.js","webpack://EditingToolkit/../../node_modules/core-js/internals/shared.js","webpack://EditingToolkit/../../node_modules/core-js/internals/task.js","webpack://EditingToolkit/../../node_modules/core-js/internals/to-absolute-index.js","webpack://EditingToolkit/../../node_modules/core-js/internals/to-indexed-object.js","webpack://EditingToolkit/../../node_modules/core-js/internals/to-integer-or-infinity.js","webpack://EditingToolkit/../../node_modules/core-js/internals/to-length.js","webpack://EditingToolkit/../../node_modules/core-js/internals/to-object.js","webpack://EditingToolkit/../../node_modules/core-js/internals/to-offset.js","webpack://EditingToolkit/../../node_modules/core-js/internals/to-positive-integer.js","webpack://EditingToolkit/../../node_modules/core-js/internals/to-primitive.js","webpack://EditingToolkit/../../node_modules/core-js/internals/to-property-key.js","webpack://EditingToolkit/../../node_modules/core-js/internals/to-string-tag-support.js","webpack://EditingToolkit/../../node_modules/core-js/internals/try-to-string.js","webpack://EditingToolkit/../../node_modules/core-js/internals/uid.js","webpack://EditingToolkit/../../node_modules/core-js/internals/use-symbol-as-uid.js","webpack://EditingToolkit/../../node_modules/core-js/internals/well-known-symbol.js","webpack://EditingToolkit/../../node_modules/core-js/modules/es.typed-array.set.js","webpack://EditingToolkit/../../node_modules/core-js/modules/web.immediate.js","webpack://EditingToolkit/../../node_modules/crc32/lib/crc32.js","webpack://EditingToolkit/../../node_modules/deep-freeze/index.js","webpack://EditingToolkit/../../node_modules/events/events.js","webpack://EditingToolkit/../../node_modules/fast-json-stable-stringify/index.js","webpack://EditingToolkit/../../node_modules/foreach/index.js","webpack://EditingToolkit/../../node_modules/function-bind/implementation.js","webpack://EditingToolkit/../../node_modules/function-bind/index.js","webpack://EditingToolkit/../../node_modules/generate-function/index.js","webpack://EditingToolkit/../../node_modules/generate-object-property/index.js","webpack://EditingToolkit/../../node_modules/get-intrinsic/index.js","webpack://EditingToolkit/../../node_modules/get-src/index.js","webpack://EditingToolkit/../../node_modules/get-video-id/index.js","webpack://EditingToolkit/../../node_modules/has-symbols/index.js","webpack://EditingToolkit/../../node_modules/has-symbols/shams.js","webpack://EditingToolkit/../../node_modules/has/src/index.js","webpack://EditingToolkit/../../node_modules/hash.js/lib/hash/common.js","webpack://EditingToolkit/../../node_modules/hash.js/lib/hash/sha/1.js","webpack://EditingToolkit/../../node_modules/hash.js/lib/hash/sha/256.js","webpack://EditingToolkit/../../node_modules/hash.js/lib/hash/sha/common.js","webpack://EditingToolkit/../../node_modules/hash.js/lib/hash/utils.js","webpack://EditingToolkit/../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack://EditingToolkit/../../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js","webpack://EditingToolkit/../../node_modules/hoist-non-react-statics/node_modules/react-is/index.js","webpack://EditingToolkit/../../node_modules/inherits/inherits_browser.js","webpack://EditingToolkit/../../node_modules/is-arguments/index.js","webpack://EditingToolkit/../../node_modules/is-generator-function/index.js","webpack://EditingToolkit/../../node_modules/is-my-ip-valid/index.js","webpack://EditingToolkit/../../node_modules/is-my-json-valid/formats.js","webpack://EditingToolkit/../../node_modules/is-my-json-valid/index.js","webpack://EditingToolkit/../../node_modules/is-property/is-property.js","webpack://EditingToolkit/../../node_modules/is-typed-array/index.js","webpack://EditingToolkit/../../node_modules/js-base64/base64.js","webpack://EditingToolkit/../../node_modules/jsonpointer/jsonpointer.js","webpack://EditingToolkit/../../node_modules/lru/index.js","webpack://EditingToolkit/../../node_modules/minimalistic-assert/index.js","webpack://EditingToolkit/../../node_modules/ms/index.js","webpack://EditingToolkit/../../node_modules/object-inspect/index.js","webpack://EditingToolkit/../../node_modules/page/page.js","webpack://EditingToolkit/../../node_modules/progress-event/index.js","webpack://EditingToolkit/../../node_modules/prop-types/factoryWithThrowingShims.js","webpack://EditingToolkit/../../node_modules/prop-types/index.js","webpack://EditingToolkit/../../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://EditingToolkit/../../node_modules/qs/lib/formats.js","webpack://EditingToolkit/../../node_modules/qs/lib/index.js","webpack://EditingToolkit/../../node_modules/qs/lib/parse.js","webpack://EditingToolkit/../../node_modules/qs/lib/stringify.js","webpack://EditingToolkit/../../node_modules/qs/lib/utils.js","webpack://EditingToolkit/../../node_modules/querystringify/index.js","webpack://EditingToolkit/../../node_modules/react-draggable/build/cjs/Draggable.js","webpack://EditingToolkit/../../node_modules/react-draggable/build/cjs/DraggableCore.js","webpack://EditingToolkit/../../node_modules/react-draggable/build/cjs/cjs.js","webpack://EditingToolkit/../../node_modules/react-draggable/build/cjs/utils/domFns.js","webpack://EditingToolkit/../../node_modules/react-draggable/build/cjs/utils/getPrefix.js","webpack://EditingToolkit/../../node_modules/react-draggable/build/cjs/utils/log.js","webpack://EditingToolkit/../../node_modules/react-draggable/build/cjs/utils/positionFns.js","webpack://EditingToolkit/../../node_modules/react-draggable/build/cjs/utils/shims.js","webpack://EditingToolkit/../../node_modules/react-is/cjs/react-is.production.min.js","webpack://EditingToolkit/../../node_modules/react-is/index.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/focusManager.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/infiniteQueryBehavior.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/logger.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/mutation.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/mutationCache.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/notifyManager.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/onlineManager.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/query.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/queryCache.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/queryClient.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/queryObserver.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/retryer.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/subscribable.js","webpack://EditingToolkit/../../node_modules/react-query/es/core/utils.js","webpack://EditingToolkit/../../node_modules/react-query/es/react/QueryClientProvider.js","webpack://EditingToolkit/../../node_modules/react-query/es/react/QueryErrorResetBoundary.js","webpack://EditingToolkit/../../node_modules/react-query/es/react/logger.js","webpack://EditingToolkit/../../node_modules/react-query/es/react/reactBatchedUpdates.js","webpack://EditingToolkit/../../node_modules/react-query/es/react/setBatchUpdatesFn.js","webpack://EditingToolkit/../../node_modules/react-query/es/react/setLogger.js","webpack://EditingToolkit/../../node_modules/react-query/es/react/useBaseQuery.js","webpack://EditingToolkit/../../node_modules/react-query/es/react/useQuery.js","webpack://EditingToolkit/../../node_modules/react-query/es/react/utils.js","webpack://EditingToolkit/../../node_modules/react-redux/es/components/Context.js","webpack://EditingToolkit/../../node_modules/react-redux/es/components/Provider.js","webpack://EditingToolkit/../../node_modules/react-redux/es/components/connectAdvanced.js","webpack://EditingToolkit/../../node_modules/react-redux/es/connect/connect.js","webpack://EditingToolkit/../../node_modules/react-redux/es/connect/mapDispatchToProps.js","webpack://EditingToolkit/../../node_modules/react-redux/es/connect/mapStateToProps.js","webpack://EditingToolkit/../../node_modules/react-redux/es/connect/mergeProps.js","webpack://EditingToolkit/../../node_modules/react-redux/es/connect/selectorFactory.js","webpack://EditingToolkit/../../node_modules/react-redux/es/connect/wrapMapToProps.js","webpack://EditingToolkit/../../node_modules/react-redux/es/hooks/useDispatch.js","webpack://EditingToolkit/../../node_modules/react-redux/es/hooks/useReduxContext.js","webpack://EditingToolkit/../../node_modules/react-redux/es/hooks/useSelector.js","webpack://EditingToolkit/../../node_modules/react-redux/es/hooks/useStore.js","webpack://EditingToolkit/../../node_modules/react-redux/es/index.js","webpack://EditingToolkit/../../node_modules/react-redux/es/utils/Subscription.js","webpack://EditingToolkit/../../node_modules/react-redux/es/utils/batch.js","webpack://EditingToolkit/../../node_modules/react-redux/es/utils/bindActionCreators.js","webpack://EditingToolkit/../../node_modules/react-redux/es/utils/shallowEqual.js","webpack://EditingToolkit/../../node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","webpack://EditingToolkit/../../node_modules/redux-thunk/es/index.js","webpack://EditingToolkit/../../node_modules/redux/es/redux.js","webpack://EditingToolkit/../../node_modules/requires-port/index.js","webpack://EditingToolkit/../../node_modules/seed-random/index.js","webpack://EditingToolkit/../../node_modules/side-channel/index.js","webpack://EditingToolkit/../../node_modules/store/dist/store.legacy.js","webpack://EditingToolkit/../../node_modules/store/plugins/json2.js","webpack://EditingToolkit/../../node_modules/store/plugins/lib/json2.js","webpack://EditingToolkit/../../node_modules/store/src/store-engine.js","webpack://EditingToolkit/../../node_modules/store/src/util.js","webpack://EditingToolkit/../../node_modules/store/storages/all.js","webpack://EditingToolkit/../../node_modules/store/storages/cookieStorage.js","webpack://EditingToolkit/../../node_modules/store/storages/localStorage.js","webpack://EditingToolkit/../../node_modules/store/storages/memoryStorage.js","webpack://EditingToolkit/../../node_modules/store/storages/oldFF-globalStorage.js","webpack://EditingToolkit/../../node_modules/store/storages/oldIE-userDataStorage.js","webpack://EditingToolkit/../../node_modules/store/storages/sessionStorage.js","webpack://EditingToolkit/../../node_modules/tannin/index.js","webpack://EditingToolkit/./editing-toolkit-plugin/help-center/src/config.js","webpack://EditingToolkit/./editing-toolkit-plugin/help-center/src/contents.js","webpack://EditingToolkit/./editing-toolkit-plugin/help-center/src/help-center.js","webpack://EditingToolkit/../../client/blocks/inline-help/admin-sections.js","webpack://EditingToolkit/../../client/blocks/inline-help/constants.js","webpack://EditingToolkit/../../client/blocks/inline-help/contextual-help.js","webpack://EditingToolkit/../../client/blocks/inline-help/inline-help-center-content.jsx","webpack://EditingToolkit/../../client/blocks/inline-help/inline-help-contact-page.tsx","webpack://EditingToolkit/../../client/blocks/inline-help/inline-help-embed-result.tsx","webpack://EditingToolkit/../../client/blocks/inline-help/inline-help-search-card.jsx","webpack://EditingToolkit/../../client/blocks/inline-help/inline-help-search-results.jsx","webpack://EditingToolkit/../../client/blocks/inline-help/placeholder-lines.jsx","webpack://EditingToolkit/../../client/blocks/support-article-dialog/dialog-content.jsx","webpack://EditingToolkit/../../client/blocks/support-article-dialog/header.jsx","webpack://EditingToolkit/../../client/blocks/support-article-dialog/placeholders.jsx","webpack://EditingToolkit/../../client/components/data/query-reader-post/index.jsx","webpack://EditingToolkit/../../client/components/data/query-reader-site/index.jsx","webpack://EditingToolkit/../../client/components/data/query-sites/index.jsx","webpack://EditingToolkit/../../client/components/data/query-user-purchases/index.jsx","webpack://EditingToolkit/../../client/components/embed-container/index.jsx","webpack://EditingToolkit/../../client/components/external-link/index.jsx","webpack://EditingToolkit/../../client/components/forms/form-text-input/index.jsx","webpack://EditingToolkit/../../client/components/search-card/index.jsx","webpack://EditingToolkit/../../client/components/search/index.jsx","webpack://EditingToolkit/../../client/components/spinner/index.jsx","webpack://EditingToolkit/../../client/components/translatable/proptype.js","webpack://EditingToolkit/../../client/data/help/use-help-search-query.js","webpack://EditingToolkit/../../client/data/support-article-alternates/use-support-article-alternates-query.js","webpack://EditingToolkit/../../client/lib/analytics/ad-tracking/constants.js","webpack://EditingToolkit/../../client/lib/analytics/ad-tracking/floodlight.js","webpack://EditingToolkit/../../client/lib/analytics/ad-tracking/google-analytics.js","webpack://EditingToolkit/../../client/lib/analytics/ad-tracking/load-tracking-scripts.js","webpack://EditingToolkit/../../client/lib/analytics/ad-tracking/retarget.js","webpack://EditingToolkit/../../client/lib/analytics/ad-tracking/setup-gtag.js","webpack://EditingToolkit/../../client/lib/analytics/ad-tracking/setup.js","webpack://EditingToolkit/../../client/lib/analytics/ad-tracking/track-custom-events.js","webpack://EditingToolkit/../../client/lib/analytics/fullstory.js","webpack://EditingToolkit/../../client/lib/analytics/ga.js","webpack://EditingToolkit/../../client/lib/analytics/hotjar.js","webpack://EditingToolkit/../../client/lib/analytics/init.js","webpack://EditingToolkit/../../client/lib/analytics/mc.js","webpack://EditingToolkit/../../client/lib/analytics/page-view.js","webpack://EditingToolkit/../../client/lib/analytics/queue.js","webpack://EditingToolkit/../../client/lib/analytics/refer.js","webpack://EditingToolkit/../../client/lib/analytics/sem.js","webpack://EditingToolkit/../../client/lib/analytics/super-props.js","webpack://EditingToolkit/../../client/lib/analytics/track-affiliate-referral.js","webpack://EditingToolkit/../../client/lib/analytics/tracks.js","webpack://EditingToolkit/../../client/lib/analytics/utils/debug.js","webpack://EditingToolkit/../../client/lib/analytics/utils/is-ad-tracking-allowed.js","webpack://EditingToolkit/../../client/lib/analytics/utils/is-country-in-gdpr-zone.ts","webpack://EditingToolkit/../../client/lib/analytics/utils/is-pii-url.js","webpack://EditingToolkit/../../client/lib/analytics/utils/is-url-excluded-for-performance.js","webpack://EditingToolkit/../../client/lib/analytics/utils/marketing-coupons-key.js","webpack://EditingToolkit/../../client/lib/analytics/utils/may-we-track-current-user-gdpr.ts","webpack://EditingToolkit/../../client/lib/analytics/utils/refresh-country-code-cookie-gdpr.js","webpack://EditingToolkit/../../client/lib/analytics/utils/save-coupon-query-argument.js","webpack://EditingToolkit/../../client/lib/analytics/utils/should-report-omit-blog-id.js","webpack://EditingToolkit/../../client/lib/analytics/utils/url-parse-amp-compatible.js","webpack://EditingToolkit/../../client/lib/browser-storage/bypass.ts","webpack://EditingToolkit/../../client/lib/browser-storage/index.ts","webpack://EditingToolkit/../../client/lib/e2e/index.ts","webpack://EditingToolkit/../../client/lib/formatting/decode-entities.js","webpack://EditingToolkit/../../client/lib/formatting/decode/browser.js","webpack://EditingToolkit/../../client/lib/formatting/prevent-widows.js","webpack://EditingToolkit/../../client/lib/formatting/strip-html.js","webpack://EditingToolkit/../../client/lib/gsuite/constants.js","webpack://EditingToolkit/../../client/lib/gsuite/get-google-mail-service-family.js","webpack://EditingToolkit/../../client/lib/happychat/connection-async.js","webpack://EditingToolkit/../../client/lib/i18n-utils/browser.js","webpack://EditingToolkit/../../client/lib/jetpack/is-jetpack-cloud.ts","webpack://EditingToolkit/../../client/lib/load-jquery-dependent-script-desktop-wrapper/index.js","webpack://EditingToolkit/../../client/lib/logstash/index.ts","webpack://EditingToolkit/../../client/lib/memoize-last/index.ts","webpack://EditingToolkit/../../client/lib/oauth-token/index.js","webpack://EditingToolkit/../../client/lib/paths/onboarding-url.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-add-discover-properties.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-content-detect-media.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-content-detect-polls.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-content-detect-surveys.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-content-disable-autoplay.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-content-link-jetpack-carousels.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-content-make-embeds-safe.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-content-make-images-safe.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-content-make-links-safe.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-content-remove-elements-by-selector.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-content-remove-styles.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-create-better-excerpt.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-decode-entities.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-keep-valid-images.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-make-links-safe.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-make-site-id-safe-for-api.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-pick-canonical-image.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-pick-canonical-media.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-pick-primary-tag.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-prevent-widows.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-safe-image-properties.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-strip-html.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-wait-for-images-to-load.js","webpack://EditingToolkit/../../client/lib/post-normalizer/rule-with-content-dom.js","webpack://EditingToolkit/../../client/lib/post-normalizer/utils/deduce-image-width-and-height.js","webpack://EditingToolkit/../../client/lib/post-normalizer/utils/dom-for-html.js","webpack://EditingToolkit/../../client/lib/post-normalizer/utils/iframe-is-allowed.js","webpack://EditingToolkit/../../client/lib/post-normalizer/utils/is-candidate-for-canonical-image.js","webpack://EditingToolkit/../../client/lib/post-normalizer/utils/is-url-likely-an-image.js","webpack://EditingToolkit/../../client/lib/post-normalizer/utils/make-image-url-safe.js","webpack://EditingToolkit/../../client/lib/post-normalizer/utils/max-width-photonish-url.js","webpack://EditingToolkit/../../client/lib/post-normalizer/utils/safe-link.js","webpack://EditingToolkit/../../client/lib/post-normalizer/utils/thumb-is-likely-image.js","webpack://EditingToolkit/../../client/lib/purchases/assembler.js","webpack://EditingToolkit/../../client/lib/query-manager/index.js","webpack://EditingToolkit/../../client/lib/query-manager/key.js","webpack://EditingToolkit/../../client/lib/query-manager/paginated/constants.js","webpack://EditingToolkit/../../client/lib/query-manager/paginated/index.js","webpack://EditingToolkit/../../client/lib/query-manager/paginated/key.js","webpack://EditingToolkit/../../client/lib/query-manager/post/constants.js","webpack://EditingToolkit/../../client/lib/query-manager/post/index.js","webpack://EditingToolkit/../../client/lib/query-manager/post/key.js","webpack://EditingToolkit/../../client/lib/query-manager/schema.js","webpack://EditingToolkit/../../client/lib/query-manager/with-query-manager.js","webpack://EditingToolkit/../../client/lib/route/untrailingslashit.ts","webpack://EditingToolkit/../../client/lib/safe-image-url/index.js","webpack://EditingToolkit/../../client/lib/url/add-query-args.ts","webpack://EditingToolkit/../../client/lib/url/http-utils.ts","webpack://EditingToolkit/../../client/lib/url/resolve-relative-path.ts","webpack://EditingToolkit/../../client/lib/user/shared-utils/filter-user-object.js","webpack://EditingToolkit/../../client/lib/user/shared-utils/get-computed-attributes.js","webpack://EditingToolkit/../../client/lib/user/shared-utils/get-logout-url.js","webpack://EditingToolkit/../../client/lib/user/shared-utils/raw-current-user-fetch.js","webpack://EditingToolkit/../../client/lib/user/store.js","webpack://EditingToolkit/../../client/lib/wp/browser.js","webpack://EditingToolkit/../../client/lib/wp/handlers/guest-sandbox-ticket.js","webpack://EditingToolkit/../../client/lib/wp/localization/index.js","webpack://EditingToolkit/../../client/lib/wp/support.js","webpack://EditingToolkit/../../client/lib/wpcom-oauth-wrapper/index.js","webpack://EditingToolkit/../../client/lib/wpcom-xhr-wrapper/index.js","webpack://EditingToolkit/../../client/my-sites/customize/panels.js","webpack://EditingToolkit/../../client/reader/discover/helper.js","webpack://EditingToolkit/../../client/reader/lib/content-width/index.js","webpack://EditingToolkit/../../client/reader/post-key.js","webpack://EditingToolkit/../../client/reader/route/index.js","webpack://EditingToolkit/../../client/reader/stats.js","webpack://EditingToolkit/../../client/reader/stream/utils.js","webpack://EditingToolkit/../../client/state/action-types.ts","webpack://EditingToolkit/../../client/state/action-watchers/utils.js","webpack://EditingToolkit/../../client/state/add-reducer.ts","webpack://EditingToolkit/../../client/state/analytics/actions/record.js","webpack://EditingToolkit/../../client/state/analytics/middleware.js","webpack://EditingToolkit/../../client/state/console-dispatch/index.js","webpack://EditingToolkit/../../client/state/current-user/actions.js","webpack://EditingToolkit/../../client/state/current-user/email-verification/reducer.js","webpack://EditingToolkit/../../client/state/current-user/reducer.js","webpack://EditingToolkit/../../client/state/current-user/schema.js","webpack://EditingToolkit/../../client/state/current-user/selectors.js","webpack://EditingToolkit/../../client/state/data-layer/handler-registry.js","webpack://EditingToolkit/../../client/state/data-layer/utils.js","webpack://EditingToolkit/../../client/state/data-layer/wpcom-http/actions.js","webpack://EditingToolkit/../../client/state/data-layer/wpcom-http/pipeline/retry-on-failure/policies.js","webpack://EditingToolkit/../../client/state/data-layer/wpcom-http/utils.js","webpack://EditingToolkit/../../client/state/data-layer/wpcom/read/sites/index.js","webpack://EditingToolkit/../../client/state/data-layer/wpcom/sites/posts/likes/index.js","webpack://EditingToolkit/../../client/state/data-layer/wpcom/sites/posts/likes/mine/delete/index.js","webpack://EditingToolkit/../../client/state/data-layer/wpcom/sites/posts/likes/mine/index.js","webpack://EditingToolkit/../../client/state/data-layer/wpcom/sites/posts/likes/new/index.js","webpack://EditingToolkit/../../client/state/happychat/chat/reducer.js","webpack://EditingToolkit/../../client/state/happychat/chat/schema.js","webpack://EditingToolkit/../../client/state/happychat/connection/actions.js","webpack://EditingToolkit/../../client/state/happychat/connection/reducer.js","webpack://EditingToolkit/../../client/state/happychat/constants.js","webpack://EditingToolkit/../../client/state/happychat/init.js","webpack://EditingToolkit/../../client/state/happychat/middleware.js","webpack://EditingToolkit/../../client/state/happychat/reducer.js","webpack://EditingToolkit/../../client/state/happychat/selectors/get-happychat-connection-status.js","webpack://EditingToolkit/../../client/state/happychat/selectors/is-happychat-chat-assigned.js","webpack://EditingToolkit/../../client/state/happychat/selectors/is-happychat-client-connected.js","webpack://EditingToolkit/../../client/state/happychat/ui/reducer.js","webpack://EditingToolkit/../../client/state/happychat/user/actions.js","webpack://EditingToolkit/../../client/state/happychat/user/reducer.js","webpack://EditingToolkit/../../client/state/happychat/user/schema.js","webpack://EditingToolkit/../../client/state/inline-help/selectors/get-admin-help-results.js","webpack://EditingToolkit/../../client/state/notices/actions.ts","webpack://EditingToolkit/../../client/state/notices/init.js","webpack://EditingToolkit/../../client/state/notices/reducer.js","webpack://EditingToolkit/../../client/state/posts/constants.js","webpack://EditingToolkit/../../client/state/posts/counts/reducer.js","webpack://EditingToolkit/../../client/state/posts/counts/schema.js","webpack://EditingToolkit/../../client/state/posts/init.js","webpack://EditingToolkit/../../client/state/posts/likes/actions.js","webpack://EditingToolkit/../../client/state/posts/likes/reducer.js","webpack://EditingToolkit/../../client/state/posts/likes/schema.js","webpack://EditingToolkit/../../client/state/posts/reducer.js","webpack://EditingToolkit/../../client/state/posts/revisions/authors/reducer.js","webpack://EditingToolkit/../../client/state/posts/revisions/reducer.js","webpack://EditingToolkit/../../client/state/posts/schema.js","webpack://EditingToolkit/../../client/state/posts/utils/append-to-post-edits-log.js","webpack://EditingToolkit/../../client/state/posts/utils/get-featured-image-id.js","webpack://EditingToolkit/../../client/state/posts/utils/get-normalized-posts-query.js","webpack://EditingToolkit/../../client/state/posts/utils/get-serialized-posts-query.js","webpack://EditingToolkit/../../client/state/posts/utils/is-author-equal.js","webpack://EditingToolkit/../../client/state/posts/utils/is-date-equal.js","webpack://EditingToolkit/../../client/state/posts/utils/is-discussion-equal.js","webpack://EditingToolkit/../../client/state/posts/utils/is-state-equal.js","webpack://EditingToolkit/../../client/state/posts/utils/is-terms-equal.js","webpack://EditingToolkit/../../client/state/posts/utils/merge-post-edits.js","webpack://EditingToolkit/../../client/state/posts/utils/metadata-edits.js","webpack://EditingToolkit/../../client/state/posts/utils/normalize-post-for-state.js","webpack://EditingToolkit/../../client/state/preferences/constants.js","webpack://EditingToolkit/../../client/state/preferences/init.js","webpack://EditingToolkit/../../client/state/preferences/reducer.js","webpack://EditingToolkit/../../client/state/preferences/schema.js","webpack://EditingToolkit/../../client/state/preferences/selectors.js","webpack://EditingToolkit/../../client/state/purchases/actions.js","webpack://EditingToolkit/../../client/state/purchases/init.js","webpack://EditingToolkit/../../client/state/purchases/reducer.js","webpack://EditingToolkit/../../client/state/purchases/selectors/fetching.js","webpack://EditingToolkit/../../client/state/purchases/selectors/get-purchases.js","webpack://EditingToolkit/../../client/state/purchases/selectors/get-user-purchases.js","webpack://EditingToolkit/../../client/state/reader/action-types.js","webpack://EditingToolkit/../../client/state/reader/conversations/follow-status.js","webpack://EditingToolkit/../../client/state/reader/conversations/reducer.js","webpack://EditingToolkit/../../client/state/reader/conversations/schema.js","webpack://EditingToolkit/../../client/state/reader/conversations/utils.js","webpack://EditingToolkit/../../client/state/reader/feed-searches/reducer.js","webpack://EditingToolkit/../../client/state/reader/feeds/reducer.js","webpack://EditingToolkit/../../client/state/reader/feeds/schema.js","webpack://EditingToolkit/../../client/state/reader/follows/reducer.js","webpack://EditingToolkit/../../client/state/reader/follows/schema.js","webpack://EditingToolkit/../../client/state/reader/follows/utils.js","webpack://EditingToolkit/../../client/state/reader/init.js","webpack://EditingToolkit/../../client/state/reader/lists/reducer.js","webpack://EditingToolkit/../../client/state/reader/lists/schema.js","webpack://EditingToolkit/../../client/state/reader/organizations/reducer.js","webpack://EditingToolkit/../../client/state/reader/organizations/schema.js","webpack://EditingToolkit/../../client/state/reader/posts/actions.js","webpack://EditingToolkit/../../client/state/reader/posts/display-types.js","webpack://EditingToolkit/../../client/state/reader/posts/normalization-rules.js","webpack://EditingToolkit/../../client/state/reader/posts/reducer.js","webpack://EditingToolkit/../../client/state/reader/posts/selectors.js","webpack://EditingToolkit/../../client/state/reader/posts/sizes.js","webpack://EditingToolkit/../../client/state/reader/recommended-sites/reducer.js","webpack://EditingToolkit/../../client/state/reader/reducer.js","webpack://EditingToolkit/../../client/state/reader/related-posts/reducer.js","webpack://EditingToolkit/../../client/state/reader/related-posts/utils.js","webpack://EditingToolkit/../../client/state/reader/site-blocks/reducer.js","webpack://EditingToolkit/../../client/state/reader/site-dismissals/reducer.js","webpack://EditingToolkit/../../client/state/reader/sites/actions.js","webpack://EditingToolkit/../../client/state/reader/sites/fields.js","webpack://EditingToolkit/../../client/state/reader/sites/reducer.js","webpack://EditingToolkit/../../client/state/reader/sites/schema.js","webpack://EditingToolkit/../../client/state/reader/sites/selectors.js","webpack://EditingToolkit/../../client/state/reader/streams/reducer.js","webpack://EditingToolkit/../../client/state/reader/streams/utils.js","webpack://EditingToolkit/../../client/state/reader/tags/images/reducer.js","webpack://EditingToolkit/../../client/state/reader/tags/items/reducer.js","webpack://EditingToolkit/../../client/state/reader/tags/reducer.js","webpack://EditingToolkit/../../client/state/reader/thumbnails/reducer.js","webpack://EditingToolkit/../../client/state/redux-store.ts","webpack://EditingToolkit/../../client/state/selectors/get-current-locale-slug.js","webpack://EditingToolkit/../../client/state/selectors/get-primary-site-id.js","webpack://EditingToolkit/../../client/state/selectors/get-raw-site.ts","webpack://EditingToolkit/../../client/state/selectors/get-sites-items.ts","webpack://EditingToolkit/../../client/state/selectors/has-cancelable-user-purchases.js","webpack://EditingToolkit/../../client/state/serialization-result.ts","webpack://EditingToolkit/../../client/state/sites/actions.js","webpack://EditingToolkit/../../client/state/sites/blog-stickers/reducer.js","webpack://EditingToolkit/../../client/state/sites/connection/reducer.js","webpack://EditingToolkit/../../client/state/sites/constants.js","webpack://EditingToolkit/../../client/state/sites/domains/reducer.js","webpack://EditingToolkit/../../client/state/sites/domains/schema.js","webpack://EditingToolkit/../../client/state/sites/features/reducer.js","webpack://EditingToolkit/../../client/state/sites/hooks/use-site-option.ts","webpack://EditingToolkit/../../client/state/sites/intro-offers/reducer.ts","webpack://EditingToolkit/../../client/state/sites/intro-offers/types.ts","webpack://EditingToolkit/../../client/state/sites/plans/reducer.js","webpack://EditingToolkit/../../client/state/sites/products/reducer.js","webpack://EditingToolkit/../../client/state/sites/reducer.js","webpack://EditingToolkit/../../client/state/sites/schema.js","webpack://EditingToolkit/../../client/state/sites/selectors/can-jetpack-site-auto-update-files.js","webpack://EditingToolkit/../../client/state/sites/selectors/can-jetpack-site-update-files.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-customizer-url.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-jetpack-computed-attributes.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-site-admin-url.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-site-by-slug.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-site-collisions.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-site-computed-attributes.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-site-domain.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-site-option.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-site-options.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-site-slug.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-site-title.js","webpack://EditingToolkit/../../client/state/sites/selectors/get-site.js","webpack://EditingToolkit/../../client/state/sites/selectors/has-all-sites-list.js","webpack://EditingToolkit/../../client/state/sites/selectors/is-jetpack-site-main-network-site.js","webpack://EditingToolkit/../../client/state/sites/selectors/is-jetpack-site-secondary-network-site.js","webpack://EditingToolkit/../../client/state/sites/selectors/is-jetpack-site.js","webpack://EditingToolkit/../../client/state/sites/selectors/is-requesting-site.js","webpack://EditingToolkit/../../client/state/sites/selectors/is-requesting-sites.js","webpack://EditingToolkit/../../client/state/sites/selectors/is-site-conflicting.js","webpack://EditingToolkit/../../client/state/themes/action-types.js","webpack://EditingToolkit/../../client/state/ui/action-log/reducer.js","webpack://EditingToolkit/../../client/state/ui/actions/set-sites.js","webpack://EditingToolkit/../../client/state/ui/app-banner-dismissed/reducer.js","webpack://EditingToolkit/../../client/state/ui/app-banner-visibility/reducer.js","webpack://EditingToolkit/../../client/state/ui/checkout/reducer.js","webpack://EditingToolkit/../../client/state/ui/help-center-visible/reducer.js","webpack://EditingToolkit/../../client/state/ui/init.js","webpack://EditingToolkit/../../client/state/ui/language/reducer.js","webpack://EditingToolkit/../../client/state/ui/layout-focus/reducer.js","webpack://EditingToolkit/../../client/state/ui/masterbar-visibility/reducer.js","webpack://EditingToolkit/../../client/state/ui/media-modal/reducer.js","webpack://EditingToolkit/../../client/state/ui/post-type-list/reducer.js","webpack://EditingToolkit/../../client/state/ui/preview/reducer.js","webpack://EditingToolkit/../../client/state/ui/reducer.js","webpack://EditingToolkit/../../client/state/ui/section/actions.js","webpack://EditingToolkit/../../client/state/ui/section/reducer.js","webpack://EditingToolkit/../../client/state/ui/selectors/get-section-name.js","webpack://EditingToolkit/../../client/state/ui/selectors/get-section.js","webpack://EditingToolkit/../../client/state/ui/selectors/get-selected-site-id.js","webpack://EditingToolkit/../../client/state/ui/selectors/get-selected-site.js","webpack://EditingToolkit/../../client/state/utils/add-reducer-enhancer.js","webpack://EditingToolkit/../../client/state/utils/keyed-reducer.ts","webpack://EditingToolkit/../../client/state/utils/reducer-utils.ts","webpack://EditingToolkit/../../client/state/utils/schema-utils.js","webpack://EditingToolkit/../../client/state/utils/serialize.ts","webpack://EditingToolkit/../../client/state/utils/with-persistence.ts","webpack://EditingToolkit/../../packages/calypso-analytics/src/page-view-params.ts","webpack://EditingToolkit/../../packages/calypso-analytics/src/tracks.ts","webpack://EditingToolkit/../../packages/calypso-analytics/src/utils/current-user.ts","webpack://EditingToolkit/../../packages/calypso-analytics/src/utils/debug.ts","webpack://EditingToolkit/../../packages/calypso-analytics/src/utils/do-not-track.ts","webpack://EditingToolkit/../../packages/calypso-analytics/src/utils/hash-pii.ts","webpack://EditingToolkit/../../packages/calypso-config/src/desktop.ts","webpack://EditingToolkit/../../packages/calypso-config/src/index.ts","webpack://EditingToolkit/../../packages/calypso-products/src/constants/google.ts","webpack://EditingToolkit/../../packages/calypso-products/src/is-gsuite-product-slug.ts","webpack://EditingToolkit/../../packages/calypso-url/src/format.ts","webpack://EditingToolkit/../../packages/calypso-url/src/url-parts.ts","webpack://EditingToolkit/../../packages/calypso-url/src/url-type.ts","webpack://EditingToolkit/../../packages/components/src/button/index.tsx","webpack://EditingToolkit/../../packages/components/src/card/index.tsx","webpack://EditingToolkit/../../packages/components/src/gridicon/index.tsx","webpack://EditingToolkit/../../packages/components/src/screen-reader-text/index.js","webpack://EditingToolkit/../../packages/create-calypso-config/src/index.ts","webpack://EditingToolkit/../../packages/data-stores/src/help-center/actions.ts","webpack://EditingToolkit/../../packages/data-stores/src/help-center/constants.ts","webpack://EditingToolkit/../../packages/data-stores/src/help-center/index.ts","webpack://EditingToolkit/../../packages/data-stores/src/help-center/reducer.ts","webpack://EditingToolkit/../../packages/data-stores/src/help-center/selectors.ts","webpack://EditingToolkit/../../packages/help-center/src/components/help-center-container.tsx","webpack://EditingToolkit/../../packages/help-center/src/components/help-center-content.tsx","webpack://EditingToolkit/../../packages/help-center/src/components/help-center-footer.tsx","webpack://EditingToolkit/../../packages/help-center/src/components/help-center-header.tsx","webpack://EditingToolkit/../../packages/help-center/src/components/help-center.tsx","webpack://EditingToolkit/../../packages/help-center/src/components/help-icon.tsx","webpack://EditingToolkit/../../packages/i18n-calypso/src/context.js","webpack://EditingToolkit/../../packages/i18n-calypso/src/default-i18n.js","webpack://EditingToolkit/../../packages/i18n-calypso/src/i18n.js","webpack://EditingToolkit/../../packages/i18n-calypso/src/index.js","webpack://EditingToolkit/../../packages/i18n-calypso/src/number-format.js","webpack://EditingToolkit/../../packages/i18n-calypso/src/use-translate.js","webpack://EditingToolkit/../../packages/i18n-utils/src/locale-context.tsx","webpack://EditingToolkit/../../packages/i18n-utils/src/locales.ts","webpack://EditingToolkit/../../packages/i18n-utils/src/localize-url.tsx","webpack://EditingToolkit/../../packages/i18n-utils/src/utils.ts","webpack://EditingToolkit/../../packages/interpolate-components/src/index.js","webpack://EditingToolkit/../../packages/interpolate-components/src/tokenize.js","webpack://EditingToolkit/../../packages/load-script/src/callback-handler.js","webpack://EditingToolkit/../../packages/load-script/src/dom-operations.js","webpack://EditingToolkit/../../packages/load-script/src/index.js","webpack://EditingToolkit/../../packages/photon/src/index.ts","webpack://EditingToolkit/../../packages/state-utils/src/create-selector/index.ts","webpack://EditingToolkit/../../packages/state-utils/src/extend-action/index.ts","webpack://EditingToolkit/../../packages/state-utils/src/get-initial-state/index.ts","webpack://EditingToolkit/../../packages/state-utils/src/with-storage-key/index.ts","webpack://EditingToolkit/../../packages/tree-select/src/index.ts","webpack://EditingToolkit/../../packages/viewport-react/src/index.js","webpack://EditingToolkit/../../packages/viewport/src/index.ts","webpack://EditingToolkit/../../packages/wpcom-proxy-request/src/index.js","webpack://EditingToolkit/../../packages/wpcom.js/src/index.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/batch.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/domain.dns.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/domain.email.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/domain.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/domains.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.connected-application.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.keyring-connection.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.publicize-connection.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.settings.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.settings.password.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.settings.profile-links.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.two-step.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.two-step.sms.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/plans.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/runtime/site.get.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/runtime/site.post.get.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.category.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.comment.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.comment.like.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.credit-vouchers.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.domain.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.follow.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.media.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.plugin.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.post-type.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.post.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.post.like.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.post.reblog.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.post.subscriber.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.settings.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.tag.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.taxonomy.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.taxonomy.term.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.wordads.earnings.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.wordads.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.wordads.settings.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.wordads.tos.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.wpcom-plugin.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/tus-uploader.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/users.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/util/fs-browser.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/util/pinghub.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/util/request.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/util/runtime-builder.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/util/send-request.js","webpack://EditingToolkit/../../node_modules/debug/src/browser.js","webpack://EditingToolkit/../../node_modules/debug/src/common.js","webpack://EditingToolkit/../../node_modules/gridicons/dist/util/icons-offset.js","webpack://EditingToolkit/../../node_modules/striptags/src/striptags.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/fileReader.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/fingerprint.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/httpStack.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/index.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/isCordova.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/isReactNative.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/readAsByteArray.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/uriToBlob.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/urlStorage.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/error.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/logger.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/noopUrlStorage.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/upload.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/uuid.js","webpack://EditingToolkit/../../node_modules/uppercamelcase/index.js","webpack://EditingToolkit/../../node_modules/uppercamelcase/node_modules/camelcase/index.js","webpack://EditingToolkit/../../node_modules/url-parse/index.js","webpack://EditingToolkit/../../node_modules/util/support/isBufferBrowser.js","webpack://EditingToolkit/../../node_modules/util/support/types.js","webpack://EditingToolkit/../../node_modules/util/util.js","webpack://EditingToolkit/../../node_modules/uuid/dist/esm-browser/regex.js","webpack://EditingToolkit/../../node_modules/uuid/dist/esm-browser/rng.js","webpack://EditingToolkit/../../node_modules/uuid/dist/esm-browser/stringify.js","webpack://EditingToolkit/../../node_modules/uuid/dist/esm-browser/v4.js","webpack://EditingToolkit/../../node_modules/uuid/dist/esm-browser/validate.js","webpack://EditingToolkit/../../node_modules/which-typed-array/index.js","webpack://EditingToolkit/../../node_modules/wp-error/index.js","webpack://EditingToolkit/../../node_modules/xtend/immutable.js","webpack://EditingToolkit/external window \"React\"","webpack://EditingToolkit/external window \"ReactDOM\"","webpack://EditingToolkit/external window \"lodash\"","webpack://EditingToolkit/external window \"moment\"","webpack://EditingToolkit/external window [\"wp\",\"a11y\"]","webpack://EditingToolkit/external window [\"wp\",\"components\"]","webpack://EditingToolkit/external window [\"wp\",\"compose\"]","webpack://EditingToolkit/external window [\"wp\",\"data\"]","webpack://EditingToolkit/external window [\"wp\",\"dataControls\"]","webpack://EditingToolkit/external window [\"wp\",\"element\"]","webpack://EditingToolkit/external window [\"wp\",\"i18n\"]","webpack://EditingToolkit/external window [\"wp\",\"isShallowEqual\"]","webpack://EditingToolkit/external window [\"wp\",\"plugins\"]","webpack://EditingToolkit/external window [\"wp\",\"primitives\"]","webpack://EditingToolkit/external window [\"wp\",\"reactI18n\"]","webpack://EditingToolkit/external window [\"wp\",\"warning\"]","webpack://EditingToolkit/../../node_modules/available-typed-arrays/index.js","webpack://EditingToolkit/../../node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js","webpack://EditingToolkit/../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://EditingToolkit/../../node_modules/@babel/runtime/helpers/esm/extends.js","webpack://EditingToolkit/../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://EditingToolkit/../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://EditingToolkit/../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://EditingToolkit/../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://EditingToolkit/webpack/bootstrap","webpack://EditingToolkit/webpack/runtime/get mini-css chunk filename with rtl","webpack://EditingToolkit/webpack/runtime/load script","webpack://EditingToolkit/webpack/runtime/compat get default export","webpack://EditingToolkit/webpack/runtime/define property getters","webpack://EditingToolkit/webpack/runtime/ensure chunk","webpack://EditingToolkit/webpack/runtime/get javascript chunk filename","webpack://EditingToolkit/webpack/runtime/get mini-css chunk filename","webpack://EditingToolkit/webpack/runtime/global","webpack://EditingToolkit/webpack/runtime/hasOwnProperty shorthand","webpack://EditingToolkit/webpack/runtime/make namespace object","webpack://EditingToolkit/webpack/runtime/publicPath","webpack://EditingToolkit/webpack/runtime/jsonp chunk loading","webpack://EditingToolkit/./editing-toolkit-plugin/help-center/index.js"],"sourcesContent":["import postfix from '@tannin/postfix';\nimport evaluate from '@tannin/evaluate';\n\n/**\n * Given a C expression, returns a function which can be called to evaluate its\n * result.\n *\n * @example\n *\n * ```js\n * import compile from '@tannin/compile';\n *\n * const evaluate = compile( 'n > 1' );\n *\n * evaluate( { n: 2 } );\n * //  true\n * ```\n *\n * @param {string} expression C expression.\n *\n * @return {(variables?:{[variable:string]:*})=>*} Compiled evaluator.\n */\nexport default function compile( expression ) {\n\tvar terms = postfix( expression );\n\n\treturn function( variables ) {\n\t\treturn evaluate( terms, variables );\n\t};\n}\n","/**\n * Operator callback functions.\n *\n * @type {Object}\n */\nvar OPERATORS = {\n\t'!': function( a ) {\n\t\treturn ! a;\n\t},\n\t'*': function( a, b ) {\n\t\treturn a * b;\n\t},\n\t'/': function( a, b ) {\n\t\treturn a / b;\n\t},\n\t'%': function( a, b ) {\n\t\treturn a % b;\n\t},\n\t'+': function( a, b ) {\n\t\treturn a + b;\n\t},\n\t'-': function( a, b ) {\n\t\treturn a - b;\n\t},\n\t'<': function( a, b ) {\n\t\treturn a < b;\n\t},\n\t'<=': function( a, b ) {\n\t\treturn a <= b;\n\t},\n\t'>': function( a, b ) {\n\t\treturn a > b;\n\t},\n\t'>=': function( a, b ) {\n\t\treturn a >= b;\n\t},\n\t'==': function( a, b ) {\n\t\treturn a === b;\n\t},\n\t'!=': function( a, b ) {\n\t\treturn a !== b;\n\t},\n\t'&&': function( a, b ) {\n\t\treturn a && b;\n\t},\n\t'||': function( a, b ) {\n\t\treturn a || b;\n\t},\n\t'?:': function( a, b, c ) {\n\t\tif ( a ) {\n\t\t\tthrow b;\n\t\t}\n\n\t\treturn c;\n\t},\n};\n\n/**\n * Given an array of postfix terms and operand variables, returns the result of\n * the postfix evaluation.\n *\n * @example\n *\n * ```js\n * import evaluate from '@tannin/evaluate';\n *\n * // 3 + 4 * 5 / 6  '3 4 5 * 6 / +'\n * const terms = [ '3', '4', '5', '*', '6', '/', '+' ];\n *\n * evaluate( terms, {} );\n * //  6.333333333333334\n * ```\n *\n * @param {string[]} postfix   Postfix terms.\n * @param {Object}   variables Operand variables.\n *\n * @return {*} Result of evaluation.\n */\nexport default function evaluate( postfix, variables ) {\n\tvar stack = [],\n\t\ti, j, args, getOperatorResult, term, value;\n\n\tfor ( i = 0; i < postfix.length; i++ ) {\n\t\tterm = postfix[ i ];\n\n\t\tgetOperatorResult = OPERATORS[ term ];\n\t\tif ( getOperatorResult ) {\n\t\t\t// Pop from stack by number of function arguments.\n\t\t\tj = getOperatorResult.length;\n\t\t\targs = Array( j );\n\t\t\twhile ( j-- ) {\n\t\t\t\targs[ j ] = stack.pop();\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tvalue = getOperatorResult.apply( null, args );\n\t\t\t} catch ( earlyReturn ) {\n\t\t\t\treturn earlyReturn;\n\t\t\t}\n\t\t} else if ( variables.hasOwnProperty( term ) ) {\n\t\t\tvalue = variables[ term ];\n\t\t} else {\n\t\t\tvalue = +term;\n\t\t}\n\n\t\tstack.push( value );\n\t}\n\n\treturn stack[ 0 ];\n}\n","import compile from '@tannin/compile';\n\n/**\n * Given a C expression, returns a function which, when called with a value,\n * evaluates the result with the value assumed to be the \"n\" variable of the\n * expression. The result will be coerced to its numeric equivalent.\n *\n * @param {string} expression C expression.\n *\n * @return {Function} Evaluator function.\n */\nexport default function pluralForms( expression ) {\n\tvar evaluate = compile( expression );\n\n\treturn function( n ) {\n\t\treturn +evaluate( { n: n } );\n\t};\n}\n","var PRECEDENCE, OPENERS, TERMINATORS, PATTERN;\n\n/**\n * Operator precedence mapping.\n *\n * @type {Object}\n */\nPRECEDENCE = {\n\t'(': 9,\n\t'!': 8,\n\t'*': 7,\n\t'/': 7,\n\t'%': 7,\n\t'+': 6,\n\t'-': 6,\n\t'<': 5,\n\t'<=': 5,\n\t'>': 5,\n\t'>=': 5,\n\t'==': 4,\n\t'!=': 4,\n\t'&&': 3,\n\t'||': 2,\n\t'?': 1,\n\t'?:': 1,\n};\n\n/**\n * Characters which signal pair opening, to be terminated by terminators.\n *\n * @type {string[]}\n */\nOPENERS = [ '(', '?' ];\n\n/**\n * Characters which signal pair termination, the value an array with the\n * opener as its first member. The second member is an optional operator\n * replacement to push to the stack.\n *\n * @type {string[]}\n */\nTERMINATORS = {\n\t')': [ '(' ],\n\t':': [ '?', '?:' ],\n};\n\n/**\n * Pattern matching operators and openers.\n *\n * @type {RegExp}\n */\nPATTERN = /<=|>=|==|!=|&&|\\|\\||\\?:|\\(|!|\\*|\\/|%|\\+|-|<|>|\\?|\\)|:/;\n\n/**\n * Given a C expression, returns the equivalent postfix (Reverse Polish)\n * notation terms as an array.\n *\n * If a postfix string is desired, simply `.join( ' ' )` the result.\n *\n * @example\n *\n * ```js\n * import postfix from '@tannin/postfix';\n *\n * postfix( 'n > 1' );\n * //  [ 'n', '1', '>' ]\n * ```\n *\n * @param {string} expression C expression.\n *\n * @return {string[]} Postfix terms.\n */\nexport default function postfix( expression ) {\n\tvar terms = [],\n\t\tstack = [],\n\t\tmatch, operator, term, element;\n\n\twhile ( ( match = expression.match( PATTERN ) ) ) {\n\t\toperator = match[ 0 ];\n\n\t\t// Term is the string preceding the operator match. It may contain\n\t\t// whitespace, and may be empty (if operator is at beginning).\n\t\tterm = expression.substr( 0, match.index ).trim();\n\t\tif ( term ) {\n\t\t\tterms.push( term );\n\t\t}\n\n\t\twhile ( ( element = stack.pop() ) ) {\n\t\t\tif ( TERMINATORS[ operator ] ) {\n\t\t\t\tif ( TERMINATORS[ operator ][ 0 ] === element ) {\n\t\t\t\t\t// Substitution works here under assumption that because\n\t\t\t\t\t// the assigned operator will no longer be a terminator, it\n\t\t\t\t\t// will be pushed to the stack during the condition below.\n\t\t\t\t\toperator = TERMINATORS[ operator ][ 1 ] || operator;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if ( OPENERS.indexOf( element ) >= 0 || PRECEDENCE[ element ] < PRECEDENCE[ operator ] ) {\n\t\t\t\t// Push to stack if either an opener or when pop reveals an\n\t\t\t\t// element of lower precedence.\n\t\t\t\tstack.push( element );\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// For each popped from stack, push to terms.\n\t\t\tterms.push( element );\n\t\t}\n\n\t\tif ( ! TERMINATORS[ operator ] ) {\n\t\t\tstack.push( operator );\n\t\t}\n\n\t\t// Slice matched fragment from expression to continue match.\n\t\texpression = expression.substr( match.index + operator.length );\n\t}\n\n\t// Push remainder of operand, if exists, to terms.\n\texpression = expression.trim();\n\tif ( expression ) {\n\t\tterms.push( expression );\n\t}\n\n\t// Pop remaining items from stack into terms.\n\treturn terms.concat( stack.reverse() );\n}\n","/**\n * Regular expression matching format placeholder syntax.\n *\n * The pattern for matching named arguments is a naive and incomplete matcher\n * against valid JavaScript identifier names.\n *\n * via Mathias Bynens:\n *\n * >An identifier must start with $, _, or any character in the Unicode\n * >categories Uppercase letter (Lu), Lowercase letter (Ll), Titlecase\n * >letter (Lt), Modifier letter (Lm), Other letter (Lo), or Letter\n * >number (Nl).\n * >\n * >The rest of the string can contain the same characters, plus any U+200C zero\n * >width non-joiner characters, U+200D zero width joiner characters, and\n * >characters in the Unicode categories Non-spacing mark (Mn), Spacing\n * >combining mark (Mc), Decimal digit number (Nd), or Connector\n * >punctuation (Pc).\n *\n * If browser support is constrained to those supporting ES2015, this could be\n * made more accurate using the `u` flag:\n *\n * ```\n * /^[$_\\p{L}\\p{Nl}][$_\\p{L}\\p{Nl}\\u200C\\u200D\\p{Mn}\\p{Mc}\\p{Nd}\\p{Pc}]*$/u;\n * ```\n *\n * @see http://www.pixelbeat.org/programming/gcc/format_specs.html\n * @see https://mathiasbynens.be/notes/javascript-identifiers#valid-identifier-names\n *\n * @type {RegExp}\n */\nvar PATTERN = /%(((\\d+)\\$)|(\\(([$_a-zA-Z][$_a-zA-Z0-9]*)\\)))?[ +0#-]*\\d*(\\.(\\d+|\\*))?(ll|[lhqL])?([cduxXefgsp%])/g;\n//                                                                             type\n//                                                                  Length (unsupported)\n//                                                      Precision / max width\n//                                                    Min width (unsupported)\n//                                             Flags (unsupported)\n//                Index    Name (for named arguments)\n\n/**\n * Given a format string, returns string with arguments interpolatation.\n * Arguments can either be provided directly via function arguments spread, or\n * with an array as the second argument.\n *\n * @see https://en.wikipedia.org/wiki/Printf_format_string\n *\n * @example\n *\n * ```js\n * import sprintf from '@tannin/sprintf';\n *\n * sprintf( 'Hello %s!', 'world' );\n * //  'Hello world!'\n * ```\n *\n * @param {string} string printf format string\n * @param {Array}  [args] String arguments.\n *\n * @return {string} Formatted string.\n */\nexport default function sprintf( string, args ) {\n\tvar i;\n\n\tif ( ! Array.isArray( args ) ) {\n\t\t// Construct a copy of arguments from index one, used for replace\n\t\t// function placeholder substitution.\n\t\targs = new Array( arguments.length - 1 );\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i - 1 ] = arguments[ i ];\n\t\t}\n\t}\n\n\ti = 1;\n\n\treturn string.replace( PATTERN, function() {\n\t\tvar index, name, precision, type, value;\n\n\t\tindex = arguments[ 3 ];\n\t\tname = arguments[ 5 ];\n\t\tprecision = arguments[ 7 ];\n\t\ttype = arguments[ 9 ];\n\n\t\t// There's no placeholder substitution in the explicit \"%\", meaning it\n\t\t// is not necessary to increment argument index.\n\t\tif ( type === '%' ) {\n\t\t\treturn '%';\n\t\t}\n\n\t\t// Asterisk precision determined by peeking / shifting next argument.\n\t\tif ( precision === '*' ) {\n\t\t\tprecision = args[ i - 1 ];\n\t\t\ti++;\n\t\t}\n\n\t\tif ( name !== undefined ) {\n\t\t\t// If it's a named argument, use name.\n\t\t\tif ( args[ 0 ] && typeof args[ 0 ] === 'object' &&\n\t\t\t\t\targs[ 0 ].hasOwnProperty( name ) ) {\n\t\t\t\tvalue = args[ 0 ][ name ];\n\t\t\t}\n\t\t} else {\n\t\t\t// If not a positional argument, use counter value.\n\t\t\tif ( index === undefined ) {\n\t\t\t\tindex = i;\n\t\t\t}\n\n\t\t\ti++;\n\n\t\t\t// Positional argument.\n\t\t\tvalue = args[ index - 1 ];\n\t\t}\n\n\t\t// Parse as type.\n\t\tif ( type === 'f' ) {\n\t\t\tvalue = parseFloat( value ) || 0;\n\t\t} else if ( type === 'd' ) {\n\t\t\tvalue = parseInt( value ) || 0;\n\t\t}\n\n\t\t// Apply precision.\n\t\tif ( precision !== undefined ) {\n\t\t\tif ( type === 'f' ) {\n\t\t\t\tvalue = value.toFixed( precision );\n\t\t\t} else if ( type === 's' ) {\n\t\t\t\tvalue = value.substr( 0, precision );\n\t\t\t}\n\t\t}\n\n\t\t// To avoid \"undefined\" concatenation, return empty string if no\n\t\t// placeholder substitution can be performed.\n\t\treturn value !== undefined && value !== null ? value : '';\n\t} );\n}\n","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst chevronUp = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z\"\n}));\nexport default chevronUp;\n//# sourceMappingURL=chevron-up.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst closeSmall = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\"\n}));\nexport default closeSmall;\n//# sourceMappingURL=close-small.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nconst lineSolid = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  fill: \"none\"\n}, createElement(Path, {\n  d: \"M5 11.25h14v1.5H5z\"\n}));\nexport default lineSolid;\n//# sourceMappingURL=line-solid.js.map","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createElement } from \"@wordpress/element\";\n\n/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\nimport classnames from 'classnames';\n/**\n * WordPress dependencies\n */\n\nimport { Slot, Fill } from '@wordpress/components';\n\nfunction PinnedItems(_ref) {\n  let {\n    scope,\n    ...props\n  } = _ref;\n  return createElement(Fill, _extends({\n    name: `PinnedItems/${scope}`\n  }, props));\n}\n\nfunction PinnedItemsSlot(_ref2) {\n  let {\n    scope,\n    className,\n    ...props\n  } = _ref2;\n  return createElement(Slot, _extends({\n    name: `PinnedItems/${scope}`\n  }, props), fills => !isEmpty(fills) && createElement(\"div\", {\n    className: classnames(className, 'interface-pinned-items')\n  }, fills));\n}\n\nPinnedItems.Slot = PinnedItemsSlot;\nexport default PinnedItems;\n//# sourceMappingURL=index.js.map","/**\n * Returns an action object used in signalling that an active area should be changed.\n *\n * @param {string} itemType Type of item.\n * @param {string} scope    Item scope.\n * @param {string} item     Item identifier.\n *\n * @return {Object} Action object.\n */\nfunction setSingleEnableItem(itemType, scope, item) {\n  return {\n    type: 'SET_SINGLE_ENABLE_ITEM',\n    itemType,\n    scope,\n    item\n  };\n}\n/**\n * Returns an action object used in signalling that a complementary item should be enabled.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n *\n * @return {Object} Action object.\n */\n\n\nexport function enableComplementaryArea(scope, area) {\n  return setSingleEnableItem('complementaryArea', scope, area);\n}\n/**\n * Returns an action object used in signalling that the complementary area of a given scope should be disabled.\n *\n * @param {string} scope Complementary area scope.\n *\n * @return {Object} Action object.\n */\n\nexport function disableComplementaryArea(scope) {\n  return setSingleEnableItem('complementaryArea', scope, undefined);\n}\n/**\n * Returns an action object to make an area enabled/disabled.\n *\n * @param {string}  itemType Type of item.\n * @param {string}  scope    Item scope.\n * @param {string}  item     Item identifier.\n * @param {boolean} isEnable Boolean indicating if an area should be pinned or not.\n *\n * @return {Object} Action object.\n */\n\nfunction setMultipleEnableItem(itemType, scope, item, isEnable) {\n  return {\n    type: 'SET_MULTIPLE_ENABLE_ITEM',\n    itemType,\n    scope,\n    item,\n    isEnable\n  };\n}\n/**\n * Returns an action object used in signalling that an item should be pinned.\n *\n * @param {string} scope  Item scope.\n * @param {string} itemId Item identifier.\n *\n * @return {Object} Action object.\n */\n\n\nexport function pinItem(scope, itemId) {\n  return setMultipleEnableItem('pinnedItems', scope, itemId, true);\n}\n/**\n * Returns an action object used in signalling that an item should be unpinned.\n *\n * @param {string} scope  Item scope.\n * @param {string} itemId Item identifier.\n *\n * @return {Object} Action object.\n */\n\nexport function unpinItem(scope, itemId) {\n  return setMultipleEnableItem('pinnedItems', scope, itemId, false);\n}\n/**\n * Returns an action object used in signalling that a feature should be toggled.\n *\n * @param {string} scope       The feature scope (e.g. core/edit-post).\n * @param {string} featureName The feature name.\n */\n\nexport function toggleFeature(scope, featureName) {\n  return function (_ref) {\n    let {\n      select,\n      dispatch\n    } = _ref;\n    const currentValue = select.isFeatureActive(scope, featureName);\n    dispatch.setFeatureValue(scope, featureName, !currentValue);\n  };\n}\n/**\n * Returns an action object used in signalling that a feature should be set to\n * a true or false value\n *\n * @param {string}  scope       The feature scope (e.g. core/edit-post).\n * @param {string}  featureName The feature name.\n * @param {boolean} value       The value to set.\n *\n * @return {Object} Action object.\n */\n\nexport function setFeatureValue(scope, featureName, value) {\n  return {\n    type: 'SET_FEATURE_VALUE',\n    scope,\n    featureName,\n    value: !!value\n  };\n}\n/**\n * Returns an action object used in signalling that defaults should be set for features.\n *\n * @param {string}                  scope    The feature scope (e.g. core/edit-post).\n * @param {Object<string, boolean>} defaults A key/value map of feature names to values.\n *\n * @return {Object} Action object.\n */\n\nexport function setFeatureDefaults(scope, defaults) {\n  return {\n    type: 'SET_FEATURE_DEFAULTS',\n    scope,\n    defaults\n  };\n}\n//# sourceMappingURL=actions.js.map","/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/interface';\n//# sourceMappingURL=constants.js.map","/**\n * WordPress dependencies\n */\nimport { createReduxStore, registerStore } from '@wordpress/data';\n/**\n * Internal dependencies\n */\n\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport { STORE_NAME } from './constants';\n/**\n * Store definition for the interface namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\n\nexport const store = createReduxStore(STORE_NAME, {\n  reducer,\n  actions,\n  selectors,\n  persist: ['enableItems', 'preferences'],\n  __experimentalUseThunks: true\n}); // Once we build a more generic persistence plugin that works across types of stores\n// we'd be able to replace this with a register call.\n\nregisterStore(STORE_NAME, {\n  reducer,\n  actions,\n  selectors,\n  persist: ['enableItems', 'preferences'],\n  __experimentalUseThunks: true\n});\n//# sourceMappingURL=index.js.map","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n/**\n * WordPress dependencies\n */\n\nimport { combineReducers } from '@wordpress/data';\n/**\n * Reducer to keep tract of the active area per scope.\n *\n * @param {boolean} state           Previous state.\n * @param {Object}  action          Action object.\n * @param {string}  action.type     Action type.\n * @param {string}  action.itemType Type of item.\n * @param {string}  action.scope    Item scope.\n * @param {string}  action.item     Item name.\n *\n * @return {Object} Updated state.\n */\n\nexport function singleEnableItems() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let {\n    type,\n    itemType,\n    scope,\n    item\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (type !== 'SET_SINGLE_ENABLE_ITEM' || !itemType || !scope) {\n    return state;\n  }\n\n  return { ...state,\n    [itemType]: { ...state[itemType],\n      [scope]: item || null\n    }\n  };\n}\n/**\n * Reducer keeping track of the \"pinned\" items per scope.\n *\n * @param {boolean} state           Previous state.\n * @param {Object}  action          Action object.\n * @param {string}  action.type     Action type.\n * @param {string}  action.itemType Type of item.\n * @param {string}  action.scope    Item scope.\n * @param {string}  action.item     Item name.\n * @param {boolean} action.isEnable Whether the item is pinned.\n *\n * @return {Object} Updated state.\n */\n\nexport function multipleEnableItems() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let {\n    type,\n    itemType,\n    scope,\n    item,\n    isEnable\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (type !== 'SET_MULTIPLE_ENABLE_ITEM' || !itemType || !scope || !item || get(state, [itemType, scope, item]) === isEnable) {\n    return state;\n  }\n\n  const currentTypeState = state[itemType] || {};\n  const currentScopeState = currentTypeState[scope] || {};\n  return { ...state,\n    [itemType]: { ...currentTypeState,\n      [scope]: { ...currentScopeState,\n        [item]: isEnable || false\n      }\n    }\n  };\n}\n/**\n * Reducer returning the defaults for user preferences.\n *\n * This is kept intentionally separate from the preferences\n * themselves so that defaults are not persisted.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\n\nexport const preferenceDefaults = combineReducers({\n  features() {\n    let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let action = arguments.length > 1 ? arguments[1] : undefined;\n\n    if (action.type === 'SET_FEATURE_DEFAULTS') {\n      const {\n        scope,\n        defaults\n      } = action;\n      return { ...state,\n        [scope]: { ...state[scope],\n          ...defaults\n        }\n      };\n    }\n\n    return state;\n  }\n\n});\n/**\n * Reducer returning the user preferences.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\n\nexport const preferences = combineReducers({\n  features() {\n    let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let action = arguments.length > 1 ? arguments[1] : undefined;\n\n    if (action.type === 'SET_FEATURE_VALUE') {\n      const {\n        scope,\n        featureName,\n        value\n      } = action;\n      return { ...state,\n        [scope]: { ...state[scope],\n          [featureName]: value\n        }\n      };\n    }\n\n    return state;\n  }\n\n});\nconst enableItems = combineReducers({\n  singleEnableItems,\n  multipleEnableItems\n});\nexport default combineReducers({\n  enableItems,\n  preferenceDefaults,\n  preferences\n});\n//# sourceMappingURL=reducer.js.map","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n/**\n * Returns the item that is enabled in a given scope.\n *\n * @param {Object} state    Global application state.\n * @param {string} itemType Type of item.\n * @param {string} scope    Item scope.\n *\n * @return {?string|null} The item that is enabled in the passed scope and type.\n */\n\nfunction getSingleEnableItem(state, itemType, scope) {\n  return get(state.enableItems.singleEnableItems, [itemType, scope]);\n}\n/**\n * Returns the complementary area that is active in a given scope.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Item scope.\n *\n * @return {string} The complementary area that is active in the given scope.\n */\n\n\nexport function getActiveComplementaryArea(state, scope) {\n  return getSingleEnableItem(state, 'complementaryArea', scope);\n}\n/**\n * Returns a boolean indicating if an item is enabled or not in a given scope.\n *\n * @param {Object} state    Global application state.\n * @param {string} itemType Type of item.\n * @param {string} scope    Scope.\n * @param {string} item     Item to check.\n *\n * @return {boolean|undefined} True if the item is enabled, false otherwise if the item is explicitly disabled, and undefined if there is no information for that item.\n */\n\nfunction isMultipleEnabledItemEnabled(state, itemType, scope, item) {\n  return get(state.enableItems.multipleEnableItems, [itemType, scope, item]);\n}\n/**\n * Returns a boolean indicating if an item is pinned or not.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Scope.\n * @param {string} item  Item to check.\n *\n * @return {boolean} True if the item is pinned and false otherwise.\n */\n\n\nexport function isItemPinned(state, scope, item) {\n  return isMultipleEnabledItemEnabled(state, 'pinnedItems', scope, item) !== false;\n}\n/**\n * Returns a boolean indicating whether a feature is active for a particular\n * scope.\n *\n * @param {Object} state       The store state.\n * @param {string} scope       The scope of the feature (e.g. core/edit-post).\n * @param {string} featureName The name of the feature.\n *\n * @return {boolean} Is the feature enabled?\n */\n\nexport function isFeatureActive(state, scope, featureName) {\n  var _state$preferences$fe, _state$preferenceDefa;\n\n  const featureValue = (_state$preferences$fe = state.preferences.features[scope]) === null || _state$preferences$fe === void 0 ? void 0 : _state$preferences$fe[featureName];\n  const defaultedFeatureValue = featureValue !== undefined ? featureValue : (_state$preferenceDefa = state.preferenceDefaults.features[scope]) === null || _state$preferenceDefa === void 0 ? void 0 : _state$preferenceDefa[featureName];\n  return !!defaultedFeatureValue;\n}\n//# sourceMappingURL=selectors.js.map","\n/**\n * Array#filter.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @param {Object=} self\n * @return {Array}\n * @throw TypeError\n */\n\nmodule.exports = function (arr, fn, self) {\n  if (arr.filter) return arr.filter(fn, self);\n  if (void 0 === arr || null === arr) throw new TypeError;\n  if ('function' != typeof fn) throw new TypeError;\n  var ret = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (!hasOwn.call(arr, i)) continue;\n    var val = arr[i];\n    if (fn.call(self, val, i, arr)) ret.push(val);\n  }\n  return ret;\n};\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n","module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar TypeError = global.TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a function');\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw TypeError(\"Can't set \" + String(argument) + ' as a prototype');\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw TypeError(String(argument) + ' is not an object');\n};\n","// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar classof = require('../internals/classof');\nvar tryToString = require('../internals/try-to-string');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = global.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = uid('TYPED_ARRAY_CONSTRUCTOR');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) { /* empty */ }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) createNonEnumerableProperty(Prototype, TYPED_ARRAY_CONSTRUCTOR, Constructor);\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) createNonEnumerableProperty(Prototype, TYPED_ARRAY_CONSTRUCTOR, Constructor);\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_CONSTRUCTOR: TYPED_ARRAY_CONSTRUCTOR,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis([].slice);\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var global = require('../internals/global');\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar Object = global.Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n  options.name        - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (bind ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : bind ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var call = Function.prototype.call;\n\nmodule.exports = call.bind ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar callBind = bind && bind.bind(call);\n\nmodule.exports = bind ? function (fn) {\n  return fn && callBind(call, fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar Object = global.Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : Object(it);\n} : Object;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function (it, metadata) {\n    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Object = global.Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar TypeError = global.TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var global = require('../internals/global');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar Object = global.Object;\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof Object ? ObjectPrototype : null;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar TypeError = global.TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var name = options && options.name !== undefined ? options.name : key;\n  var state;\n  if (isCallable(value)) {\n    if (String(name).slice(0, 7) === 'Symbol(') {\n      name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n    }\n    if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n      createNonEnumerableProperty(value, 'name', name);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nvar TypeError = global.TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.19.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar bind = require('../internals/function-bind-context');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar fails = require('../internals/fails');\nvar html = require('../internals/html');\nvar arraySlice = require('../internals/array-slice');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar Dispatch = global.Dispatch;\nvar Function = global.Function;\nvar MessageChannel = global.MessageChannel;\nvar String = global.String;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar location, defer, channel, port;\n\ntry {\n  // Deno throws a ReferenceError on `location` access without `--location` flag\n  location = global.location;\n} catch (error) { /* empty */ }\n\nvar run = function (id) {\n  if (hasOwn(queue, id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(String(id), location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = arraySlice(arguments, 1);\n    queue[++counter] = function () {\n      apply(isCallable(fn) ? fn : Function(fn), undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    isCallable(global.postMessage) &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- safe\n  return number !== number || number === 0 ? 0 : (number > 0 ? floor : ceil)(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var global = require('../internals/global');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar Object = global.Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var global = require('../internals/global');\nvar toPositiveInteger = require('../internals/to-positive-integer');\n\nvar RangeError = global.RangeError;\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","var global = require('../internals/global');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar RangeError = global.RangeError;\n\nmodule.exports = function (it) {\n  var result = toIntegerOrInfinity(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TypeError = global.TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var global = require('../internals/global');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  try {\n    return String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toOffset = require('../internals/to-offset');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = lengthOfArrayLike(src);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar task = require('../internals/task');\n\nvar FORCED = !global.setImmediate || !global.clearImmediate;\n\n// http://w3c.github.io/setImmediate/\n$({ global: true, bind: true, enumerable: true, forced: FORCED }, {\n  // `setImmediate` method\n  // http://w3c.github.io/setImmediate/#si-setImmediate\n  setImmediate: task.set,\n  // `clearImmediate` method\n  // http://w3c.github.io/setImmediate/#si-clearImmediate\n  clearImmediate: task.clear\n});\n","(function () {\n\t'use strict';\n\n\tvar table = [],\n\t\tpoly = 0xEDB88320; // reverse polynomial\n\n\t// build the table\n\tfunction makeTable() {\n\t\tvar c, n, k;\n\n\t\tfor (n = 0; n < 256; n += 1) {\n\t\t\tc = n;\n\t\t\tfor (k = 0; k < 8; k += 1) {\n\t\t\t\tif (c & 1) {\n\t\t\t\t\tc = poly ^ (c >>> 1);\n\t\t\t\t} else {\n\t\t\t\t\tc = c >>> 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttable[n] = c >>> 0;\n\t\t}\n\t}\n\n\tfunction strToArr(str) {\n\t\t// sweet hack to turn string into a 'byte' array\n\t\treturn Array.prototype.map.call(str, function (c) {\n\t\t\treturn c.charCodeAt(0);\n\t\t});\n\t}\n\n\t/*\n\t * Compute CRC of array directly.\n\t *\n\t * This is slower for repeated calls, so append mode is not supported.\n\t */\n\tfunction crcDirect(arr) {\n\t\tvar crc = -1, // initial contents of LFBSR\n\t\t\ti, j, l, temp;\n\n\t\tfor (i = 0, l = arr.length; i < l; i += 1) {\n\t\t\ttemp = (crc ^ arr[i]) & 0xff;\n\n\t\t\t// read 8 bits one at a time\n\t\t\tfor (j = 0; j < 8; j += 1) {\n\t\t\t\tif ((temp & 1) === 1) {\n\t\t\t\t\ttemp = (temp >>> 1) ^ poly;\n\t\t\t\t} else {\n\t\t\t\t\ttemp = (temp >>> 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcrc = (crc >>> 8) ^ temp;\n\t\t}\n\n\t\t// flip bits\n\t\treturn crc ^ -1;\n\t}\n\n\t/*\n\t * Compute CRC with the help of a pre-calculated table.\n\t *\n\t * This supports append mode, if the second parameter is set.\n\t */\n\tfunction crcTable(arr, append) {\n\t\tvar crc, i, l;\n\n\t\t// if we're in append mode, don't reset crc\n\t\t// if arr is null or undefined, reset table and return\n\t\tif (typeof crcTable.crc === 'undefined' || !append || !arr) {\n\t\t\tcrcTable.crc = 0 ^ -1;\n\n\t\t\tif (!arr) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// store in temp variable for minor speed gain\n\t\tcrc = crcTable.crc;\n\n\t\tfor (i = 0, l = arr.length; i < l; i += 1) {\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ arr[i]) & 0xff];\n\t\t}\n\n\t\tcrcTable.crc = crc;\n\n\t\treturn crc ^ -1;\n\t}\n\n\t// build the table\n\t// this isn't that costly, and most uses will be for table assisted mode\n\tmakeTable();\n\n\tmodule.exports = function (val, direct) {\n\t\tvar val = (typeof val === 'string') ? strToArr(val) : val,\n\t\t\tret = direct ? crcDirect(val) : crcTable(val);\n\n\t\t// convert to 2's complement hex\n\t\treturn (ret >>> 0).toString(16);\n\t};\n\tmodule.exports.direct = crcDirect;\n\tmodule.exports.table = crcTable;\n}());\n","module.exports = function deepFreeze (o) {\n  Object.freeze(o);\n\n  Object.getOwnPropertyNames(o).forEach(function (prop) {\n    if (o.hasOwnProperty(prop)\n    && o[prop] !== null\n    && (typeof o[prop] === \"object\" || typeof o[prop] === \"function\")\n    && !Object.isFrozen(o[prop])) {\n      deepFreeze(o[prop]);\n    }\n  });\n  \n  return o;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","var util = require('util')\nvar isProperty = require('is-property')\n\nvar INDENT_START = /[\\{\\[]/\nvar INDENT_END = /[\\}\\]]/\n\n// from https://mathiasbynens.be/notes/reserved-keywords\nvar RESERVED = [\n  'do',\n  'if',\n  'in',\n  'for',\n  'let',\n  'new',\n  'try',\n  'var',\n  'case',\n  'else',\n  'enum',\n  'eval',\n  'null',\n  'this',\n  'true',\n  'void',\n  'with',\n  'await',\n  'break',\n  'catch',\n  'class',\n  'const',\n  'false',\n  'super',\n  'throw',\n  'while',\n  'yield',\n  'delete',\n  'export',\n  'import',\n  'public',\n  'return',\n  'static',\n  'switch',\n  'typeof',\n  'default',\n  'extends',\n  'finally',\n  'package',\n  'private',\n  'continue',\n  'debugger',\n  'function',\n  'arguments',\n  'interface',\n  'protected',\n  'implements',\n  'instanceof',\n  'NaN',\n  'undefined'\n]\n\nvar RESERVED_MAP = {}\n\nfor (var i = 0; i < RESERVED.length; i++) {\n  RESERVED_MAP[RESERVED[i]] = true\n}\n\nvar isVariable = function (name) {\n  return isProperty(name) && !RESERVED_MAP.hasOwnProperty(name)\n}\n\nvar formats = {\n  s: function(s) {\n    return '' + s\n  },\n  d: function(d) {\n    return '' + Number(d)\n  },\n  o: function(o) {\n    return JSON.stringify(o)\n  }\n}\n\nvar genfun = function() {\n  var lines = []\n  var indent = 0\n  var vars = {}\n\n  var push = function(str) {\n    var spaces = ''\n    while (spaces.length < indent*2) spaces += '  '\n    lines.push(spaces+str)\n  }\n\n  var pushLine = function(line) {\n    if (INDENT_END.test(line.trim()[0]) && INDENT_START.test(line[line.length-1])) {\n      indent--\n      push(line)\n      indent++\n      return\n    }\n    if (INDENT_START.test(line[line.length-1])) {\n      push(line)\n      indent++\n      return\n    }\n    if (INDENT_END.test(line.trim()[0])) {\n      indent--\n      push(line)\n      return\n    }\n\n    push(line)\n  }\n\n  var line = function(fmt) {\n    if (!fmt) return line\n\n    if (arguments.length === 1 && fmt.indexOf('\\n') > -1) {\n      var lines = fmt.trim().split('\\n')\n      for (var i = 0; i < lines.length; i++) {\n        pushLine(lines[i].trim())\n      }\n    } else {\n      pushLine(util.format.apply(util, arguments))\n    }\n\n    return line\n  }\n\n  line.scope = {}\n  line.formats = formats\n\n  line.sym = function(name) {\n    if (!name || !isVariable(name)) name = 'tmp'\n    if (!vars[name]) vars[name] = 0\n    return name + (vars[name]++ || '')\n  }\n\n  line.property = function(obj, name) {\n    if (arguments.length === 1) {\n      name = obj\n      obj = ''\n    }\n\n    name = name + ''\n\n    if (isProperty(name)) return (obj ? obj + '.' + name : name)\n    return obj ? obj + '[' + JSON.stringify(name) + ']' : JSON.stringify(name)\n  }\n\n  line.toString = function() {\n    return lines.join('\\n')\n  }\n\n  line.toFunction = function(scope) {\n    if (!scope) scope = {}\n\n    var src = 'return ('+line.toString()+')'\n\n    Object.keys(line.scope).forEach(function (key) {\n      if (!scope[key]) scope[key] = line.scope[key]\n    })\n\n    var keys = Object.keys(scope).map(function(key) {\n      return key\n    })\n\n    var vals = keys.map(function(key) {\n      return scope[key]\n    })\n\n    return Function.apply(null, keys.concat(src)).apply(null, vals)\n  }\n\n  if (arguments.length) line.apply(null, arguments)\n\n  return line\n}\n\ngenfun.formats = formats\nmodule.exports = genfun\n","var isProperty = require('is-property')\n\nvar gen = function(obj, prop) {\n  return isProperty(prop) ? obj+'.'+prop : obj+'['+JSON.stringify(prop)+']'\n}\n\ngen.valid = isProperty\ngen.property = function (prop) {\n return isProperty(prop) ? prop : JSON.stringify(prop)\n}\n\nmodule.exports = gen\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\nmodule.exports = function (input) {\n\tif (typeof input !== 'string') {\n\t\tthrow new TypeError('get-src expected a string');\n\t}\n\tvar re = /src=\"(.*?)\"/gm;\n\tvar url = re.exec(input);\n\n\tif (url && url.length >= 2) {\n\t\treturn url[1];\n\t}\n};\n","'use strict';\nvar getSrc = require('get-src');\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('get-video-id expects a string');\n\t}\n\n\tif (/<iframe/gi.test(str)) {\n\t\tstr = getSrc(str);\n\t}\n\n\t// remove surrounding whitespaces or linefeeds\n\tstr = str.trim();\n\n\t// remove the '-nocookie' flag from youtube urls\n\tstr = str.replace('-nocookie', '');\n\n\t// remove any leading `www.`\n\tstr = str.replace('/www.', '/');\n\n\tvar metadata = {};\n\n\t// Try to handle google redirection uri\n\tif (/\\/\\/google/.test(str)) {\n\t\t// Find the redirection uri\n\t\tvar matches = str.match(/url=([^&]+)&/);\n\n\t\t// Decode the found uri and replace current url string - continue with final link\n\t\tif (matches) {\n\t\t\t// Javascript can get encoded URI\n\t\t\tstr = decodeURIComponent(matches[1]);\n\t\t}\n\t}\n\n\tif (/youtube|youtu\\.be|y2u\\.be|i.ytimg\\./.test(str)) {\n\t\tmetadata = {\n\t\t\tid: youtube(str),\n\t\t\tservice: 'youtube'\n\t\t};\n\t} else if (/vimeo/.test(str)) {\n\t\tmetadata = {\n\t\t\tid: vimeo(str),\n\t\t\tservice: 'vimeo'\n\t\t};\n\t} else if (/vine/.test(str)) {\n\t\tmetadata = {\n\t\t\tid: vine(str),\n\t\t\tservice: 'vine'\n\t\t};\n\t} else if (/videopress/.test(str)) {\n\t\tmetadata = {\n\t\t\tid: videopress(str),\n\t\t\tservice: 'videopress'\n\t\t};\n\t}\n\treturn metadata;\n};\n\n/**\n * Get the vimeo id.\n * @param {string} str - the url from which you want to extract the id\n * @returns {string|undefined}\n */\nfunction vimeo(str) {\n\tif (str.indexOf('#') > -1) {\n\t\tstr = str.split('#')[0];\n\t}\n\tif (str.indexOf('?') > -1 && str.indexOf('clip_id=') === -1) {\n\t\tstr = str.split('?')[0];\n\t}\n\n\tvar id;\n\tvar arr;\n\n\tvar vimeoPipe = [\n\t\t'https?:\\/\\/vimeo\\.com\\/[0-9]+$',\n\t\t'https?:\\/\\/player\\.vimeo\\.com\\/video\\/[0-9]+$',\n\t\t'https?:\\/\\/vimeo\\.com\\/channels',\n\t\t'groups',\n\t\t'album'\n\t].join('|');\n\n\tvar vimeoRegex = new RegExp(vimeoPipe, 'gim');\n\n\tif (vimeoRegex.test(str)) {\n\t\tarr = str.split('/');\n\t\tif (arr && arr.length) {\n\t\t\tid = arr.pop();\n\t\t}\n\t} else if (/clip_id=/gim.test(str)) {\n\t\tarr = str.split('clip_id=');\n\t\tif (arr && arr.length) {\n\t\t\tid = arr[1].split('&')[0];\n\t\t}\n\t}\n\n\treturn id;\n}\n\n/**\n * Get the vine id.\n * @param {string} str - the url from which you want to extract the id\n * @returns {string|undefined}\n */\nfunction vine(str) {\n\tvar regex = /https:\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]*)\\/?/;\n\tvar matches = regex.exec(str);\n\treturn matches && matches[1];\n}\n\n/**\n * Get the Youtube Video id.\n * @param {string} str - the url from which you want to extract the id\n * @returns {string|undefined}\n */\nfunction youtube(str) {\n\t// shortcode\n\tvar shortcode = /youtube:\\/\\/|https?:\\/\\/youtu\\.be\\/|http:\\/\\/y2u\\.be\\//g;\n\n\tif (shortcode.test(str)) {\n\t\tvar shortcodeid = str.split(shortcode)[1];\n\t\treturn stripParameters(shortcodeid);\n\t}\n\n\t// /v/ or /vi/\n\tvar inlinev = /\\/v\\/|\\/vi\\//g;\n\n\tif (inlinev.test(str)) {\n\t\tvar inlineid = str.split(inlinev)[1];\n\t\treturn stripParameters(inlineid);\n\t}\n\n\t// v= or vi=\n\tvar parameterv = /v=|vi=/g;\n\n\tif (parameterv.test(str)) {\n\t\tvar arr = str.split(parameterv);\n\t\treturn arr[1].split('&')[0];\n\t}\n\n\t// v= or vi=\n\tvar parameterwebp = /\\/an_webp\\//g;\n\n\tif (parameterwebp.test(str)) {\n\t\tvar webp = str.split(parameterwebp)[1];\n\t\treturn stripParameters(webp);\n\t}\n\n\t// embed\n\tvar embedreg = /\\/embed\\//g;\n\n\tif (embedreg.test(str)) {\n\t\tvar embedid = str.split(embedreg)[1];\n\t\treturn stripParameters(embedid);\n\t}\n\n\t// ignore /user/username pattern\n\tvar usernamereg = /\\/user\\/([a-zA-Z0-9]*)$/g;\n\n\tif (usernamereg.test(str)) {\n\t\treturn undefined;\n\t}\n\n\t// user\n\tvar userreg = /\\/user\\/(?!.*videos)/g;\n\n\tif (userreg.test(str)) {\n\t\tvar elements = str.split('/');\n\t\treturn stripParameters(elements.pop());\n\t}\n\n\t// attribution_link\n\tvar attrreg = /\\/attribution_link\\?.*v%3D([^%&]*)(%26|&|$)/;\n\n\tif (attrreg.test(str)) {\n\t\treturn str.match(attrreg)[1];\n\t}\n}\n\n/**\n * Get the VideoPress id.\n * @param {string} str - the url from which you want to extract the id\n * @returns {string|undefined}\n */\nfunction videopress(str) {\n\tvar idRegex;\n\tif (str.indexOf('embed') > -1) {\n\t\tidRegex = /embed\\/(\\w{8})/;\n\t\treturn str.match(idRegex)[1];\n\t}\n\n\tidRegex = /\\/v\\/(\\w{8})/;\n\n\tvar match = str.match(idRegex);\n\n\tif (match && match.length > 0) {\n\t\treturn str.match(idRegex)[1];\n\t}\n\treturn undefined;\n}\n\n/**\n * Strip away any parameters following `?` or `/`\n * @param str\n * @returns {*}\n */\nfunction stripParameters(str) {\n\t// Split parameters or split folder separator\n\tif (str.indexOf('?') > -1) {\n\t\treturn str.split('?')[0];\n\t} else if (str.indexOf('/') > -1) {\n\t\treturn str.split('/')[0];\n\t}\n\treturn str;\n}\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar utils = require('./utils');\nvar assert = require('minimalistic-assert');\n\nfunction BlockHash() {\n  this.pending = null;\n  this.pendingTotal = 0;\n  this.blockSize = this.constructor.blockSize;\n  this.outSize = this.constructor.outSize;\n  this.hmacStrength = this.constructor.hmacStrength;\n  this.padLength = this.constructor.padLength / 8;\n  this.endian = 'big';\n\n  this._delta8 = this.blockSize / 8;\n  this._delta32 = this.blockSize / 32;\n}\nexports.BlockHash = BlockHash;\n\nBlockHash.prototype.update = function update(msg, enc) {\n  // Convert message to array, pad it, and join into 32bit blocks\n  msg = utils.toArray(msg, enc);\n  if (!this.pending)\n    this.pending = msg;\n  else\n    this.pending = this.pending.concat(msg);\n  this.pendingTotal += msg.length;\n\n  // Enough data, try updating\n  if (this.pending.length >= this._delta8) {\n    msg = this.pending;\n\n    // Process pending data in blocks\n    var r = msg.length % this._delta8;\n    this.pending = msg.slice(msg.length - r, msg.length);\n    if (this.pending.length === 0)\n      this.pending = null;\n\n    msg = utils.join32(msg, 0, msg.length - r, this.endian);\n    for (var i = 0; i < msg.length; i += this._delta32)\n      this._update(msg, i, i + this._delta32);\n  }\n\n  return this;\n};\n\nBlockHash.prototype.digest = function digest(enc) {\n  this.update(this._pad());\n  assert(this.pending === null);\n\n  return this._digest(enc);\n};\n\nBlockHash.prototype._pad = function pad() {\n  var len = this.pendingTotal;\n  var bytes = this._delta8;\n  var k = bytes - ((len + this.padLength) % bytes);\n  var res = new Array(k + this.padLength);\n  res[0] = 0x80;\n  for (var i = 1; i < k; i++)\n    res[i] = 0;\n\n  // Append length\n  len <<= 3;\n  if (this.endian === 'big') {\n    for (var t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = len & 0xff;\n  } else {\n    res[i++] = len & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n\n    for (t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n  }\n\n  return res;\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar shaCommon = require('./common');\n\nvar rotl32 = utils.rotl32;\nvar sum32 = utils.sum32;\nvar sum32_5 = utils.sum32_5;\nvar ft_1 = shaCommon.ft_1;\nvar BlockHash = common.BlockHash;\n\nvar sha1_K = [\n  0x5A827999, 0x6ED9EBA1,\n  0x8F1BBCDC, 0xCA62C1D6\n];\n\nfunction SHA1() {\n  if (!(this instanceof SHA1))\n    return new SHA1();\n\n  BlockHash.call(this);\n  this.h = [\n    0x67452301, 0xefcdab89, 0x98badcfe,\n    0x10325476, 0xc3d2e1f0 ];\n  this.W = new Array(80);\n}\n\nutils.inherits(SHA1, BlockHash);\nmodule.exports = SHA1;\n\nSHA1.blockSize = 512;\nSHA1.outSize = 160;\nSHA1.hmacStrength = 80;\nSHA1.padLength = 64;\n\nSHA1.prototype._update = function _update(msg, start) {\n  var W = this.W;\n\n  for (var i = 0; i < 16; i++)\n    W[i] = msg[start + i];\n\n  for(; i < W.length; i++)\n    W[i] = rotl32(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);\n\n  var a = this.h[0];\n  var b = this.h[1];\n  var c = this.h[2];\n  var d = this.h[3];\n  var e = this.h[4];\n\n  for (i = 0; i < W.length; i++) {\n    var s = ~~(i / 20);\n    var t = sum32_5(rotl32(a, 5), ft_1(s, b, c, d), e, W[i], sha1_K[s]);\n    e = d;\n    d = c;\n    c = rotl32(b, 30);\n    b = a;\n    a = t;\n  }\n\n  this.h[0] = sum32(this.h[0], a);\n  this.h[1] = sum32(this.h[1], b);\n  this.h[2] = sum32(this.h[2], c);\n  this.h[3] = sum32(this.h[3], d);\n  this.h[4] = sum32(this.h[4], e);\n};\n\nSHA1.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar shaCommon = require('./common');\nvar assert = require('minimalistic-assert');\n\nvar sum32 = utils.sum32;\nvar sum32_4 = utils.sum32_4;\nvar sum32_5 = utils.sum32_5;\nvar ch32 = shaCommon.ch32;\nvar maj32 = shaCommon.maj32;\nvar s0_256 = shaCommon.s0_256;\nvar s1_256 = shaCommon.s1_256;\nvar g0_256 = shaCommon.g0_256;\nvar g1_256 = shaCommon.g1_256;\n\nvar BlockHash = common.BlockHash;\n\nvar sha256_K = [\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,\n  0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,\n  0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n  0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,\n  0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,\n  0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,\n  0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,\n  0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n  0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n];\n\nfunction SHA256() {\n  if (!(this instanceof SHA256))\n    return new SHA256();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a,\n    0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n  ];\n  this.k = sha256_K;\n  this.W = new Array(64);\n}\nutils.inherits(SHA256, BlockHash);\nmodule.exports = SHA256;\n\nSHA256.blockSize = 512;\nSHA256.outSize = 256;\nSHA256.hmacStrength = 192;\nSHA256.padLength = 64;\n\nSHA256.prototype._update = function _update(msg, start) {\n  var W = this.W;\n\n  for (var i = 0; i < 16; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i++)\n    W[i] = sum32_4(g1_256(W[i - 2]), W[i - 7], g0_256(W[i - 15]), W[i - 16]);\n\n  var a = this.h[0];\n  var b = this.h[1];\n  var c = this.h[2];\n  var d = this.h[3];\n  var e = this.h[4];\n  var f = this.h[5];\n  var g = this.h[6];\n  var h = this.h[7];\n\n  assert(this.k.length === W.length);\n  for (i = 0; i < W.length; i++) {\n    var T1 = sum32_5(h, s1_256(e), ch32(e, f, g), this.k[i], W[i]);\n    var T2 = sum32(s0_256(a), maj32(a, b, c));\n    h = g;\n    g = f;\n    f = e;\n    e = sum32(d, T1);\n    d = c;\n    c = b;\n    b = a;\n    a = sum32(T1, T2);\n  }\n\n  this.h[0] = sum32(this.h[0], a);\n  this.h[1] = sum32(this.h[1], b);\n  this.h[2] = sum32(this.h[2], c);\n  this.h[3] = sum32(this.h[3], d);\n  this.h[4] = sum32(this.h[4], e);\n  this.h[5] = sum32(this.h[5], f);\n  this.h[6] = sum32(this.h[6], g);\n  this.h[7] = sum32(this.h[7], h);\n};\n\nSHA256.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar rotr32 = utils.rotr32;\n\nfunction ft_1(s, x, y, z) {\n  if (s === 0)\n    return ch32(x, y, z);\n  if (s === 1 || s === 3)\n    return p32(x, y, z);\n  if (s === 2)\n    return maj32(x, y, z);\n}\nexports.ft_1 = ft_1;\n\nfunction ch32(x, y, z) {\n  return (x & y) ^ ((~x) & z);\n}\nexports.ch32 = ch32;\n\nfunction maj32(x, y, z) {\n  return (x & y) ^ (x & z) ^ (y & z);\n}\nexports.maj32 = maj32;\n\nfunction p32(x, y, z) {\n  return x ^ y ^ z;\n}\nexports.p32 = p32;\n\nfunction s0_256(x) {\n  return rotr32(x, 2) ^ rotr32(x, 13) ^ rotr32(x, 22);\n}\nexports.s0_256 = s0_256;\n\nfunction s1_256(x) {\n  return rotr32(x, 6) ^ rotr32(x, 11) ^ rotr32(x, 25);\n}\nexports.s1_256 = s1_256;\n\nfunction g0_256(x) {\n  return rotr32(x, 7) ^ rotr32(x, 18) ^ (x >>> 3);\n}\nexports.g0_256 = g0_256;\n\nfunction g1_256(x) {\n  return rotr32(x, 17) ^ rotr32(x, 19) ^ (x >>> 10);\n}\nexports.g1_256 = g1_256;\n","'use strict';\n\nvar assert = require('minimalistic-assert');\nvar inherits = require('inherits');\n\nexports.inherits = inherits;\n\nfunction isSurrogatePair(msg, i) {\n  if ((msg.charCodeAt(i) & 0xFC00) !== 0xD800) {\n    return false;\n  }\n  if (i < 0 || i + 1 >= msg.length) {\n    return false;\n  }\n  return (msg.charCodeAt(i + 1) & 0xFC00) === 0xDC00;\n}\n\nfunction toArray(msg, enc) {\n  if (Array.isArray(msg))\n    return msg.slice();\n  if (!msg)\n    return [];\n  var res = [];\n  if (typeof msg === 'string') {\n    if (!enc) {\n      // Inspired by stringToUtf8ByteArray() in closure-library by Google\n      // https://github.com/google/closure-library/blob/8598d87242af59aac233270742c8984e2b2bdbe0/closure/goog/crypt/crypt.js#L117-L143\n      // Apache License 2.0\n      // https://github.com/google/closure-library/blob/master/LICENSE\n      var p = 0;\n      for (var i = 0; i < msg.length; i++) {\n        var c = msg.charCodeAt(i);\n        if (c < 128) {\n          res[p++] = c;\n        } else if (c < 2048) {\n          res[p++] = (c >> 6) | 192;\n          res[p++] = (c & 63) | 128;\n        } else if (isSurrogatePair(msg, i)) {\n          c = 0x10000 + ((c & 0x03FF) << 10) + (msg.charCodeAt(++i) & 0x03FF);\n          res[p++] = (c >> 18) | 240;\n          res[p++] = ((c >> 12) & 63) | 128;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        } else {\n          res[p++] = (c >> 12) | 224;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        }\n      }\n    } else if (enc === 'hex') {\n      msg = msg.replace(/[^a-z0-9]+/ig, '');\n      if (msg.length % 2 !== 0)\n        msg = '0' + msg;\n      for (i = 0; i < msg.length; i += 2)\n        res.push(parseInt(msg[i] + msg[i + 1], 16));\n    }\n  } else {\n    for (i = 0; i < msg.length; i++)\n      res[i] = msg[i] | 0;\n  }\n  return res;\n}\nexports.toArray = toArray;\n\nfunction toHex(msg) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++)\n    res += zero2(msg[i].toString(16));\n  return res;\n}\nexports.toHex = toHex;\n\nfunction htonl(w) {\n  var res = (w >>> 24) |\n            ((w >>> 8) & 0xff00) |\n            ((w << 8) & 0xff0000) |\n            ((w & 0xff) << 24);\n  return res >>> 0;\n}\nexports.htonl = htonl;\n\nfunction toHex32(msg, endian) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++) {\n    var w = msg[i];\n    if (endian === 'little')\n      w = htonl(w);\n    res += zero8(w.toString(16));\n  }\n  return res;\n}\nexports.toHex32 = toHex32;\n\nfunction zero2(word) {\n  if (word.length === 1)\n    return '0' + word;\n  else\n    return word;\n}\nexports.zero2 = zero2;\n\nfunction zero8(word) {\n  if (word.length === 7)\n    return '0' + word;\n  else if (word.length === 6)\n    return '00' + word;\n  else if (word.length === 5)\n    return '000' + word;\n  else if (word.length === 4)\n    return '0000' + word;\n  else if (word.length === 3)\n    return '00000' + word;\n  else if (word.length === 2)\n    return '000000' + word;\n  else if (word.length === 1)\n    return '0000000' + word;\n  else\n    return word;\n}\nexports.zero8 = zero8;\n\nfunction join32(msg, start, end, endian) {\n  var len = end - start;\n  assert(len % 4 === 0);\n  var res = new Array(len / 4);\n  for (var i = 0, k = start; i < res.length; i++, k += 4) {\n    var w;\n    if (endian === 'big')\n      w = (msg[k] << 24) | (msg[k + 1] << 16) | (msg[k + 2] << 8) | msg[k + 3];\n    else\n      w = (msg[k + 3] << 24) | (msg[k + 2] << 16) | (msg[k + 1] << 8) | msg[k];\n    res[i] = w >>> 0;\n  }\n  return res;\n}\nexports.join32 = join32;\n\nfunction split32(msg, endian) {\n  var res = new Array(msg.length * 4);\n  for (var i = 0, k = 0; i < msg.length; i++, k += 4) {\n    var m = msg[i];\n    if (endian === 'big') {\n      res[k] = m >>> 24;\n      res[k + 1] = (m >>> 16) & 0xff;\n      res[k + 2] = (m >>> 8) & 0xff;\n      res[k + 3] = m & 0xff;\n    } else {\n      res[k + 3] = m >>> 24;\n      res[k + 2] = (m >>> 16) & 0xff;\n      res[k + 1] = (m >>> 8) & 0xff;\n      res[k] = m & 0xff;\n    }\n  }\n  return res;\n}\nexports.split32 = split32;\n\nfunction rotr32(w, b) {\n  return (w >>> b) | (w << (32 - b));\n}\nexports.rotr32 = rotr32;\n\nfunction rotl32(w, b) {\n  return (w << b) | (w >>> (32 - b));\n}\nexports.rotl32 = rotl32;\n\nfunction sum32(a, b) {\n  return (a + b) >>> 0;\n}\nexports.sum32 = sum32;\n\nfunction sum32_3(a, b, c) {\n  return (a + b + c) >>> 0;\n}\nexports.sum32_3 = sum32_3;\n\nfunction sum32_4(a, b, c, d) {\n  return (a + b + c + d) >>> 0;\n}\nexports.sum32_4 = sum32_4;\n\nfunction sum32_5(a, b, c, d, e) {\n  return (a + b + c + d + e) >>> 0;\n}\nexports.sum32_5 = sum32_5;\n\nfunction sum64(buf, pos, ah, al) {\n  var bh = buf[pos];\n  var bl = buf[pos + 1];\n\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  buf[pos] = hi >>> 0;\n  buf[pos + 1] = lo;\n}\nexports.sum64 = sum64;\n\nfunction sum64_hi(ah, al, bh, bl) {\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  return hi >>> 0;\n}\nexports.sum64_hi = sum64_hi;\n\nfunction sum64_lo(ah, al, bh, bl) {\n  var lo = al + bl;\n  return lo >>> 0;\n}\nexports.sum64_lo = sum64_lo;\n\nfunction sum64_4_hi(ah, al, bh, bl, ch, cl, dh, dl) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + carry;\n  return hi >>> 0;\n}\nexports.sum64_4_hi = sum64_4_hi;\n\nfunction sum64_4_lo(ah, al, bh, bl, ch, cl, dh, dl) {\n  var lo = al + bl + cl + dl;\n  return lo >>> 0;\n}\nexports.sum64_4_lo = sum64_4_lo;\n\nfunction sum64_5_hi(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n  lo = (lo + el) >>> 0;\n  carry += lo < el ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + eh + carry;\n  return hi >>> 0;\n}\nexports.sum64_5_hi = sum64_5_hi;\n\nfunction sum64_5_lo(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var lo = al + bl + cl + dl + el;\n\n  return lo >>> 0;\n}\nexports.sum64_5_lo = sum64_5_lo;\n\nfunction rotr64_hi(ah, al, num) {\n  var r = (al << (32 - num)) | (ah >>> num);\n  return r >>> 0;\n}\nexports.rotr64_hi = rotr64_hi;\n\nfunction rotr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.rotr64_lo = rotr64_lo;\n\nfunction shr64_hi(ah, al, num) {\n  return ah >>> num;\n}\nexports.shr64_hi = shr64_hi;\n\nfunction shr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.shr64_lo = shr64_lo;\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\nvar toStr = Object.prototype.toString;\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn toStr.call(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\ttoStr.call(value) !== '[object Array]' &&\n\t\ttoStr.call(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar fnToStr = Function.prototype.toString;\nvar isFnRegex = /^\\s*(?:function)?\\*/;\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\nvar getProto = Object.getPrototypeOf;\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\nvar generatorFunc = getGeneratorFunc();\nvar GeneratorFunction = getProto && generatorFunc ? getProto(generatorFunc) : false;\n\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex.test(fnToStr.call(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr.call(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\treturn getProto && getProto(fn) === GeneratorFunction;\n};\n","var reIpv4FirstPass = /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/\n\nvar reSubnetString = /\\/\\d{1,3}(?=%|$)/\nvar reForwardSlash = /\\//\nvar reZone = /%.*$/\nvar reBadCharacters = /([^0-9a-f:/%])/i\nvar reBadAddress = /([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\\/$)/i\n\nfunction validate4 (input) {\n  if (!(reIpv4FirstPass.test(input))) return false\n\n  var parts = input.split('.')\n\n  if (parts.length !== 4) return false\n\n  if (parts[0][0] === '0' && parts[0].length > 1) return false\n  if (parts[1][0] === '0' && parts[1].length > 1) return false\n  if (parts[2][0] === '0' && parts[2].length > 1) return false\n  if (parts[3][0] === '0' && parts[3].length > 1) return false\n\n  var n0 = Number(parts[0])\n  var n1 = Number(parts[1])\n  var n2 = Number(parts[2])\n  var n3 = Number(parts[3])\n\n  return (n0 >= 0 && n0 < 256 && n1 >= 0 && n1 < 256 && n2 >= 0 && n2 < 256 && n3 >= 0 && n3 < 256)\n}\n\nfunction validate6 (input) {\n  var withoutSubnet = input.replace(reSubnetString, '')\n  var hasSubnet = (input.length !== withoutSubnet.length)\n\n  // FIXME: this should probably be an option in the future\n  if (hasSubnet) return false\n\n  if (!hasSubnet) {\n    if (reForwardSlash.test(input)) return false\n  }\n\n  var withoutZone = withoutSubnet.replace(reZone, '')\n  var lastPartSeparator = withoutZone.lastIndexOf(':')\n\n  if (lastPartSeparator === -1) return false\n\n  var lastPart = withoutZone.substring(lastPartSeparator + 1)\n  var hasV4Part = validate4(lastPart)\n  var address = (hasV4Part ? withoutZone.substring(0, lastPartSeparator + 1) + '1234:5678' : withoutZone)\n\n  if (reBadCharacters.test(address)) return false\n  if (reBadAddress.test(address)) return false\n\n  var halves = address.split('::')\n\n  if (halves.length > 2) return false\n\n  if (halves.length === 2) {\n    var first = (halves[0] === '' ? [] : halves[0].split(':'))\n    var last = (halves[1] === '' ? [] : halves[1].split(':'))\n    var remainingLength = 8 - (first.length + last.length)\n\n    if (remainingLength <= 0) return false\n  } else {\n    if (address.split(':').length !== 8) return false\n  }\n\n  return true\n}\n\nfunction validate (input) {\n  return validate4(input) || validate6(input)\n}\n\nmodule.exports = function validator (options) {\n  if (!options) options = {}\n\n  if (options.version === 4) return validate4\n  if (options.version === 6) return validate6\n  if (options.version == null) return validate\n\n  throw new Error('Unknown version: ' + options.version)\n}\n\nmodule.exports['__all_regexes__'] = [\n  reIpv4FirstPass,\n  reSubnetString,\n  reForwardSlash,\n  reZone,\n  reBadCharacters,\n  reBadAddress\n]\n","var createIpValidator = require('is-my-ip-valid')\n\nvar reEmailWhitespace = /\\s/\nvar reHostnameFirstPass = /^[a-zA-Z0-9.-]+$/\nvar reHostnamePart = /^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/\nvar rePhoneFirstPass = /^\\+[0-9][0-9 ]{5,27}[0-9]$/\nvar rePhoneDoubleSpace = / {2}/\nvar rePhoneGlobalSpace = / /g\n\nexports['date-time'] = /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+|)([zZ]|[+-]\\d{2}:\\d{2})$/\nexports['date'] = /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/\nexports['time'] = /^\\d{2}:\\d{2}:\\d{2}$/\nexports['email'] = function (input) { return (input.indexOf('@') !== -1) && (!reEmailWhitespace.test(input)) }\nexports['ip-address'] = exports['ipv4'] = createIpValidator({ version: 4 })\nexports['ipv6'] = createIpValidator({ version: 6 })\nexports['uri'] = /^[a-zA-Z][a-zA-Z0-9+\\-.]*:[^\\s]*$/\nexports['color'] = /(#?([0-9A-Fa-f]{3,6})\\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\))/\nexports['hostname'] = function (input) {\n  if (!(reHostnameFirstPass.test(input))) return false\n\n  var parts = input.split('.')\n\n  for (var i = 0; i < parts.length; i++) {\n    if (!(reHostnamePart.test(parts[i]))) return false\n  }\n\n  return true\n}\nexports['alpha'] = /^[a-zA-Z]+$/\nexports['alphanumeric'] = /^[a-zA-Z0-9]+$/\nexports['style'] = /.:\\s*[^;]/g\nexports['phone'] = function (input) {\n  if (!(rePhoneFirstPass.test(input))) return false\n  if (rePhoneDoubleSpace.test(input)) return false\n\n  var digits = input.substring(1).replace(rePhoneGlobalSpace, '').length\n\n  return (digits >= 7 && digits <= 15)\n}\nexports['utc-millisec'] = /^[0-9]{1,15}\\.?[0-9]{0,15}$/\n","var genobj = require('generate-object-property')\nvar genfun = require('generate-function')\nvar jsonpointer = require('jsonpointer')\nvar xtend = require('xtend')\nvar formats = require('./formats')\n\nvar get = function(obj, additionalSchemas, ptr) {\n\n  var visit = function(sub) {\n    if (sub && sub.id === ptr) return sub\n    if (typeof sub !== 'object' || !sub) return null\n    return Object.keys(sub).reduce(function(res, k) {\n      return res || visit(sub[k])\n    }, null)\n  }\n\n  var res = visit(obj)\n  if (res) return res\n\n  ptr = ptr.replace(/^#/, '')\n  ptr = ptr.replace(/\\/$/, '')\n\n  try {\n    return jsonpointer.get(obj, decodeURI(ptr))\n  } catch (err) {\n    var end = ptr.indexOf('#')\n    var other\n    // external reference\n    if (end !== 0) {\n      // fragment doesn't exist.\n      if (end === -1) {\n        other = additionalSchemas[ptr]\n      } else {\n        var ext = ptr.slice(0, end)\n        other = additionalSchemas[ext]\n        var fragment = ptr.slice(end).replace(/^#/, '')\n        try {\n          return jsonpointer.get(other, fragment)\n        } catch (err) {}\n      }\n    } else {\n      other = additionalSchemas[ptr]\n    }\n    return other || null\n  }\n}\n\nvar types = {}\n\ntypes.any = function() {\n  return 'true'\n}\n\ntypes.null = function(name) {\n  return name+' === null'\n}\n\ntypes.boolean = function(name) {\n  return 'typeof '+name+' === \"boolean\"'\n}\n\ntypes.array = function(name) {\n  return 'Array.isArray('+name+')'\n}\n\ntypes.object = function(name) {\n  return 'typeof '+name+' === \"object\" && '+name+' && !Array.isArray('+name+')'\n}\n\ntypes.number = function(name) {\n  return 'typeof '+name+' === \"number\" && isFinite('+name+')'\n}\n\ntypes.integer = function(name) {\n  return 'typeof '+name+' === \"number\" && (Math.floor('+name+') === '+name+' || '+name+' > 9007199254740992 || '+name+' < -9007199254740992)'\n}\n\ntypes.string = function(name) {\n  return 'typeof '+name+' === \"string\"'\n}\n\nvar unique = function(array, len) {\n  len = Math.min(len === -1 ? array.length : len, array.length)\n  var list = []\n  for (var i = 0; i < len; i++) {\n    list.push(typeof array[i] === 'object' ? JSON.stringify(array[i]) : array[i])\n  }\n  for (var i = 1; i < list.length; i++) {\n    if (list.indexOf(list[i]) !== i) return false\n  }\n  return true\n}\n\nvar isMultipleOf = function(name, multipleOf) {\n  var res;\n  var factor = ((multipleOf | 0) !== multipleOf) ? Math.pow(10, multipleOf.toString().split('.').pop().length) : 1\n  if (factor > 1) {\n    var factorName = ((name | 0) !== name) ? Math.pow(10, name.toString().split('.').pop().length) : 1\n    if (factorName > factor) res = true\n    else res = Math.round(factor * name) % (factor * multipleOf)\n  }\n  else res = name % multipleOf;\n  return !res;\n}\n\nvar testLimitedRegex = function (r, s, maxLength) {\n  if (maxLength > -1 && s.length > maxLength) return true\n  return r.test(s)\n}\n\nvar compile = function(schema, cache, root, reporter, opts) {\n  var fmts = opts ? xtend(formats, opts.formats) : formats\n  var scope = {unique:unique, formats:fmts, isMultipleOf:isMultipleOf, testLimitedRegex:testLimitedRegex}\n  var verbose = opts ? !!opts.verbose : false;\n  var greedy = opts && opts.greedy !== undefined ?\n    opts.greedy : false;\n\n  var syms = {}\n  var allocated = []\n  var gensym = function(name) {\n    var res = name+(syms[name] = (syms[name] || 0)+1)\n    allocated.push(res)\n    return res\n  }\n\n  var formatName = function(field) {\n    var s = JSON.stringify(field)\n    try {\n      var pattern = /\\[([^\\[\\]\"]+)\\]/\n      while (pattern.test(s)) s = s.replace(pattern, replacer)\n      return s\n    } catch (_) {\n      return JSON.stringify(field)\n    }\n\n    function replacer (match, v) {\n      if (allocated.indexOf(v) === -1) throw new Error('Unreplaceable')\n      return '.\" + ' + v + ' + \"'\n    }\n  }\n\n  var reversePatterns = {}\n  var patterns = function(p) {\n    if (reversePatterns[p]) return reversePatterns[p]\n    var n = gensym('pattern')\n    scope[n] = new RegExp(p)\n    reversePatterns[p] = n\n    return n\n  }\n\n  var vars = ['i','j','k','l','m','n','o','p','q','r','s','t','u','v','x','y','z']\n  var genloop = function() {\n    var v = vars.shift()\n    vars.push(v+v[0])\n    allocated.push(v)\n    return v\n  }\n\n  var visit = function(name, node, reporter, filter, schemaPath) {\n    var properties = node.properties\n    var type = node.type\n    var tuple = false\n\n    if (Array.isArray(node.items)) { // tuple type\n      properties = {}\n      node.items.forEach(function(item, i) {\n        properties[i] = item\n      })\n      type = 'array'\n      tuple = true\n    }\n\n    var indent = 0\n    var error = function(msg, prop, value) {\n      validate('errors++')\n      if (reporter === true) {\n        validate('if (validate.errors === null) validate.errors = []')\n        if (verbose) {\n          validate(\n            'validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})',\n            formatName(prop || name),\n            JSON.stringify(msg),\n            value || name,\n            JSON.stringify(type),\n            JSON.stringify(schemaPath)\n          )\n        } else {\n          validate('validate.errors.push({field:%s,message:%s})', formatName(prop || name), JSON.stringify(msg))\n        }\n      }\n    }\n\n    if (node.required === true) {\n      indent++\n      validate('if (%s === undefined) {', name)\n      error('is required')\n      validate('} else {')\n    } else {\n      indent++\n      validate('if (%s !== undefined) {', name)\n    }\n\n    var valid = [].concat(type)\n      .map(function(t) {\n        if (t && !types.hasOwnProperty(t)) {\n          throw new Error('Unknown type: ' + t)\n        }\n\n        return types[t || 'any'](name)\n      })\n      .join(' || ') || 'true'\n\n    if (valid !== 'true') {\n      indent++\n      validate('if (!(%s)) {', valid)\n      error('is the wrong type')\n      validate('} else {')\n    }\n\n    if (tuple) {\n      if (node.additionalItems === false) {\n        validate('if (%s.length > %d) {', name, node.items.length)\n        error('has additional items')\n        validate('}')\n      } else if (node.additionalItems) {\n        var i = genloop()\n        validate('for (var %s = %d; %s < %s.length; %s++) {', i, node.items.length, i, name, i)\n        visit(name+'['+i+']', node.additionalItems, reporter, filter, schemaPath.concat('additionalItems'))\n        validate('}')\n      }\n    }\n\n    if (node.format && fmts[node.format]) {\n      if (type !== 'string' && formats[node.format]) validate('if (%s) {', types.string(name))\n      var n = gensym('format')\n      scope[n] = fmts[node.format]\n\n      if (typeof scope[n] === 'function') validate('if (!%s(%s)) {', n, name)\n      else validate('if (!testLimitedRegex(%s, %s, %d)) {', n, name, typeof node.maxLength === 'undefined' ? -1 : node.maxLength)\n      error('must be '+node.format+' format')\n      validate('}')\n      if (type !== 'string' && formats[node.format]) validate('}')\n    }\n\n    if (Array.isArray(node.required)) {\n      var n = gensym('missing')\n      validate('var %s = 0', n)\n      var checkRequired = function (req) {\n        var prop = genobj(name, req);\n        validate('if (%s === undefined) {', prop)\n        error('is required', prop)\n        validate('%s++', n)\n        validate('}')\n      }\n      validate('if ((%s)) {', type !== 'object' ? types.object(name) : 'true')\n      node.required.map(checkRequired)\n      validate('}');\n      if (!greedy) {\n        validate('if (%s === 0) {', n)\n        indent++\n      }\n    }\n\n    if (node.uniqueItems) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n      validate('if (!(unique(%s, %d))) {', name, node.maxItems || -1)\n      error('must be unique')\n      validate('}')\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.enum) {\n      var complex = node.enum.some(function(e) {\n        return typeof e === 'object'\n      })\n\n      var compare = complex ?\n        function(e) {\n          return 'JSON.stringify('+name+')'+' !== JSON.stringify('+JSON.stringify(e)+')'\n        } :\n        function(e) {\n          return name+' !== '+JSON.stringify(e)\n        }\n\n      validate('if (%s) {', node.enum.map(compare).join(' && ') || 'false')\n      error('must be an enum value')\n      validate('}')\n    }\n\n    if (node.dependencies) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      Object.keys(node.dependencies).forEach(function(key) {\n        var deps = node.dependencies[key]\n        if (typeof deps === 'string') deps = [deps]\n\n        var exists = function(k) {\n          return genobj(name, k) + ' !== undefined'\n        }\n\n        if (Array.isArray(deps)) {\n          validate('if (%s !== undefined && !(%s)) {', genobj(name, key), deps.map(exists).join(' && ') || 'true')\n          error('dependencies not set')\n          validate('}')\n        }\n        if (typeof deps === 'object') {\n          validate('if (%s !== undefined) {', genobj(name, key))\n          visit(name, deps, reporter, filter, schemaPath.concat(['dependencies', key]))\n          validate('}')\n        }\n      })\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.additionalProperties || node.additionalProperties === false) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      var i = genloop()\n      var keys = gensym('keys')\n\n      var toCompare = function(p) {\n        return keys+'['+i+'] !== '+JSON.stringify(p)\n      }\n\n      var toTest = function(p) {\n        return '!'+patterns(p)+'.test('+keys+'['+i+'])'\n      }\n\n      var additionalProp = Object.keys(properties || {}).map(toCompare)\n        .concat(Object.keys(node.patternProperties || {}).map(toTest))\n        .join(' && ') || 'true'\n\n      validate('var %s = Object.keys(%s)', keys, name)\n        ('for (var %s = 0; %s < %s.length; %s++) {', i, i, keys, i)\n          ('if (%s) {', additionalProp)\n\n      if (node.additionalProperties === false) {\n        if (filter) validate('delete %s', name+'['+keys+'['+i+']]')\n        error('has additional properties', null, JSON.stringify(name+'.') + ' + ' + keys + '['+i+']')\n      } else {\n        visit(name+'['+keys+'['+i+']]', node.additionalProperties, reporter, filter, schemaPath.concat(['additionalProperties']))\n      }\n\n      validate\n          ('}')\n        ('}')\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.$ref) {\n      var sub = get(root, opts && opts.schemas || {}, node.$ref)\n      if (sub) {\n        var fn = cache[node.$ref]\n        if (!fn) {\n          cache[node.$ref] = function proxy(data) {\n            return fn(data)\n          }\n          fn = compile(sub, cache, root, false, opts)\n        }\n        var n = gensym('ref')\n        scope[n] = fn\n        validate('if (!(%s(%s))) {', n, name)\n        error('referenced schema does not match')\n        validate('}')\n      }\n    }\n\n    if (node.not) {\n      var prev = gensym('prev')\n      validate('var %s = errors', prev)\n      visit(name, node.not, false, filter, schemaPath.concat('not'))\n      validate('if (%s === errors) {', prev)\n      error('negative schema matches')\n      validate('} else {')\n        ('errors = %s', prev)\n      ('}')\n    }\n\n    if (node.items && !tuple) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n\n      var i = genloop()\n      validate('for (var %s = 0; %s < %s.length; %s++) {', i, i, name, i)\n      visit(name+'['+i+']', node.items, reporter, filter, schemaPath.concat('items'))\n      validate('}')\n\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.patternProperties) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n      var keys = gensym('keys')\n      var i = genloop()\n      validate\n        ('var %s = Object.keys(%s)', keys, name)\n        ('for (var %s = 0; %s < %s.length; %s++) {', i, i, keys, i)\n\n      Object.keys(node.patternProperties).forEach(function(key) {\n        var p = patterns(key)\n        validate('if (%s.test(%s)) {', p, keys+'['+i+']')\n        visit(name+'['+keys+'['+i+']]', node.patternProperties[key], reporter, filter, schemaPath.concat(['patternProperties', key]))\n        validate('}')\n      })\n\n      validate('}')\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.pattern) {\n      var p = patterns(node.pattern)\n      if (type !== 'string') validate('if (%s) {', types.string(name))\n      validate('if (!(testLimitedRegex(%s, %s, %d))) {', p, name, typeof node.maxLength === 'undefined' ? -1 : node.maxLength)\n      error('pattern mismatch')\n      validate('}')\n      if (type !== 'string') validate('}')\n    }\n\n    if (node.allOf) {\n      node.allOf.forEach(function(sch, key) {\n        visit(name, sch, reporter, filter, schemaPath.concat(['allOf', key]))\n      })\n    }\n\n    if (node.anyOf && node.anyOf.length) {\n      var prev = gensym('prev')\n\n      node.anyOf.forEach(function(sch, i) {\n        if (i === 0) {\n          validate('var %s = errors', prev)\n        } else {\n          validate('if (errors !== %s) {', prev)\n            ('errors = %s', prev)\n        }\n        visit(name, sch, false, false, schemaPath)\n      })\n      node.anyOf.forEach(function(sch, i) {\n        if (i) validate('}')\n      })\n      validate('if (%s !== errors) {', prev)\n      error('no schemas match')\n      validate('}')\n    }\n\n    if (node.oneOf && node.oneOf.length) {\n      var prev = gensym('prev')\n      var passes = gensym('passes')\n\n      validate\n        ('var %s = errors', prev)\n        ('var %s = 0', passes)\n\n      node.oneOf.forEach(function(sch, i) {\n        visit(name, sch, false, false, schemaPath)\n        validate('if (%s === errors) {', prev)\n          ('%s++', passes)\n        ('} else {')\n          ('errors = %s', prev)\n        ('}')\n      })\n\n      validate('if (%s !== 1) {', passes)\n      error('no (or more than one) schemas match')\n      validate('}')\n    }\n\n    if (node.multipleOf !== undefined) {\n      if (type !== 'number' && type !== 'integer') validate('if (%s) {', types.number(name))\n\n      validate('if (!isMultipleOf(%s, %d)) {', name, node.multipleOf)\n\n      error('has a remainder')\n      validate('}')\n\n      if (type !== 'number' && type !== 'integer') validate('}')\n    }\n\n    if (node.maxProperties !== undefined) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      validate('if (Object.keys(%s).length > %d) {', name, node.maxProperties)\n      error('has more properties than allowed')\n      validate('}')\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.minProperties !== undefined) {\n      if (type !== 'object') validate('if (%s) {', types.object(name))\n\n      validate('if (Object.keys(%s).length < %d) {', name, node.minProperties)\n      error('has less properties than allowed')\n      validate('}')\n\n      if (type !== 'object') validate('}')\n    }\n\n    if (node.maxItems !== undefined) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n\n      validate('if (%s.length > %d) {', name, node.maxItems)\n      error('has more items than allowed')\n      validate('}')\n\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.minItems !== undefined) {\n      if (type !== 'array') validate('if (%s) {', types.array(name))\n\n      validate('if (%s.length < %d) {', name, node.minItems)\n      error('has less items than allowed')\n      validate('}')\n\n      if (type !== 'array') validate('}')\n    }\n\n    if (node.maxLength !== undefined) {\n      if (type !== 'string') validate('if (%s) {', types.string(name))\n\n      validate('if (%s.length > %d) {', name, node.maxLength)\n      error('has longer length than allowed')\n      validate('}')\n\n      if (type !== 'string') validate('}')\n    }\n\n    if (node.minLength !== undefined) {\n      if (type !== 'string') validate('if (%s) {', types.string(name))\n\n      validate('if (%s.length < %d) {', name, node.minLength)\n      error('has less length than allowed')\n      validate('}')\n\n      if (type !== 'string') validate('}')\n    }\n\n    if (node.minimum !== undefined) {\n      if (type !== 'number' && type !== 'integer') validate('if (%s) {', types.number(name))\n\n      validate('if (%s %s %d) {', name, node.exclusiveMinimum ? '<=' : '<', node.minimum)\n      error('is less than minimum')\n      validate('}')\n\n      if (type !== 'number' && type !== 'integer') validate('}')\n    }\n\n    if (node.maximum !== undefined) {\n      if (type !== 'number' && type !== 'integer') validate('if (%s) {', types.number(name))\n\n      validate('if (%s %s %d) {', name, node.exclusiveMaximum ? '>=' : '>', node.maximum)\n      error('is more than maximum')\n      validate('}')\n\n      if (type !== 'number' && type !== 'integer') validate('}')\n    }\n\n    if (properties) {\n      Object.keys(properties).forEach(function(p) {\n        if (Array.isArray(type) && type.indexOf('null') !== -1) validate('if (%s !== null) {', name)\n\n        visit(\n          genobj(name, p),\n          properties[p],\n          reporter,\n          filter,\n          schemaPath.concat(tuple ? p : ['properties', p])\n        )\n\n        if (Array.isArray(type) && type.indexOf('null') !== -1) validate('}')\n      })\n    }\n\n    while (indent--) validate('}')\n  }\n\n  var validate = genfun\n    ('function validate(data) {')\n      // Since undefined is not a valid JSON value, we coerce to null and other checks will catch this\n      ('if (data === undefined) data = null')\n      ('validate.errors = null')\n      ('var errors = 0')\n\n  visit('data', schema, reporter, opts && opts.filter, [])\n\n  validate\n      ('return errors === 0')\n    ('}')\n\n  validate = validate.toFunction(scope)\n  validate.errors = null\n\n  if (Object.defineProperty) {\n    Object.defineProperty(validate, 'error', {\n      get: function() {\n        if (!validate.errors) return ''\n        return validate.errors.map(function(err) {\n          return err.field + ' ' + err.message;\n        }).join('\\n')\n      }\n    })\n  }\n\n  validate.toJSON = function() {\n    return schema\n  }\n\n  return validate\n}\n\nmodule.exports = function(schema, opts) {\n  if (typeof schema === 'string') schema = JSON.parse(schema)\n  return compile(schema, {}, schema, true, opts)\n}\n\nmodule.exports.filter = function(schema, opts) {\n  var validate = module.exports(schema, xtend(opts, {filter: true}))\n  return function(sch) {\n    validate(sch)\n    return sch\n  }\n}\n","\"use strict\"\nfunction isProperty(str) {\n  return /^[$A-Z\\_a-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc][$A-Z\\_a-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc0-9\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19b0-\\u19c0\\u19c8\\u19c9\\u19d0-\\u19d9\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf2-\\u1cf4\\u1dc0-\\u1de6\\u1dfc-\\u1dff\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua900-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f]*$/.test(str)\n}\nmodule.exports = isProperty","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasSymbols = require('has-symbols')();\nvar hasToStringTag = hasSymbols && typeof Symbol.toStringTag === 'symbol';\n\nvar typedArrays = availableTypedArrays();\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new global[typedArray]();\n\t\tif (!(Symbol.toStringTag in arr)) {\n\t\t\tthrow new EvalError('this engine has support for Symbol.toStringTag, but ' + typedArray + ' does not have the property! Please report this.');\n\t\t}\n\t\tvar proto = getPrototypeOf(arr);\n\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\tif (!descriptor) {\n\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t}\n\t\ttoStrTags[typedArray] = descriptor.get;\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar anyTrue = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!anyTrue) {\n\t\t\ttry {\n\t\t\t\tanyTrue = getter.call(value) === typedArray;\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn anyTrue;\n};\n\nmodule.exports = function isTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\treturn $indexOf(typedArrays, tag) > -1;\n\t}\n\tif (!gOPD) { return false; }\n\treturn tryTypedArrays(value);\n};\n","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.6.4\";\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa && typeof global.btoa == 'function'\n        ? function(b){ return global.btoa(b) } : function(b) {\n        if (b.match(/[^\\x00-\\xFF]/)) throw new RangeError(\n            'The string contains invalid characters.'\n        );\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = function(u) {\n        return btoa(utob(String(u)));\n    };\n    var mkUriSafe = function (b64) {\n        return b64.replace(/[+\\/]/g, function(m0) {\n            return m0 == '+' ? '-' : '_';\n        }).replace(/=/g, '');\n    };\n    var encode = function(u, urisafe) {\n        return urisafe ? mkUriSafe(_encode(u)) : _encode(u);\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    var fromUint8Array;\n    if (global.Uint8Array) fromUint8Array = function(a, urisafe) {\n        // return btoa(fromCharCode.apply(null, a));\n        var b64 = '';\n        for (var i = 0, l = a.length; i < l; i += 3) {\n            var a0 = a[i], a1 = a[i+1], a2 = a[i+2];\n            var ord = a0 << 16 | a1 << 8 | a2;\n            b64 +=    b64chars.charAt( ord >>> 18)\n                +     b64chars.charAt((ord >>> 12) & 63)\n                + ( typeof a1 != 'undefined'\n                    ? b64chars.charAt((ord >>>  6) & 63) : '=')\n                + ( typeof a2 != 'undefined'\n                    ? b64chars.charAt( ord         & 63) : '=');\n        }\n        return urisafe ? mkUriSafe(b64) : b64;\n    };\n    // decoder stuff\n    var re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob && typeof global.atob == 'function'\n        ? function(a){ return global.atob(a) } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = function(a) { return btou(_atob(a)) };\n    var _fromURI = function(a) {\n        return String(a).replace(/[-_]/g, function(m0) {\n            return m0 == '-' ? '+' : '/'\n        }).replace(/[^A-Za-z0-9\\+\\/]/g, '');\n    };\n    var decode = function(a){\n        return _decode(_fromURI(a));\n    };\n    var toUint8Array;\n    if (global.Uint8Array) toUint8Array = function(a) {\n        return Uint8Array.from(atob(_fromURI(a)), function(c) {\n            return c.charCodeAt(0);\n        });\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        fromUint8Array: fromUint8Array,\n        toUint8Array: toUint8Array\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n","var hasExcape = /~/\nvar escapeMatcher = /~[01]/g\nfunction escapeReplacer (m) {\n  switch (m) {\n    case '~1': return '/'\n    case '~0': return '~'\n  }\n  throw new Error('Invalid tilde escape: ' + m)\n}\n\nfunction untilde (str) {\n  if (!hasExcape.test(str)) return str\n  return str.replace(escapeMatcher, escapeReplacer)\n}\n\nfunction setter (obj, pointer, value) {\n  var part\n  var hasNextPart\n\n  for (var p = 1, len = pointer.length; p < len;) {\n    part = untilde(pointer[p++])\n    hasNextPart = len > p\n\n    if (typeof obj[part] === 'undefined') {\n      // support setting of /-\n      if (Array.isArray(obj) && part === '-') {\n        part = obj.length\n      }\n\n      // support nested objects/array when setting values\n      if (hasNextPart) {\n        if ((pointer[p] !== '' && pointer[p] < Infinity) || pointer[p] === '-') obj[part] = []\n        else obj[part] = {}\n      }\n    }\n\n    if (!hasNextPart) break\n    obj = obj[part]\n  }\n\n  var oldValue = obj[part]\n  if (value === undefined) delete obj[part]\n  else obj[part] = value\n  return oldValue\n}\n\nfunction compilePointer (pointer) {\n  if (typeof pointer === 'string') {\n    pointer = pointer.split('/')\n    if (pointer[0] === '') return pointer\n    throw new Error('Invalid JSON pointer.')\n  } else if (Array.isArray(pointer)) {\n    return pointer\n  }\n\n  throw new Error('Invalid JSON pointer.')\n}\n\nfunction get (obj, pointer) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  var len = pointer.length\n  if (len === 1) return obj\n\n  for (var p = 1; p < len;) {\n    obj = obj[untilde(pointer[p++])]\n    if (len === p) return obj\n    if (typeof obj !== 'object') return undefined\n  }\n}\n\nfunction set (obj, pointer, value) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  if (pointer.length === 0) throw new Error('Invalid JSON pointer for set.')\n  return setter(obj, pointer, value)\n}\n\nfunction compile (pointer) {\n  var compiled = compilePointer(pointer)\n  return {\n    get: function (object) {\n      return get(object, compiled)\n    },\n    set: function (object, value) {\n      return set(object, compiled, value)\n    }\n  }\n}\n\nexports.get = get\nexports.set = set\nexports.compile = compile\n","var events = require('events')\nvar inherits = require('inherits')\n\nmodule.exports = LRU\n\nfunction LRU (opts) {\n  if (!(this instanceof LRU)) return new LRU(opts)\n  if (typeof opts === 'number') opts = {max: opts}\n  if (!opts) opts = {}\n  events.EventEmitter.call(this)\n  this.cache = {}\n  this.head = this.tail = null\n  this.length = 0\n  this.max = opts.max || 1000\n  this.maxAge = opts.maxAge || 0\n}\n\ninherits(LRU, events.EventEmitter)\n\nObject.defineProperty(LRU.prototype, 'keys', {\n  get: function () { return Object.keys(this.cache) }\n})\n\nLRU.prototype.clear = function () {\n  this.cache = {}\n  this.head = this.tail = null\n  this.length = 0\n}\n\nLRU.prototype.remove = function (key) {\n  if (typeof key !== 'string') key = '' + key\n  if (!this.cache.hasOwnProperty(key)) return\n\n  var element = this.cache[key]\n  delete this.cache[key]\n  this._unlink(key, element.prev, element.next)\n  return element.value\n}\n\nLRU.prototype._unlink = function (key, prev, next) {\n  this.length--\n\n  if (this.length === 0) {\n    this.head = this.tail = null\n  } else {\n    if (this.head === key) {\n      this.head = prev\n      this.cache[this.head].next = null\n    } else if (this.tail === key) {\n      this.tail = next\n      this.cache[this.tail].prev = null\n    } else {\n      this.cache[prev].next = next\n      this.cache[next].prev = prev\n    }\n  }\n}\n\nLRU.prototype.peek = function (key) {\n  if (!this.cache.hasOwnProperty(key)) return\n\n  var element = this.cache[key]\n\n  if (!this._checkAge(key, element)) return\n  return element.value\n}\n\nLRU.prototype.set = function (key, value) {\n  if (typeof key !== 'string') key = '' + key\n\n  var element\n\n  if (this.cache.hasOwnProperty(key)) {\n    element = this.cache[key]\n    element.value = value\n    if (this.maxAge) element.modified = Date.now()\n\n    // If it's already the head, there's nothing more to do:\n    if (key === this.head) return value\n    this._unlink(key, element.prev, element.next)\n  } else {\n    element = {value: value, modified: 0, next: null, prev: null}\n    if (this.maxAge) element.modified = Date.now()\n    this.cache[key] = element\n\n    // Eviction is only possible if the key didn't already exist:\n    if (this.length === this.max) this.evict()\n  }\n\n  this.length++\n  element.next = null\n  element.prev = this.head\n\n  if (this.head) this.cache[this.head].next = key\n  this.head = key\n\n  if (!this.tail) this.tail = key\n  return value\n}\n\nLRU.prototype._checkAge = function (key, element) {\n  if (this.maxAge && (Date.now() - element.modified) > this.maxAge) {\n    this.remove(key)\n    this.emit('evict', {key: key, value: element.value})\n    return false\n  }\n  return true\n}\n\nLRU.prototype.get = function (key) {\n  if (typeof key !== 'string') key = '' + key\n  if (!this.cache.hasOwnProperty(key)) return\n\n  var element = this.cache[key]\n\n  if (!this._checkAge(key, element)) return\n\n  if (this.head !== key) {\n    if (key === this.tail) {\n      this.tail = element.next\n      this.cache[this.tail].prev = null\n    } else {\n      // Set prev.next -> element.next:\n      this.cache[element.prev].next = element.next\n    }\n\n    // Set element.next.prev -> element.prev:\n    this.cache[element.next].prev = element.prev\n\n    // Element is the new head\n    this.cache[this.head].next = key\n    element.prev = this.head\n    element.next = null\n    this.head = key\n  }\n\n  return element.value\n}\n\nLRU.prototype.evict = function () {\n  if (!this.tail) return\n  var key = this.tail\n  var value = this.remove(this.tail)\n  this.emit('evict', {key: key, value: value})\n}\n","module.exports = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar match = String.prototype.match;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nvar inspectCustom = require('./util.inspect').custom;\nvar inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;\nvar toStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag !== 'undefined' ? Symbol.toStringTag : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('options \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        return String(obj);\n    }\n    if (typeof obj === 'bigint') {\n        return String(obj) + 'n';\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = seen.slice();\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function') {\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + keys.join(', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? String(obj).replace(/^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + String(obj.nodeName).toLowerCase();\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + String(obj.nodeName).toLowerCase() + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + xs.join(', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + parts.join(', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {\n            return obj[inspectSymbol]();\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        mapForEach.call(obj, function (value, key) {\n            mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        setForEach.call(obj, function (value) {\n            setParts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? toStr(obj).slice(8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + [].concat(stringTag || [], protoTag || []).join(': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + ys.join(', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return String(s).replace(/\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString(str.slice(0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = str.replace(/(['\\\\])/g, '\\\\$1').replace(/[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + n.toString(16).toUpperCase();\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : entries.join(', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = Array(opts.indent + 1).join(' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: Array(depth + 1).join(baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + xs.join(',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ((/[^\\w$]/).test(key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.page = factory());\n}(this, (function () { 'use strict';\n\nvar isarray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {String} str\n * @return {Array}\n */\nfunction parse (str) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      continue\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var suffix = res[6];\n    var asterisk = res[7];\n\n    var repeat = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n    var delimiter = prefix || '/';\n    var pattern = capture || group || (asterisk ? '.*' : '[^' + delimiter + ']+?');\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: escapeGroup(pattern)\n    });\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index);\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {String}   str\n * @return {Function}\n */\nfunction compile (str) {\n  return tokensToFunction(parse(str))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^' + tokens[i].pattern + '$');\n    }\n  }\n\n  return function (obj) {\n    var path = '';\n    var data = obj || {};\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n\n        continue\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received \"' + value + '\"')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encodeURIComponent(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      segment = encodeURIComponent(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {String} str\n * @return {String}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {String}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {RegExp} path\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {Array}  path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {String} path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  var tokens = parse(path);\n  var re = tokensToRegExp(tokens, options);\n\n  // Attach keys back to the regexp.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] !== 'string') {\n      keys.push(tokens[i]);\n    }\n  }\n\n  return attachKeys(re, keys)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {Array}  tokens\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction tokensToRegExp (tokens, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = '';\n  var lastToken = tokens[tokens.length - 1];\n  var endsWithSlash = typeof lastToken === 'string' && /\\/$/.test(lastToken);\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = token.pattern;\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (prefix) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 [keys]\n * @param  {Object}                [options]\n * @return {RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || [];\n\n  if (!isarray(keys)) {\n    options = keys;\n    keys = [];\n  } else if (!options) {\n    options = {};\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys, options)\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(path, keys, options)\n  }\n\n  return stringToRegexp(path, keys, options)\n}\n\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n/**\n   * Module dependencies.\n   */\n\n\n\n  /**\n   * Short-cuts for global-object checks\n   */\n\n  var hasDocument = ('undefined' !== typeof document);\n  var hasWindow = ('undefined' !== typeof window);\n  var hasHistory = ('undefined' !== typeof history);\n  var hasProcess = typeof process !== 'undefined';\n\n  /**\n   * Detect click event\n   */\n  var clickEvent = hasDocument && document.ontouchstart ? 'touchstart' : 'click';\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var isLocation = hasWindow && !!(window.history.location || window.location);\n\n  /**\n   * The page instance\n   * @api private\n   */\n  function Page() {\n    // public things\n    this.callbacks = [];\n    this.exits = [];\n    this.current = '';\n    this.len = 0;\n\n    // private things\n    this._decodeURLComponents = true;\n    this._base = '';\n    this._strict = false;\n    this._running = false;\n    this._hashbang = false;\n\n    // bound functions\n    this.clickHandler = this.clickHandler.bind(this);\n    this._onpopstate = this._onpopstate.bind(this);\n  }\n\n  /**\n   * Configure the instance of page. This can be called multiple times.\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  Page.prototype.configure = function(options) {\n    var opts = options || {};\n\n    this._window = opts.window || (hasWindow && window);\n    this._decodeURLComponents = opts.decodeURLComponents !== false;\n    this._popstate = opts.popstate !== false && hasWindow;\n    this._click = opts.click !== false && hasDocument;\n    this._hashbang = !!opts.hashbang;\n\n    var _window = this._window;\n    if(this._popstate) {\n      _window.addEventListener('popstate', this._onpopstate, false);\n    } else if(hasWindow) {\n      _window.removeEventListener('popstate', this._onpopstate, false);\n    }\n\n    if (this._click) {\n      _window.document.addEventListener(clickEvent, this.clickHandler, false);\n    } else if(hasDocument) {\n      _window.document.removeEventListener(clickEvent, this.clickHandler, false);\n    }\n\n    if(this._hashbang && hasWindow && !hasHistory) {\n      _window.addEventListener('hashchange', this._onpopstate, false);\n    } else if(hasWindow) {\n      _window.removeEventListener('hashchange', this._onpopstate, false);\n    }\n  };\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {string} path\n   * @api public\n   */\n\n  Page.prototype.base = function(path) {\n    if (0 === arguments.length) return this._base;\n    this._base = path;\n  };\n\n  /**\n   * Gets the `base`, which depends on whether we are using History or\n   * hashbang routing.\n\n   * @api private\n   */\n  Page.prototype._getBase = function() {\n    var base = this._base;\n    if(!!base) return base;\n    var loc = hasWindow && this._window && this._window.location;\n\n    if(hasWindow && this._hashbang && loc && loc.protocol === 'file:') {\n      base = loc.pathname;\n    }\n\n    return base;\n  };\n\n  /**\n   * Get or set strict path matching to `enable`\n   *\n   * @param {boolean} enable\n   * @api public\n   */\n\n  Page.prototype.strict = function(enable) {\n    if (0 === arguments.length) return this._strict;\n    this._strict = enable;\n  };\n\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  Page.prototype.start = function(options) {\n    var opts = options || {};\n    this.configure(opts);\n\n    if (false === opts.dispatch) return;\n    this._running = true;\n\n    var url;\n    if(isLocation) {\n      var window = this._window;\n      var loc = window.location;\n\n      if(this._hashbang && ~loc.hash.indexOf('#!')) {\n        url = loc.hash.substr(2) + loc.search;\n      } else if (this._hashbang) {\n        url = loc.search + loc.hash;\n      } else {\n        url = loc.pathname + loc.search + loc.hash;\n      }\n    }\n\n    this.replace(url, null, true, opts.dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  Page.prototype.stop = function() {\n    if (!this._running) return;\n    this.current = '';\n    this.len = 0;\n    this._running = false;\n\n    var window = this._window;\n    this._click && window.document.removeEventListener(clickEvent, this.clickHandler, false);\n    hasWindow && window.removeEventListener('popstate', this._onpopstate, false);\n    hasWindow && window.removeEventListener('hashchange', this._onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} dispatch\n   * @param {boolean=} push\n   * @return {!Context}\n   * @api public\n   */\n\n  Page.prototype.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state, this),\n      prev = this.prevContext;\n    this.prevContext = ctx;\n    this.current = ctx.path;\n    if (false !== dispatch) this.dispatch(ctx, prev);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {string} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object=} state\n   * @api public\n   */\n\n  Page.prototype.back = function(path, state) {\n    var page = this;\n    if (this.len > 0) {\n      var window = this._window;\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      hasHistory && window.history.back();\n      this.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    } else {\n      setTimeout(function() {\n        page.show(page._getBase(), state);\n      });\n    }\n  };\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {string} from - if param 'to' is undefined redirects to 'from'\n   * @param {string=} to\n   * @api public\n   */\n  Page.prototype.redirect = function(from, to) {\n    var inst = this;\n\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page.call(this, from, function(e) {\n        setTimeout(function() {\n          inst.replace(/** @type {!string} */ (to));\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        inst.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} init\n   * @param {boolean=} dispatch\n   * @return {!Context}\n   * @api public\n   */\n\n\n  Page.prototype.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state, this),\n      prev = this.prevContext;\n    this.prevContext = ctx;\n    this.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) this.dispatch(ctx, prev);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  Page.prototype.dispatch = function(ctx, prev) {\n    var i = 0, j = 0, page = this;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled.call(page, ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  Page.prototype.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return this.exit('*', path);\n    }\n\n    var route = new Route(path, null, this);\n    for (var i = 1; i < arguments.length; ++i) {\n      this.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Handle \"click\" events.\n   */\n\n  /* jshint +W054 */\n  Page.prototype.clickHandler = function(e) {\n    if (1 !== this._which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n    // ensure link\n    // use shadow dom when available if not, fall back to composedPath()\n    // for browsers that only have shady\n    var el = e.target;\n    var eventPath = e.path || (e.composedPath ? e.composedPath() : null);\n\n    if(eventPath) {\n      for (var i = 0; i < eventPath.length; i++) {\n        if (!eventPath[i].nodeName) continue;\n        if (eventPath[i].nodeName.toUpperCase() !== 'A') continue;\n        if (!eventPath[i].href) continue;\n\n        el = eventPath[i];\n        break;\n      }\n    }\n\n    // continue ensure link\n    // el.nodeName for svg links are 'a' instead of 'A'\n    while (el && 'A' !== el.nodeName.toUpperCase()) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName.toUpperCase()) return;\n\n    // check if link is inside an svg\n    // in this case, both href and target are always inside an object\n    var svg = (typeof el.href === 'object') && el.href.constructor.name === 'SVGAnimatedString';\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.hasAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if(!this._hashbang && this._samePath(el) && (el.hash || '#' === link)) return;\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    // svg target is an object and its desired value is in .baseVal property\n    if (svg ? el.target.baseVal : el.target) return;\n\n    // x-origin\n    // note: svg links that are not relative don't call click events (and skip page.js)\n    // consequently, all svg links tested inside page.js are relative and in the same origin\n    if (!svg && !this.sameOrigin(el.href)) return;\n\n    // rebuild path\n    // There aren't .pathname and .search properties in svg links, so we use href\n    // Also, svg href is an object and its desired value is in .baseVal property\n    var path = svg ? el.href.baseVal : (el.pathname + el.search + (el.hash || ''));\n\n    path = path[0] !== '/' ? '/' + path : path;\n\n    // strip leading \"/[drive letter]:\" on NW.js on Windows\n    if (hasProcess && path.match(/^\\/[a-zA-Z]:\\//)) {\n      path = path.replace(/^\\/[a-zA-Z]:\\//, '/');\n    }\n\n    // same page\n    var orig = path;\n    var pageBase = this._getBase();\n\n    if (path.indexOf(pageBase) === 0) {\n      path = path.substr(pageBase.length);\n    }\n\n    if (this._hashbang) path = path.replace('#!', '');\n\n    if (pageBase && orig === path && (!isLocation || this._window.location.protocol !== 'file:')) {\n      return;\n    }\n\n    e.preventDefault();\n    this.show(orig);\n  };\n\n  /**\n   * Handle \"populate\" events.\n   * @api private\n   */\n\n  Page.prototype._onpopstate = (function () {\n    var loaded = false;\n    if ( ! hasWindow ) {\n      return function () {};\n    }\n    if (hasDocument && document.readyState === 'complete') {\n      loaded = true;\n    } else {\n      window.addEventListener('load', function() {\n        setTimeout(function() {\n          loaded = true;\n        }, 0);\n      });\n    }\n    return function onpopstate(e) {\n      if (!loaded) return;\n      var page = this;\n      if (e.state) {\n        var path = e.state.path;\n        page.replace(path, e.state);\n      } else if (isLocation) {\n        var loc = page._window.location;\n        page.show(loc.pathname + loc.search + loc.hash, undefined, undefined, false);\n      }\n    };\n  })();\n\n  /**\n   * Event button.\n   */\n  Page.prototype._which = function(e) {\n    e = e || (hasWindow && this._window.event);\n    return null == e.which ? e.button : e.which;\n  };\n\n  /**\n   * Convert to a URL object\n   * @api private\n   */\n  Page.prototype._toURL = function(href) {\n    var window = this._window;\n    if(typeof URL === 'function' && isLocation) {\n      return new URL(href, window.location.toString());\n    } else if (hasDocument) {\n      var anc = window.document.createElement('a');\n      anc.href = href;\n      return anc;\n    }\n  };\n\n  /**\n   * Check if `href` is the same origin.\n   * @param {string} href\n   * @api public\n   */\n\n  Page.prototype.sameOrigin = function(href) {\n    if(!href || !isLocation) return false;\n\n    var url = this._toURL(href);\n    var window = this._window;\n\n    var loc = window.location;\n\n    /*\n       when the port is the default http port 80, internet explorer 11\n       returns an empty string for loc.port, so we need to compare loc.port\n       with an empty string if url.port is the default port 80.\n    */\n    return loc.protocol === url.protocol &&\n      loc.hostname === url.hostname &&\n      (loc.port === url.port || loc.port === '' && url.port === 80);\n  };\n\n  /**\n   * @api private\n   */\n  Page.prototype._samePath = function(url) {\n    if(!isLocation) return false;\n    var window = this._window;\n    var loc = window.location;\n    return url.pathname === loc.pathname &&\n      url.search === loc.search;\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {string} val - URL component to decode\n   * @api private\n   */\n  Page.prototype._decodeURLEncodedURIComponent = function(val) {\n    if (typeof val !== 'string') { return val; }\n    return this._decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  };\n\n  /**\n   * Create a new `page` instance and function\n   */\n  function createPage() {\n    var pageInstance = new Page();\n\n    function pageFn(/* args */) {\n      return page.apply(pageInstance, arguments);\n    }\n\n    // Copy all of the things over. In 2.0 maybe we use setPrototypeOf\n    pageFn.callbacks = pageInstance.callbacks;\n    pageFn.exits = pageInstance.exits;\n    pageFn.base = pageInstance.base.bind(pageInstance);\n    pageFn.strict = pageInstance.strict.bind(pageInstance);\n    pageFn.start = pageInstance.start.bind(pageInstance);\n    pageFn.stop = pageInstance.stop.bind(pageInstance);\n    pageFn.show = pageInstance.show.bind(pageInstance);\n    pageFn.back = pageInstance.back.bind(pageInstance);\n    pageFn.redirect = pageInstance.redirect.bind(pageInstance);\n    pageFn.replace = pageInstance.replace.bind(pageInstance);\n    pageFn.dispatch = pageInstance.dispatch.bind(pageInstance);\n    pageFn.exit = pageInstance.exit.bind(pageInstance);\n    pageFn.configure = pageInstance.configure.bind(pageInstance);\n    pageFn.sameOrigin = pageInstance.sameOrigin.bind(pageInstance);\n    pageFn.clickHandler = pageInstance.clickHandler.bind(pageInstance);\n\n    pageFn.create = createPage;\n\n    Object.defineProperty(pageFn, 'len', {\n      get: function(){\n        return pageInstance.len;\n      },\n      set: function(val) {\n        pageInstance.len = val;\n      }\n    });\n\n    Object.defineProperty(pageFn, 'current', {\n      get: function(){\n        return pageInstance.current;\n      },\n      set: function(val) {\n        pageInstance.current = val;\n      }\n    });\n\n    // In 2.0 these can be named exports\n    pageFn.Context = Context;\n    pageFn.Route = Route;\n\n    return pageFn;\n  }\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {string|!Function|!Object} path\n   * @param {Function=} fn\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page.call(this, '*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(/** @type {string} */ (path), null, this);\n      for (var i = 1; i < arguments.length; ++i) {\n        this.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      this['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      this.start(path);\n    }\n  }\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n    var page = this;\n    var window = page._window;\n\n    if (page._hashbang) {\n      current = isLocation && this._getBase() + window.location.hash.replace('#!', '');\n    } else {\n      current = isLocation && window.location.pathname + window.location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    isLocation && (window.location.href = ctx.canonicalPath);\n  }\n\n  /**\n   * Escapes RegExp characters in the given string.\n   *\n   * @param {string} s\n   * @api private\n   */\n  function escapeRegExp(s) {\n    return s.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1');\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} state\n   * @api public\n   */\n\n  function Context(path, state, pageInstance) {\n    var _page = this.page = pageInstance || page;\n    var window = _page._window;\n    var hashbang = _page._hashbang;\n\n    var pageBase = _page._getBase();\n    if ('/' === path[0] && 0 !== path.indexOf(pageBase)) path = pageBase + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    var re = new RegExp('^' + escapeRegExp(pageBase));\n    this.path = path.replace(re, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = (hasDocument && window.document.title);\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? _page._decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = _page._decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = this.pathname = parts[0];\n      this.hash = _page._decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    var page = this.page;\n    var window = page._window;\n    var hashbang = page._hashbang;\n\n    page.len++;\n    if (hasHistory) {\n        window.history.pushState(this.state, this.title,\n          hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    var page = this.page;\n    if (hasHistory) {\n        page._window.history.replaceState(this.state, this.title,\n          page._hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} options\n   * @api private\n   */\n\n  function Route(path, options, page) {\n    var _page = this.page = page || globalPage;\n    var opts = options || {};\n    opts.strict = opts.strict || page._strict;\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathToRegexp_1(this.path, this.keys = [], opts);\n  }\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {string} path\n   * @param {Object} params\n   * @return {boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\t  \n    delete params[0]\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      var val = this.page._decodeURLEncodedURIComponent(m[i]);\n      if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n        params[key.name] = val;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * Module exports.\n   */\n\n  var globalPage = createPage();\n  var page_js = globalPage;\n  var default_1 = globalPage;\n\npage_js.default = default_1;\n\nreturn page_js;\n\n})));\n","\nvar NativeProgressEvent = global.ProgressEvent;\nvar useNative = !!NativeProgressEvent;\n\ntry {\n  (function () {\n    var p = new NativeProgressEvent('loaded');\n    useNative = 'loaded' === p.type;\n    p = null;\n  })();\n} catch (e) {\n  useNative = false;\n}\n\n/**\n * Cross-browser `ProgressEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/ProgressEvent.ProgressEvent\n *\n * @public\n */\n\nmodule.exports = useNative ? NativeProgressEvent :\n\n// IE >= 9\n'function' === typeof document.createEvent ? function ProgressEvent (type, props) {\n  var e = document.createEvent('Event');\n  e.initEvent(type, false, false);\n  if (props) {\n    e.lengthComputable = Boolean(props.lengthComputable);\n    e.loaded = Number(props.loaded) || 0;\n    e.total = Number(props.total) || 0;\n  } else {\n    e.lengthComputable = false;\n    e.loaded = e.total = 0;\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction ProgressEvent (type, props) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (props) {\n    e.lengthComputable = Boolean(props.lengthComputable);\n    e.loaded = Number(props.loaded) || 0;\n    e.total = Number(props.total) || 0;\n  } else {\n    e.lengthComputable = false;\n    e.loaded = e.total = 0;\n  }\n  return e;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    if (sideChannel.has(object)) {\n        throw new RangeError('Cyclic object value');\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = typeof key === 'object' && key.value !== undefined ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, true);\n        var valueSideChannel = getSideChannel();\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DraggableCore\", {\n  enumerable: true,\n  get: function get() {\n    return _DraggableCore.default;\n  }\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _clsx2 = _interopRequireDefault(require(\"clsx\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _DraggableCore = _interopRequireDefault(require(\"./DraggableCore\"));\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nvar _excluded = [\"axis\", \"bounds\", \"children\", \"defaultPosition\", \"defaultClassName\", \"defaultClassNameDragging\", \"defaultClassNameDragged\", \"position\", \"positionOffset\", \"scale\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n// Define <Draggable>\n//\nvar Draggable = /*#__PURE__*/function (_React$Component) {\n  _inherits(Draggable, _React$Component);\n\n  var _super = _createSuper(Draggable);\n\n  function Draggable(props\n  /*: DraggableProps*/\n  ) {\n    var _this;\n\n    _classCallCheck(this, Draggable);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e, coreData) {\n      (0, _log.default)('Draggable: onDragStart: %j', coreData); // Short-circuit if user's callback killed it.\n\n      var shouldStart = _this.props.onStart(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData)); // Kills start event on core as well, so move handlers are never bound.\n\n\n      if (shouldStart === false) return false;\n\n      _this.setState({\n        dragging: true,\n        dragged: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e, coreData) {\n      if (!_this.state.dragging) return false;\n      (0, _log.default)('Draggable: onDrag: %j', coreData);\n      var uiData = (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        x: uiData.x,\n        y: uiData.y\n      }; // Keep within bounds.\n\n      if (_this.props.bounds) {\n        // Save original x and y.\n        var x = newState.x,\n            y = newState.y; // Add slack to the values used to calculate bound position. This will ensure that if\n        // we start removing slack, the element won't react to it right away until it's been\n        // completely removed.\n\n        newState.x += _this.state.slackX;\n        newState.y += _this.state.slackY; // Get bound position. This will ceil/floor the x and y within the boundaries.\n\n        var _getBoundPosition = (0, _positionFns.getBoundPosition)(_assertThisInitialized(_this), newState.x, newState.y),\n            _getBoundPosition2 = _slicedToArray(_getBoundPosition, 2),\n            newStateX = _getBoundPosition2[0],\n            newStateY = _getBoundPosition2[1];\n\n        newState.x = newStateX;\n        newState.y = newStateY; // Recalculate slack by noting how much was shaved by the boundPosition handler.\n\n        newState.slackX = _this.state.slackX + (x - newState.x);\n        newState.slackY = _this.state.slackY + (y - newState.y); // Update the event we fire to reflect what really happened after bounds took effect.\n\n        uiData.x = newState.x;\n        uiData.y = newState.y;\n        uiData.deltaX = newState.x - _this.state.x;\n        uiData.deltaY = newState.y - _this.state.y;\n      } // Short-circuit if user's callback killed it.\n\n\n      var shouldUpdate = _this.props.onDrag(e, uiData);\n\n      if (shouldUpdate === false) return false;\n\n      _this.setState(newState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e, coreData) {\n      if (!_this.state.dragging) return false; // Short-circuit if user's callback killed it.\n\n      var shouldContinue = _this.props.onStop(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData));\n\n      if (shouldContinue === false) return false;\n      (0, _log.default)('Draggable: onDragStop: %j', coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        dragging: false,\n        slackX: 0,\n        slackY: 0\n      }; // If this is a controlled component, the result of this operation will be to\n      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n\n      var controlled = Boolean(_this.props.position);\n\n      if (controlled) {\n        var _this$props$position = _this.props.position,\n            x = _this$props$position.x,\n            y = _this$props$position.y;\n        newState.x = x;\n        newState.y = y;\n      }\n\n      _this.setState(newState);\n    });\n\n    _this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n      // Whether or not we have been dragged before.\n      dragged: false,\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n      prevPropsPosition: _objectSpread({}, props.position),\n      // Used for compensating for out-of-bounds drags\n      slackX: 0,\n      slackY: 0,\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n\n    if (props.position && !(props.onDrag || props.onStop)) {\n      // eslint-disable-next-line no-console\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n    }\n\n    return _this;\n  }\n\n  _createClass(Draggable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Check to see if the element passed is an instanceof SVGElement\n      if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n        this.setState({\n          isElementSVG: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState({\n        dragging: false\n      }); // prevents invariant if unmounted while dragging\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      var _this$props$nodeRef$c, _this$props, _this$props$nodeRef;\n\n      return (_this$props$nodeRef$c = (_this$props = this.props) === null || _this$props === void 0 ? void 0 : (_this$props$nodeRef = _this$props.nodeRef) === null || _this$props$nodeRef === void 0 ? void 0 : _this$props$nodeRef.current) !== null && _this$props$nodeRef$c !== void 0 ? _this$props$nodeRef$c : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactElement<any>*/\n    {\n      var _clsx;\n\n      var _this$props2 = this.props,\n          axis = _this$props2.axis,\n          bounds = _this$props2.bounds,\n          children = _this$props2.children,\n          defaultPosition = _this$props2.defaultPosition,\n          defaultClassName = _this$props2.defaultClassName,\n          defaultClassNameDragging = _this$props2.defaultClassNameDragging,\n          defaultClassNameDragged = _this$props2.defaultClassNameDragged,\n          position = _this$props2.position,\n          positionOffset = _this$props2.positionOffset,\n          scale = _this$props2.scale,\n          draggableCoreProps = _objectWithoutProperties(_this$props2, _excluded);\n\n      var style = {};\n      var svgTransform = null; // If this is controlled, we don't want to move it - unless it's dragging.\n\n      var controlled = Boolean(position);\n      var draggable = !controlled || this.state.dragging;\n      var validPosition = position || defaultPosition;\n      var transformOpts = {\n        // Set left if horizontal drag is enabled\n        x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n        // Set top if vertical drag is enabled\n        y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n      }; // If this element was SVG, we use the `transform` attribute.\n\n      if (this.state.isElementSVG) {\n        svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);\n      } else {\n        // Add a CSS transform to move the element around. This allows us to move the element around\n        // without worrying about whether or not it is relatively or absolutely positioned.\n        // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n        // has a clean slate.\n        style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);\n      } // Mark with class while dragging\n\n\n      var className = (0, _clsx2.default)(children.props.className || '', defaultClassName, (_clsx = {}, _defineProperty(_clsx, defaultClassNameDragging, this.state.dragging), _defineProperty(_clsx, defaultClassNameDragged, this.state.dragged), _clsx)); // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n\n      return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop\n      }), /*#__PURE__*/React.cloneElement(React.Children.only(children), {\n        className: className,\n        style: _objectSpread(_objectSpread({}, children.props.style), style),\n        transform: svgTransform\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: // React 16.3+\n    // Arity (props, state)\n    function getDerivedStateFromProps(_ref, _ref2)\n    /*: ?$Shape<DraggableState>*/\n    {\n      var position = _ref.position;\n      var prevPropsPosition = _ref2.prevPropsPosition;\n\n      // Set x/y if a new position is provided in props that is different than the previous.\n      if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n        (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n          position: position,\n          prevPropsPosition: prevPropsPosition\n        });\n        return {\n          x: position.x,\n          y: position.y,\n          prevPropsPosition: _objectSpread({}, position)\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Draggable;\n}(React.Component);\n\nexports.default = Draggable;\n\n_defineProperty(Draggable, \"displayName\", 'Draggable');\n\n_defineProperty(Draggable, \"propTypes\", _objectSpread(_objectSpread({}, _DraggableCore.default.propTypes), {}, {\n  /**\n   * `axis` determines which axis the draggable can move.\n   *\n   *  Note that all callbacks will still return data as normal. This only\n   *  controls flushing to the DOM.\n   *\n   * 'both' allows movement horizontally and vertically.\n   * 'x' limits movement to horizontal axis.\n   * 'y' limits movement to vertical axis.\n   * 'none' limits all movement.\n   *\n   * Defaults to 'both'.\n   */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n\n  /**\n   * `bounds` determines the range of movement available to the element.\n   * Available values are:\n   *\n   * 'parent' restricts movement within the Draggable's parent node.\n   *\n   * Alternatively, pass an object with the following properties, all of which are optional:\n   *\n   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n   *\n   * All values are in px.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable bounds={{right: 300, bottom: 300}}>\n   *              <div>Content</div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    top: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n  defaultClassName: _propTypes.default.string,\n  defaultClassNameDragging: _propTypes.default.string,\n  defaultClassNameDragged: _propTypes.default.string,\n\n  /**\n   * `defaultPosition` specifies the x and y that the dragged item should start at\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  defaultPosition: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  positionOffset: _propTypes.default.shape({\n    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  }),\n\n  /**\n   * `position`, if present, defines the current position of the element.\n   *\n   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n   *  is uncontrolled.\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable position={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  position: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n}));\n\n_defineProperty(Draggable, \"defaultProps\", _objectSpread(_objectSpread({}, _DraggableCore.default.defaultProps), {}, {\n  axis: 'both',\n  bounds: false,\n  defaultClassName: 'react-draggable',\n  defaultClassNameDragging: 'react-draggable-dragging',\n  defaultClassNameDragged: 'react-draggable-dragged',\n  defaultPosition: {\n    x: 0,\n    y: 0\n  },\n  scale: 1\n}));","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Simple abstraction for dragging events names.\nvar eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n}; // Default to mouse events.\n\nvar dragEventFor = eventsFor.mouse;\n/*:: type DraggableCoreState = {\n  dragging: boolean,\n  lastX: number,\n  lastY: number,\n  touchIdentifier: ?number\n};*/\n\n/*:: export type DraggableData = {\n  node: HTMLElement,\n  x: number, y: number,\n  deltaX: number, deltaY: number,\n  lastX: number, lastY: number,\n};*/\n\n/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void | false;*/\n\n/*:: export type ControlPosition = {x: number, y: number};*/\n\n/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n\n/*:: export type DraggableCoreDefaultProps = {\n  allowAnyClick: boolean,\n  disabled: boolean,\n  enableUserSelectHack: boolean,\n  onStart: DraggableEventHandler,\n  onDrag: DraggableEventHandler,\n  onStop: DraggableEventHandler,\n  onMouseDown: (e: MouseEvent) => void,\n  scale: number,\n};*/\n\n/*:: export type DraggableCoreProps = {\n  ...DraggableCoreDefaultProps,\n  cancel: string,\n  children: ReactElement<any>,\n  offsetParent: HTMLElement,\n  grid: [number, number],\n  handle: string,\n  nodeRef?: ?React.ElementRef<any>,\n};*/\n\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\nvar DraggableCore = /*#__PURE__*/function (_React$Component) {\n  _inherits(DraggableCore, _React$Component);\n\n  var _super = _createSuper(DraggableCore);\n\n  function DraggableCore() {\n    var _this;\n\n    _classCallCheck(this, DraggableCore);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      dragging: false,\n      // Used while dragging to determine deltas.\n      lastX: NaN,\n      lastY: NaN,\n      touchIdentifier: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStart\", function (e) {\n      // Make it possible to attach event handlers on top of this one.\n      _this.props.onMouseDown(e); // Only accept left-clicks.\n\n\n      if (!_this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false; // Get nodes. Be sure to grab relative document (could be iframed)\n\n      var thisNode = _this.findDOMNode();\n\n      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n        throw new Error('<DraggableCore> not mounted on DragStart!');\n      }\n\n      var ownerDocument = thisNode.ownerDocument; // Short circuit if handle or cancel prop was provided and selector doesn't match.\n\n      if (_this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || _this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.handle, thisNode) || _this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.cancel, thisNode)) {\n        return;\n      } // Prevent scrolling on mobile devices, like ipad/iphone.\n      // Important that this is after handle/cancel.\n\n\n      if (e.type === 'touchstart') e.preventDefault(); // Set touch identifier in component state if this is a touch event. This allows us to\n      // distinguish between individual touches on multitouch screens by identifying which\n      // touchpoint was set to this element.\n\n      var touchIdentifier = (0, _domFns.getTouchIdentifier)(e);\n\n      _this.setState({\n        touchIdentifier: touchIdentifier\n      }); // Get the current drag point from the event. This is used as the offset.\n\n\n      var position = (0, _positionFns.getControlPosition)(e, touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return; // not possible but satisfies flow\n\n      var x = position.x,\n          y = position.y; // Create an event object with all the data parents need to make a decision here.\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent); // Call event handler. If it returns explicit false, cancel.\n\n      (0, _log.default)('calling', _this.props.onStart);\n\n      var shouldUpdate = _this.props.onStart(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) return; // Add a style to the body to disable user-select. This prevents text from\n      // being selected all over the page.\n\n      if (_this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument); // Initiate dragging. Set the current x and y as offsets\n      // so we know how much we've moved during the drag. This allows us\n      // to drag elements around even if they have been moved, without issue.\n\n      _this.setState({\n        dragging: true,\n        lastX: x,\n        lastY: y\n      }); // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n      // this element. We use different events depending on whether or not we have detected that this\n      // is a touch-capable device.\n\n\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, _this.handleDrag);\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, _this.handleDragStop);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDrag\", function (e) {\n      // Get the current drag point from the event. This is used as the offset.\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y; // Snap to grid if prop has been provided\n\n      if (Array.isArray(_this.props.grid)) {\n        var deltaX = x - _this.state.lastX,\n            deltaY = y - _this.state.lastY;\n\n        var _snapToGrid = (0, _positionFns.snapToGrid)(_this.props.grid, deltaX, deltaY);\n\n        var _snapToGrid2 = _slicedToArray(_snapToGrid, 2);\n\n        deltaX = _snapToGrid2[0];\n        deltaY = _snapToGrid2[1];\n        if (!deltaX && !deltaY) return; // skip useless drag\n\n        x = _this.state.lastX + deltaX, y = _this.state.lastY + deltaY;\n      }\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent); // Call event handler. If it returns explicit false, trigger end.\n\n      var shouldUpdate = _this.props.onDrag(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) {\n        try {\n          // $FlowIgnore\n          _this.handleDragStop(new MouseEvent('mouseup'));\n        } catch (err) {\n          // Old browsers\n          var event = ((document.createEvent('MouseEvents')\n          /*: any*/\n          )\n          /*: MouseTouchEvent*/\n          ); // I see why this insanity was deprecated\n          // $FlowIgnore\n\n          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n          _this.handleDragStop(event);\n        }\n\n        return;\n      }\n\n      _this.setState({\n        lastX: x,\n        lastY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStop\", function (e) {\n      if (!_this.state.dragging) return;\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y;\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y); // Call event handler\n\n      var shouldContinue = _this.props.onStop(e, coreEvent);\n\n      if (shouldContinue === false || _this.mounted === false) return false;\n\n      var thisNode = _this.findDOMNode();\n\n      if (thisNode) {\n        // Remove user-select hack\n        if (_this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(thisNode.ownerDocument);\n      }\n\n      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent); // Reset the el.\n\n      _this.setState({\n        dragging: false,\n        lastX: NaN,\n        lastY: NaN\n      });\n\n      if (thisNode) {\n        // Remove event handlers\n        (0, _log.default)('DraggableCore: Removing handlers');\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, _this.handleDrag);\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, _this.handleDragStop);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n      dragEventFor = eventsFor.mouse;\n      return _this.handleDragStop(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStop(e);\n    });\n\n    return _this;\n  }\n\n  _createClass(DraggableCore, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true; // Touch handlers must be added with {passive: false} to be cancelable.\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false; // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n      // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        var ownerDocument = thisNode.ownerDocument;\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n        if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(ownerDocument);\n      }\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      var _this$props$nodeRef$c, _this$props, _this$props$nodeRef;\n\n      return (_this$props$nodeRef$c = (_this$props = this.props) === null || _this$props === void 0 ? void 0 : (_this$props$nodeRef = _this$props.nodeRef) === null || _this$props$nodeRef === void 0 ? void 0 : _this$props$nodeRef.current) !== null && _this$props$nodeRef$c !== void 0 ? _this$props$nodeRef$c : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: React.Element<any>*/\n    {\n      // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n      return /*#__PURE__*/React.cloneElement(React.Children.only(this.props.children), {\n        // Note: mouseMove handler is attached to document so it will still function\n        // when the user drags quickly and leaves the bounds of the element.\n        onMouseDown: this.onMouseDown,\n        onMouseUp: this.onMouseUp,\n        // onTouchStart is added on `componentDidMount` so they can be added with\n        // {passive: false}, which allows it to cancel. See\n        // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n        onTouchEnd: this.onTouchEnd\n      });\n    }\n  }]);\n\n  return DraggableCore;\n}(React.Component);\n\nexports.default = DraggableCore;\n\n_defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n\n_defineProperty(DraggableCore, \"propTypes\", {\n  /**\n   * `allowAnyClick` allows dragging using any mouse button.\n   * By default, we only accept the left button.\n   *\n   * Defaults to `false`.\n   */\n  allowAnyClick: _propTypes.default.bool,\n\n  /**\n   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n   * with the exception of `onMouseDown`, will not fire.\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * By default, we add 'user-select:none' attributes to the document body\n   * to prevent ugly text selection during drag. If this is causing problems\n   * for your app, set this to `false`.\n   */\n  enableUserSelectHack: _propTypes.default.bool,\n\n  /**\n   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n   * instead of using the parent node.\n   */\n  offsetParent: function offsetParent(props\n  /*: DraggableCoreProps*/\n  , propName\n  /*: $Keys<DraggableCoreProps>*/\n  ) {\n    if (props[propName] && props[propName].nodeType !== 1) {\n      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n    }\n  },\n\n  /**\n   * `grid` specifies the x and y that dragging should snap to.\n   */\n  grid: _propTypes.default.arrayOf(_propTypes.default.number),\n\n  /**\n   * `handle` specifies a selector to be used as the handle that initiates drag.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable handle=\".handle\">\n   *              <div>\n   *                  <div className=\"handle\">Click me to drag</div>\n   *                  <div>This is some other content</div>\n   *              </div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  handle: _propTypes.default.string,\n\n  /**\n   * `cancel` specifies a selector to be used to prevent drag initialization.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *           return(\n   *               <Draggable cancel=\".cancel\">\n   *                   <div>\n   *                     <div className=\"cancel\">You can't drag from here</div>\n   *                     <div>Dragging here works fine</div>\n   *                   </div>\n   *               </Draggable>\n   *           );\n   *       }\n   *   });\n   * ```\n   */\n  cancel: _propTypes.default.string,\n\n  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n   * Unfortunately, in order for <Draggable> to work properly, we need raw access\n   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n   * as in this example:\n   *\n   * function MyComponent() {\n   *   const nodeRef = React.useRef(null);\n   *   return (\n   *     <Draggable nodeRef={nodeRef}>\n   *       <div ref={nodeRef}>Example Target</div>\n   *     </Draggable>\n   *   );\n   * }\n   *\n   * This can be used for arbitrarily nested components, so long as the ref ends up\n   * pointing to the actual child DOM node and not a custom component.\n   */\n  nodeRef: _propTypes.default.object,\n\n  /**\n   * Called when dragging starts.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onStart: _propTypes.default.func,\n\n  /**\n   * Called while dragging.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onDrag: _propTypes.default.func,\n\n  /**\n   * Called when dragging stops.\n   * If this function returns the boolean false, the drag will remain active.\n   */\n  onStop: _propTypes.default.func,\n\n  /**\n   * A workaround option which can be passed if onMouseDown needs to be accessed,\n   * since it'll always be blocked (as there is internal use of onMouseDown)\n   */\n  onMouseDown: _propTypes.default.func,\n\n  /**\n   * `scale`, if set, applies scaling while dragging an element\n   */\n  scale: _propTypes.default.number,\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n\n_defineProperty(DraggableCore, \"defaultProps\", {\n  allowAnyClick: false,\n  // by default only accept left click\n  disabled: false,\n  enableUserSelectHack: true,\n  onStart: function onStart() {},\n  onDrag: function onDrag() {},\n  onStop: function onStop() {},\n  onMouseDown: function onMouseDown() {},\n  scale: 1\n});","\"use strict\";\n\nvar _require = require('./Draggable'),\n    Draggable = _require.default,\n    DraggableCore = _require.DraggableCore; // Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\n\n\nmodule.exports = Draggable;\nmodule.exports.default = Draggable;\nmodule.exports.DraggableCore = DraggableCore;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchesSelector = matchesSelector;\nexports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\nexports.addEvent = addEvent;\nexports.removeEvent = removeEvent;\nexports.outerHeight = outerHeight;\nexports.outerWidth = outerWidth;\nexports.innerHeight = innerHeight;\nexports.innerWidth = innerWidth;\nexports.offsetXYFromParent = offsetXYFromParent;\nexports.createCSSTransform = createCSSTransform;\nexports.createSVGTransform = createSVGTransform;\nexports.getTranslation = getTranslation;\nexports.getTouch = getTouch;\nexports.getTouchIdentifier = getTouchIdentifier;\nexports.addUserSelectStyles = addUserSelectStyles;\nexports.removeUserSelectStyles = removeUserSelectStyles;\nexports.addClassName = addClassName;\nexports.removeClassName = removeClassName;\n\nvar _shims = require(\"./shims\");\n\nvar _getPrefix = _interopRequireWildcard(require(\"./getPrefix\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar matchesSelectorFunc = '';\n\nfunction matchesSelector(el\n/*: Node*/\n, selector\n/*: string*/\n)\n/*: boolean*/\n{\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n      // $FlowIgnore: Doesn't think elements are indexable\n      return (0, _shims.isFunction)(el[method]);\n    });\n  } // Might not be found entirely (not an Element?) - in that case, bail\n  // $FlowIgnore: Doesn't think elements are indexable\n\n\n  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false; // $FlowIgnore: Doesn't think elements are indexable\n\n  return el[matchesSelectorFunc](selector);\n} // Works up the tree to the draggable itself attempting to match selector.\n\n\nfunction matchesSelectorAndParentsTo(el\n/*: Node*/\n, selector\n/*: string*/\n, baseNode\n/*: Node*/\n)\n/*: boolean*/\n{\n  var node = el;\n\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    node = node.parentNode;\n  } while (node);\n\n  return false;\n}\n\nfunction addEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions); // $FlowIgnore[method-unbinding]\n\n\n  if (el.addEventListener) {\n    el.addEventListener(event, handler, options);\n  } else if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\n\nfunction removeEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions); // $FlowIgnore[method-unbinding]\n\n\n  if (el.removeEventListener) {\n    el.removeEventListener(event, handler, options);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\n\nfunction outerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += (0, _shims.int)(computedStyle.borderTopWidth);\n  height += (0, _shims.int)(computedStyle.borderBottomWidth);\n  return height;\n}\n\nfunction outerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += (0, _shims.int)(computedStyle.borderLeftWidth);\n  width += (0, _shims.int)(computedStyle.borderRightWidth);\n  return width;\n}\n\nfunction innerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= (0, _shims.int)(computedStyle.paddingTop);\n  height -= (0, _shims.int)(computedStyle.paddingBottom);\n  return height;\n}\n\nfunction innerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= (0, _shims.int)(computedStyle.paddingLeft);\n  width -= (0, _shims.int)(computedStyle.paddingRight);\n  return width;\n}\n/*:: interface EventWithOffset {\n  clientX: number, clientY: number\n}*/\n\n\n// Get from offsetParent\nfunction offsetXYFromParent(evt\n/*: EventWithOffset*/\n, offsetParent\n/*: HTMLElement*/\n, scale\n/*: number*/\n)\n/*: ControlPosition*/\n{\n  var isBody = offsetParent === offsetParent.ownerDocument.body;\n  var offsetParentRect = isBody ? {\n    left: 0,\n    top: 0\n  } : offsetParent.getBoundingClientRect();\n  var x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n  var y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction createCSSTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: Object*/\n{\n  var translation = getTranslation(controlPos, positionOffset, 'px');\n  return _defineProperty({}, (0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default), translation);\n}\n\nfunction createSVGTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: string*/\n{\n  var translation = getTranslation(controlPos, positionOffset, '');\n  return translation;\n}\n\nfunction getTranslation(_ref2, positionOffset\n/*: PositionOffsetControlPosition*/\n, unitSuffix\n/*: string*/\n)\n/*: string*/\n{\n  var x = _ref2.x,\n      y = _ref2.y;\n  var translation = \"translate(\".concat(x).concat(unitSuffix, \",\").concat(y).concat(unitSuffix, \")\");\n\n  if (positionOffset) {\n    var defaultX = \"\".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n    var defaultY = \"\".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n    translation = \"translate(\".concat(defaultX, \", \").concat(defaultY, \")\") + translation;\n  }\n\n  return translation;\n}\n\nfunction getTouch(e\n/*: MouseTouchEvent*/\n, identifier\n/*: number*/\n)\n/*: ?{clientX: number, clientY: number}*/\n{\n  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, function (t) {\n    return identifier === t.identifier;\n  }) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, function (t) {\n    return identifier === t.identifier;\n  });\n}\n\nfunction getTouchIdentifier(e\n/*: MouseTouchEvent*/\n)\n/*: ?number*/\n{\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n} // User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\n// Note we're passing `document` b/c we could be iframed\n\n\nfunction addUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n  var styleEl = doc.getElementById('react-draggable-style-el');\n\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\n\nfunction removeUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection'); // $FlowIgnore: IE\n\n    if (doc.selection) {\n      // $FlowIgnore: IE\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      var selection = (doc.defaultView || window).getSelection();\n\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {// probably IE\n  }\n}\n\nfunction addClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\")))) {\n      el.className += \" \".concat(className);\n    }\n  }\n}\n\nfunction removeClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\"), 'g'), '');\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPrefix = getPrefix;\nexports.browserPrefixToKey = browserPrefixToKey;\nexports.browserPrefixToStyle = browserPrefixToStyle;\nexports.default = void 0;\nvar prefixes = ['Moz', 'Webkit', 'O', 'ms'];\n\nfunction getPrefix()\n/*: string*/\n{\n  var _window$document, _window$document$docu;\n\n  var prop\n  /*: string*/\n  = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n  // Ensure we're running in an environment where there is actually a global\n  // `window` obj\n  if (typeof window === 'undefined') return ''; // If we're in a pseudo-browser server-side environment, this access\n  // path may not exist, so bail out if it doesn't.\n\n  var style = (_window$document = window.document) === null || _window$document === void 0 ? void 0 : (_window$document$docu = _window$document.documentElement) === null || _window$document$docu === void 0 ? void 0 : _window$document$docu.style;\n  if (!style) return '';\n  if (prop in style) return '';\n\n  for (var i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n\n  return '';\n}\n\nfunction browserPrefixToKey(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"\".concat(prefix).concat(kebabToTitleCase(prop)) : prop;\n}\n\nfunction browserPrefixToStyle(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"-\".concat(prefix.toLowerCase(), \"-\").concat(prop) : prop;\n}\n\nfunction kebabToTitleCase(str\n/*: string*/\n)\n/*: string*/\n{\n  var out = '';\n  var shouldCapitalize = true;\n\n  for (var i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n\n  return out;\n} // Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\n\n\nvar _default = (getPrefix()\n/*: string*/\n);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = log;\n\n/*eslint no-console:0*/\nfunction log() {\n  var _console;\n\n  if (undefined) (_console = console).log.apply(_console, arguments);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBoundPosition = getBoundPosition;\nexports.snapToGrid = snapToGrid;\nexports.canDragX = canDragX;\nexports.canDragY = canDragY;\nexports.getControlPosition = getControlPosition;\nexports.createCoreData = createCoreData;\nexports.createDraggableData = createDraggableData;\n\nvar _shims = require(\"./shims\");\n\nvar _domFns = require(\"./domFns\");\n\nfunction getBoundPosition(draggable\n/*: Draggable*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: [number, number]*/\n{\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y]; // Clone new bounds\n\n  var bounds = draggable.props.bounds;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  var node = findDOMNode(draggable);\n\n  if (typeof bounds === 'string') {\n    var ownerDocument = node.ownerDocument;\n    var ownerWindow = ownerDocument.defaultView;\n    var boundNode;\n\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      boundNode = ownerDocument.querySelector(bounds);\n    }\n\n    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n\n    var boundNodeEl\n    /*: HTMLElement*/\n    = boundNode; // for Flow, can't seem to refine correctly\n\n    var nodeStyle = ownerWindow.getComputedStyle(node);\n    var boundNodeStyle = ownerWindow.getComputedStyle(boundNodeEl); // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n\n    bounds = {\n      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),\n      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),\n      right: (0, _domFns.innerWidth)(boundNodeEl) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),\n      bottom: (0, _domFns.innerHeight)(boundNodeEl) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)\n    };\n  } // Keep x and y below right and bottom limits...\n\n\n  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom); // But above left and top limits.\n\n  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n  return [x, y];\n}\n\nfunction snapToGrid(grid\n/*: [number, number]*/\n, pendingX\n/*: number*/\n, pendingY\n/*: number*/\n)\n/*: [number, number]*/\n{\n  var x = Math.round(pendingX / grid[0]) * grid[0];\n  var y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\n\nfunction canDragX(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\n\nfunction canDragY(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n} // Get {x, y} positions from event.\n\n\nfunction getControlPosition(e\n/*: MouseTouchEvent*/\n, touchIdentifier\n/*: ?number*/\n, draggableCore\n/*: DraggableCore*/\n)\n/*: ?ControlPosition*/\n{\n  var touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n\n  var node = findDOMNode(draggableCore); // User can provide an offsetParent if desired.\n\n  var offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n} // Create an data object exposed by <DraggableCore>'s events\n\n\nfunction createCoreData(draggable\n/*: DraggableCore*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: DraggableData*/\n{\n  var state = draggable.state;\n  var isStart = !(0, _shims.isNum)(state.lastX);\n  var node = findDOMNode(draggable);\n\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node: node,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: x,\n      lastY: y,\n      x: x,\n      y: y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node: node,\n      deltaX: x - state.lastX,\n      deltaY: y - state.lastY,\n      lastX: state.lastX,\n      lastY: state.lastY,\n      x: x,\n      y: y\n    };\n  }\n} // Create an data exposed by <Draggable>'s events\n\n\nfunction createDraggableData(draggable\n/*: Draggable*/\n, coreData\n/*: DraggableData*/\n)\n/*: DraggableData*/\n{\n  var scale = draggable.props.scale;\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX / scale,\n    y: draggable.state.y + coreData.deltaY / scale,\n    deltaX: coreData.deltaX / scale,\n    deltaY: coreData.deltaY / scale,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n} // A lot faster than stringify/parse\n\n\nfunction cloneBounds(bounds\n/*: Bounds*/\n)\n/*: Bounds*/\n{\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\n\nfunction findDOMNode(draggable\n/*: Draggable | DraggableCore*/\n)\n/*: HTMLElement*/\n{\n  var node = draggable.findDOMNode();\n\n  if (!node) {\n    throw new Error('<DraggableCore>: Unmounted during event!');\n  } // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n\n\n  return node;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findInArray = findInArray;\nexports.isFunction = isFunction;\nexports.isNum = isNum;\nexports.int = int;\nexports.dontSetMe = dontSetMe;\n\n// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\nfunction findInArray(array\n/*: Array<any> | TouchList*/\n, callback\n/*: Function*/\n)\n/*: any*/\n{\n  for (var i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\n\nfunction isFunction(func\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  // $FlowIgnore[method-unbinding]\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\n\nfunction isNum(num\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  return typeof num === 'number' && !isNaN(num);\n}\n\nfunction int(a\n/*: string*/\n)\n/*: number*/\n{\n  return parseInt(a, 10);\n}\n\nfunction dontSetMe(props\n/*: Object*/\n, propName\n/*: string*/\n, componentName\n/*: string*/\n)\n/*: ?Error*/\n{\n  if (props[propName]) {\n    return new Error(\"Invalid prop \".concat(propName, \" passed to \").concat(componentName, \" - do not set this, set it on the child.\"));\n  }\n}","/** @license React v17.0.2\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=60103,c=60106,d=60107,e=60108,f=60114,g=60109,h=60110,k=60112,l=60113,m=60120,n=60115,p=60116,q=60121,r=60122,u=60117,v=60129,w=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var x=Symbol.for;b=x(\"react.element\");c=x(\"react.portal\");d=x(\"react.fragment\");e=x(\"react.strict_mode\");f=x(\"react.profiler\");g=x(\"react.provider\");h=x(\"react.context\");k=x(\"react.forward_ref\");l=x(\"react.suspense\");m=x(\"react.suspense_list\");n=x(\"react.memo\");p=x(\"react.lazy\");q=x(\"react.block\");r=x(\"react.server.block\");u=x(\"react.fundamental\");v=x(\"react.debug_trace_mode\");w=x(\"react.legacy_hidden\")}\nfunction y(a){if(\"object\"===typeof a&&null!==a){var t=a.$$typeof;switch(t){case b:switch(a=a.type,a){case d:case f:case e:case l:case m:return a;default:switch(a=a&&a.$$typeof,a){case h:case k:case p:case n:case g:return a;default:return t}}case c:return t}}}var z=g,A=b,B=k,C=d,D=p,E=n,F=c,G=f,H=e,I=l;exports.ContextConsumer=h;exports.ContextProvider=z;exports.Element=A;exports.ForwardRef=B;exports.Fragment=C;exports.Lazy=D;exports.Memo=E;exports.Portal=F;exports.Profiler=G;exports.StrictMode=H;\nexports.Suspense=I;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return y(a)===h};exports.isContextProvider=function(a){return y(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return y(a)===k};exports.isFragment=function(a){return y(a)===d};exports.isLazy=function(a){return y(a)===p};exports.isMemo=function(a){return y(a)===n};\nexports.isPortal=function(a){return y(a)===c};exports.isProfiler=function(a){return y(a)===f};exports.isStrictMode=function(a){return y(a)===e};exports.isSuspense=function(a){return y(a)===l};exports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===v||a===e||a===l||a===m||a===w||\"object\"===typeof a&&null!==a&&(a.$$typeof===p||a.$$typeof===n||a.$$typeof===g||a.$$typeof===h||a.$$typeof===k||a.$$typeof===u||a.$$typeof===q||a[0]===r)?!0:!1};\nexports.typeOf=y;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Subscribable } from './subscribable';\nimport { isServer } from './utils';\n\nvar FocusManager = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(FocusManager, _Subscribable);\n\n  function FocusManager() {\n    return _Subscribable.apply(this, arguments) || this;\n  }\n\n  var _proto = FocusManager.prototype;\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (!this.removeEventListener) {\n      this.setDefaultEventListener();\n    }\n  };\n\n  _proto.setEventListener = function setEventListener(setup) {\n    var _this = this;\n\n    if (this.removeEventListener) {\n      this.removeEventListener();\n    }\n\n    this.removeEventListener = setup(function (focused) {\n      if (typeof focused === 'boolean') {\n        _this.setFocused(focused);\n      } else {\n        _this.onFocus();\n      }\n    });\n  };\n\n  _proto.setFocused = function setFocused(focused) {\n    this.focused = focused;\n\n    if (focused) {\n      this.onFocus();\n    }\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.listeners.forEach(function (listener) {\n      listener();\n    });\n  };\n\n  _proto.isFocused = function isFocused() {\n    if (typeof this.focused === 'boolean') {\n      return this.focused;\n    } // document global can be unavailable in react native\n\n\n    if (typeof document === 'undefined') {\n      return true;\n    }\n\n    return [undefined, 'visible', 'prerender'].includes(document.visibilityState);\n  };\n\n  _proto.setDefaultEventListener = function setDefaultEventListener() {\n    var _window;\n\n    if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\n      this.setEventListener(function (onFocus) {\n        var listener = function listener() {\n          return onFocus();\n        }; // Listen to visibillitychange and focus\n\n\n        window.addEventListener('visibilitychange', listener, false);\n        window.addEventListener('focus', listener, false);\n        return function () {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener);\n          window.removeEventListener('focus', listener);\n        };\n      });\n    }\n  };\n\n  return FocusManager;\n}(Subscribable);\n\nexport var focusManager = new FocusManager();","import { isCancelable } from './retryer';\nimport { getAbortController } from './utils';\nexport function infiniteQueryBehavior() {\n  return {\n    onFetch: function onFetch(context) {\n      context.fetchFn = function () {\n        var _context$fetchOptions, _context$fetchOptions2, _context$fetchOptions3, _context$fetchOptions4, _context$state$data, _context$state$data2;\n\n        var refetchPage = (_context$fetchOptions = context.fetchOptions) == null ? void 0 : (_context$fetchOptions2 = _context$fetchOptions.meta) == null ? void 0 : _context$fetchOptions2.refetchPage;\n        var fetchMore = (_context$fetchOptions3 = context.fetchOptions) == null ? void 0 : (_context$fetchOptions4 = _context$fetchOptions3.meta) == null ? void 0 : _context$fetchOptions4.fetchMore;\n        var pageParam = fetchMore == null ? void 0 : fetchMore.pageParam;\n        var isFetchingNextPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'forward';\n        var isFetchingPreviousPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'backward';\n        var oldPages = ((_context$state$data = context.state.data) == null ? void 0 : _context$state$data.pages) || [];\n        var oldPageParams = ((_context$state$data2 = context.state.data) == null ? void 0 : _context$state$data2.pageParams) || [];\n        var abortController = getAbortController();\n        var abortSignal = abortController == null ? void 0 : abortController.signal;\n        var newPageParams = oldPageParams;\n        var cancelled = false; // Get query function\n\n        var queryFn = context.options.queryFn || function () {\n          return Promise.reject('Missing queryFn');\n        };\n\n        var buildNewPages = function buildNewPages(pages, param, page, previous) {\n          newPageParams = previous ? [param].concat(newPageParams) : [].concat(newPageParams, [param]);\n          return previous ? [page].concat(pages) : [].concat(pages, [page]);\n        }; // Create function to fetch a page\n\n\n        var fetchPage = function fetchPage(pages, manual, param, previous) {\n          if (cancelled) {\n            return Promise.reject('Cancelled');\n          }\n\n          if (typeof param === 'undefined' && !manual && pages.length) {\n            return Promise.resolve(pages);\n          }\n\n          var queryFnContext = {\n            queryKey: context.queryKey,\n            signal: abortSignal,\n            pageParam: param,\n            meta: context.meta\n          };\n          var queryFnResult = queryFn(queryFnContext);\n          var promise = Promise.resolve(queryFnResult).then(function (page) {\n            return buildNewPages(pages, param, page, previous);\n          });\n\n          if (isCancelable(queryFnResult)) {\n            var promiseAsAny = promise;\n            promiseAsAny.cancel = queryFnResult.cancel;\n          }\n\n          return promise;\n        };\n\n        var promise; // Fetch first page?\n\n        if (!oldPages.length) {\n          promise = fetchPage([]);\n        } // Fetch next page?\n        else if (isFetchingNextPage) {\n            var manual = typeof pageParam !== 'undefined';\n            var param = manual ? pageParam : getNextPageParam(context.options, oldPages);\n            promise = fetchPage(oldPages, manual, param);\n          } // Fetch previous page?\n          else if (isFetchingPreviousPage) {\n              var _manual = typeof pageParam !== 'undefined';\n\n              var _param = _manual ? pageParam : getPreviousPageParam(context.options, oldPages);\n\n              promise = fetchPage(oldPages, _manual, _param, true);\n            } // Refetch pages\n            else {\n                (function () {\n                  newPageParams = [];\n                  var manual = typeof context.options.getNextPageParam === 'undefined';\n                  var shouldFetchFirstPage = refetchPage && oldPages[0] ? refetchPage(oldPages[0], 0, oldPages) : true; // Fetch first page\n\n                  promise = shouldFetchFirstPage ? fetchPage([], manual, oldPageParams[0]) : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0])); // Fetch remaining pages\n\n                  var _loop = function _loop(i) {\n                    promise = promise.then(function (pages) {\n                      var shouldFetchNextPage = refetchPage && oldPages[i] ? refetchPage(oldPages[i], i, oldPages) : true;\n\n                      if (shouldFetchNextPage) {\n                        var _param2 = manual ? oldPageParams[i] : getNextPageParam(context.options, pages);\n\n                        return fetchPage(pages, manual, _param2);\n                      }\n\n                      return Promise.resolve(buildNewPages(pages, oldPageParams[i], oldPages[i]));\n                    });\n                  };\n\n                  for (var i = 1; i < oldPages.length; i++) {\n                    _loop(i);\n                  }\n                })();\n              }\n\n        var finalPromise = promise.then(function (pages) {\n          return {\n            pages: pages,\n            pageParams: newPageParams\n          };\n        });\n        var finalPromiseAsAny = finalPromise;\n\n        finalPromiseAsAny.cancel = function () {\n          cancelled = true;\n          abortController == null ? void 0 : abortController.abort();\n\n          if (isCancelable(promise)) {\n            promise.cancel();\n          }\n        };\n\n        return finalPromise;\n      };\n    }\n  };\n}\nexport function getNextPageParam(options, pages) {\n  return options.getNextPageParam == null ? void 0 : options.getNextPageParam(pages[pages.length - 1], pages);\n}\nexport function getPreviousPageParam(options, pages) {\n  return options.getPreviousPageParam == null ? void 0 : options.getPreviousPageParam(pages[0], pages);\n}\n/**\n * Checks if there is a next page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasNextPage(options, pages) {\n  if (options.getNextPageParam && Array.isArray(pages)) {\n    var nextPageParam = getNextPageParam(options, pages);\n    return typeof nextPageParam !== 'undefined' && nextPageParam !== null && nextPageParam !== false;\n  }\n}\n/**\n * Checks if there is a previous page.\n * Returns `undefined` if it cannot be determined.\n */\n\nexport function hasPreviousPage(options, pages) {\n  if (options.getPreviousPageParam && Array.isArray(pages)) {\n    var previousPageParam = getPreviousPageParam(options, pages);\n    return typeof previousPageParam !== 'undefined' && previousPageParam !== null && previousPageParam !== false;\n  }\n}","import { noop } from './utils'; // TYPES\n\n// FUNCTIONS\nvar logger = console || {\n  error: noop,\n  warn: noop,\n  log: noop\n};\nexport function getLogger() {\n  return logger;\n}\nexport function setLogger(newLogger) {\n  logger = newLogger;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getLogger } from './logger';\nimport { notifyManager } from './notifyManager';\nimport { Retryer } from './retryer';\nimport { noop } from './utils'; // TYPES\n\n// CLASS\nexport var Mutation = /*#__PURE__*/function () {\n  function Mutation(config) {\n    this.options = _extends({}, config.defaultOptions, config.options);\n    this.mutationId = config.mutationId;\n    this.mutationCache = config.mutationCache;\n    this.observers = [];\n    this.state = config.state || getDefaultState();\n  }\n\n  var _proto = Mutation.prototype;\n\n  _proto.setState = function setState(state) {\n    this.dispatch({\n      type: 'setState',\n      state: state\n    });\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    this.observers = this.observers.filter(function (x) {\n      return x !== observer;\n    });\n  };\n\n  _proto.cancel = function cancel() {\n    if (this.retryer) {\n      this.retryer.cancel();\n      return this.retryer.promise.then(noop).catch(noop);\n    }\n\n    return Promise.resolve();\n  };\n\n  _proto.continue = function _continue() {\n    if (this.retryer) {\n      this.retryer.continue();\n      return this.retryer.promise;\n    }\n\n    return this.execute();\n  };\n\n  _proto.execute = function execute() {\n    var _this = this;\n\n    var data;\n    var restored = this.state.status === 'loading';\n    var promise = Promise.resolve();\n\n    if (!restored) {\n      this.dispatch({\n        type: 'loading',\n        variables: this.options.variables\n      });\n      promise = promise.then(function () {\n        return _this.options.onMutate == null ? void 0 : _this.options.onMutate(_this.state.variables);\n      }).then(function (context) {\n        if (context !== _this.state.context) {\n          _this.dispatch({\n            type: 'loading',\n            context: context,\n            variables: _this.state.variables\n          });\n        }\n      });\n    }\n\n    return promise.then(function () {\n      return _this.executeMutation();\n    }).then(function (result) {\n      data = result; // Notify cache callback\n\n      _this.mutationCache.config.onSuccess == null ? void 0 : _this.mutationCache.config.onSuccess(data, _this.state.variables, _this.state.context, _this);\n    }).then(function () {\n      return _this.options.onSuccess == null ? void 0 : _this.options.onSuccess(data, _this.state.variables, _this.state.context);\n    }).then(function () {\n      return _this.options.onSettled == null ? void 0 : _this.options.onSettled(data, null, _this.state.variables, _this.state.context);\n    }).then(function () {\n      _this.dispatch({\n        type: 'success',\n        data: data\n      });\n\n      return data;\n    }).catch(function (error) {\n      // Notify cache callback\n      _this.mutationCache.config.onError == null ? void 0 : _this.mutationCache.config.onError(error, _this.state.variables, _this.state.context, _this); // Log error\n\n      getLogger().error(error);\n      return Promise.resolve().then(function () {\n        return _this.options.onError == null ? void 0 : _this.options.onError(error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        return _this.options.onSettled == null ? void 0 : _this.options.onSettled(undefined, error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        _this.dispatch({\n          type: 'error',\n          error: error\n        });\n\n        throw error;\n      });\n    });\n  };\n\n  _proto.executeMutation = function executeMutation() {\n    var _this2 = this,\n        _this$options$retry;\n\n    this.retryer = new Retryer({\n      fn: function fn() {\n        if (!_this2.options.mutationFn) {\n          return Promise.reject('No mutationFn found');\n        }\n\n        return _this2.options.mutationFn(_this2.state.variables);\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\n      retryDelay: this.options.retryDelay\n    });\n    return this.retryer.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onMutationUpdate(action);\n      });\n\n      _this3.mutationCache.notify(_this3);\n    });\n  };\n\n  return Mutation;\n}();\nexport function getDefaultState() {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined\n  };\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'failed':\n      return _extends({}, state, {\n        failureCount: state.failureCount + 1\n      });\n\n    case 'pause':\n      return _extends({}, state, {\n        isPaused: true\n      });\n\n    case 'continue':\n      return _extends({}, state, {\n        isPaused: false\n      });\n\n    case 'loading':\n      return _extends({}, state, {\n        context: action.context,\n        data: undefined,\n        error: null,\n        isPaused: false,\n        status: 'loading',\n        variables: action.variables\n      });\n\n    case 'success':\n      return _extends({}, state, {\n        data: action.data,\n        error: null,\n        status: 'success',\n        isPaused: false\n      });\n\n    case 'error':\n      return _extends({}, state, {\n        data: undefined,\n        error: action.error,\n        failureCount: state.failureCount + 1,\n        isPaused: false,\n        status: 'error'\n      });\n\n    case 'setState':\n      return _extends({}, state, action.state);\n\n    default:\n      return state;\n  }\n}","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { notifyManager } from './notifyManager';\nimport { Mutation } from './mutation';\nimport { matchMutation, noop } from './utils';\nimport { Subscribable } from './subscribable'; // TYPES\n\n// CLASS\nexport var MutationCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(MutationCache, _Subscribable);\n\n  function MutationCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.mutations = [];\n    _this.mutationId = 0;\n    return _this;\n  }\n\n  var _proto = MutationCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.mutationId,\n      options: client.defaultMutationOptions(options),\n      state: state,\n      defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : undefined\n    });\n    this.add(mutation);\n    return mutation;\n  };\n\n  _proto.add = function add(mutation) {\n    this.mutations.push(mutation);\n    this.notify(mutation);\n  };\n\n  _proto.remove = function remove(mutation) {\n    this.mutations = this.mutations.filter(function (x) {\n      return x !== mutation;\n    });\n    mutation.cancel();\n    this.notify(mutation);\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.mutations.forEach(function (mutation) {\n        _this2.remove(mutation);\n      });\n    });\n  };\n\n  _proto.getAll = function getAll() {\n    return this.mutations;\n  };\n\n  _proto.find = function find(filters) {\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.mutations.find(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.findAll = function findAll(filters) {\n    return this.mutations.filter(function (mutation) {\n      return matchMutation(filters, mutation);\n    });\n  };\n\n  _proto.notify = function notify(mutation) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(mutation);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    this.resumePausedMutations();\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.resumePausedMutations();\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    var pausedMutations = this.mutations.filter(function (x) {\n      return x.state.isPaused;\n    });\n    return notifyManager.batch(function () {\n      return pausedMutations.reduce(function (promise, mutation) {\n        return promise.then(function () {\n          return mutation.continue().catch(noop);\n        });\n      }, Promise.resolve());\n    });\n  };\n\n  return MutationCache;\n}(Subscribable);","import { scheduleMicrotask } from './utils'; // TYPES\n\n// CLASS\nvar NotifyManager = /*#__PURE__*/function () {\n  function NotifyManager() {\n    this.queue = [];\n    this.transactions = 0;\n\n    this.notifyFn = function (callback) {\n      callback();\n    };\n\n    this.batchNotifyFn = function (callback) {\n      callback();\n    };\n  }\n\n  var _proto = NotifyManager.prototype;\n\n  _proto.batch = function batch(callback) {\n    this.transactions++;\n    var result = callback();\n    this.transactions--;\n\n    if (!this.transactions) {\n      this.flush();\n    }\n\n    return result;\n  };\n\n  _proto.schedule = function schedule(callback) {\n    var _this = this;\n\n    if (this.transactions) {\n      this.queue.push(callback);\n    } else {\n      scheduleMicrotask(function () {\n        _this.notifyFn(callback);\n      });\n    }\n  }\n  /**\n   * All calls to the wrapped function will be batched.\n   */\n  ;\n\n  _proto.batchCalls = function batchCalls(callback) {\n    var _this2 = this;\n\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this2.schedule(function () {\n        callback.apply(void 0, args);\n      });\n    };\n  };\n\n  _proto.flush = function flush() {\n    var _this3 = this;\n\n    var queue = this.queue;\n    this.queue = [];\n\n    if (queue.length) {\n      scheduleMicrotask(function () {\n        _this3.batchNotifyFn(function () {\n          queue.forEach(function (callback) {\n            _this3.notifyFn(callback);\n          });\n        });\n      });\n    }\n  }\n  /**\n   * Use this method to set a custom notify function.\n   * This can be used to for example wrap notifications with `React.act` while running tests.\n   */\n  ;\n\n  _proto.setNotifyFunction = function setNotifyFunction(fn) {\n    this.notifyFn = fn;\n  }\n  /**\n   * Use this method to set a custom function to batch notifications together into a single tick.\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\n   */\n  ;\n\n  _proto.setBatchNotifyFunction = function setBatchNotifyFunction(fn) {\n    this.batchNotifyFn = fn;\n  };\n\n  return NotifyManager;\n}(); // SINGLETON\n\n\nexport var notifyManager = new NotifyManager();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Subscribable } from './subscribable';\nimport { isServer } from './utils';\n\nvar OnlineManager = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(OnlineManager, _Subscribable);\n\n  function OnlineManager() {\n    return _Subscribable.apply(this, arguments) || this;\n  }\n\n  var _proto = OnlineManager.prototype;\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (!this.removeEventListener) {\n      this.setDefaultEventListener();\n    }\n  };\n\n  _proto.setEventListener = function setEventListener(setup) {\n    var _this = this;\n\n    if (this.removeEventListener) {\n      this.removeEventListener();\n    }\n\n    this.removeEventListener = setup(function (online) {\n      if (typeof online === 'boolean') {\n        _this.setOnline(online);\n      } else {\n        _this.onOnline();\n      }\n    });\n  };\n\n  _proto.setOnline = function setOnline(online) {\n    this.online = online;\n\n    if (online) {\n      this.onOnline();\n    }\n  };\n\n  _proto.onOnline = function onOnline() {\n    this.listeners.forEach(function (listener) {\n      listener();\n    });\n  };\n\n  _proto.isOnline = function isOnline() {\n    if (typeof this.online === 'boolean') {\n      return this.online;\n    }\n\n    if (typeof navigator === 'undefined' || typeof navigator.onLine === 'undefined') {\n      return true;\n    }\n\n    return navigator.onLine;\n  };\n\n  _proto.setDefaultEventListener = function setDefaultEventListener() {\n    var _window;\n\n    if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\n      this.setEventListener(function (onOnline) {\n        var listener = function listener() {\n          return onOnline();\n        }; // Listen to online\n\n\n        window.addEventListener('online', listener, false);\n        window.addEventListener('offline', listener, false);\n        return function () {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('online', listener);\n          window.removeEventListener('offline', listener);\n        };\n      });\n    }\n  };\n\n  return OnlineManager;\n}(Subscribable);\n\nexport var onlineManager = new OnlineManager();","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getAbortController, functionalUpdate, isValidTimeout, noop, replaceEqualDeep, timeUntilStale, ensureQueryKeyArray } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { getLogger } from './logger';\nimport { Retryer, isCancelledError } from './retryer'; // TYPES\n\n// CLASS\nexport var Query = /*#__PURE__*/function () {\n  function Query(config) {\n    this.abortSignalConsumed = false;\n    this.defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.cache = config.cache;\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.initialState = config.state || this.getDefaultState(this.options);\n    this.state = this.initialState;\n    this.meta = config.meta;\n    this.scheduleGc();\n  }\n\n  var _proto = Query.prototype;\n\n  _proto.setOptions = function setOptions(options) {\n    var _this$options$cacheTi;\n\n    this.options = _extends({}, this.defaultOptions, options);\n    this.meta = options == null ? void 0 : options.meta; // Default to 5 minutes if not cache time is set\n\n    this.cacheTime = Math.max(this.cacheTime || 0, (_this$options$cacheTi = this.options.cacheTime) != null ? _this$options$cacheTi : 5 * 60 * 1000);\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.scheduleGc = function scheduleGc() {\n    var _this = this;\n\n    this.clearGcTimeout();\n\n    if (isValidTimeout(this.cacheTime)) {\n      this.gcTimeout = setTimeout(function () {\n        _this.optionalRemove();\n      }, this.cacheTime);\n    }\n  };\n\n  _proto.clearGcTimeout = function clearGcTimeout() {\n    clearTimeout(this.gcTimeout);\n    this.gcTimeout = undefined;\n  };\n\n  _proto.optionalRemove = function optionalRemove() {\n    if (!this.observers.length && !this.state.isFetching) {\n      this.cache.remove(this);\n    }\n  };\n\n  _proto.setData = function setData(updater, options) {\n    var _this$options$isDataE, _this$options;\n\n    var prevData = this.state.data; // Get the new data\n\n    var data = functionalUpdate(updater, prevData); // Use prev data if an isDataEqual function is defined and returns `true`\n\n    if ((_this$options$isDataE = (_this$options = this.options).isDataEqual) == null ? void 0 : _this$options$isDataE.call(_this$options, prevData, data)) {\n      data = prevData;\n    } else if (this.options.structuralSharing !== false) {\n      // Structurally share data between prev and new data if needed\n      data = replaceEqualDeep(prevData, data);\n    } // Set data and mark it as cached\n\n\n    this.dispatch({\n      data: data,\n      type: 'success',\n      dataUpdatedAt: options == null ? void 0 : options.updatedAt\n    });\n    return data;\n  };\n\n  _proto.setState = function setState(state, setStateOptions) {\n    this.dispatch({\n      type: 'setState',\n      state: state,\n      setStateOptions: setStateOptions\n    });\n  };\n\n  _proto.cancel = function cancel(options) {\n    var _this$retryer;\n\n    var promise = this.promise;\n    (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  };\n\n  _proto.destroy = function destroy() {\n    this.clearGcTimeout();\n    this.cancel({\n      silent: true\n    });\n  };\n\n  _proto.reset = function reset() {\n    this.destroy();\n    this.setState(this.initialState);\n  };\n\n  _proto.isActive = function isActive() {\n    return this.observers.some(function (observer) {\n      return observer.options.enabled !== false;\n    });\n  };\n\n  _proto.isFetching = function isFetching() {\n    return this.state.isFetching;\n  };\n\n  _proto.isStale = function isStale() {\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || this.observers.some(function (observer) {\n      return observer.getCurrentResult().isStale;\n    });\n  };\n\n  _proto.isStaleByTime = function isStaleByTime(staleTime) {\n    if (staleTime === void 0) {\n      staleTime = 0;\n    }\n\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this$retryer2;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnWindowFocus();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer2 = this.retryer) == null ? void 0 : _this$retryer2.continue();\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this$retryer3;\n\n    var observer = this.observers.find(function (x) {\n      return x.shouldFetchOnReconnect();\n    });\n\n    if (observer) {\n      observer.refetch();\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer3 = this.retryer) == null ? void 0 : _this$retryer3.continue();\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer); // Stop the query from being garbage collected\n\n      this.clearGcTimeout();\n      this.cache.notify({\n        type: 'observerAdded',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    if (this.observers.indexOf(observer) !== -1) {\n      this.observers = this.observers.filter(function (x) {\n        return x !== observer;\n      });\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.retryer) {\n          if (this.retryer.isTransportCancelable || this.abortSignalConsumed) {\n            this.retryer.cancel({\n              revert: true\n            });\n          } else {\n            this.retryer.cancelRetry();\n          }\n        }\n\n        if (this.cacheTime) {\n          this.scheduleGc();\n        } else {\n          this.cache.remove(this);\n        }\n      }\n\n      this.cache.notify({\n        type: 'observerRemoved',\n        query: this,\n        observer: observer\n      });\n    }\n  };\n\n  _proto.getObserversCount = function getObserversCount() {\n    return this.observers.length;\n  };\n\n  _proto.invalidate = function invalidate() {\n    if (!this.state.isInvalidated) {\n      this.dispatch({\n        type: 'invalidate'\n      });\n    }\n  };\n\n  _proto.fetch = function fetch(options, fetchOptions) {\n    var _this2 = this,\n        _this$options$behavio,\n        _context$fetchOptions,\n        _abortController$abor;\n\n    if (this.state.isFetching) {\n      if (this.state.dataUpdatedAt && (fetchOptions == null ? void 0 : fetchOptions.cancelRefetch)) {\n        // Silently cancel current fetch if the user wants to cancel refetches\n        this.cancel({\n          silent: true\n        });\n      } else if (this.promise) {\n        // Return current promise if we are already fetching\n        return this.promise;\n      }\n    } // Update config if passed, otherwise the config from the last execution is used\n\n\n    if (options) {\n      this.setOptions(options);\n    } // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n\n\n    if (!this.options.queryFn) {\n      var observer = this.observers.find(function (x) {\n        return x.options.queryFn;\n      });\n\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n\n    var queryKey = ensureQueryKeyArray(this.queryKey);\n    var abortController = getAbortController(); // Create query function context\n\n    var queryFnContext = {\n      queryKey: queryKey,\n      pageParam: undefined,\n      meta: this.meta\n    };\n    Object.defineProperty(queryFnContext, 'signal', {\n      enumerable: true,\n      get: function get() {\n        if (abortController) {\n          _this2.abortSignalConsumed = true;\n          return abortController.signal;\n        }\n\n        return undefined;\n      }\n    }); // Create fetch function\n\n    var fetchFn = function fetchFn() {\n      if (!_this2.options.queryFn) {\n        return Promise.reject('Missing queryFn');\n      }\n\n      _this2.abortSignalConsumed = false;\n      return _this2.options.queryFn(queryFnContext);\n    }; // Trigger behavior hook\n\n\n    var context = {\n      fetchOptions: fetchOptions,\n      options: this.options,\n      queryKey: queryKey,\n      state: this.state,\n      fetchFn: fetchFn,\n      meta: this.meta\n    };\n\n    if ((_this$options$behavio = this.options.behavior) == null ? void 0 : _this$options$behavio.onFetch) {\n      var _this$options$behavio2;\n\n      (_this$options$behavio2 = this.options.behavior) == null ? void 0 : _this$options$behavio2.onFetch(context);\n    } // Store state in case the current fetch needs to be reverted\n\n\n    this.revertState = this.state; // Set to fetching state if not already in it\n\n    if (!this.state.isFetching || this.state.fetchMeta !== ((_context$fetchOptions = context.fetchOptions) == null ? void 0 : _context$fetchOptions.meta)) {\n      var _context$fetchOptions2;\n\n      this.dispatch({\n        type: 'fetch',\n        meta: (_context$fetchOptions2 = context.fetchOptions) == null ? void 0 : _context$fetchOptions2.meta\n      });\n    } // Try to fetch the data\n\n\n    this.retryer = new Retryer({\n      fn: context.fetchFn,\n      abort: abortController == null ? void 0 : (_abortController$abor = abortController.abort) == null ? void 0 : _abortController$abor.bind(abortController),\n      onSuccess: function onSuccess(data) {\n        _this2.setData(data); // Notify cache callback\n\n\n        _this2.cache.config.onSuccess == null ? void 0 : _this2.cache.config.onSuccess(data, _this2); // Remove query after fetching if cache time is 0\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onError: function onError(error) {\n        // Optimistically update state if needed\n        if (!(isCancelledError(error) && error.silent)) {\n          _this2.dispatch({\n            type: 'error',\n            error: error\n          });\n        }\n\n        if (!isCancelledError(error)) {\n          // Notify cache callback\n          _this2.cache.config.onError == null ? void 0 : _this2.cache.config.onError(error, _this2); // Log error\n\n          getLogger().error(error);\n        } // Remove query after fetching if cache time is 0\n\n\n        if (_this2.cacheTime === 0) {\n          _this2.optionalRemove();\n        }\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay\n    });\n    this.promise = this.retryer.promise;\n    return this.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = this.reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onQueryUpdate(action);\n      });\n\n      _this3.cache.notify({\n        query: _this3,\n        type: 'queryUpdated',\n        action: action\n      });\n    });\n  };\n\n  _proto.getDefaultState = function getDefaultState(options) {\n    var data = typeof options.initialData === 'function' ? options.initialData() : options.initialData;\n    var hasInitialData = typeof options.initialData !== 'undefined';\n    var initialDataUpdatedAt = hasInitialData ? typeof options.initialDataUpdatedAt === 'function' ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n    var hasData = typeof data !== 'undefined';\n    return {\n      data: data,\n      dataUpdateCount: 0,\n      dataUpdatedAt: hasData ? initialDataUpdatedAt != null ? initialDataUpdatedAt : Date.now() : 0,\n      error: null,\n      errorUpdateCount: 0,\n      errorUpdatedAt: 0,\n      fetchFailureCount: 0,\n      fetchMeta: null,\n      isFetching: false,\n      isInvalidated: false,\n      isPaused: false,\n      status: hasData ? 'success' : 'idle'\n    };\n  };\n\n  _proto.reducer = function reducer(state, action) {\n    var _action$meta, _action$dataUpdatedAt;\n\n    switch (action.type) {\n      case 'failed':\n        return _extends({}, state, {\n          fetchFailureCount: state.fetchFailureCount + 1\n        });\n\n      case 'pause':\n        return _extends({}, state, {\n          isPaused: true\n        });\n\n      case 'continue':\n        return _extends({}, state, {\n          isPaused: false\n        });\n\n      case 'fetch':\n        return _extends({}, state, {\n          fetchFailureCount: 0,\n          fetchMeta: (_action$meta = action.meta) != null ? _action$meta : null,\n          isFetching: true,\n          isPaused: false,\n          status: !state.dataUpdatedAt ? 'loading' : state.status\n        });\n\n      case 'success':\n        return _extends({}, state, {\n          data: action.data,\n          dataUpdateCount: state.dataUpdateCount + 1,\n          dataUpdatedAt: (_action$dataUpdatedAt = action.dataUpdatedAt) != null ? _action$dataUpdatedAt : Date.now(),\n          error: null,\n          fetchFailureCount: 0,\n          isFetching: false,\n          isInvalidated: false,\n          isPaused: false,\n          status: 'success'\n        });\n\n      case 'error':\n        var error = action.error;\n\n        if (isCancelledError(error) && error.revert && this.revertState) {\n          return _extends({}, this.revertState);\n        }\n\n        return _extends({}, state, {\n          error: error,\n          errorUpdateCount: state.errorUpdateCount + 1,\n          errorUpdatedAt: Date.now(),\n          fetchFailureCount: state.fetchFailureCount + 1,\n          isFetching: false,\n          isPaused: false,\n          status: 'error'\n        });\n\n      case 'invalidate':\n        return _extends({}, state, {\n          isInvalidated: true\n        });\n\n      case 'setState':\n        return _extends({}, state, action.state);\n\n      default:\n        return state;\n    }\n  };\n\n  return Query;\n}();","import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { hashQueryKeyByOptions, matchQuery, parseFilterArgs } from './utils';\nimport { Query } from './query';\nimport { notifyManager } from './notifyManager';\nimport { Subscribable } from './subscribable';\n// CLASS\nexport var QueryCache = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(QueryCache, _Subscribable);\n\n  function QueryCache(config) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.config = config || {};\n    _this.queries = [];\n    _this.queriesMap = {};\n    return _this;\n  }\n\n  var _proto = QueryCache.prototype;\n\n  _proto.build = function build(client, options, state) {\n    var _options$queryHash;\n\n    var queryKey = options.queryKey;\n    var queryHash = (_options$queryHash = options.queryHash) != null ? _options$queryHash : hashQueryKeyByOptions(queryKey, options);\n    var query = this.get(queryHash);\n\n    if (!query) {\n      query = new Query({\n        cache: this,\n        queryKey: queryKey,\n        queryHash: queryHash,\n        options: client.defaultQueryOptions(options),\n        state: state,\n        defaultOptions: client.getQueryDefaults(queryKey),\n        meta: options.meta\n      });\n      this.add(query);\n    }\n\n    return query;\n  };\n\n  _proto.add = function add(query) {\n    if (!this.queriesMap[query.queryHash]) {\n      this.queriesMap[query.queryHash] = query;\n      this.queries.push(query);\n      this.notify({\n        type: 'queryAdded',\n        query: query\n      });\n    }\n  };\n\n  _proto.remove = function remove(query) {\n    var queryInMap = this.queriesMap[query.queryHash];\n\n    if (queryInMap) {\n      query.destroy();\n      this.queries = this.queries.filter(function (x) {\n        return x !== query;\n      });\n\n      if (queryInMap === query) {\n        delete this.queriesMap[query.queryHash];\n      }\n\n      this.notify({\n        type: 'queryRemoved',\n        query: query\n      });\n    }\n  };\n\n  _proto.clear = function clear() {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      _this2.queries.forEach(function (query) {\n        _this2.remove(query);\n      });\n    });\n  };\n\n  _proto.get = function get(queryHash) {\n    return this.queriesMap[queryHash];\n  };\n\n  _proto.getAll = function getAll() {\n    return this.queries;\n  };\n\n  _proto.find = function find(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.queries.find(function (query) {\n      return matchQuery(filters, query);\n    });\n  };\n\n  _proto.findAll = function findAll(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    return filters ? this.queries.filter(function (query) {\n      return matchQuery(filters, query);\n    }) : this.queries;\n  };\n\n  _proto.notify = function notify(event) {\n    var _this3 = this;\n\n    notifyManager.batch(function () {\n      _this3.listeners.forEach(function (listener) {\n        listener(event);\n      });\n    });\n  };\n\n  _proto.onFocus = function onFocus() {\n    var _this4 = this;\n\n    notifyManager.batch(function () {\n      _this4.queries.forEach(function (query) {\n        query.onFocus();\n      });\n    });\n  };\n\n  _proto.onOnline = function onOnline() {\n    var _this5 = this;\n\n    notifyManager.batch(function () {\n      _this5.queries.forEach(function (query) {\n        query.onOnline();\n      });\n    });\n  };\n\n  return QueryCache;\n}(Subscribable);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { hashQueryKey, noop, parseFilterArgs, parseQueryArgs, partialMatchKey, hashQueryKeyByOptions } from './utils';\nimport { QueryCache } from './queryCache';\nimport { MutationCache } from './mutationCache';\nimport { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { notifyManager } from './notifyManager';\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior';\n// CLASS\nexport var QueryClient = /*#__PURE__*/function () {\n  function QueryClient(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.queryCache = config.queryCache || new QueryCache();\n    this.mutationCache = config.mutationCache || new MutationCache();\n    this.defaultOptions = config.defaultOptions || {};\n    this.queryDefaults = [];\n    this.mutationDefaults = [];\n  }\n\n  var _proto = QueryClient.prototype;\n\n  _proto.mount = function mount() {\n    var _this = this;\n\n    this.unsubscribeFocus = focusManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onFocus();\n\n        _this.queryCache.onFocus();\n      }\n    });\n    this.unsubscribeOnline = onlineManager.subscribe(function () {\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\n        _this.mutationCache.onOnline();\n\n        _this.queryCache.onOnline();\n      }\n    });\n  };\n\n  _proto.unmount = function unmount() {\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\n\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\n  };\n\n  _proto.isFetching = function isFetching(arg1, arg2) {\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs[0];\n\n    filters.fetching = true;\n    return this.queryCache.findAll(filters).length;\n  };\n\n  _proto.isMutating = function isMutating(filters) {\n    return this.mutationCache.findAll(_extends({}, filters, {\n      fetching: true\n    })).length;\n  };\n\n  _proto.getQueryData = function getQueryData(queryKey, filters) {\n    var _this$queryCache$find;\n\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\n  };\n\n  _proto.getQueriesData = function getQueriesData(queryKeyOrFilters) {\n    return this.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref) {\n      var queryKey = _ref.queryKey,\n          state = _ref.state;\n      var data = state.data;\n      return [queryKey, data];\n    });\n  };\n\n  _proto.setQueryData = function setQueryData(queryKey, updater, options) {\n    var parsedOptions = parseQueryArgs(queryKey);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions);\n    return this.queryCache.build(this, defaultedOptions).setData(updater, options);\n  };\n\n  _proto.setQueriesData = function setQueriesData(queryKeyOrFilters, updater, options) {\n    var _this2 = this;\n\n    return notifyManager.batch(function () {\n      return _this2.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref2) {\n        var queryKey = _ref2.queryKey;\n        return [queryKey, _this2.setQueryData(queryKey, updater, options)];\n      });\n    });\n  };\n\n  _proto.getQueryState = function getQueryState(queryKey, filters) {\n    var _this$queryCache$find2;\n\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\n  };\n\n  _proto.removeQueries = function removeQueries(arg1, arg2) {\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\n        filters = _parseFilterArgs2[0];\n\n    var queryCache = this.queryCache;\n    notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        queryCache.remove(query);\n      });\n    });\n  };\n\n  _proto.resetQueries = function resetQueries(arg1, arg2, arg3) {\n    var _this3 = this;\n\n    var _parseFilterArgs3 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs3[0],\n        options = _parseFilterArgs3[1];\n\n    var queryCache = this.queryCache;\n\n    var refetchFilters = _extends({}, filters, {\n      active: true\n    });\n\n    return notifyManager.batch(function () {\n      queryCache.findAll(filters).forEach(function (query) {\n        query.reset();\n      });\n      return _this3.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.cancelQueries = function cancelQueries(arg1, arg2, arg3) {\n    var _this4 = this;\n\n    var _parseFilterArgs4 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs4[0],\n        _parseFilterArgs4$ = _parseFilterArgs4[1],\n        cancelOptions = _parseFilterArgs4$ === void 0 ? {} : _parseFilterArgs4$;\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true;\n    }\n\n    var promises = notifyManager.batch(function () {\n      return _this4.queryCache.findAll(filters).map(function (query) {\n        return query.cancel(cancelOptions);\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.invalidateQueries = function invalidateQueries(arg1, arg2, arg3) {\n    var _ref3,\n        _filters$refetchActiv,\n        _filters$refetchInact,\n        _this5 = this;\n\n    var _parseFilterArgs5 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs5[0],\n        options = _parseFilterArgs5[1];\n\n    var refetchFilters = _extends({}, filters, {\n      // if filters.refetchActive is not provided and filters.active is explicitly false,\n      // e.g. invalidateQueries({ active: false }), we don't want to refetch active queries\n      active: (_ref3 = (_filters$refetchActiv = filters.refetchActive) != null ? _filters$refetchActiv : filters.active) != null ? _ref3 : true,\n      inactive: (_filters$refetchInact = filters.refetchInactive) != null ? _filters$refetchInact : false\n    });\n\n    return notifyManager.batch(function () {\n      _this5.queryCache.findAll(filters).forEach(function (query) {\n        query.invalidate();\n      });\n\n      return _this5.refetchQueries(refetchFilters, options);\n    });\n  };\n\n  _proto.refetchQueries = function refetchQueries(arg1, arg2, arg3) {\n    var _this6 = this;\n\n    var _parseFilterArgs6 = parseFilterArgs(arg1, arg2, arg3),\n        filters = _parseFilterArgs6[0],\n        options = _parseFilterArgs6[1];\n\n    var promises = notifyManager.batch(function () {\n      return _this6.queryCache.findAll(filters).map(function (query) {\n        return query.fetch(undefined, _extends({}, options, {\n          meta: {\n            refetchPage: filters == null ? void 0 : filters.refetchPage\n          }\n        }));\n      });\n    });\n    var promise = Promise.all(promises).then(noop);\n\n    if (!(options == null ? void 0 : options.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.fetchQuery = function fetchQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\n\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false;\n    }\n\n    var query = this.queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  };\n\n  _proto.prefetchQuery = function prefetchQuery(arg1, arg2, arg3) {\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.fetchInfiniteQuery = function fetchInfiniteQuery(arg1, arg2, arg3) {\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    parsedOptions.behavior = infiniteQueryBehavior();\n    return this.fetchQuery(parsedOptions);\n  };\n\n  _proto.prefetchInfiniteQuery = function prefetchInfiniteQuery(arg1, arg2, arg3) {\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  };\n\n  _proto.cancelMutations = function cancelMutations() {\n    var _this7 = this;\n\n    var promises = notifyManager.batch(function () {\n      return _this7.mutationCache.getAll().map(function (mutation) {\n        return mutation.cancel();\n      });\n    });\n    return Promise.all(promises).then(noop).catch(noop);\n  };\n\n  _proto.resumePausedMutations = function resumePausedMutations() {\n    return this.getMutationCache().resumePausedMutations();\n  };\n\n  _proto.executeMutation = function executeMutation(options) {\n    return this.mutationCache.build(this, options).execute();\n  };\n\n  _proto.getQueryCache = function getQueryCache() {\n    return this.queryCache;\n  };\n\n  _proto.getMutationCache = function getMutationCache() {\n    return this.mutationCache;\n  };\n\n  _proto.getDefaultOptions = function getDefaultOptions() {\n    return this.defaultOptions;\n  };\n\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\n    this.defaultOptions = options;\n  };\n\n  _proto.setQueryDefaults = function setQueryDefaults(queryKey, options) {\n    var result = this.queryDefaults.find(function (x) {\n      return hashQueryKey(queryKey) === hashQueryKey(x.queryKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.queryDefaults.push({\n        queryKey: queryKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getQueryDefaults = function getQueryDefaults(queryKey) {\n    var _this$queryDefaults$f;\n\n    return queryKey ? (_this$queryDefaults$f = this.queryDefaults.find(function (x) {\n      return partialMatchKey(queryKey, x.queryKey);\n    })) == null ? void 0 : _this$queryDefaults$f.defaultOptions : undefined;\n  };\n\n  _proto.setMutationDefaults = function setMutationDefaults(mutationKey, options) {\n    var result = this.mutationDefaults.find(function (x) {\n      return hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey);\n    });\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.mutationDefaults.push({\n        mutationKey: mutationKey,\n        defaultOptions: options\n      });\n    }\n  };\n\n  _proto.getMutationDefaults = function getMutationDefaults(mutationKey) {\n    var _this$mutationDefault;\n\n    return mutationKey ? (_this$mutationDefault = this.mutationDefaults.find(function (x) {\n      return partialMatchKey(mutationKey, x.mutationKey);\n    })) == null ? void 0 : _this$mutationDefault.defaultOptions : undefined;\n  };\n\n  _proto.defaultQueryOptions = function defaultQueryOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    var defaultedOptions = _extends({}, this.defaultOptions.queries, this.getQueryDefaults(options == null ? void 0 : options.queryKey), options, {\n      _defaulted: true\n    });\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    }\n\n    return defaultedOptions;\n  };\n\n  _proto.defaultQueryObserverOptions = function defaultQueryObserverOptions(options) {\n    return this.defaultQueryOptions(options);\n  };\n\n  _proto.defaultMutationOptions = function defaultMutationOptions(options) {\n    if (options == null ? void 0 : options._defaulted) {\n      return options;\n    }\n\n    return _extends({}, this.defaultOptions.mutations, this.getMutationDefaults(options == null ? void 0 : options.mutationKey), options, {\n      _defaulted: true\n    });\n  };\n\n  _proto.clear = function clear() {\n    this.queryCache.clear();\n    this.mutationCache.clear();\n  };\n\n  return QueryClient;\n}();","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { isServer, isValidTimeout, noop, replaceEqualDeep, shallowEqualObjects, timeUntilStale } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { focusManager } from './focusManager';\nimport { Subscribable } from './subscribable';\nimport { getLogger } from './logger';\nimport { isCancelledError } from './retryer';\nexport var QueryObserver = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(QueryObserver, _Subscribable);\n\n  function QueryObserver(client, options) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.client = client;\n    _this.options = options;\n    _this.trackedProps = [];\n    _this.previousSelectError = null;\n\n    _this.bindMethods();\n\n    _this.setOptions(options);\n\n    return _this;\n  }\n\n  var _proto = QueryObserver.prototype;\n\n  _proto.bindMethods = function bindMethods() {\n    this.remove = this.remove.bind(this);\n    this.refetch = this.refetch.bind(this);\n  };\n\n  _proto.onSubscribe = function onSubscribe() {\n    if (this.listeners.length === 1) {\n      this.currentQuery.addObserver(this);\n\n      if (shouldFetchOnMount(this.currentQuery, this.options)) {\n        this.executeFetch();\n      }\n\n      this.updateTimers();\n    }\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.listeners.length) {\n      this.destroy();\n    }\n  };\n\n  _proto.shouldFetchOnReconnect = function shouldFetchOnReconnect() {\n    return _shouldFetchOnReconnect(this.currentQuery, this.options);\n  };\n\n  _proto.shouldFetchOnWindowFocus = function shouldFetchOnWindowFocus() {\n    return _shouldFetchOnWindowFocus(this.currentQuery, this.options);\n  };\n\n  _proto.destroy = function destroy() {\n    this.listeners = [];\n    this.clearTimers();\n    this.currentQuery.removeObserver(this);\n  };\n\n  _proto.setOptions = function setOptions(options, notifyOptions) {\n    var prevOptions = this.options;\n    var prevQuery = this.currentQuery;\n    this.options = this.client.defaultQueryObserverOptions(options);\n\n    if (typeof this.options.enabled !== 'undefined' && typeof this.options.enabled !== 'boolean') {\n      throw new Error('Expected enabled to be a boolean');\n    } // Keep previous query key if the user does not supply one\n\n\n    if (!this.options.queryKey) {\n      this.options.queryKey = prevOptions.queryKey;\n    }\n\n    this.updateQuery();\n    var mounted = this.hasListeners(); // Fetch if there are subscribers\n\n    if (mounted && shouldFetchOptionally(this.currentQuery, prevQuery, this.options, prevOptions)) {\n      this.executeFetch();\n    } // Update result\n\n\n    this.updateResult(notifyOptions); // Update stale interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || this.options.staleTime !== prevOptions.staleTime)) {\n      this.updateStaleTimeout();\n    }\n\n    var nextRefetchInterval = this.computeRefetchInterval(); // Update refetch interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || nextRefetchInterval !== this.currentRefetchInterval)) {\n      this.updateRefetchInterval(nextRefetchInterval);\n    }\n  };\n\n  _proto.getOptimisticResult = function getOptimisticResult(options) {\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\n    var query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    return this.createResult(query, defaultedOptions);\n  };\n\n  _proto.getCurrentResult = function getCurrentResult() {\n    return this.currentResult;\n  };\n\n  _proto.trackResult = function trackResult(result) {\n    var _this2 = this;\n\n    var trackedResult = {};\n    Object.keys(result).forEach(function (key) {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: function get() {\n          var typedKey = key;\n\n          if (!_this2.trackedProps.includes(typedKey)) {\n            _this2.trackedProps.push(typedKey);\n          }\n\n          return result[typedKey];\n        }\n      });\n    });\n    return trackedResult;\n  };\n\n  _proto.getNextResult = function getNextResult(options) {\n    var _this3 = this;\n\n    return new Promise(function (resolve, reject) {\n      var unsubscribe = _this3.subscribe(function (result) {\n        if (!result.isFetching) {\n          unsubscribe();\n\n          if (result.isError && (options == null ? void 0 : options.throwOnError)) {\n            reject(result.error);\n          } else {\n            resolve(result);\n          }\n        }\n      });\n    });\n  };\n\n  _proto.getCurrentQuery = function getCurrentQuery() {\n    return this.currentQuery;\n  };\n\n  _proto.remove = function remove() {\n    this.client.getQueryCache().remove(this.currentQuery);\n  };\n\n  _proto.refetch = function refetch(options) {\n    return this.fetch(_extends({}, options, {\n      meta: {\n        refetchPage: options == null ? void 0 : options.refetchPage\n      }\n    }));\n  };\n\n  _proto.fetchOptimistic = function fetchOptimistic(options) {\n    var _this4 = this;\n\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\n    var query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    return query.fetch().then(function () {\n      return _this4.createResult(query, defaultedOptions);\n    });\n  };\n\n  _proto.fetch = function fetch(fetchOptions) {\n    var _this5 = this;\n\n    return this.executeFetch(fetchOptions).then(function () {\n      _this5.updateResult();\n\n      return _this5.currentResult;\n    });\n  };\n\n  _proto.executeFetch = function executeFetch(fetchOptions) {\n    // Make sure we reference the latest query as the current one might have been removed\n    this.updateQuery(); // Fetch\n\n    var promise = this.currentQuery.fetch(this.options, fetchOptions);\n\n    if (!(fetchOptions == null ? void 0 : fetchOptions.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  };\n\n  _proto.updateStaleTimeout = function updateStaleTimeout() {\n    var _this6 = this;\n\n    this.clearStaleTimeout();\n\n    if (isServer || this.currentResult.isStale || !isValidTimeout(this.options.staleTime)) {\n      return;\n    }\n\n    var time = timeUntilStale(this.currentResult.dataUpdatedAt, this.options.staleTime); // The timeout is sometimes triggered 1 ms before the stale time expiration.\n    // To mitigate this issue we always add 1 ms to the timeout.\n\n    var timeout = time + 1;\n    this.staleTimeoutId = setTimeout(function () {\n      if (!_this6.currentResult.isStale) {\n        _this6.updateResult();\n      }\n    }, timeout);\n  };\n\n  _proto.computeRefetchInterval = function computeRefetchInterval() {\n    var _this$options$refetch;\n\n    return typeof this.options.refetchInterval === 'function' ? this.options.refetchInterval(this.currentResult.data, this.currentQuery) : (_this$options$refetch = this.options.refetchInterval) != null ? _this$options$refetch : false;\n  };\n\n  _proto.updateRefetchInterval = function updateRefetchInterval(nextInterval) {\n    var _this7 = this;\n\n    this.clearRefetchInterval();\n    this.currentRefetchInterval = nextInterval;\n\n    if (isServer || this.options.enabled === false || !isValidTimeout(this.currentRefetchInterval) || this.currentRefetchInterval === 0) {\n      return;\n    }\n\n    this.refetchIntervalId = setInterval(function () {\n      if (_this7.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        _this7.executeFetch();\n      }\n    }, this.currentRefetchInterval);\n  };\n\n  _proto.updateTimers = function updateTimers() {\n    this.updateStaleTimeout();\n    this.updateRefetchInterval(this.computeRefetchInterval());\n  };\n\n  _proto.clearTimers = function clearTimers() {\n    this.clearStaleTimeout();\n    this.clearRefetchInterval();\n  };\n\n  _proto.clearStaleTimeout = function clearStaleTimeout() {\n    clearTimeout(this.staleTimeoutId);\n    this.staleTimeoutId = undefined;\n  };\n\n  _proto.clearRefetchInterval = function clearRefetchInterval() {\n    clearInterval(this.refetchIntervalId);\n    this.refetchIntervalId = undefined;\n  };\n\n  _proto.createResult = function createResult(query, options) {\n    var prevQuery = this.currentQuery;\n    var prevOptions = this.options;\n    var prevResult = this.currentResult;\n    var prevResultState = this.currentResultState;\n    var prevResultOptions = this.currentResultOptions;\n    var queryChange = query !== prevQuery;\n    var queryInitialState = queryChange ? query.state : this.currentQueryInitialState;\n    var prevQueryResult = queryChange ? this.currentResult : this.previousQueryResult;\n    var state = query.state;\n    var dataUpdatedAt = state.dataUpdatedAt,\n        error = state.error,\n        errorUpdatedAt = state.errorUpdatedAt,\n        isFetching = state.isFetching,\n        status = state.status;\n    var isPreviousData = false;\n    var isPlaceholderData = false;\n    var data; // Optimistically set result in fetching state if needed\n\n    if (options.optimisticResults) {\n      var mounted = this.hasListeners();\n      var fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      var fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n\n      if (fetchOnMount || fetchOptionally) {\n        isFetching = true;\n\n        if (!dataUpdatedAt) {\n          status = 'loading';\n        }\n      }\n    } // Keep previous data if needed\n\n\n    if (options.keepPreviousData && !state.dataUpdateCount && (prevQueryResult == null ? void 0 : prevQueryResult.isSuccess) && status !== 'error') {\n      data = prevQueryResult.data;\n      dataUpdatedAt = prevQueryResult.dataUpdatedAt;\n      status = prevQueryResult.status;\n      isPreviousData = true;\n    } // Select data if needed\n    else if (options.select && typeof state.data !== 'undefined') {\n        // Memoize select result\n        if (prevResult && state.data === (prevResultState == null ? void 0 : prevResultState.data) && options.select === (prevResultOptions == null ? void 0 : prevResultOptions.select) && !this.previousSelectError) {\n          data = prevResult.data;\n        } else {\n          try {\n            data = options.select(state.data);\n\n            if (options.structuralSharing !== false) {\n              data = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, data);\n            }\n\n            this.previousSelectError = null;\n          } catch (selectError) {\n            getLogger().error(selectError);\n            error = selectError;\n            this.previousSelectError = selectError;\n            errorUpdatedAt = Date.now();\n            status = 'error';\n          }\n        }\n      } // Use query data\n      else {\n          data = state.data;\n        } // Show placeholder data if needed\n\n\n    if (typeof options.placeholderData !== 'undefined' && typeof data === 'undefined' && (status === 'loading' || status === 'idle')) {\n      var placeholderData; // Memoize placeholder data\n\n      if ((prevResult == null ? void 0 : prevResult.isPlaceholderData) && options.placeholderData === (prevResultOptions == null ? void 0 : prevResultOptions.placeholderData)) {\n        placeholderData = prevResult.data;\n      } else {\n        placeholderData = typeof options.placeholderData === 'function' ? options.placeholderData() : options.placeholderData;\n\n        if (options.select && typeof placeholderData !== 'undefined') {\n          try {\n            placeholderData = options.select(placeholderData);\n\n            if (options.structuralSharing !== false) {\n              placeholderData = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, placeholderData);\n            }\n\n            this.previousSelectError = null;\n          } catch (selectError) {\n            getLogger().error(selectError);\n            error = selectError;\n            this.previousSelectError = selectError;\n            errorUpdatedAt = Date.now();\n            status = 'error';\n          }\n        }\n      }\n\n      if (typeof placeholderData !== 'undefined') {\n        status = 'success';\n        data = placeholderData;\n        isPlaceholderData = true;\n      }\n    }\n\n    var result = {\n      status: status,\n      isLoading: status === 'loading',\n      isSuccess: status === 'success',\n      isError: status === 'error',\n      isIdle: status === 'idle',\n      data: data,\n      dataUpdatedAt: dataUpdatedAt,\n      error: error,\n      errorUpdatedAt: errorUpdatedAt,\n      failureCount: state.fetchFailureCount,\n      isFetched: state.dataUpdateCount > 0 || state.errorUpdateCount > 0,\n      isFetchedAfterMount: state.dataUpdateCount > queryInitialState.dataUpdateCount || state.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching: isFetching,\n      isRefetching: isFetching && status !== 'loading',\n      isLoadingError: status === 'error' && state.dataUpdatedAt === 0,\n      isPlaceholderData: isPlaceholderData,\n      isPreviousData: isPreviousData,\n      isRefetchError: status === 'error' && state.dataUpdatedAt !== 0,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      remove: this.remove\n    };\n    return result;\n  };\n\n  _proto.shouldNotifyListeners = function shouldNotifyListeners(result, prevResult) {\n    if (!prevResult) {\n      return true;\n    }\n\n    if (result === prevResult) {\n      return false;\n    }\n\n    var _this$options = this.options,\n        notifyOnChangeProps = _this$options.notifyOnChangeProps,\n        notifyOnChangePropsExclusions = _this$options.notifyOnChangePropsExclusions;\n\n    if (!notifyOnChangeProps && !notifyOnChangePropsExclusions) {\n      return true;\n    }\n\n    if (notifyOnChangeProps === 'tracked' && !this.trackedProps.length) {\n      return true;\n    }\n\n    var includedProps = notifyOnChangeProps === 'tracked' ? this.trackedProps : notifyOnChangeProps;\n    return Object.keys(result).some(function (key) {\n      var typedKey = key;\n      var changed = result[typedKey] !== prevResult[typedKey];\n      var isIncluded = includedProps == null ? void 0 : includedProps.some(function (x) {\n        return x === key;\n      });\n      var isExcluded = notifyOnChangePropsExclusions == null ? void 0 : notifyOnChangePropsExclusions.some(function (x) {\n        return x === key;\n      });\n      return changed && !isExcluded && (!includedProps || isIncluded);\n    });\n  };\n\n  _proto.updateResult = function updateResult(notifyOptions) {\n    var prevResult = this.currentResult;\n    this.currentResult = this.createResult(this.currentQuery, this.options);\n    this.currentResultState = this.currentQuery.state;\n    this.currentResultOptions = this.options; // Only notify if something has changed\n\n    if (shallowEqualObjects(this.currentResult, prevResult)) {\n      return;\n    } // Determine which callbacks to trigger\n\n\n    var defaultNotifyOptions = {\n      cache: true\n    };\n\n    if ((notifyOptions == null ? void 0 : notifyOptions.listeners) !== false && this.shouldNotifyListeners(this.currentResult, prevResult)) {\n      defaultNotifyOptions.listeners = true;\n    }\n\n    this.notify(_extends({}, defaultNotifyOptions, notifyOptions));\n  };\n\n  _proto.updateQuery = function updateQuery() {\n    var query = this.client.getQueryCache().build(this.client, this.options);\n\n    if (query === this.currentQuery) {\n      return;\n    }\n\n    var prevQuery = this.currentQuery;\n    this.currentQuery = query;\n    this.currentQueryInitialState = query.state;\n    this.previousQueryResult = this.currentResult;\n\n    if (this.hasListeners()) {\n      prevQuery == null ? void 0 : prevQuery.removeObserver(this);\n      query.addObserver(this);\n    }\n  };\n\n  _proto.onQueryUpdate = function onQueryUpdate(action) {\n    var notifyOptions = {};\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = true;\n    } else if (action.type === 'error' && !isCancelledError(action.error)) {\n      notifyOptions.onError = true;\n    }\n\n    this.updateResult(notifyOptions);\n\n    if (this.hasListeners()) {\n      this.updateTimers();\n    }\n  };\n\n  _proto.notify = function notify(notifyOptions) {\n    var _this8 = this;\n\n    notifyManager.batch(function () {\n      // First trigger the configuration callbacks\n      if (notifyOptions.onSuccess) {\n        _this8.options.onSuccess == null ? void 0 : _this8.options.onSuccess(_this8.currentResult.data);\n        _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(_this8.currentResult.data, null);\n      } else if (notifyOptions.onError) {\n        _this8.options.onError == null ? void 0 : _this8.options.onError(_this8.currentResult.error);\n        _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(undefined, _this8.currentResult.error);\n      } // Then trigger the listeners\n\n\n      if (notifyOptions.listeners) {\n        _this8.listeners.forEach(function (listener) {\n          listener(_this8.currentResult);\n        });\n      } // Then the cache listeners\n\n\n      if (notifyOptions.cache) {\n        _this8.client.getQueryCache().notify({\n          query: _this8.currentQuery,\n          type: 'observerResultsUpdated'\n        });\n      }\n    });\n  };\n\n  return QueryObserver;\n}(Subscribable);\n\nfunction shouldLoadOnMount(query, options) {\n  return options.enabled !== false && !query.state.dataUpdatedAt && !(query.state.status === 'error' && options.retryOnMount === false);\n}\n\nfunction shouldRefetchOnMount(query, options) {\n  return options.enabled !== false && query.state.dataUpdatedAt > 0 && (options.refetchOnMount === 'always' || options.refetchOnMount !== false && isStale(query, options));\n}\n\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || shouldRefetchOnMount(query, options);\n}\n\nfunction _shouldFetchOnReconnect(query, options) {\n  return options.enabled !== false && (options.refetchOnReconnect === 'always' || options.refetchOnReconnect !== false && isStale(query, options));\n}\n\nfunction _shouldFetchOnWindowFocus(query, options) {\n  return options.enabled !== false && (options.refetchOnWindowFocus === 'always' || options.refetchOnWindowFocus !== false && isStale(query, options));\n}\n\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return options.enabled !== false && (query !== prevQuery || prevOptions.enabled === false) && (!options.suspense || query.state.status !== 'error' || prevOptions.enabled === false) && isStale(query, options);\n}\n\nfunction isStale(query, options) {\n  return query.isStaleByTime(options.staleTime);\n}","import { focusManager } from './focusManager';\nimport { onlineManager } from './onlineManager';\nimport { sleep } from './utils';\n\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1000 * Math.pow(2, failureCount), 30000);\n}\n\nexport function isCancelable(value) {\n  return typeof (value == null ? void 0 : value.cancel) === 'function';\n}\nexport var CancelledError = function CancelledError(options) {\n  this.revert = options == null ? void 0 : options.revert;\n  this.silent = options == null ? void 0 : options.silent;\n};\nexport function isCancelledError(value) {\n  return value instanceof CancelledError;\n} // CLASS\n\nexport var Retryer = function Retryer(config) {\n  var _this = this;\n\n  var cancelRetry = false;\n  var cancelFn;\n  var continueFn;\n  var promiseResolve;\n  var promiseReject;\n  this.abort = config.abort;\n\n  this.cancel = function (cancelOptions) {\n    return cancelFn == null ? void 0 : cancelFn(cancelOptions);\n  };\n\n  this.cancelRetry = function () {\n    cancelRetry = true;\n  };\n\n  this.continue = function () {\n    return continueFn == null ? void 0 : continueFn();\n  };\n\n  this.failureCount = 0;\n  this.isPaused = false;\n  this.isResolved = false;\n  this.isTransportCancelable = false;\n  this.promise = new Promise(function (outerResolve, outerReject) {\n    promiseResolve = outerResolve;\n    promiseReject = outerReject;\n  });\n\n  var resolve = function resolve(value) {\n    if (!_this.isResolved) {\n      _this.isResolved = true;\n      config.onSuccess == null ? void 0 : config.onSuccess(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseResolve(value);\n    }\n  };\n\n  var reject = function reject(value) {\n    if (!_this.isResolved) {\n      _this.isResolved = true;\n      config.onError == null ? void 0 : config.onError(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseReject(value);\n    }\n  };\n\n  var pause = function pause() {\n    return new Promise(function (continueResolve) {\n      continueFn = continueResolve;\n      _this.isPaused = true;\n      config.onPause == null ? void 0 : config.onPause();\n    }).then(function () {\n      continueFn = undefined;\n      _this.isPaused = false;\n      config.onContinue == null ? void 0 : config.onContinue();\n    });\n  }; // Create loop function\n\n\n  var run = function run() {\n    // Do nothing if already resolved\n    if (_this.isResolved) {\n      return;\n    }\n\n    var promiseOrValue; // Execute query\n\n    try {\n      promiseOrValue = config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    } // Create callback to cancel this fetch\n\n\n    cancelFn = function cancelFn(cancelOptions) {\n      if (!_this.isResolved) {\n        reject(new CancelledError(cancelOptions));\n        _this.abort == null ? void 0 : _this.abort(); // Cancel transport if supported\n\n        if (isCancelable(promiseOrValue)) {\n          try {\n            promiseOrValue.cancel();\n          } catch (_unused) {}\n        }\n      }\n    }; // Check if the transport layer support cancellation\n\n\n    _this.isTransportCancelable = isCancelable(promiseOrValue);\n    Promise.resolve(promiseOrValue).then(resolve).catch(function (error) {\n      var _config$retry, _config$retryDelay;\n\n      // Stop if the fetch is already resolved\n      if (_this.isResolved) {\n        return;\n      } // Do we need to retry the request?\n\n\n      var retry = (_config$retry = config.retry) != null ? _config$retry : 3;\n      var retryDelay = (_config$retryDelay = config.retryDelay) != null ? _config$retryDelay : defaultRetryDelay;\n      var delay = typeof retryDelay === 'function' ? retryDelay(_this.failureCount, error) : retryDelay;\n      var shouldRetry = retry === true || typeof retry === 'number' && _this.failureCount < retry || typeof retry === 'function' && retry(_this.failureCount, error);\n\n      if (cancelRetry || !shouldRetry) {\n        // We are done if the query does not need to be retried\n        reject(error);\n        return;\n      }\n\n      _this.failureCount++; // Notify on fail\n\n      config.onFail == null ? void 0 : config.onFail(_this.failureCount, error); // Delay\n\n      sleep(delay) // Pause if the document is not visible or when the device is offline\n      .then(function () {\n        if (!focusManager.isFocused() || !onlineManager.isOnline()) {\n          return pause();\n        }\n      }).then(function () {\n        if (cancelRetry) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  }; // Start loop\n\n\n  run();\n};","export var Subscribable = /*#__PURE__*/function () {\n  function Subscribable() {\n    this.listeners = [];\n  }\n\n  var _proto = Subscribable.prototype;\n\n  _proto.subscribe = function subscribe(listener) {\n    var _this = this;\n\n    var callback = listener || function () {\n      return undefined;\n    };\n\n    this.listeners.push(callback);\n    this.onSubscribe();\n    return function () {\n      _this.listeners = _this.listeners.filter(function (x) {\n        return x !== callback;\n      });\n\n      _this.onUnsubscribe();\n    };\n  };\n\n  _proto.hasListeners = function hasListeners() {\n    return this.listeners.length > 0;\n  };\n\n  _proto.onSubscribe = function onSubscribe() {// Do nothing\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {// Do nothing\n  };\n\n  return Subscribable;\n}();","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// TYPES\n// UTILS\nexport var isServer = typeof window === 'undefined';\nexport function noop() {\n  return undefined;\n}\nexport function functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nexport function isValidTimeout(value) {\n  return typeof value === 'number' && value >= 0 && value !== Infinity;\n}\nexport function ensureQueryKeyArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\nexport function difference(array1, array2) {\n  return array1.filter(function (x) {\n    return array2.indexOf(x) === -1;\n  });\n}\nexport function replaceAt(array, index, value) {\n  var copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nexport function timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nexport function parseQueryArgs(arg1, arg2, arg3) {\n  if (!isQueryKey(arg1)) {\n    return arg1;\n  }\n\n  if (typeof arg2 === 'function') {\n    return _extends({}, arg3, {\n      queryKey: arg1,\n      queryFn: arg2\n    });\n  }\n\n  return _extends({}, arg2, {\n    queryKey: arg1\n  });\n}\nexport function parseMutationArgs(arg1, arg2, arg3) {\n  if (isQueryKey(arg1)) {\n    if (typeof arg2 === 'function') {\n      return _extends({}, arg3, {\n        mutationKey: arg1,\n        mutationFn: arg2\n      });\n    }\n\n    return _extends({}, arg2, {\n      mutationKey: arg1\n    });\n  }\n\n  if (typeof arg1 === 'function') {\n    return _extends({}, arg2, {\n      mutationFn: arg1\n    });\n  }\n\n  return _extends({}, arg1);\n}\nexport function parseFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [_extends({}, arg2, {\n    queryKey: arg1\n  }), arg3] : [arg1 || {}, arg2];\n}\nexport function parseMutationFilterArgs(arg1, arg2) {\n  return isQueryKey(arg1) ? _extends({}, arg2, {\n    mutationKey: arg1\n  }) : arg1;\n}\nexport function mapQueryStatusFilter(active, inactive) {\n  if (active === true && inactive === true || active == null && inactive == null) {\n    return 'all';\n  } else if (active === false && inactive === false) {\n    return 'none';\n  } else {\n    // At this point, active|inactive can only be true|false or false|true\n    // so, when only one value is provided, the missing one has to be the negated value\n    var isActive = active != null ? active : !inactive;\n    return isActive ? 'active' : 'inactive';\n  }\n}\nexport function matchQuery(filters, query) {\n  var active = filters.active,\n      exact = filters.exact,\n      fetching = filters.fetching,\n      inactive = filters.inactive,\n      predicate = filters.predicate,\n      queryKey = filters.queryKey,\n      stale = filters.stale;\n\n  if (isQueryKey(queryKey)) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n\n  var queryStatusFilter = mapQueryStatusFilter(active, inactive);\n\n  if (queryStatusFilter === 'none') {\n    return false;\n  } else if (queryStatusFilter !== 'all') {\n    var isActive = query.isActive();\n\n    if (queryStatusFilter === 'active' && !isActive) {\n      return false;\n    }\n\n    if (queryStatusFilter === 'inactive' && isActive) {\n      return false;\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false;\n  }\n\n  if (typeof fetching === 'boolean' && query.isFetching() !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n\n  return true;\n}\nexport function matchMutation(filters, mutation) {\n  var exact = filters.exact,\n      fetching = filters.fetching,\n      predicate = filters.predicate,\n      mutationKey = filters.mutationKey;\n\n  if (isQueryKey(mutationKey)) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n\n    if (exact) {\n      if (hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n\n  if (typeof fetching === 'boolean' && mutation.state.status === 'loading' !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n\n  return true;\n}\nexport function hashQueryKeyByOptions(queryKey, options) {\n  var hashFn = (options == null ? void 0 : options.queryKeyHashFn) || hashQueryKey;\n  return hashFn(queryKey);\n}\n/**\n * Default query keys hash function.\n */\n\nexport function hashQueryKey(queryKey) {\n  var asArray = ensureQueryKeyArray(queryKey);\n  return stableValueHash(asArray);\n}\n/**\n * Hashes the value into a stable hash.\n */\n\nexport function stableValueHash(value) {\n  return JSON.stringify(value, function (_, val) {\n    return isPlainObject(val) ? Object.keys(val).sort().reduce(function (result, key) {\n      result[key] = val[key];\n      return result;\n    }, {}) : val;\n  });\n}\n/**\n * Checks if key `b` partially matches with key `a`.\n */\n\nexport function partialMatchKey(a, b) {\n  return partialDeepEqual(ensureQueryKeyArray(a), ensureQueryKeyArray(b));\n}\n/**\n * Checks if `b` partially matches with `a`.\n */\n\nexport function partialDeepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== typeof b) {\n    return false;\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some(function (key) {\n      return !partialDeepEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\n\nexport function replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n\n  var array = Array.isArray(a) && Array.isArray(b);\n\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    var aSize = array ? a.length : Object.keys(a).length;\n    var bItems = array ? b : Object.keys(b);\n    var bSize = bItems.length;\n    var copy = array ? [] : {};\n    var equalItems = 0;\n\n    for (var i = 0; i < bSize; i++) {\n      var key = array ? i : bItems[i];\n      copy[key] = replaceEqualDeep(a[key], b[key]);\n\n      if (copy[key] === a[key]) {\n        equalItems++;\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n\n  return b;\n}\n/**\n * Shallow compare objects. Only works with objects that always have the same properties.\n */\n\nexport function shallowEqualObjects(a, b) {\n  if (a && !b || b && !a) {\n    return false;\n  }\n\n  for (var key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n} // Copied from: https://github.com/jonschlinkert/is-plain-object\n\nexport function isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  } // If has modified constructor\n\n\n  var ctor = o.constructor;\n\n  if (typeof ctor === 'undefined') {\n    return true;\n  } // If has modified prototype\n\n\n  var prot = ctor.prototype;\n\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  } // If constructor does not have an Object-specific method\n\n\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nexport function isQueryKey(value) {\n  return typeof value === 'string' || Array.isArray(value);\n}\nexport function isError(value) {\n  return value instanceof Error;\n}\nexport function sleep(timeout) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, timeout);\n  });\n}\n/**\n * Schedules a microtask.\n * This can be useful to schedule state updates after rendering.\n */\n\nexport function scheduleMicrotask(callback) {\n  Promise.resolve().then(callback).catch(function (error) {\n    return setTimeout(function () {\n      throw error;\n    });\n  });\n}\nexport function getAbortController() {\n  if (typeof AbortController === 'function') {\n    return new AbortController();\n  }\n}","import React from 'react';\nvar defaultContext = /*#__PURE__*/React.createContext(undefined);\nvar QueryClientSharingContext = /*#__PURE__*/React.createContext(false); // if contextSharing is on, we share the first and at least one\n// instance of the context across the window\n// to ensure that if React Query is used across\n// different bundles or microfrontends they will\n// all use the same **instance** of context, regardless\n// of module scoping.\n\nfunction getQueryClientContext(contextSharing) {\n  if (contextSharing && typeof window !== 'undefined') {\n    if (!window.ReactQueryClientContext) {\n      window.ReactQueryClientContext = defaultContext;\n    }\n\n    return window.ReactQueryClientContext;\n  }\n\n  return defaultContext;\n}\n\nexport var useQueryClient = function useQueryClient() {\n  var queryClient = React.useContext(getQueryClientContext(React.useContext(QueryClientSharingContext)));\n\n  if (!queryClient) {\n    throw new Error('No QueryClient set, use QueryClientProvider to set one');\n  }\n\n  return queryClient;\n};\nexport var QueryClientProvider = function QueryClientProvider(_ref) {\n  var client = _ref.client,\n      _ref$contextSharing = _ref.contextSharing,\n      contextSharing = _ref$contextSharing === void 0 ? false : _ref$contextSharing,\n      children = _ref.children;\n  React.useEffect(function () {\n    client.mount();\n    return function () {\n      client.unmount();\n    };\n  }, [client]);\n  var Context = getQueryClientContext(contextSharing);\n  return /*#__PURE__*/React.createElement(QueryClientSharingContext.Provider, {\n    value: contextSharing\n  }, /*#__PURE__*/React.createElement(Context.Provider, {\n    value: client\n  }, children));\n};","import React from 'react'; // CONTEXT\n\nfunction createValue() {\n  var _isReset = false;\n  return {\n    clearReset: function clearReset() {\n      _isReset = false;\n    },\n    reset: function reset() {\n      _isReset = true;\n    },\n    isReset: function isReset() {\n      return _isReset;\n    }\n  };\n}\n\nvar QueryErrorResetBoundaryContext = /*#__PURE__*/React.createContext(createValue()); // HOOK\n\nexport var useQueryErrorResetBoundary = function useQueryErrorResetBoundary() {\n  return React.useContext(QueryErrorResetBoundaryContext);\n}; // COMPONENT\n\nexport var QueryErrorResetBoundary = function QueryErrorResetBoundary(_ref) {\n  var children = _ref.children;\n  var value = React.useMemo(function () {\n    return createValue();\n  }, []);\n  return /*#__PURE__*/React.createElement(QueryErrorResetBoundaryContext.Provider, {\n    value: value\n  }, typeof children === 'function' ? children(value) : children);\n};","export var logger = console;","import ReactDOM from 'react-dom';\nexport var unstable_batchedUpdates = ReactDOM.unstable_batchedUpdates;","import { notifyManager } from '../core';\nimport { unstable_batchedUpdates } from './reactBatchedUpdates';\nnotifyManager.setBatchNotifyFunction(unstable_batchedUpdates);","import { setLogger } from '../core';\nimport { logger } from './logger';\nsetLogger(logger);","import React from 'react';\nimport { notifyManager } from '../core/notifyManager';\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary';\nimport { useQueryClient } from './QueryClientProvider';\nimport { shouldThrowError } from './utils';\nexport function useBaseQuery(options, Observer) {\n  var mountedRef = React.useRef(false);\n\n  var _React$useState = React.useState(0),\n      forceUpdate = _React$useState[1];\n\n  var queryClient = useQueryClient();\n  var errorResetBoundary = useQueryErrorResetBoundary();\n  var defaultedOptions = queryClient.defaultQueryObserverOptions(options); // Make sure results are optimistically set in fetching state before subscribing or updating options\n\n  defaultedOptions.optimisticResults = true; // Include callbacks in batch renders\n\n  if (defaultedOptions.onError) {\n    defaultedOptions.onError = notifyManager.batchCalls(defaultedOptions.onError);\n  }\n\n  if (defaultedOptions.onSuccess) {\n    defaultedOptions.onSuccess = notifyManager.batchCalls(defaultedOptions.onSuccess);\n  }\n\n  if (defaultedOptions.onSettled) {\n    defaultedOptions.onSettled = notifyManager.batchCalls(defaultedOptions.onSettled);\n  }\n\n  if (defaultedOptions.suspense) {\n    // Always set stale time when using suspense to prevent\n    // fetching again when directly mounting after suspending\n    if (typeof defaultedOptions.staleTime !== 'number') {\n      defaultedOptions.staleTime = 1000;\n    } // Set cache time to 1 if the option has been set to 0\n    // when using suspense to prevent infinite loop of fetches\n\n\n    if (defaultedOptions.cacheTime === 0) {\n      defaultedOptions.cacheTime = 1;\n    }\n  }\n\n  if (defaultedOptions.suspense || defaultedOptions.useErrorBoundary) {\n    // Prevent retrying failed query if the error boundary has not been reset yet\n    if (!errorResetBoundary.isReset()) {\n      defaultedOptions.retryOnMount = false;\n    }\n  }\n\n  var _React$useState2 = React.useState(function () {\n    return new Observer(queryClient, defaultedOptions);\n  }),\n      observer = _React$useState2[0];\n\n  var result = observer.getOptimisticResult(defaultedOptions);\n  React.useEffect(function () {\n    mountedRef.current = true;\n    errorResetBoundary.clearReset();\n    var unsubscribe = observer.subscribe(notifyManager.batchCalls(function () {\n      if (mountedRef.current) {\n        forceUpdate(function (x) {\n          return x + 1;\n        });\n      }\n    })); // Update result to make sure we did not miss any query updates\n    // between creating the observer and subscribing to it.\n\n    observer.updateResult();\n    return function () {\n      mountedRef.current = false;\n      unsubscribe();\n    };\n  }, [errorResetBoundary, observer]);\n  React.useEffect(function () {\n    // Do not notify on updates because of changes in the options because\n    // these changes should already be reflected in the optimistic result.\n    observer.setOptions(defaultedOptions, {\n      listeners: false\n    });\n  }, [defaultedOptions, observer]); // Handle suspense\n\n  if (defaultedOptions.suspense && result.isLoading) {\n    throw observer.fetchOptimistic(defaultedOptions).then(function (_ref) {\n      var data = _ref.data;\n      defaultedOptions.onSuccess == null ? void 0 : defaultedOptions.onSuccess(data);\n      defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(data, null);\n    }).catch(function (error) {\n      errorResetBoundary.clearReset();\n      defaultedOptions.onError == null ? void 0 : defaultedOptions.onError(error);\n      defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(undefined, error);\n    });\n  } // Handle error boundary\n\n\n  if (result.isError && !result.isFetching && shouldThrowError(defaultedOptions.suspense, defaultedOptions.useErrorBoundary, result.error)) {\n    throw result.error;\n  } // Handle result property usage tracking\n\n\n  if (defaultedOptions.notifyOnChangeProps === 'tracked') {\n    result = observer.trackResult(result);\n  }\n\n  return result;\n}","import { QueryObserver } from '../core';\nimport { parseQueryArgs } from '../core/utils';\nimport { useBaseQuery } from './useBaseQuery'; // HOOK\n\nexport function useQuery(arg1, arg2, arg3) {\n  var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n  return useBaseQuery(parsedOptions, QueryObserver);\n}","export function shouldThrowError(suspense, _useErrorBoundary, error) {\n  // Allow useErrorBoundary function to override throwing behavior on a per-error basis\n  if (typeof _useErrorBoundary === 'function') {\n    return _useErrorBoundary(error);\n  } // Allow useErrorBoundary to override suspense's throwing behaviour\n\n\n  if (typeof _useErrorBoundary === 'boolean') return _useErrorBoundary; // If suspense is enabled default to throwing errors\n\n  return !!suspense;\n}","import React from 'react';\nexport var ReactReduxContext = /*#__PURE__*/React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  ReactReduxContext.displayName = 'ReactRedux';\n}\n\nexport default ReactReduxContext;","import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider(_ref) {\n  var store = _ref.store,\n      context = _ref.context,\n      children = _ref.children;\n  var contextValue = useMemo(function () {\n    var subscription = createSubscription(store);\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    return {\n      store: store,\n      subscription: subscription\n    };\n  }, [store]);\n  var previousState = useMemo(function () {\n    return store.getState();\n  }, [store]);\n  useIsomorphicLayoutEffect(function () {\n    var subscription = contextValue.subscription;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return function () {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = null;\n    };\n  }, [contextValue, previousState]);\n  var Context = context || ReactReduxContext;\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  Provider.propTypes = {\n    store: PropTypes.shape({\n      subscribe: PropTypes.func.isRequired,\n      dispatch: PropTypes.func.isRequired,\n      getState: PropTypes.func.isRequired\n    }),\n    context: PropTypes.object,\n    children: PropTypes.any\n  };\n}\n\nexport default Provider;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"getDisplayName\", \"methodName\", \"renderCountProp\", \"shouldHandleStateChanges\", \"storeKey\", \"withRef\", \"forwardRef\", \"context\"],\n    _excluded2 = [\"reactReduxForwardedRef\"];\nimport hoistStatics from 'hoist-non-react-statics';\nimport React, { useContext, useMemo, useRef, useReducer } from 'react';\nimport { isValidElementType, isContextConsumer } from 'react-is';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\nimport { ReactReduxContext } from './Context'; // Define some constant arrays just to avoid re-creating these\n\nvar EMPTY_ARRAY = [];\nvar NO_SUBSCRIPTION_ARRAY = [null, null];\n\nvar stringifyComponent = function stringifyComponent(Comp) {\n  try {\n    return JSON.stringify(Comp);\n  } catch (err) {\n    return String(Comp);\n  }\n};\n\nfunction storeStateUpdatesReducer(state, action) {\n  var updateCount = state[1];\n  return [action.payload, updateCount + 1];\n}\n\nfunction useIsomorphicLayoutEffectWithArgs(effectFunc, effectArgs, dependencies) {\n  useIsomorphicLayoutEffect(function () {\n    return effectFunc.apply(void 0, effectArgs);\n  }, dependencies);\n}\n\nfunction captureWrapperProps(lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, actualChildProps, childPropsFromStoreUpdate, notifyNestedSubs) {\n  // We want to capture the wrapper props and child props we used for later comparisons\n  lastWrapperProps.current = wrapperProps;\n  lastChildProps.current = actualChildProps;\n  renderIsScheduled.current = false; // If the render was from a store update, clear out that reference and cascade the subscriber update\n\n  if (childPropsFromStoreUpdate.current) {\n    childPropsFromStoreUpdate.current = null;\n    notifyNestedSubs();\n  }\n}\n\nfunction subscribeUpdates(shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, childPropsFromStoreUpdate, notifyNestedSubs, forceComponentUpdateDispatch) {\n  // If we're not subscribed to the store, nothing to do here\n  if (!shouldHandleStateChanges) return; // Capture values for checking if and when this component unmounts\n\n  var didUnsubscribe = false;\n  var lastThrownError = null; // We'll run this callback every time a store subscription update propagates to this component\n\n  var checkForUpdates = function checkForUpdates() {\n    if (didUnsubscribe) {\n      // Don't run stale listeners.\n      // Redux doesn't guarantee unsubscriptions happen until next dispatch.\n      return;\n    }\n\n    var latestStoreState = store.getState();\n    var newChildProps, error;\n\n    try {\n      // Actually run the selector with the most recent store state and wrapper props\n      // to determine what the child props should be\n      newChildProps = childPropsSelector(latestStoreState, lastWrapperProps.current);\n    } catch (e) {\n      error = e;\n      lastThrownError = e;\n    }\n\n    if (!error) {\n      lastThrownError = null;\n    } // If the child props haven't changed, nothing to do here - cascade the subscription update\n\n\n    if (newChildProps === lastChildProps.current) {\n      if (!renderIsScheduled.current) {\n        notifyNestedSubs();\n      }\n    } else {\n      // Save references to the new child props.  Note that we track the \"child props from store update\"\n      // as a ref instead of a useState/useReducer because we need a way to determine if that value has\n      // been processed.  If this went into useState/useReducer, we couldn't clear out the value without\n      // forcing another re-render, which we don't want.\n      lastChildProps.current = newChildProps;\n      childPropsFromStoreUpdate.current = newChildProps;\n      renderIsScheduled.current = true; // If the child props _did_ change (or we caught an error), this wrapper component needs to re-render\n\n      forceComponentUpdateDispatch({\n        type: 'STORE_UPDATED',\n        payload: {\n          error: error\n        }\n      });\n    }\n  }; // Actually subscribe to the nearest connected ancestor (or store)\n\n\n  subscription.onStateChange = checkForUpdates;\n  subscription.trySubscribe(); // Pull data from the store after first render in case the store has\n  // changed since we began.\n\n  checkForUpdates();\n\n  var unsubscribeWrapper = function unsubscribeWrapper() {\n    didUnsubscribe = true;\n    subscription.tryUnsubscribe();\n    subscription.onStateChange = null;\n\n    if (lastThrownError) {\n      // It's possible that we caught an error due to a bad mapState function, but the\n      // parent re-rendered without this component and we're about to unmount.\n      // This shouldn't happen as long as we do top-down subscriptions correctly, but\n      // if we ever do those wrong, this throw will surface the error in our tests.\n      // In that case, throw the error from here so it doesn't get lost.\n      throw lastThrownError;\n    }\n  };\n\n  return unsubscribeWrapper;\n}\n\nvar initStateUpdates = function initStateUpdates() {\n  return [null, 0];\n};\n\nexport default function connectAdvanced(\n/*\n  selectorFactory is a func that is responsible for returning the selector function used to\n  compute new props from state, props, and dispatch. For example:\n     export default connectAdvanced((dispatch, options) => (state, props) => ({\n      thing: state.things[props.thingId],\n      saveThing: fields => dispatch(actionCreators.saveThing(props.thingId, fields)),\n    }))(YourComponent)\n   Access to dispatch is provided to the factory so selectorFactories can bind actionCreators\n  outside of their selector as an optimization. Options passed to connectAdvanced are passed to\n  the selectorFactory, along with displayName and WrappedComponent, as the second argument.\n   Note that selectorFactory is responsible for all caching/memoization of inbound and outbound\n  props. Do not use connectAdvanced directly without memoizing results between calls to your\n  selector, otherwise the Connect component will re-render on every state or props change.\n*/\nselectorFactory, // options object:\n_ref) {\n  if (_ref === void 0) {\n    _ref = {};\n  }\n\n  var _ref2 = _ref,\n      _ref2$getDisplayName = _ref2.getDisplayName,\n      getDisplayName = _ref2$getDisplayName === void 0 ? function (name) {\n    return \"ConnectAdvanced(\" + name + \")\";\n  } : _ref2$getDisplayName,\n      _ref2$methodName = _ref2.methodName,\n      methodName = _ref2$methodName === void 0 ? 'connectAdvanced' : _ref2$methodName,\n      _ref2$renderCountProp = _ref2.renderCountProp,\n      renderCountProp = _ref2$renderCountProp === void 0 ? undefined : _ref2$renderCountProp,\n      _ref2$shouldHandleSta = _ref2.shouldHandleStateChanges,\n      shouldHandleStateChanges = _ref2$shouldHandleSta === void 0 ? true : _ref2$shouldHandleSta,\n      _ref2$storeKey = _ref2.storeKey,\n      storeKey = _ref2$storeKey === void 0 ? 'store' : _ref2$storeKey,\n      _ref2$withRef = _ref2.withRef,\n      withRef = _ref2$withRef === void 0 ? false : _ref2$withRef,\n      _ref2$forwardRef = _ref2.forwardRef,\n      forwardRef = _ref2$forwardRef === void 0 ? false : _ref2$forwardRef,\n      _ref2$context = _ref2.context,\n      context = _ref2$context === void 0 ? ReactReduxContext : _ref2$context,\n      connectOptions = _objectWithoutPropertiesLoose(_ref2, _excluded);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (renderCountProp !== undefined) {\n      throw new Error(\"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension\");\n    }\n\n    if (withRef) {\n      throw new Error('withRef is removed. To access the wrapped instance, use a ref on the connected component');\n    }\n\n    var customStoreWarningMessage = 'To use a custom Redux store for specific components, create a custom React context with ' + \"React.createContext(), and pass the context object to React Redux's Provider and specific components\" + ' like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. ' + 'You may also pass a {context : MyContext} option to connect';\n\n    if (storeKey !== 'store') {\n      throw new Error('storeKey has been removed and does not do anything. ' + customStoreWarningMessage);\n    }\n  }\n\n  var Context = context;\n  return function wrapWithConnect(WrappedComponent) {\n    if (process.env.NODE_ENV !== 'production' && !isValidElementType(WrappedComponent)) {\n      throw new Error(\"You must pass a component to the function returned by \" + (methodName + \". Instead received \" + stringifyComponent(WrappedComponent)));\n    }\n\n    var wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n    var displayName = getDisplayName(wrappedComponentName);\n\n    var selectorFactoryOptions = _extends({}, connectOptions, {\n      getDisplayName: getDisplayName,\n      methodName: methodName,\n      renderCountProp: renderCountProp,\n      shouldHandleStateChanges: shouldHandleStateChanges,\n      storeKey: storeKey,\n      displayName: displayName,\n      wrappedComponentName: wrappedComponentName,\n      WrappedComponent: WrappedComponent\n    });\n\n    var pure = connectOptions.pure;\n\n    function createChildSelector(store) {\n      return selectorFactory(store.dispatch, selectorFactoryOptions);\n    } // If we aren't running in \"pure\" mode, we don't want to memoize values.\n    // To avoid conditionally calling hooks, we fall back to a tiny wrapper\n    // that just executes the given callback immediately.\n\n\n    var usePureOnlyMemo = pure ? useMemo : function (callback) {\n      return callback();\n    };\n\n    function ConnectFunction(props) {\n      var _useMemo = useMemo(function () {\n        // Distinguish between actual \"data\" props that were passed to the wrapper component,\n        // and values needed to control behavior (forwarded refs, alternate context instances).\n        // To maintain the wrapperProps object reference, memoize this destructuring.\n        var reactReduxForwardedRef = props.reactReduxForwardedRef,\n            wrapperProps = _objectWithoutPropertiesLoose(props, _excluded2);\n\n        return [props.context, reactReduxForwardedRef, wrapperProps];\n      }, [props]),\n          propsContext = _useMemo[0],\n          reactReduxForwardedRef = _useMemo[1],\n          wrapperProps = _useMemo[2];\n\n      var ContextToUse = useMemo(function () {\n        // Users may optionally pass in a custom context instance to use instead of our ReactReduxContext.\n        // Memoize the check that determines which context instance we should use.\n        return propsContext && propsContext.Consumer && isContextConsumer( /*#__PURE__*/React.createElement(propsContext.Consumer, null)) ? propsContext : Context;\n      }, [propsContext, Context]); // Retrieve the store and ancestor subscription via context, if available\n\n      var contextValue = useContext(ContextToUse); // The store _must_ exist as either a prop or in context.\n      // We'll check to see if it _looks_ like a Redux store first.\n      // This allows us to pass through a `store` prop that is just a plain value.\n\n      var didStoreComeFromProps = Boolean(props.store) && Boolean(props.store.getState) && Boolean(props.store.dispatch);\n      var didStoreComeFromContext = Boolean(contextValue) && Boolean(contextValue.store);\n\n      if (process.env.NODE_ENV !== 'production' && !didStoreComeFromProps && !didStoreComeFromContext) {\n        throw new Error(\"Could not find \\\"store\\\" in the context of \" + (\"\\\"\" + displayName + \"\\\". Either wrap the root component in a <Provider>, \") + \"or pass a custom React context provider to <Provider> and the corresponding \" + (\"React context consumer to \" + displayName + \" in connect options.\"));\n      } // Based on the previous check, one of these must be true\n\n\n      var store = didStoreComeFromProps ? props.store : contextValue.store;\n      var childPropsSelector = useMemo(function () {\n        // The child props selector needs the store reference as an input.\n        // Re-create this selector whenever the store changes.\n        return createChildSelector(store);\n      }, [store]);\n\n      var _useMemo2 = useMemo(function () {\n        if (!shouldHandleStateChanges) return NO_SUBSCRIPTION_ARRAY; // This Subscription's source should match where store came from: props vs. context. A component\n        // connected to the store via props shouldn't use subscription from context, or vice versa.\n\n        // This Subscription's source should match where store came from: props vs. context. A component\n        // connected to the store via props shouldn't use subscription from context, or vice versa.\n        var subscription = createSubscription(store, didStoreComeFromProps ? null : contextValue.subscription); // `notifyNestedSubs` is duplicated to handle the case where the component is unmounted in\n        // the middle of the notification loop, where `subscription` will then be null. This can\n        // probably be avoided if Subscription's listeners logic is changed to not call listeners\n        // that have been unsubscribed in the  middle of the notification loop.\n\n        // `notifyNestedSubs` is duplicated to handle the case where the component is unmounted in\n        // the middle of the notification loop, where `subscription` will then be null. This can\n        // probably be avoided if Subscription's listeners logic is changed to not call listeners\n        // that have been unsubscribed in the  middle of the notification loop.\n        var notifyNestedSubs = subscription.notifyNestedSubs.bind(subscription);\n        return [subscription, notifyNestedSubs];\n      }, [store, didStoreComeFromProps, contextValue]),\n          subscription = _useMemo2[0],\n          notifyNestedSubs = _useMemo2[1]; // Determine what {store, subscription} value should be put into nested context, if necessary,\n      // and memoize that value to avoid unnecessary context updates.\n\n\n      var overriddenContextValue = useMemo(function () {\n        if (didStoreComeFromProps) {\n          // This component is directly subscribed to a store from props.\n          // We don't want descendants reading from this store - pass down whatever\n          // the existing context value is from the nearest connected ancestor.\n          return contextValue;\n        } // Otherwise, put this component's subscription instance into context, so that\n        // connected descendants won't update until after this component is done\n\n\n        return _extends({}, contextValue, {\n          subscription: subscription\n        });\n      }, [didStoreComeFromProps, contextValue, subscription]); // We need to force this wrapper component to re-render whenever a Redux store update\n      // causes a change to the calculated child component props (or we caught an error in mapState)\n\n      var _useReducer = useReducer(storeStateUpdatesReducer, EMPTY_ARRAY, initStateUpdates),\n          _useReducer$ = _useReducer[0],\n          previousStateUpdateResult = _useReducer$[0],\n          forceComponentUpdateDispatch = _useReducer[1]; // Propagate any mapState/mapDispatch errors upwards\n\n\n      if (previousStateUpdateResult && previousStateUpdateResult.error) {\n        throw previousStateUpdateResult.error;\n      } // Set up refs to coordinate values between the subscription effect and the render logic\n\n\n      var lastChildProps = useRef();\n      var lastWrapperProps = useRef(wrapperProps);\n      var childPropsFromStoreUpdate = useRef();\n      var renderIsScheduled = useRef(false);\n      var actualChildProps = usePureOnlyMemo(function () {\n        // Tricky logic here:\n        // - This render may have been triggered by a Redux store update that produced new child props\n        // - However, we may have gotten new wrapper props after that\n        // If we have new child props, and the same wrapper props, we know we should use the new child props as-is.\n        // But, if we have new wrapper props, those might change the child props, so we have to recalculate things.\n        // So, we'll use the child props from store update only if the wrapper props are the same as last time.\n        if (childPropsFromStoreUpdate.current && wrapperProps === lastWrapperProps.current) {\n          return childPropsFromStoreUpdate.current;\n        } // TODO We're reading the store directly in render() here. Bad idea?\n        // This will likely cause Bad Things (TM) to happen in Concurrent Mode.\n        // Note that we do this because on renders _not_ caused by store updates, we need the latest store state\n        // to determine what the child props should be.\n\n\n        return childPropsSelector(store.getState(), wrapperProps);\n      }, [store, previousStateUpdateResult, wrapperProps]); // We need this to execute synchronously every time we re-render. However, React warns\n      // about useLayoutEffect in SSR, so we try to detect environment and fall back to\n      // just useEffect instead to avoid the warning, since neither will run anyway.\n\n      useIsomorphicLayoutEffectWithArgs(captureWrapperProps, [lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, actualChildProps, childPropsFromStoreUpdate, notifyNestedSubs]); // Our re-subscribe logic only runs when the store/subscription setup changes\n\n      useIsomorphicLayoutEffectWithArgs(subscribeUpdates, [shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, childPropsFromStoreUpdate, notifyNestedSubs, forceComponentUpdateDispatch], [store, subscription, childPropsSelector]); // Now that all that's done, we can finally try to actually render the child component.\n      // We memoize the elements for the rendered child component as an optimization.\n\n      var renderedWrappedComponent = useMemo(function () {\n        return /*#__PURE__*/React.createElement(WrappedComponent, _extends({}, actualChildProps, {\n          ref: reactReduxForwardedRef\n        }));\n      }, [reactReduxForwardedRef, WrappedComponent, actualChildProps]); // If React sees the exact same element reference as last time, it bails out of re-rendering\n      // that child, same as if it was wrapped in React.memo() or returned false from shouldComponentUpdate.\n\n      var renderedChild = useMemo(function () {\n        if (shouldHandleStateChanges) {\n          // If this component is subscribed to store updates, we need to pass its own\n          // subscription instance down to our descendants. That means rendering the same\n          // Context instance, and putting a different value into the context.\n          return /*#__PURE__*/React.createElement(ContextToUse.Provider, {\n            value: overriddenContextValue\n          }, renderedWrappedComponent);\n        }\n\n        return renderedWrappedComponent;\n      }, [ContextToUse, renderedWrappedComponent, overriddenContextValue]);\n      return renderedChild;\n    } // If we're in \"pure\" mode, ensure our wrapper component only re-renders when incoming props have changed.\n\n\n    var Connect = pure ? React.memo(ConnectFunction) : ConnectFunction;\n    Connect.WrappedComponent = WrappedComponent;\n    Connect.displayName = ConnectFunction.displayName = displayName;\n\n    if (forwardRef) {\n      var forwarded = React.forwardRef(function forwardConnectRef(props, ref) {\n        return /*#__PURE__*/React.createElement(Connect, _extends({}, props, {\n          reactReduxForwardedRef: ref\n        }));\n      });\n      forwarded.displayName = displayName;\n      forwarded.WrappedComponent = WrappedComponent;\n      return hoistStatics(forwarded, WrappedComponent);\n    }\n\n    return hoistStatics(Connect, WrappedComponent);\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"pure\", \"areStatesEqual\", \"areOwnPropsEqual\", \"areStatePropsEqual\", \"areMergedPropsEqual\"];\nimport connectAdvanced from '../components/connectAdvanced';\nimport shallowEqual from '../utils/shallowEqual';\nimport defaultMapDispatchToPropsFactories from './mapDispatchToProps';\nimport defaultMapStateToPropsFactories from './mapStateToProps';\nimport defaultMergePropsFactories from './mergeProps';\nimport defaultSelectorFactory from './selectorFactory';\n/*\n  connect is a facade over connectAdvanced. It turns its args into a compatible\n  selectorFactory, which has the signature:\n\n    (dispatch, options) => (nextState, nextOwnProps) => nextFinalProps\n  \n  connect passes its args to connectAdvanced as options, which will in turn pass them to\n  selectorFactory each time a Connect component instance is instantiated or hot reloaded.\n\n  selectorFactory returns a final props selector from its mapStateToProps,\n  mapStateToPropsFactories, mapDispatchToProps, mapDispatchToPropsFactories, mergeProps,\n  mergePropsFactories, and pure args.\n\n  The resulting final props selector is called by the Connect component instance whenever\n  it receives new props or store state.\n */\n\nfunction match(arg, factories, name) {\n  for (var i = factories.length - 1; i >= 0; i--) {\n    var result = factories[i](arg);\n    if (result) return result;\n  }\n\n  return function (dispatch, options) {\n    throw new Error(\"Invalid value of type \" + typeof arg + \" for \" + name + \" argument when connecting component \" + options.wrappedComponentName + \".\");\n  };\n}\n\nfunction strictEqual(a, b) {\n  return a === b;\n} // createConnect with default args builds the 'official' connect behavior. Calling it with\n// different options opens up some testing and extensibility scenarios\n\n\nexport function createConnect(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$connectHOC = _ref.connectHOC,\n      connectHOC = _ref$connectHOC === void 0 ? connectAdvanced : _ref$connectHOC,\n      _ref$mapStateToPropsF = _ref.mapStateToPropsFactories,\n      mapStateToPropsFactories = _ref$mapStateToPropsF === void 0 ? defaultMapStateToPropsFactories : _ref$mapStateToPropsF,\n      _ref$mapDispatchToPro = _ref.mapDispatchToPropsFactories,\n      mapDispatchToPropsFactories = _ref$mapDispatchToPro === void 0 ? defaultMapDispatchToPropsFactories : _ref$mapDispatchToPro,\n      _ref$mergePropsFactor = _ref.mergePropsFactories,\n      mergePropsFactories = _ref$mergePropsFactor === void 0 ? defaultMergePropsFactories : _ref$mergePropsFactor,\n      _ref$selectorFactory = _ref.selectorFactory,\n      selectorFactory = _ref$selectorFactory === void 0 ? defaultSelectorFactory : _ref$selectorFactory;\n\n  return function connect(mapStateToProps, mapDispatchToProps, mergeProps, _ref2) {\n    if (_ref2 === void 0) {\n      _ref2 = {};\n    }\n\n    var _ref3 = _ref2,\n        _ref3$pure = _ref3.pure,\n        pure = _ref3$pure === void 0 ? true : _ref3$pure,\n        _ref3$areStatesEqual = _ref3.areStatesEqual,\n        areStatesEqual = _ref3$areStatesEqual === void 0 ? strictEqual : _ref3$areStatesEqual,\n        _ref3$areOwnPropsEqua = _ref3.areOwnPropsEqual,\n        areOwnPropsEqual = _ref3$areOwnPropsEqua === void 0 ? shallowEqual : _ref3$areOwnPropsEqua,\n        _ref3$areStatePropsEq = _ref3.areStatePropsEqual,\n        areStatePropsEqual = _ref3$areStatePropsEq === void 0 ? shallowEqual : _ref3$areStatePropsEq,\n        _ref3$areMergedPropsE = _ref3.areMergedPropsEqual,\n        areMergedPropsEqual = _ref3$areMergedPropsE === void 0 ? shallowEqual : _ref3$areMergedPropsE,\n        extraOptions = _objectWithoutPropertiesLoose(_ref3, _excluded);\n\n    var initMapStateToProps = match(mapStateToProps, mapStateToPropsFactories, 'mapStateToProps');\n    var initMapDispatchToProps = match(mapDispatchToProps, mapDispatchToPropsFactories, 'mapDispatchToProps');\n    var initMergeProps = match(mergeProps, mergePropsFactories, 'mergeProps');\n    return connectHOC(selectorFactory, _extends({\n      // used in error messages\n      methodName: 'connect',\n      // used to compute Connect's displayName from the wrapped component's displayName.\n      getDisplayName: function getDisplayName(name) {\n        return \"Connect(\" + name + \")\";\n      },\n      // if mapStateToProps is falsy, the Connect component doesn't subscribe to store state changes\n      shouldHandleStateChanges: Boolean(mapStateToProps),\n      // passed through to selectorFactory\n      initMapStateToProps: initMapStateToProps,\n      initMapDispatchToProps: initMapDispatchToProps,\n      initMergeProps: initMergeProps,\n      pure: pure,\n      areStatesEqual: areStatesEqual,\n      areOwnPropsEqual: areOwnPropsEqual,\n      areStatePropsEqual: areStatePropsEqual,\n      areMergedPropsEqual: areMergedPropsEqual\n    }, extraOptions));\n  };\n}\nexport default /*#__PURE__*/createConnect();","import bindActionCreators from '../utils/bindActionCreators';\nimport { wrapMapToPropsConstant, wrapMapToPropsFunc } from './wrapMapToProps';\nexport function whenMapDispatchToPropsIsFunction(mapDispatchToProps) {\n  return typeof mapDispatchToProps === 'function' ? wrapMapToPropsFunc(mapDispatchToProps, 'mapDispatchToProps') : undefined;\n}\nexport function whenMapDispatchToPropsIsMissing(mapDispatchToProps) {\n  return !mapDispatchToProps ? wrapMapToPropsConstant(function (dispatch) {\n    return {\n      dispatch: dispatch\n    };\n  }) : undefined;\n}\nexport function whenMapDispatchToPropsIsObject(mapDispatchToProps) {\n  return mapDispatchToProps && typeof mapDispatchToProps === 'object' ? wrapMapToPropsConstant(function (dispatch) {\n    return bindActionCreators(mapDispatchToProps, dispatch);\n  }) : undefined;\n}\nexport default [whenMapDispatchToPropsIsFunction, whenMapDispatchToPropsIsMissing, whenMapDispatchToPropsIsObject];","import { wrapMapToPropsConstant, wrapMapToPropsFunc } from './wrapMapToProps';\nexport function whenMapStateToPropsIsFunction(mapStateToProps) {\n  return typeof mapStateToProps === 'function' ? wrapMapToPropsFunc(mapStateToProps, 'mapStateToProps') : undefined;\n}\nexport function whenMapStateToPropsIsMissing(mapStateToProps) {\n  return !mapStateToProps ? wrapMapToPropsConstant(function () {\n    return {};\n  }) : undefined;\n}\nexport default [whenMapStateToPropsIsFunction, whenMapStateToPropsIsMissing];","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport verifyPlainObject from '../utils/verifyPlainObject';\nexport function defaultMergeProps(stateProps, dispatchProps, ownProps) {\n  return _extends({}, ownProps, stateProps, dispatchProps);\n}\nexport function wrapMergePropsFunc(mergeProps) {\n  return function initMergePropsProxy(dispatch, _ref) {\n    var displayName = _ref.displayName,\n        pure = _ref.pure,\n        areMergedPropsEqual = _ref.areMergedPropsEqual;\n    var hasRunOnce = false;\n    var mergedProps;\n    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {\n      var nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n\n      if (hasRunOnce) {\n        if (!pure || !areMergedPropsEqual(nextMergedProps, mergedProps)) mergedProps = nextMergedProps;\n      } else {\n        hasRunOnce = true;\n        mergedProps = nextMergedProps;\n        if (process.env.NODE_ENV !== 'production') verifyPlainObject(mergedProps, displayName, 'mergeProps');\n      }\n\n      return mergedProps;\n    };\n  };\n}\nexport function whenMergePropsIsFunction(mergeProps) {\n  return typeof mergeProps === 'function' ? wrapMergePropsFunc(mergeProps) : undefined;\n}\nexport function whenMergePropsIsOmitted(mergeProps) {\n  return !mergeProps ? function () {\n    return defaultMergeProps;\n  } : undefined;\n}\nexport default [whenMergePropsIsFunction, whenMergePropsIsOmitted];","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"initMapStateToProps\", \"initMapDispatchToProps\", \"initMergeProps\"];\nimport verifySubselectors from './verifySubselectors';\nexport function impureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch) {\n  return function impureFinalPropsSelector(state, ownProps) {\n    return mergeProps(mapStateToProps(state, ownProps), mapDispatchToProps(dispatch, ownProps), ownProps);\n  };\n}\nexport function pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, _ref) {\n  var areStatesEqual = _ref.areStatesEqual,\n      areOwnPropsEqual = _ref.areOwnPropsEqual,\n      areStatePropsEqual = _ref.areStatePropsEqual;\n  var hasRunAtLeastOnce = false;\n  var state;\n  var ownProps;\n  var stateProps;\n  var dispatchProps;\n  var mergedProps;\n\n  function handleFirstCall(firstState, firstOwnProps) {\n    state = firstState;\n    ownProps = firstOwnProps;\n    stateProps = mapStateToProps(state, ownProps);\n    dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    hasRunAtLeastOnce = true;\n    return mergedProps;\n  }\n\n  function handleNewPropsAndNewState() {\n    stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewProps() {\n    if (mapStateToProps.dependsOnOwnProps) stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewState() {\n    var nextStateProps = mapStateToProps(state, ownProps);\n    var statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);\n    stateProps = nextStateProps;\n    if (statePropsChanged) mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleSubsequentCalls(nextState, nextOwnProps) {\n    var propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);\n    var stateChanged = !areStatesEqual(nextState, state);\n    state = nextState;\n    ownProps = nextOwnProps;\n    if (propsChanged && stateChanged) return handleNewPropsAndNewState();\n    if (propsChanged) return handleNewProps();\n    if (stateChanged) return handleNewState();\n    return mergedProps;\n  }\n\n  return function pureFinalPropsSelector(nextState, nextOwnProps) {\n    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);\n  };\n} // TODO: Add more comments\n// If pure is true, the selector returned by selectorFactory will memoize its results,\n// allowing connectAdvanced's shouldComponentUpdate to return false if final\n// props have not changed. If false, the selector will always return a new\n// object and shouldComponentUpdate will always return true.\n\nexport default function finalPropsSelectorFactory(dispatch, _ref2) {\n  var initMapStateToProps = _ref2.initMapStateToProps,\n      initMapDispatchToProps = _ref2.initMapDispatchToProps,\n      initMergeProps = _ref2.initMergeProps,\n      options = _objectWithoutPropertiesLoose(_ref2, _excluded);\n\n  var mapStateToProps = initMapStateToProps(dispatch, options);\n  var mapDispatchToProps = initMapDispatchToProps(dispatch, options);\n  var mergeProps = initMergeProps(dispatch, options);\n\n  if (process.env.NODE_ENV !== 'production') {\n    verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps, options.displayName);\n  }\n\n  var selectorFactory = options.pure ? pureFinalPropsSelectorFactory : impureFinalPropsSelectorFactory;\n  return selectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);\n}","import verifyPlainObject from '../utils/verifyPlainObject';\nexport function wrapMapToPropsConstant(getConstant) {\n  return function initConstantSelector(dispatch, options) {\n    var constant = getConstant(dispatch, options);\n\n    function constantSelector() {\n      return constant;\n    }\n\n    constantSelector.dependsOnOwnProps = false;\n    return constantSelector;\n  };\n} // dependsOnOwnProps is used by createMapToPropsProxy to determine whether to pass props as args\n// to the mapToProps function being wrapped. It is also used by makePurePropsSelector to determine\n// whether mapToProps needs to be invoked when props have changed.\n//\n// A length of one signals that mapToProps does not depend on props from the parent component.\n// A length of zero is assumed to mean mapToProps is getting args via arguments or ...args and\n// therefore not reporting its length accurately..\n\nexport function getDependsOnOwnProps(mapToProps) {\n  return mapToProps.dependsOnOwnProps !== null && mapToProps.dependsOnOwnProps !== undefined ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\n} // Used by whenMapStateToPropsIsFunction and whenMapDispatchToPropsIsFunction,\n// this function wraps mapToProps in a proxy function which does several things:\n//\n//  * Detects whether the mapToProps function being called depends on props, which\n//    is used by selectorFactory to decide if it should reinvoke on props changes.\n//\n//  * On first call, handles mapToProps if returns another function, and treats that\n//    new function as the true mapToProps for subsequent calls.\n//\n//  * On first call, verifies the first result is a plain object, in order to warn\n//    the developer that their mapToProps function is not returning a valid result.\n//\n\nexport function wrapMapToPropsFunc(mapToProps, methodName) {\n  return function initProxySelector(dispatch, _ref) {\n    var displayName = _ref.displayName;\n\n    var proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch);\n    }; // allow detectFactoryAndVerify to get ownProps\n\n\n    proxy.dependsOnOwnProps = true;\n\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\n      proxy.mapToProps = mapToProps;\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\n      var props = proxy(stateOrDispatch, ownProps);\n\n      if (typeof props === 'function') {\n        proxy.mapToProps = props;\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\n        props = proxy(stateOrDispatch, ownProps);\n      }\n\n      if (process.env.NODE_ENV !== 'production') verifyPlainObject(props, displayName, methodName);\n      return props;\n    };\n\n    return proxy;\n  };\n}","import { ReactReduxContext } from '../components/Context';\nimport { useStore as useDefaultStore, createStoreHook } from './useStore';\n/**\n * Hook factory, which creates a `useDispatch` hook bound to a given context.\n *\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\n * @returns {Function} A `useDispatch` hook bound to the specified context.\n */\n\nexport function createDispatchHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useStore = context === ReactReduxContext ? useDefaultStore : createStoreHook(context);\n  return function useDispatch() {\n    var store = useStore();\n    return store.dispatch;\n  };\n}\n/**\n * A hook to access the redux `dispatch` function.\n *\n * @returns {any|function} redux store's `dispatch` function\n *\n * @example\n *\n * import React, { useCallback } from 'react'\n * import { useDispatch } from 'react-redux'\n *\n * export const CounterComponent = ({ value }) => {\n *   const dispatch = useDispatch()\n *   const increaseCounter = useCallback(() => dispatch({ type: 'increase-counter' }), [])\n *   return (\n *     <div>\n *       <span>{value}</span>\n *       <button onClick={increaseCounter}>Increase counter</button>\n *     </div>\n *   )\n * }\n */\n\nexport var useDispatch = /*#__PURE__*/createDispatchHook();","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\n/**\n * A hook to access the value of the `ReactReduxContext`. This is a low-level\n * hook that you should usually not need to call directly.\n *\n * @returns {any} the value of the `ReactReduxContext`\n *\n * @example\n *\n * import React from 'react'\n * import { useReduxContext } from 'react-redux'\n *\n * export const CounterComponent = ({ value }) => {\n *   const { store } = useReduxContext()\n *   return <div>{store.getState()}</div>\n * }\n */\n\nexport function useReduxContext() {\n  var contextValue = useContext(ReactReduxContext);\n\n  if (process.env.NODE_ENV !== 'production' && !contextValue) {\n    throw new Error('could not find react-redux context value; please ensure the component is wrapped in a <Provider>');\n  }\n\n  return contextValue;\n}","import { useReducer, useRef, useMemo, useContext, useDebugValue } from 'react';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\nimport { ReactReduxContext } from '../components/Context';\n\nvar refEquality = function refEquality(a, b) {\n  return a === b;\n};\n\nfunction useSelectorWithStoreAndSubscription(selector, equalityFn, store, contextSub) {\n  var _useReducer = useReducer(function (s) {\n    return s + 1;\n  }, 0),\n      forceRender = _useReducer[1];\n\n  var subscription = useMemo(function () {\n    return createSubscription(store, contextSub);\n  }, [store, contextSub]);\n  var latestSubscriptionCallbackError = useRef();\n  var latestSelector = useRef();\n  var latestStoreState = useRef();\n  var latestSelectedState = useRef();\n  var storeState = store.getState();\n  var selectedState;\n\n  try {\n    if (selector !== latestSelector.current || storeState !== latestStoreState.current || latestSubscriptionCallbackError.current) {\n      var newSelectedState = selector(storeState); // ensure latest selected state is reused so that a custom equality function can result in identical references\n\n      if (latestSelectedState.current === undefined || !equalityFn(newSelectedState, latestSelectedState.current)) {\n        selectedState = newSelectedState;\n      } else {\n        selectedState = latestSelectedState.current;\n      }\n    } else {\n      selectedState = latestSelectedState.current;\n    }\n  } catch (err) {\n    if (latestSubscriptionCallbackError.current) {\n      err.message += \"\\nThe error may be correlated with this previous error:\\n\" + latestSubscriptionCallbackError.current.stack + \"\\n\\n\";\n    }\n\n    throw err;\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    latestSelector.current = selector;\n    latestStoreState.current = storeState;\n    latestSelectedState.current = selectedState;\n    latestSubscriptionCallbackError.current = undefined;\n  });\n  useIsomorphicLayoutEffect(function () {\n    function checkForUpdates() {\n      try {\n        var newStoreState = store.getState(); // Avoid calling selector multiple times if the store's state has not changed\n\n        if (newStoreState === latestStoreState.current) {\n          return;\n        }\n\n        var _newSelectedState = latestSelector.current(newStoreState);\n\n        if (equalityFn(_newSelectedState, latestSelectedState.current)) {\n          return;\n        }\n\n        latestSelectedState.current = _newSelectedState;\n        latestStoreState.current = newStoreState;\n      } catch (err) {\n        // we ignore all errors here, since when the component\n        // is re-rendered, the selectors are called again, and\n        // will throw again, if neither props nor store state\n        // changed\n        latestSubscriptionCallbackError.current = err;\n      }\n\n      forceRender();\n    }\n\n    subscription.onStateChange = checkForUpdates;\n    subscription.trySubscribe();\n    checkForUpdates();\n    return function () {\n      return subscription.tryUnsubscribe();\n    };\n  }, [store, subscription]);\n  return selectedState;\n}\n/**\n * Hook factory, which creates a `useSelector` hook bound to a given context.\n *\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\n * @returns {Function} A `useSelector` hook bound to the specified context.\n */\n\n\nexport function createSelectorHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : function () {\n    return useContext(context);\n  };\n  return function useSelector(selector, equalityFn) {\n    if (equalityFn === void 0) {\n      equalityFn = refEquality;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!selector) {\n        throw new Error(\"You must pass a selector to useSelector\");\n      }\n\n      if (typeof selector !== 'function') {\n        throw new Error(\"You must pass a function as a selector to useSelector\");\n      }\n\n      if (typeof equalityFn !== 'function') {\n        throw new Error(\"You must pass a function as an equality function to useSelector\");\n      }\n    }\n\n    var _useReduxContext = useReduxContext(),\n        store = _useReduxContext.store,\n        contextSub = _useReduxContext.subscription;\n\n    var selectedState = useSelectorWithStoreAndSubscription(selector, equalityFn, store, contextSub);\n    useDebugValue(selectedState);\n    return selectedState;\n  };\n}\n/**\n * A hook to access the redux store's state. This hook takes a selector function\n * as an argument. The selector is called with the store state.\n *\n * This hook takes an optional equality comparison function as the second parameter\n * that allows you to customize the way the selected state is compared to determine\n * whether the component needs to be re-rendered.\n *\n * @param {Function} selector the selector function\n * @param {Function=} equalityFn the function that will be used to determine equality\n *\n * @returns {any} the selected state\n *\n * @example\n *\n * import React from 'react'\n * import { useSelector } from 'react-redux'\n *\n * export const CounterComponent = () => {\n *   const counter = useSelector(state => state.counter)\n *   return <div>{counter}</div>\n * }\n */\n\nexport var useSelector = /*#__PURE__*/createSelectorHook();","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\n/**\n * Hook factory, which creates a `useStore` hook bound to a given context.\n *\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\n * @returns {Function} A `useStore` hook bound to the specified context.\n */\n\nexport function createStoreHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : function () {\n    return useContext(context);\n  };\n  return function useStore() {\n    var _useReduxContext = useReduxContext(),\n        store = _useReduxContext.store;\n\n    return store;\n  };\n}\n/**\n * A hook to access the redux store.\n *\n * @returns {any} the redux store\n *\n * @example\n *\n * import React from 'react'\n * import { useStore } from 'react-redux'\n *\n * export const ExampleComponent = () => {\n *   const store = useStore()\n *   return <div>{store.getState()}</div>\n * }\n */\n\nexport var useStore = /*#__PURE__*/createStoreHook();","export * from './exports';\nimport { unstable_batchedUpdates as batch } from './utils/reactBatchedUpdates';\nimport { setBatch } from './utils/batch'; // Enable batched updates in our subscriptions for use\n// with standard React renderers (ReactDOM, React Native)\n\nsetBatch(batch);\nexport { batch };","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nfunction createListenerCollection() {\n  var batch = getBatch();\n  var first = null;\n  var last = null;\n  return {\n    clear: function clear() {\n      first = null;\n      last = null;\n    },\n    notify: function notify() {\n      batch(function () {\n        var listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n    get: function get() {\n      var listeners = [];\n      var listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n    subscribe: function subscribe(callback) {\n      var isSubscribed = true;\n      var listener = last = {\n        callback: callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n  };\n}\n\nvar nullListeners = {\n  notify: function notify() {},\n  get: function get() {\n    return [];\n  }\n};\nexport function createSubscription(store, parentSub) {\n  var unsubscribe;\n  var listeners = nullListeners;\n\n  function addNestedSub(listener) {\n    trySubscribe();\n    return listeners.subscribe(listener);\n  }\n\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n\n  function isSubscribed() {\n    return Boolean(unsubscribe);\n  }\n\n  function trySubscribe() {\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n\n  function tryUnsubscribe() {\n    if (unsubscribe) {\n      unsubscribe();\n      unsubscribe = undefined;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n\n  var subscription = {\n    addNestedSub: addNestedSub,\n    notifyNestedSubs: notifyNestedSubs,\n    handleChangeWrapper: handleChangeWrapper,\n    isSubscribed: isSubscribed,\n    trySubscribe: trySubscribe,\n    tryUnsubscribe: tryUnsubscribe,\n    getListeners: function getListeners() {\n      return listeners;\n    }\n  };\n  return subscription;\n}","// Default to a dummy \"batch\" implementation that just runs the callback\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\nvar batch = defaultNoopBatch; // Allow injecting another batching function later\n\nexport var setBatch = function setBatch(newBatch) {\n  return batch = newBatch;\n}; // Supply a getter just to skip dealing with ESM bindings\n\nexport var getBatch = function getBatch() {\n  return batch;\n};","export default function bindActionCreators(actionCreators, dispatch) {\n  var boundActionCreators = {};\n\n  var _loop = function _loop(key) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = function () {\n        return dispatch(actionCreator.apply(void 0, arguments));\n      };\n    }\n  };\n\n  for (var key in actionCreators) {\n    _loop(key);\n  }\n\n  return boundActionCreators;\n}","function is(x, y) {\n  if (x === y) {\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nexport default function shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}","import { useEffect, useLayoutEffect } from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;","function createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\r\n\r\nvar width = 256;// each RC4 output is 0 <= x < 256\r\nvar chunks = 6;// at least six RC4 outputs for each double\r\nvar digits = 52;// there are 52 significant digits in a double\r\nvar pool = [];// pool: entropy pool starts empty\r\nvar GLOBAL = typeof global === 'undefined' ? window : global;\r\n\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\nvar startdenom = Math.pow(width, chunks),\r\n    significance = Math.pow(2, digits),\r\n    overflow = significance * 2,\r\n    mask = width - 1;\r\n\r\n\r\nvar oldRandom = Math.random;\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\nmodule.exports = function(seed, options) {\r\n  if (options && options.global === true) {\r\n    options.global = false;\r\n    Math.random = module.exports(seed, options);\r\n    options.global = true;\r\n    return Math.random;\r\n  }\r\n  var use_entropy = (options && options.entropy) || false;\r\n  var key = [];\r\n\r\n  // Flatten the seed string or build one from local entropy if needed.\r\n  var shortseed = mixkey(flatten(\r\n    use_entropy ? [seed, tostring(pool)] :\r\n    0 in arguments ? seed : autoseed(), 3), key);\r\n\r\n  // Use the seed to initialize an ARC4 generator.\r\n  var arc4 = new ARC4(key);\r\n\r\n  // Mix the randomness into accumulated entropy.\r\n  mixkey(tostring(arc4.S), pool);\r\n\r\n  // Override Math.random\r\n\r\n  // This function returns a random double in [0, 1) that contains\r\n  // randomness in every bit of the mantissa of the IEEE 754 value.\r\n\r\n  return function() {         // Closure to return a random double:\r\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n        x = 0;                          //   and no 'extra last byte'.\r\n    while (n < significance) {          // Fill up all significant digits by\r\n      n = (n + x) * width;              //   shifting numerator and\r\n      d *= width;                       //   denominator and generating a\r\n      x = arc4.g(1);                    //   new least-significant-byte.\r\n    }\r\n    while (n >= overflow) {             // To avoid rounding up, before adding\r\n      n /= 2;                           //   last byte, shift everything\r\n      d /= 2;                           //   right using integer Math until\r\n      x >>>= 1;                         //   we have exactly the desired bits.\r\n    }\r\n    return (n + x) / d;                 // Form the number within [0, 1).\r\n  };\r\n};\r\n\r\nmodule.exports.resetGlobal = function () {\r\n  Math.random = oldRandom;\r\n};\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n/** @constructor */\r\nfunction ARC4(key) {\r\n  var t, keylen = key.length,\r\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n  // The empty key [] is treated as [0].\r\n  if (!keylen) { key = [keylen++]; }\r\n\r\n  // Set up S using the standard key scheduling algorithm.\r\n  while (i < width) {\r\n    s[i] = i++;\r\n  }\r\n  for (i = 0; i < width; i++) {\r\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n    s[j] = t;\r\n  }\r\n\r\n  // The \"g\" method returns the next (count) outputs as one number.\r\n  (me.g = function(count) {\r\n    // Using instance members instead of closure state nearly doubles speed.\r\n    var t, r = 0,\r\n        i = me.i, j = me.j, s = me.S;\r\n    while (count--) {\r\n      t = s[i = mask & (i + 1)];\r\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n    }\r\n    me.i = i; me.j = j;\r\n    return r;\r\n    // For robust unpredictability discard an initial batch of values.\r\n    // See http://www.rsa.com/rsalabs/node.asp?id=2009\r\n  })(width);\r\n}\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\nfunction flatten(obj, depth) {\r\n  var result = [], typ = (typeof obj)[0], prop;\r\n  if (depth && typ == 'o') {\r\n    for (prop in obj) {\r\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n    }\r\n  }\r\n  return (result.length ? result : typ == 's' ? obj : obj + '\\0');\r\n}\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\nfunction mixkey(seed, key) {\r\n  var stringseed = seed + '', smear, j = 0;\r\n  while (j < stringseed.length) {\r\n    key[mask & j] =\r\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n  }\r\n  return tostring(key);\r\n}\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto if available.\r\n//\r\n/** @param {Uint8Array=} seed */\r\nfunction autoseed(seed) {\r\n  try {\r\n    GLOBAL.crypto.getRandomValues(seed = new Uint8Array(width));\r\n    return tostring(seed);\r\n  } catch (e) {\r\n    return [+new Date, GLOBAL, GLOBAL.navigator && GLOBAL.navigator.plugins,\r\n            GLOBAL.screen, tostring(pool)];\r\n  }\r\n}\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\nfunction tostring(a) {\r\n  return String.fromCharCode.apply(0, a);\r\n}\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to intefere with determinstic PRNG state later,\r\n// seedrandom will not call Math.random on its own again after\r\n// initialization.\r\n//\r\nmixkey(Math.random(), pool);\r\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","var engine = require('../src/store-engine')\n\nvar storages = require('../storages/all')\nvar plugins = [require('../plugins/json2')]\n\nmodule.exports = engine.createStore(storages, plugins)\n","module.exports = json2Plugin\n\nfunction json2Plugin() {\n\trequire('./lib/json2')\n\treturn {}\n}\n","/* eslint-disable */\n\n//  json2.js\n//  2016-10-28\n//  Public Domain.\n//  NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n//  See http://www.JSON.org/js.html\n//  This code should be minified before deployment.\n//  See http://javascript.crockford.com/jsmin.html\n\n//  USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n//  NOT CONTROL.\n\n//  This file creates a global JSON object containing two methods: stringify\n//  and parse. This file provides the ES5 JSON capability to ES3 systems.\n//  If a project might run on IE8 or earlier, then this file should be included.\n//  This file does nothing on ES5 systems.\n\n//      JSON.stringify(value, replacer, space)\n//          value       any JavaScript value, usually an object or array.\n//          replacer    an optional parameter that determines how object\n//                      values are stringified for objects. It can be a\n//                      function or an array of strings.\n//          space       an optional parameter that specifies the indentation\n//                      of nested structures. If it is omitted, the text will\n//                      be packed without extra whitespace. If it is a number,\n//                      it will specify the number of spaces to indent at each\n//                      level. If it is a string (such as \"\\t\" or \"&nbsp;\"),\n//                      it contains the characters used to indent at each level.\n//          This method produces a JSON text from a JavaScript value.\n//          When an object value is found, if the object contains a toJSON\n//          method, its toJSON method will be called and the result will be\n//          stringified. A toJSON method does not serialize: it returns the\n//          value represented by the name/value pair that should be serialized,\n//          or undefined if nothing should be serialized. The toJSON method\n//          will be passed the key associated with the value, and this will be\n//          bound to the value.\n\n//          For example, this would serialize Dates as ISO strings.\n\n//              Date.prototype.toJSON = function (key) {\n//                  function f(n) {\n//                      // Format integers to have at least two digits.\n//                      return (n < 10)\n//                          ? \"0\" + n\n//                          : n;\n//                  }\n//                  return this.getUTCFullYear()   + \"-\" +\n//                       f(this.getUTCMonth() + 1) + \"-\" +\n//                       f(this.getUTCDate())      + \"T\" +\n//                       f(this.getUTCHours())     + \":\" +\n//                       f(this.getUTCMinutes())   + \":\" +\n//                       f(this.getUTCSeconds())   + \"Z\";\n//              };\n\n//          You can provide an optional replacer method. It will be passed the\n//          key and value of each member, with this bound to the containing\n//          object. The value that is returned from your method will be\n//          serialized. If your method returns undefined, then the member will\n//          be excluded from the serialization.\n\n//          If the replacer parameter is an array of strings, then it will be\n//          used to select the members to be serialized. It filters the results\n//          such that only members with keys listed in the replacer array are\n//          stringified.\n\n//          Values that do not have JSON representations, such as undefined or\n//          functions, will not be serialized. Such values in objects will be\n//          dropped; in arrays they will be replaced with null. You can use\n//          a replacer function to replace those with JSON values.\n\n//          JSON.stringify(undefined) returns undefined.\n\n//          The optional space parameter produces a stringification of the\n//          value that is filled with line breaks and indentation to make it\n//          easier to read.\n\n//          If the space parameter is a non-empty string, then that string will\n//          be used for indentation. If the space parameter is a number, then\n//          the indentation will be that many spaces.\n\n//          Example:\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}]);\n//          // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}], null, \"\\t\");\n//          // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n//          text = JSON.stringify([new Date()], function (key, value) {\n//              return this[key] instanceof Date\n//                  ? \"Date(\" + this[key] + \")\"\n//                  : value;\n//          });\n//          // text is '[\"Date(---current time---)\"]'\n\n//      JSON.parse(text, reviver)\n//          This method parses a JSON text to produce an object or array.\n//          It can throw a SyntaxError exception.\n\n//          The optional reviver parameter is a function that can filter and\n//          transform the results. It receives each of the keys and values,\n//          and its return value is used instead of the original value.\n//          If it returns what it received, then the structure is not modified.\n//          If it returns undefined then the member is deleted.\n\n//          Example:\n\n//          // Parse the text. Values that look like ISO date strings will\n//          // be converted to Date objects.\n\n//          myData = JSON.parse(text, function (key, value) {\n//              var a;\n//              if (typeof value === \"string\") {\n//                  a =\n//   /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n//                  if (a) {\n//                      return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n//                          +a[5], +a[6]));\n//                  }\n//              }\n//              return value;\n//          });\n\n//          myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n//              var d;\n//              if (typeof value === \"string\" &&\n//                      value.slice(0, 5) === \"Date(\" &&\n//                      value.slice(-1) === \")\") {\n//                  d = new Date(value.slice(5, -1));\n//                  if (d) {\n//                      return d;\n//                  }\n//              }\n//              return value;\n//          });\n\n//  This is a reference implementation. You are free to copy, modify, or\n//  redistribute.\n\n/*jslint\n    eval, for, this\n*/\n\n/*property\n    JSON, apply, call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n    lastIndex, length, parse, prototype, push, replace, slice, stringify,\n    test, toJSON, toString, valueOf\n*/\n\n\n// Create a JSON object only if one does not already exist. We create the\n// methods in a closure to avoid creating global variables.\n\nif (typeof JSON !== \"object\") {\n    JSON = {};\n}\n\n(function () {\n    \"use strict\";\n\n    var rx_one = /^[\\],:{}\\s]*$/;\n    var rx_two = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\n    var rx_three = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\n    var rx_four = /(?:^|:|,)(?:\\s*\\[)+/g;\n    var rx_escapable = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n    var rx_dangerous = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n    function f(n) {\n        // Format integers to have at least two digits.\n        return n < 10\n            ? \"0\" + n\n            : n;\n    }\n\n    function this_value() {\n        return this.valueOf();\n    }\n\n    if (typeof Date.prototype.toJSON !== \"function\") {\n\n        Date.prototype.toJSON = function () {\n\n            return isFinite(this.valueOf())\n                ? this.getUTCFullYear() + \"-\" +\n                        f(this.getUTCMonth() + 1) + \"-\" +\n                        f(this.getUTCDate()) + \"T\" +\n                        f(this.getUTCHours()) + \":\" +\n                        f(this.getUTCMinutes()) + \":\" +\n                        f(this.getUTCSeconds()) + \"Z\"\n                : null;\n        };\n\n        Boolean.prototype.toJSON = this_value;\n        Number.prototype.toJSON = this_value;\n        String.prototype.toJSON = this_value;\n    }\n\n    var gap;\n    var indent;\n    var meta;\n    var rep;\n\n\n    function quote(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n\n        rx_escapable.lastIndex = 0;\n        return rx_escapable.test(string)\n            ? \"\\\"\" + string.replace(rx_escapable, function (a) {\n                var c = meta[a];\n                return typeof c === \"string\"\n                    ? c\n                    : \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + \"\\\"\"\n            : \"\\\"\" + string + \"\\\"\";\n    }\n\n\n    function str(key, holder) {\n\n// Produce a string from holder[key].\n\n        var i;          // The loop counter.\n        var k;          // The member key.\n        var v;          // The member value.\n        var length;\n        var mind = gap;\n        var partial;\n        var value = holder[key];\n\n// If the value has a toJSON method, call it to obtain a replacement value.\n\n        if (value && typeof value === \"object\" &&\n                typeof value.toJSON === \"function\") {\n            value = value.toJSON(key);\n        }\n\n// If we were called with a replacer function, then call the replacer to\n// obtain a replacement value.\n\n        if (typeof rep === \"function\") {\n            value = rep.call(holder, key, value);\n        }\n\n// What happens next depends on the value's type.\n\n        switch (typeof value) {\n        case \"string\":\n            return quote(value);\n\n        case \"number\":\n\n// JSON numbers must be finite. Encode non-finite numbers as null.\n\n            return isFinite(value)\n                ? String(value)\n                : \"null\";\n\n        case \"boolean\":\n        case \"null\":\n\n// If the value is a boolean or null, convert it to a string. Note:\n// typeof null does not produce \"null\". The case is included here in\n// the remote chance that this gets fixed someday.\n\n            return String(value);\n\n// If the type is \"object\", we might be dealing with an object or an array or\n// null.\n\n        case \"object\":\n\n// Due to a specification blunder in ECMAScript, typeof null is \"object\",\n// so watch out for that case.\n\n            if (!value) {\n                return \"null\";\n            }\n\n// Make an array to hold the partial results of stringifying this object value.\n\n            gap += indent;\n            partial = [];\n\n// Is the value an array?\n\n            if (Object.prototype.toString.apply(value) === \"[object Array]\") {\n\n// The value is an array. Stringify every element. Use null as a placeholder\n// for non-JSON values.\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || \"null\";\n                }\n\n// Join all of the elements together, separated with commas, and wrap them in\n// brackets.\n\n                v = partial.length === 0\n                    ? \"[]\"\n                    : gap\n                        ? \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\"\n                        : \"[\" + partial.join(\",\") + \"]\";\n                gap = mind;\n                return v;\n            }\n\n// If the replacer is an array, use it to select the members to be stringified.\n\n            if (rep && typeof rep === \"object\") {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    if (typeof rep[i] === \"string\") {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (\n                                gap\n                                    ? \": \"\n                                    : \":\"\n                            ) + v);\n                        }\n                    }\n                }\n            } else {\n\n// Otherwise, iterate through all of the keys in the object.\n\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (\n                                gap\n                                    ? \": \"\n                                    : \":\"\n                            ) + v);\n                        }\n                    }\n                }\n            }\n\n// Join all of the member texts together, separated with commas,\n// and wrap them in braces.\n\n            v = partial.length === 0\n                ? \"{}\"\n                : gap\n                    ? \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\"\n                    : \"{\" + partial.join(\",\") + \"}\";\n            gap = mind;\n            return v;\n        }\n    }\n\n// If the JSON object does not yet have a stringify method, give it one.\n\n    if (typeof JSON.stringify !== \"function\") {\n        meta = {    // table of character substitutions\n            \"\\b\": \"\\\\b\",\n            \"\\t\": \"\\\\t\",\n            \"\\n\": \"\\\\n\",\n            \"\\f\": \"\\\\f\",\n            \"\\r\": \"\\\\r\",\n            \"\\\"\": \"\\\\\\\"\",\n            \"\\\\\": \"\\\\\\\\\"\n        };\n        JSON.stringify = function (value, replacer, space) {\n\n// The stringify method takes a value and an optional replacer, and an optional\n// space parameter, and returns a JSON text. The replacer can be a function\n// that can replace values, or an array of strings that will select the keys.\n// A default replacer method can be provided. Use of the space parameter can\n// produce text that is more easily readable.\n\n            var i;\n            gap = \"\";\n            indent = \"\";\n\n// If the space parameter is a number, make an indent string containing that\n// many spaces.\n\n            if (typeof space === \"number\") {\n                for (i = 0; i < space; i += 1) {\n                    indent += \" \";\n                }\n\n// If the space parameter is a string, it will be used as the indent string.\n\n            } else if (typeof space === \"string\") {\n                indent = space;\n            }\n\n// If there is a replacer, it must be a function or an array.\n// Otherwise, throw an error.\n\n            rep = replacer;\n            if (replacer && typeof replacer !== \"function\" &&\n                    (typeof replacer !== \"object\" ||\n                    typeof replacer.length !== \"number\")) {\n                throw new Error(\"JSON.stringify\");\n            }\n\n// Make a fake root object containing our value under the key of \"\".\n// Return the result of stringifying the value.\n\n            return str(\"\", {\"\": value});\n        };\n    }\n\n\n// If the JSON object does not yet have a parse method, give it one.\n\n    if (typeof JSON.parse !== \"function\") {\n        JSON.parse = function (text, reviver) {\n\n// The parse method takes a text and an optional reviver function, and returns\n// a JavaScript value if the text is a valid JSON text.\n\n            var j;\n\n            function walk(holder, key) {\n\n// The walk method is used to recursively walk the resulting structure so\n// that modifications can be made.\n\n                var k;\n                var v;\n                var value = holder[key];\n                if (value && typeof value === \"object\") {\n                    for (k in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, k)) {\n                            v = walk(value, k);\n                            if (v !== undefined) {\n                                value[k] = v;\n                            } else {\n                                delete value[k];\n                            }\n                        }\n                    }\n                }\n                return reviver.call(holder, key, value);\n            }\n\n\n// Parsing happens in four stages. In the first stage, we replace certain\n// Unicode characters with escape sequences. JavaScript handles many characters\n// incorrectly, either silently deleting them, or treating them as line endings.\n\n            text = String(text);\n            rx_dangerous.lastIndex = 0;\n            if (rx_dangerous.test(text)) {\n                text = text.replace(rx_dangerous, function (a) {\n                    return \"\\\\u\" +\n                            (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n                });\n            }\n\n// In the second stage, we run the text against regular expressions that look\n// for non-JSON patterns. We are especially concerned with \"()\" and \"new\"\n// because they can cause invocation, and \"=\" because it can cause mutation.\n// But just to be safe, we want to reject all unexpected forms.\n\n// We split the second stage into 4 regexp operations in order to work around\n// crippling inefficiencies in IE's and Safari's regexp engines. First we\n// replace the JSON backslash pairs with \"@\" (a non-JSON character). Second, we\n// replace all simple value tokens with \"]\" characters. Third, we delete all\n// open brackets that follow a colon or comma or that begin the text. Finally,\n// we look to see that the remaining characters are only whitespace or \"]\" or\n// \",\" or \":\" or \"{\" or \"}\". If that is so, then the text is safe for eval.\n\n            if (\n                rx_one.test(\n                    text\n                        .replace(rx_two, \"@\")\n                        .replace(rx_three, \"]\")\n                        .replace(rx_four, \"\")\n                )\n            ) {\n\n// In the third stage we use the eval function to compile the text into a\n// JavaScript structure. The \"{\" operator is subject to a syntactic ambiguity\n// in JavaScript: it can begin a block or an object literal. We wrap the text\n// in parens to eliminate the ambiguity.\n\n                j = eval(\"(\" + text + \")\");\n\n// In the optional fourth stage, we recursively walk the new structure, passing\n// each name/value pair to a reviver function for possible transformation.\n\n                return (typeof reviver === \"function\")\n                    ? walk({\"\": j}, \"\")\n                    : j;\n            }\n\n// If the text is not JSON parseable, then a SyntaxError is thrown.\n\n            throw new SyntaxError(\"JSON.parse\");\n        };\n    }\n}());","var util = require('./util')\nvar slice = util.slice\nvar pluck = util.pluck\nvar each = util.each\nvar bind = util.bind\nvar create = util.create\nvar isList = util.isList\nvar isFunction = util.isFunction\nvar isObject = util.isObject\n\nmodule.exports = {\n\tcreateStore: createStore\n}\n\nvar storeAPI = {\n\tversion: '2.0.12',\n\tenabled: false,\n\t\n\t// get returns the value of the given key. If that value\n\t// is undefined, it returns optionalDefaultValue instead.\n\tget: function(key, optionalDefaultValue) {\n\t\tvar data = this.storage.read(this._namespacePrefix + key)\n\t\treturn this._deserialize(data, optionalDefaultValue)\n\t},\n\n\t// set will store the given value at key and returns value.\n\t// Calling set with value === undefined is equivalent to calling remove.\n\tset: function(key, value) {\n\t\tif (value === undefined) {\n\t\t\treturn this.remove(key)\n\t\t}\n\t\tthis.storage.write(this._namespacePrefix + key, this._serialize(value))\n\t\treturn value\n\t},\n\n\t// remove deletes the key and value stored at the given key.\n\tremove: function(key) {\n\t\tthis.storage.remove(this._namespacePrefix + key)\n\t},\n\n\t// each will call the given callback once for each key-value pair\n\t// in this store.\n\teach: function(callback) {\n\t\tvar self = this\n\t\tthis.storage.each(function(val, namespacedKey) {\n\t\t\tcallback.call(self, self._deserialize(val), (namespacedKey || '').replace(self._namespaceRegexp, ''))\n\t\t})\n\t},\n\n\t// clearAll will remove all the stored key-value pairs in this store.\n\tclearAll: function() {\n\t\tthis.storage.clearAll()\n\t},\n\n\t// additional functionality that can't live in plugins\n\t// ---------------------------------------------------\n\n\t// hasNamespace returns true if this store instance has the given namespace.\n\thasNamespace: function(namespace) {\n\t\treturn (this._namespacePrefix == '__storejs_'+namespace+'_')\n\t},\n\n\t// createStore creates a store.js instance with the first\n\t// functioning storage in the list of storage candidates,\n\t// and applies the the given mixins to the instance.\n\tcreateStore: function() {\n\t\treturn createStore.apply(this, arguments)\n\t},\n\t\n\taddPlugin: function(plugin) {\n\t\tthis._addPlugin(plugin)\n\t},\n\t\n\tnamespace: function(namespace) {\n\t\treturn createStore(this.storage, this.plugins, namespace)\n\t}\n}\n\nfunction _warn() {\n\tvar _console = (typeof console == 'undefined' ? null : console)\n\tif (!_console) { return }\n\tvar fn = (_console.warn ? _console.warn : _console.log)\n\tfn.apply(_console, arguments)\n}\n\nfunction createStore(storages, plugins, namespace) {\n\tif (!namespace) {\n\t\tnamespace = ''\n\t}\n\tif (storages && !isList(storages)) {\n\t\tstorages = [storages]\n\t}\n\tif (plugins && !isList(plugins)) {\n\t\tplugins = [plugins]\n\t}\n\n\tvar namespacePrefix = (namespace ? '__storejs_'+namespace+'_' : '')\n\tvar namespaceRegexp = (namespace ? new RegExp('^'+namespacePrefix) : null)\n\tvar legalNamespaces = /^[a-zA-Z0-9_\\-]*$/ // alpha-numeric + underscore and dash\n\tif (!legalNamespaces.test(namespace)) {\n\t\tthrow new Error('store.js namespaces can only have alphanumerics + underscores and dashes')\n\t}\n\t\n\tvar _privateStoreProps = {\n\t\t_namespacePrefix: namespacePrefix,\n\t\t_namespaceRegexp: namespaceRegexp,\n\n\t\t_testStorage: function(storage) {\n\t\t\ttry {\n\t\t\t\tvar testStr = '__storejs__test__'\n\t\t\t\tstorage.write(testStr, testStr)\n\t\t\t\tvar ok = (storage.read(testStr) === testStr)\n\t\t\t\tstorage.remove(testStr)\n\t\t\t\treturn ok\n\t\t\t} catch(e) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t},\n\n\t\t_assignPluginFnProp: function(pluginFnProp, propName) {\n\t\t\tvar oldFn = this[propName]\n\t\t\tthis[propName] = function pluginFn() {\n\t\t\t\tvar args = slice(arguments, 0)\n\t\t\t\tvar self = this\n\n\t\t\t\t// super_fn calls the old function which was overwritten by\n\t\t\t\t// this mixin.\n\t\t\t\tfunction super_fn() {\n\t\t\t\t\tif (!oldFn) { return }\n\t\t\t\t\teach(arguments, function(arg, i) {\n\t\t\t\t\t\targs[i] = arg\n\t\t\t\t\t})\n\t\t\t\t\treturn oldFn.apply(self, args)\n\t\t\t\t}\n\n\t\t\t\t// Give mixing function access to super_fn by prefixing all mixin function\n\t\t\t\t// arguments with super_fn.\n\t\t\t\tvar newFnArgs = [super_fn].concat(args)\n\n\t\t\t\treturn pluginFnProp.apply(self, newFnArgs)\n\t\t\t}\n\t\t},\n\n\t\t_serialize: function(obj) {\n\t\t\treturn JSON.stringify(obj)\n\t\t},\n\n\t\t_deserialize: function(strVal, defaultVal) {\n\t\t\tif (!strVal) { return defaultVal }\n\t\t\t// It is possible that a raw string value has been previously stored\n\t\t\t// in a storage without using store.js, meaning it will be a raw\n\t\t\t// string value instead of a JSON serialized string. By defaulting\n\t\t\t// to the raw string value in case of a JSON parse error, we allow\n\t\t\t// for past stored values to be forwards-compatible with store.js\n\t\t\tvar val = ''\n\t\t\ttry { val = JSON.parse(strVal) }\n\t\t\tcatch(e) { val = strVal }\n\n\t\t\treturn (val !== undefined ? val : defaultVal)\n\t\t},\n\t\t\n\t\t_addStorage: function(storage) {\n\t\t\tif (this.enabled) { return }\n\t\t\tif (this._testStorage(storage)) {\n\t\t\t\tthis.storage = storage\n\t\t\t\tthis.enabled = true\n\t\t\t}\n\t\t},\n\n\t\t_addPlugin: function(plugin) {\n\t\t\tvar self = this\n\n\t\t\t// If the plugin is an array, then add all plugins in the array.\n\t\t\t// This allows for a plugin to depend on other plugins.\n\t\t\tif (isList(plugin)) {\n\t\t\t\teach(plugin, function(plugin) {\n\t\t\t\t\tself._addPlugin(plugin)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Keep track of all plugins we've seen so far, so that we\n\t\t\t// don't add any of them twice.\n\t\t\tvar seenPlugin = pluck(this.plugins, function(seenPlugin) {\n\t\t\t\treturn (plugin === seenPlugin)\n\t\t\t})\n\t\t\tif (seenPlugin) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.plugins.push(plugin)\n\n\t\t\t// Check that the plugin is properly formed\n\t\t\tif (!isFunction(plugin)) {\n\t\t\t\tthrow new Error('Plugins must be function values that return objects')\n\t\t\t}\n\n\t\t\tvar pluginProperties = plugin.call(this)\n\t\t\tif (!isObject(pluginProperties)) {\n\t\t\t\tthrow new Error('Plugins must return an object of function properties')\n\t\t\t}\n\n\t\t\t// Add the plugin function properties to this store instance.\n\t\t\teach(pluginProperties, function(pluginFnProp, propName) {\n\t\t\t\tif (!isFunction(pluginFnProp)) {\n\t\t\t\t\tthrow new Error('Bad plugin property: '+propName+' from plugin '+plugin.name+'. Plugins should only return functions.')\n\t\t\t\t}\n\t\t\t\tself._assignPluginFnProp(pluginFnProp, propName)\n\t\t\t})\n\t\t},\n\t\t\n\t\t// Put deprecated properties in the private API, so as to not expose it to accidential\n\t\t// discovery through inspection of the store object.\n\t\t\n\t\t// Deprecated: addStorage\n\t\taddStorage: function(storage) {\n\t\t\t_warn('store.addStorage(storage) is deprecated. Use createStore([storages])')\n\t\t\tthis._addStorage(storage)\n\t\t}\n\t}\n\n\tvar store = create(_privateStoreProps, storeAPI, {\n\t\tplugins: []\n\t})\n\tstore.raw = {}\n\teach(store, function(prop, propName) {\n\t\tif (isFunction(prop)) {\n\t\t\tstore.raw[propName] = bind(store, prop)\t\t\t\n\t\t}\n\t})\n\teach(storages, function(storage) {\n\t\tstore._addStorage(storage)\n\t})\n\teach(plugins, function(plugin) {\n\t\tstore._addPlugin(plugin)\n\t})\n\treturn store\n}\n","var assign = make_assign()\nvar create = make_create()\nvar trim = make_trim()\nvar Global = (typeof window !== 'undefined' ? window : global)\n\nmodule.exports = {\n\tassign: assign,\n\tcreate: create,\n\ttrim: trim,\n\tbind: bind,\n\tslice: slice,\n\teach: each,\n\tmap: map,\n\tpluck: pluck,\n\tisList: isList,\n\tisFunction: isFunction,\n\tisObject: isObject,\n\tGlobal: Global\n}\n\nfunction make_assign() {\n\tif (Object.assign) {\n\t\treturn Object.assign\n\t} else {\n\t\treturn function shimAssign(obj, props1, props2, etc) {\n\t\t\tfor (var i = 1; i < arguments.length; i++) {\n\t\t\t\teach(Object(arguments[i]), function(val, key) {\n\t\t\t\t\tobj[key] = val\n\t\t\t\t})\n\t\t\t}\t\t\t\n\t\t\treturn obj\n\t\t}\n\t}\n}\n\nfunction make_create() {\n\tif (Object.create) {\n\t\treturn function create(obj, assignProps1, assignProps2, etc) {\n\t\t\tvar assignArgsList = slice(arguments, 1)\n\t\t\treturn assign.apply(this, [Object.create(obj)].concat(assignArgsList))\n\t\t}\n\t} else {\n\t\tfunction F() {} // eslint-disable-line no-inner-declarations\n\t\treturn function create(obj, assignProps1, assignProps2, etc) {\n\t\t\tvar assignArgsList = slice(arguments, 1)\n\t\t\tF.prototype = obj\n\t\t\treturn assign.apply(this, [new F()].concat(assignArgsList))\n\t\t}\n\t}\n}\n\nfunction make_trim() {\n\tif (String.prototype.trim) {\n\t\treturn function trim(str) {\n\t\t\treturn String.prototype.trim.call(str)\n\t\t}\n\t} else {\n\t\treturn function trim(str) {\n\t\t\treturn str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '')\n\t\t}\n\t}\n}\n\nfunction bind(obj, fn) {\n\treturn function() {\n\t\treturn fn.apply(obj, Array.prototype.slice.call(arguments, 0))\n\t}\n}\n\nfunction slice(arr, index) {\n\treturn Array.prototype.slice.call(arr, index || 0)\n}\n\nfunction each(obj, fn) {\n\tpluck(obj, function(val, key) {\n\t\tfn(val, key)\n\t\treturn false\n\t})\n}\n\nfunction map(obj, fn) {\n\tvar res = (isList(obj) ? [] : {})\n\tpluck(obj, function(v, k) {\n\t\tres[k] = fn(v, k)\n\t\treturn false\n\t})\n\treturn res\n}\n\nfunction pluck(obj, fn) {\n\tif (isList(obj)) {\n\t\tfor (var i=0; i<obj.length; i++) {\n\t\t\tif (fn(obj[i], i)) {\n\t\t\t\treturn obj[i]\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (var key in obj) {\n\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\tif (fn(obj[key], key)) {\n\t\t\t\t\treturn obj[key]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction isList(val) {\n\treturn (val != null && typeof val != 'function' && typeof val.length == 'number')\n}\n\nfunction isFunction(val) {\n\treturn val && {}.toString.call(val) === '[object Function]'\n}\n\nfunction isObject(val) {\n\treturn val && {}.toString.call(val) === '[object Object]'\n}\n","module.exports = [\n\t// Listed in order of usage preference\n\trequire('./localStorage'),\n\trequire('./oldFF-globalStorage'),\n\trequire('./oldIE-userDataStorage'),\n\trequire('./cookieStorage'),\n\trequire('./sessionStorage'),\n\trequire('./memoryStorage')\n]\n","// cookieStorage is useful Safari private browser mode, where localStorage\n// doesn't work but cookies do. This implementation is adopted from\n// https://developer.mozilla.org/en-US/docs/Web/API/Storage/LocalStorage\n\nvar util = require('../src/util')\nvar Global = util.Global\nvar trim = util.trim\n\nmodule.exports = {\n\tname: 'cookieStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar doc = Global.document\n\nfunction read(key) {\n\tif (!key || !_has(key)) { return null }\n\tvar regexpStr = \"(?:^|.*;\\\\s*)\" +\n\t\tescape(key).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") +\n\t\t\"\\\\s*\\\\=\\\\s*((?:[^;](?!;))*[^;]?).*\"\n\treturn unescape(doc.cookie.replace(new RegExp(regexpStr), \"$1\"))\n}\n\nfunction each(callback) {\n\tvar cookies = doc.cookie.split(/; ?/g)\n\tfor (var i = cookies.length - 1; i >= 0; i--) {\n\t\tif (!trim(cookies[i])) {\n\t\t\tcontinue\n\t\t}\n\t\tvar kvp = cookies[i].split('=')\n\t\tvar key = unescape(kvp[0])\n\t\tvar val = unescape(kvp[1])\n\t\tcallback(val, key)\n\t}\n}\n\nfunction write(key, data) {\n\tif(!key) { return }\n\tdoc.cookie = escape(key) + \"=\" + escape(data) + \"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/\"\n}\n\nfunction remove(key) {\n\tif (!key || !_has(key)) {\n\t\treturn\n\t}\n\tdoc.cookie = escape(key) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/\"\n}\n\nfunction clearAll() {\n\teach(function(_, key) {\n\t\tremove(key)\n\t})\n}\n\nfunction _has(key) {\n\treturn (new RegExp(\"(?:^|;\\\\s*)\" + escape(key).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(doc.cookie)\n}\n","var util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'localStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nfunction localStorage() {\n\treturn Global.localStorage\n}\n\nfunction read(key) {\n\treturn localStorage().getItem(key)\n}\n\nfunction write(key, data) {\n\treturn localStorage().setItem(key, data)\n}\n\nfunction each(fn) {\n\tfor (var i = localStorage().length - 1; i >= 0; i--) {\n\t\tvar key = localStorage().key(i)\n\t\tfn(read(key), key)\n\t}\n}\n\nfunction remove(key) {\n\treturn localStorage().removeItem(key)\n}\n\nfunction clearAll() {\n\treturn localStorage().clear()\n}\n","// memoryStorage is a useful last fallback to ensure that the store\n// is functions (meaning store.get(), store.set(), etc will all function).\n// However, stored values will not persist when the browser navigates to\n// a new page or reloads the current page.\n\nmodule.exports = {\n\tname: 'memoryStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar memoryStorage = {}\n\nfunction read(key) {\n\treturn memoryStorage[key]\n}\n\nfunction write(key, data) {\n\tmemoryStorage[key] = data\n}\n\nfunction each(callback) {\n\tfor (var key in memoryStorage) {\n\t\tif (memoryStorage.hasOwnProperty(key)) {\n\t\t\tcallback(memoryStorage[key], key)\n\t\t}\n\t}\n}\n\nfunction remove(key) {\n\tdelete memoryStorage[key]\n}\n\nfunction clearAll(key) {\n\tmemoryStorage = {}\n}\n","// oldFF-globalStorage provides storage for Firefox\n// versions 6 and 7, where no localStorage, etc\n// is available.\n\nvar util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'oldFF-globalStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar globalStorage = Global.globalStorage\n\nfunction read(key) {\n\treturn globalStorage[key]\n}\n\nfunction write(key, data) {\n\tglobalStorage[key] = data\n}\n\nfunction each(fn) {\n\tfor (var i = globalStorage.length - 1; i >= 0; i--) {\n\t\tvar key = globalStorage.key(i)\n\t\tfn(globalStorage[key], key)\n\t}\n}\n\nfunction remove(key) {\n\treturn globalStorage.removeItem(key)\n}\n\nfunction clearAll() {\n\teach(function(key, _) {\n\t\tdelete globalStorage[key]\n\t})\n}\n","// oldIE-userDataStorage provides storage for Internet Explorer\n// versions 6 and 7, where no localStorage, sessionStorage, etc\n// is available.\n\nvar util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'oldIE-userDataStorage',\n\twrite: write,\n\tread: read,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar storageName = 'storejs'\nvar doc = Global.document\nvar _withStorageEl = _makeIEStorageElFunction()\nvar disable = (Global.navigator ? Global.navigator.userAgent : '').match(/ (MSIE 8|MSIE 9|MSIE 10)\\./) // MSIE 9.x, MSIE 10.x\n\nfunction write(unfixedKey, data) {\n\tif (disable) { return }\n\tvar fixedKey = fixKey(unfixedKey)\n\t_withStorageEl(function(storageEl) {\n\t\tstorageEl.setAttribute(fixedKey, data)\n\t\tstorageEl.save(storageName)\n\t})\n}\n\nfunction read(unfixedKey) {\n\tif (disable) { return }\n\tvar fixedKey = fixKey(unfixedKey)\n\tvar res = null\n\t_withStorageEl(function(storageEl) {\n\t\tres = storageEl.getAttribute(fixedKey)\n\t})\n\treturn res\n}\n\nfunction each(callback) {\n\t_withStorageEl(function(storageEl) {\n\t\tvar attributes = storageEl.XMLDocument.documentElement.attributes\n\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\tvar attr = attributes[i]\n\t\t\tcallback(storageEl.getAttribute(attr.name), attr.name)\n\t\t}\n\t})\n}\n\nfunction remove(unfixedKey) {\n\tvar fixedKey = fixKey(unfixedKey)\n\t_withStorageEl(function(storageEl) {\n\t\tstorageEl.removeAttribute(fixedKey)\n\t\tstorageEl.save(storageName)\n\t})\n}\n\nfunction clearAll() {\n\t_withStorageEl(function(storageEl) {\n\t\tvar attributes = storageEl.XMLDocument.documentElement.attributes\n\t\tstorageEl.load(storageName)\n\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\tstorageEl.removeAttribute(attributes[i].name)\n\t\t}\n\t\tstorageEl.save(storageName)\n\t})\n}\n\n// Helpers\n//////////\n\n// In IE7, keys cannot start with a digit or contain certain chars.\n// See https://github.com/marcuswestin/store.js/issues/40\n// See https://github.com/marcuswestin/store.js/issues/83\nvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\")\nfunction fixKey(key) {\n\treturn key.replace(/^\\d/, '___$&').replace(forbiddenCharsRegex, '___')\n}\n\nfunction _makeIEStorageElFunction() {\n\tif (!doc || !doc.documentElement || !doc.documentElement.addBehavior) {\n\t\treturn null\n\t}\n\tvar scriptTag = 'script',\n\t\tstorageOwner,\n\t\tstorageContainer,\n\t\tstorageEl\n\n\t// Since #userData storage applies only to specific paths, we need to\n\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t// as a pretty safe option, since all browsers already make a request to\n\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t// since the iframe access rules appear to allow direct access and\n\t// manipulation of the document element, even for a 404 page.  This\n\t// document can be used instead of the current document (which would\n\t// have been limited to the current path) to perform #userData storage.\n\ttry {\n\t\t/* global ActiveXObject */\n\t\tstorageContainer = new ActiveXObject('htmlfile')\n\t\tstorageContainer.open()\n\t\tstorageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src=\"/favicon.ico\"></iframe>')\n\t\tstorageContainer.close()\n\t\tstorageOwner = storageContainer.w.frames[0].document\n\t\tstorageEl = storageOwner.createElement('div')\n\t} catch(e) {\n\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t// security settings or otherwse), fall back to per-path storage\n\t\tstorageEl = doc.createElement('div')\n\t\tstorageOwner = doc.body\n\t}\n\n\treturn function(storeFunction) {\n\t\tvar args = [].slice.call(arguments, 0)\n\t\targs.unshift(storageEl)\n\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\tstorageOwner.appendChild(storageEl)\n\t\tstorageEl.addBehavior('#default#userData')\n\t\tstorageEl.load(storageName)\n\t\tstoreFunction.apply(this, args)\n\t\tstorageOwner.removeChild(storageEl)\n\t\treturn\n\t}\n}\n","var util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'sessionStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll\n}\n\nfunction sessionStorage() {\n\treturn Global.sessionStorage\n}\n\nfunction read(key) {\n\treturn sessionStorage().getItem(key)\n}\n\nfunction write(key, data) {\n\treturn sessionStorage().setItem(key, data)\n}\n\nfunction each(fn) {\n\tfor (var i = sessionStorage().length - 1; i >= 0; i--) {\n\t\tvar key = sessionStorage().key(i)\n\t\tfn(read(key), key)\n\t}\n}\n\nfunction remove(key) {\n\treturn sessionStorage().removeItem(key)\n}\n\nfunction clearAll() {\n\treturn sessionStorage().clear()\n}\n","import pluralForms from '@tannin/plural-forms';\n\n/**\n * Tannin constructor options.\n *\n * @typedef {Object} TanninOptions\n *\n * @property {string}   [contextDelimiter] Joiner in string lookup with context.\n * @property {Function} [onMissingKey]     Callback to invoke when key missing.\n */\n\n/**\n * Domain metadata.\n *\n * @typedef {Object} TanninDomainMetadata\n *\n * @property {string}            [domain]       Domain name.\n * @property {string}            [lang]         Language code.\n * @property {(string|Function)} [plural_forms] Plural forms expression or\n *                                              function evaluator.\n */\n\n/**\n * Domain translation pair respectively representing the singular and plural\n * translation.\n *\n * @typedef {[string,string]} TanninTranslation\n */\n\n/**\n * Locale data domain. The key is used as reference for lookup, the value an\n * array of two string entries respectively representing the singular and plural\n * translation.\n *\n * @typedef {{[key:string]:TanninDomainMetadata|TanninTranslation,'':TanninDomainMetadata|TanninTranslation}} TanninLocaleDomain\n */\n\n/**\n * Jed-formatted locale data.\n *\n * @see http://messageformat.github.io/Jed/\n *\n * @typedef {{[domain:string]:TanninLocaleDomain}} TanninLocaleData\n */\n\n/**\n * Default Tannin constructor options.\n *\n * @type {TanninOptions}\n */\nvar DEFAULT_OPTIONS = {\n\tcontextDelimiter: '\\u0004',\n\tonMissingKey: null,\n};\n\n/**\n * Given a specific locale data's config `plural_forms` value, returns the\n * expression.\n *\n * @example\n *\n * ```\n * getPluralExpression( 'nplurals=2; plural=(n != 1);' ) === '(n != 1)'\n * ```\n *\n * @param {string} pf Locale data plural forms.\n *\n * @return {string} Plural forms expression.\n */\nfunction getPluralExpression( pf ) {\n\tvar parts, i, part;\n\n\tparts = pf.split( ';' );\n\n\tfor ( i = 0; i < parts.length; i++ ) {\n\t\tpart = parts[ i ].trim();\n\t\tif ( part.indexOf( 'plural=' ) === 0 ) {\n\t\t\treturn part.substr( 7 );\n\t\t}\n\t}\n}\n\n/**\n * Tannin constructor.\n *\n * @class\n *\n * @param {TanninLocaleData} data      Jed-formatted locale data.\n * @param {TanninOptions}    [options] Tannin options.\n */\nexport default function Tannin( data, options ) {\n\tvar key;\n\n\t/**\n\t * Jed-formatted locale data.\n\t *\n\t * @name Tannin#data\n\t * @type {TanninLocaleData}\n\t */\n\tthis.data = data;\n\n\t/**\n\t * Plural forms function cache, keyed by plural forms string.\n\t *\n\t * @name Tannin#pluralForms\n\t * @type {Object<string,Function>}\n\t */\n\tthis.pluralForms = {};\n\n\t/**\n\t * Effective options for instance, including defaults.\n\t *\n\t * @name Tannin#options\n\t * @type {TanninOptions}\n\t */\n\tthis.options = {};\n\n\tfor ( key in DEFAULT_OPTIONS ) {\n\t\tthis.options[ key ] = options !== undefined && key in options\n\t\t\t? options[ key ]\n\t\t\t: DEFAULT_OPTIONS[ key ];\n\t}\n}\n\n/**\n * Returns the plural form index for the given domain and value.\n *\n * @param {string} domain Domain on which to calculate plural form.\n * @param {number} n      Value for which plural form is to be calculated.\n *\n * @return {number} Plural form index.\n */\nTannin.prototype.getPluralForm = function( domain, n ) {\n\tvar getPluralForm = this.pluralForms[ domain ],\n\t\tconfig, plural, pf;\n\n\tif ( ! getPluralForm ) {\n\t\tconfig = this.data[ domain ][ '' ];\n\n\t\tpf = (\n\t\t\tconfig[ 'Plural-Forms' ] ||\n\t\t\tconfig[ 'plural-forms' ] ||\n\t\t\t// Ignore reason: As known, there's no way to document the empty\n\t\t\t// string property on a key to guarantee this as metadata.\n\t\t\t// @ts-ignore\n\t\t\tconfig.plural_forms\n\t\t);\n\n\t\tif ( typeof pf !== 'function' ) {\n\t\t\tplural = getPluralExpression(\n\t\t\t\tconfig[ 'Plural-Forms' ] ||\n\t\t\t\tconfig[ 'plural-forms' ] ||\n\t\t\t\t// Ignore reason: As known, there's no way to document the empty\n\t\t\t\t// string property on a key to guarantee this as metadata.\n\t\t\t\t// @ts-ignore\n\t\t\t\tconfig.plural_forms\n\t\t\t);\n\n\t\t\tpf = pluralForms( plural );\n\t\t}\n\n\t\tgetPluralForm = this.pluralForms[ domain ] = pf;\n\t}\n\n\treturn getPluralForm( n );\n};\n\n/**\n * Translate a string.\n *\n * @param {string}      domain   Translation domain.\n * @param {string|void} context  Context distinguishing terms of the same name.\n * @param {string}      singular Primary key for translation lookup.\n * @param {string=}     plural   Fallback value used for non-zero plural\n *                               form index.\n * @param {number=}     n        Value to use in calculating plural form.\n *\n * @return {string} Translated string.\n */\nTannin.prototype.dcnpgettext = function( domain, context, singular, plural, n ) {\n\tvar index, key, entry;\n\n\tif ( n === undefined ) {\n\t\t// Default to singular.\n\t\tindex = 0;\n\t} else {\n\t\t// Find index by evaluating plural form for value.\n\t\tindex = this.getPluralForm( domain, n );\n\t}\n\n\tkey = singular;\n\n\t// If provided, context is prepended to key with delimiter.\n\tif ( context ) {\n\t\tkey = context + this.options.contextDelimiter + singular;\n\t}\n\n\tentry = this.data[ domain ][ key ];\n\n\t// Verify not only that entry exists, but that the intended index is within\n\t// range and non-empty.\n\tif ( entry && entry[ index ] ) {\n\t\treturn entry[ index ];\n\t}\n\n\tif ( this.options.onMissingKey ) {\n\t\tthis.options.onMissingKey( singular, domain );\n\t}\n\n\t// If entry not found, fall back to singular vs. plural with zero index\n\t// representing the singular value.\n\treturn index === 0 ? singular : plural;\n};\n","window.configData = {\n\tenv_id: 'development',\n\ti18n_default_locale_slug: 'en',\n\tgoogle_analytics_key: 'UA-10673494-15',\n\tclient_slug: 'browser',\n\ttwemoji_cdn_url: 'https://s0.wp.com/wp-content/mu-plugins/wpcom-smileys/twemoji/2/',\n\thappychat_url: 'https://happychat-io-staging.go-vip.co/customer',\n\tsite_filter: [],\n\tsections: {},\n\tenable_all_sections: false,\n\tlivechat_support_locales: [ 'en' ],\n\tupwork_support_locales: [ 'de' ],\n\tjetpack_support_blog: 'jetpackme.wordpress.com',\n\twpcom_support_blog: 'en.support.wordpress.com',\n\tgutenboarding_url: '/new',\n\tfeatures: {\n\t\thappychat: true,\n\t},\n\tsignup_url: '/',\n\tdiscover_blog_id: 53424024,\n\tdiscover_feed_id: 41325786,\n};\nwindow.process = {\n\tenv: {\n\t\tNODE_DEBUG: 'dev',\n\t},\n};\n","/**\n * Global polyfills\n */\nimport '@automattic/calypso-polyfills';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport InlineHelpCenterContent from 'calypso/blocks/inline-help/inline-help-center-content';\nimport QuerySites from 'calypso/components/data/query-sites';\nimport { initializeAnalytics } from 'calypso/lib/analytics/init';\nimport getSuperProps from 'calypso/lib/analytics/super-props';\nimport { rawCurrentUserFetch, filterUserObject } from 'calypso/lib/user/shared-utils';\nimport analyticsMiddleware from 'calypso/state/analytics/middleware';\nimport consoleDispatcher from 'calypso/state/console-dispatch';\nimport { setCurrentUser } from 'calypso/state/current-user/actions';\nimport currentUser from 'calypso/state/current-user/reducer';\nimport happychatMiddleware from 'calypso/state/happychat/middleware';\nimport { requestHappychatEligibility } from 'calypso/state/happychat/user/actions';\nimport { setStore } from 'calypso/state/redux-store';\nimport sites from 'calypso/state/sites/reducer';\nimport { setSelectedSiteId } from 'calypso/state/ui/actions';\nimport { setSection } from 'calypso/state/ui/section/actions';\nimport { combineReducers, addReducerEnhancer } from 'calypso/state/utils';\n\nconst rootReducer = combineReducers( {\n\tcurrentUser,\n\tsites,\n} );\n\nconst store = createStore(\n\trootReducer,\n\tcompose(\n\t\tconsoleDispatcher,\n\t\taddReducerEnhancer,\n\t\tapplyMiddleware( thunkMiddleware, analyticsMiddleware, happychatMiddleware )\n\t)\n);\n\nsetStore( store );\n\n//For the moment we have the help center only in the editor\nstore.dispatch( setSection( { name: 'gutenberg-editor' } ) );\n\nstore.dispatch( setSelectedSiteId( window._currentSiteId ) );\n\nrawCurrentUserFetch()\n\t.then( filterUserObject )\n\t.then( ( user ) => {\n\t\tif ( user ) {\n\t\t\tstore.dispatch( setCurrentUser( user ) );\n\t\t}\n\t\tinitializeAnalytics( user || undefined, getSuperProps( store ) );\n\n\t\tstore.dispatch( requestHappychatEligibility() );\n\t} );\n\nconst queryClient = new QueryClient();\n\nexport default function Content( { selectedArticle, setSelectedArticle, setFooterContent } ) {\n\treturn (\n\t\t<QueryClientProvider client={ queryClient }>\n\t\t\t<Provider store={ store }>\n\t\t\t\t<>\n\t\t\t\t\t<QuerySites siteId={ window._currentSiteId } />\n\t\t\t\t\t<InlineHelpCenterContent\n\t\t\t\t\t\tselectedArticle={ selectedArticle }\n\t\t\t\t\t\tsetSelectedArticle={ setSelectedArticle }\n\t\t\t\t\t\tsetHelpCenterFooter={ setFooterContent }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t</Provider>\n\t\t</QueryClientProvider>\n\t);\n}\n","import HelpCenter, { HelpIcon } from '@automattic/help-center';\nimport { Button } from '@wordpress/components';\nimport { useMediaQuery } from '@wordpress/compose';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { PinnedItems } from '@wordpress/interface';\nimport { registerPlugin } from '@wordpress/plugins';\nimport cx from 'classnames';\nimport { useEffect, useState } from 'react';\nimport Contents from './contents';\nimport './help-center.scss';\n\nfunction HelpCenterComponent() {\n\tconst isDesktop = useMediaQuery( '(min-width: 480px)' );\n\tconst { show } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tshow: select( 'automattic/help-center' ).isHelpCenterShown(),\n\t\t};\n\t} );\n\tconst setShowHelpCenter = useDispatch( 'automattic/help-center' )?.setShowHelpCenter;\n\tconst [ selectedArticle, setSelectedArticle ] = useState( null );\n\tconst [ footerContent, setFooterContent ] = useState( null );\n\n\tuseEffect( () => {\n\t\tif ( ! show ) {\n\t\t\tsetSelectedArticle( null );\n\t\t}\n\t}, [ show ] );\n\n\treturn (\n\t\t<>\n\t\t\t{ isDesktop && (\n\t\t\t\t<PinnedItems scope=\"core/edit-post\">\n\t\t\t\t\t<span className=\"etk-help-center\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={ cx( 'entry-point-button', { 'is-active': show } ) }\n\t\t\t\t\t\t\tonClick={ () => setShowHelpCenter( ! show ) }\n\t\t\t\t\t\t\ticon={ <HelpIcon newItems active={ show } /> }\n\t\t\t\t\t\t></Button>\n\t\t\t\t\t</span>\n\t\t\t\t</PinnedItems>\n\t\t\t) }\n\t\t\t{ show && (\n\t\t\t\t<HelpCenter\n\t\t\t\t\tcontent={\n\t\t\t\t\t\t<Contents\n\t\t\t\t\t\t\tselectedArticle={ selectedArticle }\n\t\t\t\t\t\t\tsetSelectedArticle={ setSelectedArticle }\n\t\t\t\t\t\t\tsetFooterContent={ setFooterContent }\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\theaderText={ selectedArticle?.title }\n\t\t\t\t\thandleClose={ () => setShowHelpCenter( false ) }\n\t\t\t\t\tfooterContent={ footerContent }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nregisterPlugin( 'etk-help-center', {\n\trender: () => <HelpCenterComponent />,\n} );\n","import { createSelector } from '@automattic/state-utils';\nimport { translate } from 'i18n-calypso';\nimport { getGoogleMailServiceFamily } from 'calypso/lib/gsuite';\nimport { getLocaleSlug } from 'calypso/lib/i18n-utils';\nimport { onboardingUrl } from 'calypso/lib/paths';\nimport { getCustomizerUrl, getSiteSlug } from 'calypso/state/sites/selectors';\n\n/**\n * Returns admin section items with site-based urls.\n *\n * @param   {number} siteId   - The current site ID.\n * @param   {string} siteSlug - The current site slug.\n * @param   {object} state    - Global state\n * @returns {Array}             An array of admin sections with site-specific URLs.\n */\nexport const getAdminSections = createSelector(\n\t( state, siteId ) => {\n\t\tconst siteSlug = getSiteSlug( state, siteId );\n\n\t\treturn [\n\t\t\t{\n\t\t\t\ttitle: translate( 'Add a new domain' ),\n\t\t\t\tdescription: translate(\n\t\t\t\t\t'Set up your domain whether its registered with WordPress.com or elsewhere.'\n\t\t\t\t),\n\t\t\t\tlink: `/domains/add/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'domains' ],\n\t\t\t\ticon: 'domains',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Manage my domain settings' ),\n\t\t\t\tdescription: translate( 'Manage all domains linked to your account.' ),\n\t\t\t\tlink: `/domains/manage/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'domains' ],\n\t\t\t\ticon: 'domains',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Change my site address' ),\n\t\t\t\tlink: `/domains/manage/${ siteSlug }/edit/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'domains', 'domain' ],\n\t\t\t\ticon: 'domains',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Add a site redirect' ),\n\t\t\t\tdescription: translate( 'Redirect your site to another domain.' ),\n\t\t\t\tlink: `/domains/add/site-redirect/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'domains', 'domain', 'forward' ],\n\t\t\t\ticon: 'domains',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Change my password' ),\n\t\t\t\tlink: '/me/security',\n\t\t\t\tsynonyms: [ 'update' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( \"Change my site's theme\" ),\n\t\t\t\tlink: `/themes/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'switch', 'design' ],\n\t\t\t\ticon: 'customize',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( \"Customize my site's theme\" ),\n\t\t\t\tlink: getCustomizerUrl( state, siteId ),\n\t\t\t\tsynonyms: [ 'color', 'font', 'design', 'css', 'widgets' ],\n\t\t\t\ticon: 'customize',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Change my homepage' ),\n\t\t\t\tlink: getCustomizerUrl( state, siteId, 'homepage' ),\n\t\t\t\tsynonyms: [ 'home', 'homepage' ],\n\t\t\t\ticon: 'customize',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Edit my menu' ),\n\t\t\t\tlink: getCustomizerUrl( state, siteId, 'menus' ),\n\t\t\t\tsynonyms: [ 'menu' ],\n\t\t\t\ticon: 'customize',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Set a site logo' ),\n\t\t\t\tlink: getCustomizerUrl( state, siteId, 'identity' ),\n\t\t\t\tsynonyms: [ 'logo', 'identity' ],\n\t\t\t\ticon: 'customize',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Find a plan to suit my site' ),\n\t\t\t\tlink: `/plans/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'upgrade', 'business', 'professional', 'personal' ],\n\t\t\t\ticon: 'plans',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Cancel my plan' ),\n\t\t\t\tlink: `/me/purchases`,\n\t\t\t\tsynonyms: [ 'upgrade', 'business', 'professional', 'personal' ],\n\t\t\t\ticon: 'plans',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Upgrade my plan' ),\n\t\t\t\tlink: `/plans/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'upgrade', 'business', 'professional', 'personal' ],\n\t\t\t\ticon: 'plans',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Cancel %(googleMailService)s', {\n\t\t\t\t\targs: {\n\t\t\t\t\t\tgoogleMailService: getGoogleMailServiceFamily(),\n\t\t\t\t\t},\n\t\t\t\t\tcomment: '%(googleMailService)s can be either \"G Suite\" or \"Google Workspace\"',\n\t\t\t\t} ),\n\t\t\t\tlink: `/me/purchases`,\n\t\t\t\tsynonyms: [ 'upgrade', 'business', 'professional', 'personal', 'google' ],\n\t\t\t\ticon: 'plans',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Renew my plan' ),\n\t\t\t\tlink: `/plans/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'upgrade', 'business', 'professional', 'personal', 'plan' ],\n\t\t\t\ticon: 'plans',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Renew my domain' ),\n\t\t\t\tlink: `/plans/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'domain', 'business', 'professional', 'personal', 'plan' ],\n\t\t\t\ticon: 'plans',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'View my site activity' ),\n\t\t\t\tlink: `/activity-log/${ siteSlug }`,\n\t\t\t\ticon: 'history',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( \"View my site's latest stats\" ),\n\t\t\t\tlink: `/stats/day/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'analytics' ],\n\t\t\t\ticon: 'stats-alt',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Upload an image, video, audio or document' ),\n\t\t\t\tlink: `/media/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'media', 'photo' ],\n\t\t\t\ticon: 'image',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Import content from another site' ),\n\t\t\t\tlink: `/settings/import/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'medium', 'blogger', 'wix', 'squarespace' ],\n\t\t\t\ticon: 'cloud-upload',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Earn money from my site' ),\n\t\t\t\tdescription: translate(\n\t\t\t\t\t\"By upgrading to the Pro plan, you'll be able to monetize your site through the WordAds program.\"\n\t\t\t\t),\n\t\t\t\tlink: `/earn/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'monetize', 'wordads', 'pro' ],\n\t\t\t\ticon: 'money',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Learn how to market my site' ),\n\t\t\t\tlink: `/marketing/tools/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'marketing', 'brand', 'logo', 'seo', 'tools', 'traffic' ],\n\t\t\t\ticon: 'speaker',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( \"Manage my site's users\" ),\n\t\t\t\tdescription: translate( 'Invite new users and edit existing ones.' ),\n\t\t\t\tlink: `/people/team/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'administrator', 'editor', 'contributor', 'viewer', 'follower' ],\n\t\t\t\ticon: 'user',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Invite new users to my site' ),\n\t\t\t\tlink: `/people/new/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'administrator', 'editor', 'contributor', 'viewer', 'follower' ],\n\t\t\t\ticon: 'user',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( \"Change my site's timezone\" ),\n\t\t\t\tlink: `/settings/general/${ siteSlug }#site-settings__blogtimezone`,\n\t\t\t\tsynonyms: [ 'time', 'date' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Launch my site' ),\n\t\t\t\tdescription: translate( 'Switch your site from private to public.' ),\n\t\t\t\tlink: `/settings/general/${ siteSlug }#site-privacy-settings`,\n\t\t\t\tsynonyms: [ 'private', 'public' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( \"Delete a site or a site's content\" ),\n\t\t\t\tdescription: translate(\n\t\t\t\t\t'Remove all posts, pages, and media, or delete a site completely.'\n\t\t\t\t),\n\t\t\t\tlink: `/settings/general/${ siteSlug }#site-tools__header`,\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Set a site icon' ),\n\t\t\t\tlink: `/settings/general/${ siteSlug }`,\n\t\t\t\ticon: 'cog',\n\t\t\t\tsynonyms: [ 'logo' ],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( \"Change my site's footer text\" ),\n\t\t\t\tdescription: translate(\n\t\t\t\t\t'You can customize your website by changing the footer credit in customizer.'\n\t\t\t\t),\n\t\t\t\tlink: `/settings/general/${ siteSlug }#site-settings__footer-credit-header`,\n\t\t\t\tsynonyms: [ 'remove footer', 'update footer' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( \"Export my site's content and media library\" ),\n\t\t\t\tdescription: translate( 'Export posts, pages and more from your site.' ),\n\t\t\t\tlink: `/settings/export/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'xml', 'images', 'migration', 'import', 'download' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Manage sharing and social media connections' ),\n\t\t\t\tlink: `/sharing/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'facebook', 'twitter', 'twitter', 'tumblr', 'eventbrite' ],\n\t\t\t\ticon: 'share',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Add sharing buttons to my site' ),\n\t\t\t\tdescription: translate(\n\t\t\t\t\t'Allow readers to easily share your posts with others by adding sharing buttons throughout your site.'\n\t\t\t\t),\n\t\t\t\tlink: `/sharing/buttons/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'like', 'reblog' ],\n\t\t\t\ticon: 'share',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Install, manage, and search for site Plugins' ),\n\t\t\t\tlink: `/plugins/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'upload' ],\n\t\t\t\ticon: 'plugins',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Approve or delete comments' ),\n\t\t\t\tlink: `/comments/all/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'spam', 'discussion', 'moderation', 'moderate' ],\n\t\t\t\ticon: 'chat',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Manage how users can comment on my site' ),\n\t\t\t\tlink: `/settings/discussion/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'discussion', 'moderation', 'blocklist' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Manage post categories' ),\n\t\t\t\tlink: `/settings/writing/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'post', 'category' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Edit my site title, tagline, or logo' ),\n\t\t\t\tlink: `/settings/general/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'title', 'logo' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Set up a podcast' ),\n\t\t\t\tlink: `/settings/writing/${ siteSlug }#podcasting-details__link-header`,\n\t\t\t\tsynonyms: [ 'podcast', 'radio', 'audio' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( \"Change my site's privacy settings\" ),\n\t\t\t\tlink: `/settings/general/${ siteSlug }#site-privacy-settings`,\n\t\t\t\tsynonyms: [ 'privacy' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Manage SEO and traffic settings' ),\n\t\t\t\tlink: `/settings/traffic/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'analytics', 'related', 'sitemap' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Update my profile' ),\n\t\t\t\tdescription: translate( 'Update your name, profile image, and about text.' ),\n\t\t\t\tlink: '/me',\n\t\t\t\tsynonyms: [ 'avatar' ],\n\t\t\t\ticon: 'user',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Update my username or email address' ),\n\t\t\t\tlink: '/me/account',\n\t\t\t\tsynonyms: [ 'user', 'account' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Change the dashboard color scheme' ),\n\t\t\t\tlink: '/me/account#account__color_scheme',\n\t\t\t\tsynonyms: [ 'theme' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Switch the interface language' ),\n\t\t\t\tdescription: translate(\n\t\t\t\t\t'Update the language of the interface you see across WordPress.com as a whole.'\n\t\t\t\t),\n\t\t\t\tlink: '/me/account#account__language',\n\t\t\t\tsynonyms: [ 'dashboard', 'change', 'language' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Close my account permanently' ),\n\t\t\t\tdescription: translate( 'Delete all of your sites, and close your account completely.' ),\n\t\t\t\tlink: '/me/account/close',\n\t\t\t\tsynonyms: [ 'delete' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Change my account privacy settings' ),\n\t\t\t\tlink: '/me/privacy',\n\t\t\t\tsynonyms: [ 'security', 'tracking' ],\n\t\t\t\ticon: 'visible',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'View my purchase and billing history' ),\n\t\t\t\tlink: '/me/purchases',\n\t\t\t\tsynonyms: [ 'purchases', 'invoices', 'pending', 'payment', 'credit card' ],\n\t\t\t\ticon: 'credit-card',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Download the WordPress.com app for my device' ),\n\t\t\t\tdescription: translate( 'Get WordPress apps for all your screens.' ),\n\t\t\t\tlink: '/me/get-apps',\n\t\t\t\tsynonyms: [ 'android', 'iphone', 'mobile', 'desktop', 'phone' ],\n\t\t\t\ticon: 'my-sites',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'View my drafted posts' ),\n\t\t\t\tlink: `/posts/drafts/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'posts', 'draft' ],\n\t\t\t\ticon: 'my-sites',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Manage my blog posts' ),\n\t\t\t\tlink: `/posts/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'lists', 'posts' ],\n\t\t\t\ticon: 'my-sites',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'New post' ),\n\t\t\t\tdescription: translate( `Create a new blog post on your site.` ),\n\t\t\t\tlink: `/post/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'lists', 'posts' ],\n\t\t\t\ticon: 'my-sites',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'View my drafted pages' ),\n\t\t\t\tlink: `/pages/drafts/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'pages', 'draft' ],\n\t\t\t\ticon: 'my-sites',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Manage my pages' ),\n\t\t\t\tlink: `/pages/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'lists', 'pages' ],\n\t\t\t\ticon: 'my-sites',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'I cannot find my site on Google' ),\n\t\t\t\tlink: `/marketing/traffic/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'google', 'traffic', 'seo' ],\n\t\t\t\ticon: 'speaker',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Verify my site with Google' ),\n\t\t\t\tlink: `/marketing/traffic/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'google', 'traffic', 'seo' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Create a new site' ),\n\t\t\t\tlink: `${ onboardingUrl() }?ref=calypso-inline-help`,\n\t\t\t\tsynonyms: [ 'site' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'View contact form messages' ),\n\t\t\t\tlink: `https://${ siteSlug }/wp-admin/edit.php?post_type=feedback&calypsoify=1`,\n\t\t\t\tsynonyms: [ 'contact', 'form' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: translate( 'Portfolio projects (for those who have them active)' ),\n\t\t\t\tlink: `/types/jetpack-portfolio/${ siteSlug }`,\n\t\t\t\tsynonyms: [ 'portfolio' ],\n\t\t\t\ticon: 'cog',\n\t\t\t},\n\t\t];\n\t},\n\t( state, siteId ) => [ getSiteSlug( state, siteId ) ]\n);\n\n/**\n * Returns a filtered site admin collection.\n *\n * @param   {string} searchTerm The search term\n * @param   {Array}  collection A collection of site admin objects\n * @param   {number} limit      The maximum number of filtered results to return\n * @returns {Array}             A filtered (or empty) array\n */\nexport function filterListBySearchTerm( searchTerm = '', collection = [], limit = 4 ) {\n\t// Early return if search term is empty.\n\tif ( ! searchTerm.length ) {\n\t\treturn [];\n\t}\n\n\tconst searchTermWords = searchTerm\n\t\t// Split to words.\n\t\t.split( /[\\W_]+/g )\n\t\t// Eliminate any empty string results.\n\t\t.filter( Boolean )\n\t\t// Lowercase all words.\n\t\t.map( ( word ) => word.toLowerCase() );\n\tif ( ! searchTermWords.length ) {\n\t\treturn [];\n\t}\n\n\tconst searchRegex = new RegExp(\n\t\t// Join a series of look aheads\n\t\t// matching full and partial works\n\t\t// Example: \"Add a dom\" => /(?=.*\\badd\\b)(?=.*\\ba\\b)(?=.*\\bdom).+/gi\n\t\tsearchTermWords\n\t\t\t.map( ( word, i ) =>\n\t\t\t\t// if it's the last word, don't look for a end word boundary\n\t\t\t\t// otherwise\n\t\t\t\ti + 1 === searchTermWords.length ? `(?=.*\\\\b${ word })` : `(?=.*\\\\b${ word }\\\\b)`\n\t\t\t)\n\t\t\t.join( '' ) + '.+',\n\t\t'gi'\n\t);\n\n\tconst exactMatches = [];\n\tconst partialMatches = [];\n\tconst synonymMatches = [];\n\n\tcollection.forEach( ( item ) => {\n\t\tif ( item.title.toLowerCase() === searchTerm.toLowerCase() ) {\n\t\t\texactMatches.push( item );\n\t\t} else if ( searchRegex.test( item.title ) ) {\n\t\t\tpartialMatches.push( item );\n\t\t} else if (\n\t\t\t'en' === getLocaleSlug() &&\n\t\t\titem.synonyms?.some( ( s ) => searchTermWords.includes( s ) )\n\t\t) {\n\t\t\tsynonymMatches.push( item );\n\t\t}\n\t} );\n\n\treturn [ ...exactMatches, ...partialMatches, ...synonymMatches ].slice( 0, limit );\n}\n","export const RESULT_ARTICLE = 'article';\nexport const RESULT_TOUR = 'tour';\nexport const RESULT_VIDEO = 'video';\nexport const VIEW_CONTACT = 'contact';\nexport const VIEW_RICH_RESULT = 'richresult';\nexport const VIEW_FORUM = 'forums';\nexport const SUPPORT_BLOG_ID = 9619154;\n\nexport const SUPPORT_TYPE_CONTEXTUAL_HELP = 'contextual_help';\nexport const SUPPORT_TYPE_API_HELP = 'api_help';\nexport const SUPPORT_TYPE_ADMIN_SECTION = 'admin_section';\n\nexport const SELL_INTENT = 'sell_intent';\n","import { localizeUrl } from '@automattic/i18n-utils';\nimport { translate } from 'i18n-calypso';\nimport { RESULT_TOUR, RESULT_VIDEO, SELL_INTENT } from './constants';\n\n/**\n * Module variables\n */\n\n/* eslint-disable inclusive-language/use-inclusive-words */\n// All usage of the word \"master\" here refers to the verb (ie. \"to learn\"), not a synonym of \"primary\".\nconst defaultFallbackLinks = [\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl(\n\t\t\t\t'https://wordpress.com/support/do-i-need-a-website-a-blog-or-a-website-with-a-blog/'\n\t\t\t);\n\t\t},\n\t\tpost_id: 143180,\n\t\tget title() {\n\t\t\treturn translate( 'Do I Need a Website, a Blog, or a Website with a Blog?' );\n\t\t},\n\t\tget description() {\n\t\t\treturn translate(\n\t\t\t\t'If youre building a brand new site, you might be wondering if you need a website, a blog, or a website with a blog. At WordPress.com, you can create all of these options easily, right in your dashboard.'\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl( 'https://wordpress.com/support/business-plan/' );\n\t\t},\n\t\tpost_id: 134940,\n\t\tget title() {\n\t\t\treturn translate( 'Uploading custom plugins and themes' );\n\t\t},\n\t\tget description() {\n\t\t\treturn translate(\n\t\t\t\t'Learn more about installing a custom theme or plugin using the Business plan.'\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl( 'https://wordpress.com/support/domains/' );\n\t\t},\n\t\tpost_id: 1988,\n\t\tget title() {\n\t\t\treturn translate( 'All About Domains' );\n\t\t},\n\t\tget description() {\n\t\t\treturn translate(\n\t\t\t\t'Set up your domain whether its registered with WordPress.com or elsewhere.'\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl( 'https://wordpress.com/support/start/' );\n\t\t},\n\t\tpost_id: 81083,\n\t\tget title() {\n\t\t\treturn translate( 'Quick-Start Guide' );\n\t\t},\n\t\tget description() {\n\t\t\treturn translate(\n\t\t\t\t\"Use our five-step checklist to get set up and ready to publish, no matter what kind of site you're building.\"\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl( 'https://wordpress.com/support/settings/privacy-settings/' );\n\t\t},\n\t\tpost_id: 1507,\n\t\tget title() {\n\t\t\treturn translate( 'Privacy Settings' );\n\t\t},\n\t\tget description() {\n\t\t\treturn translate( 'Limit your sites visibility or make it completely private.' );\n\t\t},\n\t},\n];\n\nconst bloggerFallbackLinks = [\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl( 'https://wordpress.com/support/posts/' );\n\t\t},\n\t\tget title() {\n\t\t\treturn translate( 'All about blog posts' );\n\t\t},\n\t},\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl( 'https://wordpress.com/support/subscriptions-and-newsletters/' );\n\t\t},\n\t\tget title() {\n\t\t\treturn translate( 'Encourage visitors to subscribe to your content' );\n\t\t},\n\t},\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl( 'https://wordpress.com/support/publicize/' );\n\t\t},\n\t\tget title() {\n\t\t\treturn translate( 'Share your content to social media automatically' );\n\t\t},\n\t},\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl( 'https://wordpress.com/support/sharing/' );\n\t\t},\n\t\tget title() {\n\t\t\treturn translate( 'Encourage visitors to share your content' );\n\t\t},\n\t},\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl( 'https://wordpress.com/support/seo/' );\n\t\t},\n\t\tget title() {\n\t\t\treturn translate( 'Learn about how to get noticed by search engines' );\n\t\t},\n\t},\n\t{\n\t\tget link() {\n\t\t\treturn localizeUrl( 'https://wordpress.com/support/site-verification-services/' );\n\t\t},\n\t\tget title() {\n\t\t\treturn translate( 'Verify your site with Google and other services' );\n\t\t},\n\t},\n];\n\nconst contextLinksForSection = {\n\tstats: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/stats/' );\n\t\t\t},\n\t\t\tpost_id: 4454,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Understanding the Stats Page' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Your stats page includes a bunch of nifty graphs, charts, and lists that show you how many ' +\n\t\t\t\t\t\t'visits your site gets, what posts and pages are the most popular ones, and much more. Learn what it all means.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/getting-more-views-and-traffic/' );\n\t\t\t},\n\t\t\tpost_id: 3307,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Getting More Views and Traffic' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Want more traffic? Here are some tips for attracting more visitors to your site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/increase-your-site-traffic/' );\n\t\t\t},\n\t\t\tpost_id: 132186,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Increase Your Site Traffic' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'One of the most frequent questions our community members ask us  and themselves  ' +\n\t\t\t\t\t\t'is how to get more traffic. Here are a few best practices.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/grow-your-community/' );\n\t\t\t},\n\t\t\tpost_id: 132190,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Grow Your Community' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Youve worked hard on building your site, now its time to explore the community and get noticed. Learn how.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tsharing: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl(\n\t\t\t\t\t'https://wordpress.com/support/video-tutorials/connect-to-social-media/'\n\t\t\t\t);\n\t\t\t},\n\t\t\tpost_id: 130825,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Integrate and Connect to Social Media' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Start sharing your site and attract more traffic and visitors to your content! ' +\n\t\t\t\t\t\t'Learn to activate and control the social media and sharing options on your website or blog through these videos.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/sharing/' );\n\t\t\t},\n\t\t\tpost_id: 7499,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Sharing Your Content' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'At the bottom of each post or page, you can include sharing buttons for your readers ' +\n\t\t\t\t\t\t'to make it easier to share your content.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/instagram/' );\n\t\t\t},\n\t\t\tpost_id: 77589,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Using Instagram' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Instagram is a simple way to capture, customize, ' +\n\t\t\t\t\t\t'and share photos and short videos using your smartphone or other mobile device. Learn how to use it with your website!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/twitter/' );\n\t\t\t},\n\t\t\tpost_id: 124,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Using Twitter' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Twitter is a service for the exchange of brief messages, commonly ' +\n\t\t\t\t\t\t'called \"tweets\", between users. Learn how to use it with your website!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\thome: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/manage-purchases/' );\n\t\t\t},\n\t\t\tpost_id: 111349,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Managing Purchases' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Have a question or need to change something about a purchase you have made? Learn how.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tme: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/manage-my-profile/' );\n\t\t\t},\n\t\t\tpost_id: 19775,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Managing Your Profile' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Your profile is the information youd like to be shown along with your ' +\n\t\t\t\t\t\t'name when you publish content or comment on WordPress.com sites.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/gravatars/' );\n\t\t\t},\n\t\t\tpost_id: 1338,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Your Profile Picture' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'WordPress.com associates an Avatar with your email address. Gravatar ' +\n\t\t\t\t\t\t'powers the user avatars on WordPress.com.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/account-deactivation/' );\n\t\t\t},\n\t\t\tpost_id: 138080,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Account Closure' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Need a fresh start? Learn how to close your account.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/change-your-username/' );\n\t\t\t},\n\t\t\tpost_id: 2116,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your Username' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'You can change both your WordPress.com account username (the name you use to login) ' +\n\t\t\t\t\t\t'and your display name (the name that is seen on your posts and comments). Learn how!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\taccount: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/change-your-username/' );\n\t\t\t},\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your Username' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'You can change both your WordPress.com account username (the name you use to login) ' +\n\t\t\t\t\t\t'and your display name (the name that is seen on your posts and comments). Learn how!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/video-tutorials/manage-your-account/' );\n\t\t\t},\n\t\t\tpost_id: 130826,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Manage Your Account' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn the ins and outs of managing your WordPress.com account and site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/account-settings/' );\n\t\t\t},\n\t\t\tpost_id: 80368,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Edit Your Account Settings' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'You can review and edit basic account information in Account Settings. '\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/account-deactivation/' );\n\t\t\t},\n\t\t\tpost_id: 143899,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Close Your Account' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn how to permanently delete your WordPress.com account, and what it means for your website and data.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tsecurity: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/security/two-step-authentication/' );\n\t\t\t},\n\t\t\tpost_id: 58847,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Two-Step Authentication' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Your WordPress.com site is your home on the internet, and you want to keep that home safe. ' +\n\t\t\t\t\t\t'Learn how to add an additional \"lock\" to your account!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/account-recovery/' );\n\t\t\t},\n\t\t\tpost_id: 46365,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Account Recovery' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'At some point, you may run into a situation in which youve lost access to your account. Learn how to get back on track!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/passwords/' );\n\t\t\t},\n\t\t\tpost_id: 89,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Passwords And How To Use Them' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Passwords are very important to user accounts, and there may come a time when you need to change your password.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/third-party-applications/' );\n\t\t\t},\n\t\t\tpost_id: 17288,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Third Party Applications' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'WordPress.com allows you to connect with third-party applications that ' +\n\t\t\t\t\t\t'extend your WordPress.com site in new and cool ways.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tpurchases: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/manage-purchases/' );\n\t\t\t},\n\t\t\tpost_id: 111349,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Managing Purchases, Renewals, and Cancellations' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Have a question or need to change something about a purchase you have made? Learn how.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/auto-renewal/' );\n\t\t\t},\n\t\t\tpost_id: 110924,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Subscriptions for Plans and Domains' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Your WordPress.com plans and any domains you add to your sites are based ' +\n\t\t\t\t\t\t'on a yearly subscription that renews automatically.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/discover-the-wordpress-com-plans/' );\n\t\t\t},\n\t\t\tpost_id: 140323,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Explore the WordPress.com Plans' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t\"Upgrading your plan unlocks a ton of features! We'll help you pick the best fit for your needs and goals.\"\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\t'site-purchases': [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/manage-purchases/' );\n\t\t\t},\n\t\t\tpost_id: 111349,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Managing Purchases, Renewals, and Cancellations' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Have a question or need to change something about a purchase you have made? Learn how.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/auto-renewal/' );\n\t\t\t},\n\t\t\tpost_id: 110924,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Subscriptions for Plans and Domains' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Your WordPress.com plans and any domains you add to your sites are based ' +\n\t\t\t\t\t\t'on a yearly subscription that renews automatically.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/discover-the-wordpress-com-plans/' );\n\t\t\t},\n\t\t\tpost_id: 140323,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Explore the WordPress.com Plans' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t\"Upgrading your plan unlocks a ton of features! We'll help you pick the best fit for your needs and goals.\"\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\t'notification-settings': [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/notifications/' );\n\t\t\t},\n\t\t\tpost_id: 40992,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Notifications' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Notifications help you stay on top of the activity on your site and all the things happening on ' +\n\t\t\t\t\t\t'WordPress.com  learn how to use them.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/email-notifications/' );\n\t\t\t},\n\t\t\tpost_id: 9443,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Email Notifications' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'WordPress.com sends email notifications to the email address registered to your account. Learn how to manage them.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/following-comments/' );\n\t\t\t},\n\t\t\tpost_id: 4576,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Following Comments' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'When you leave a comment, you can automatically get email notifications for other new comments ' +\n\t\t\t\t\t\t\"on the same post or page  you'll never be out of the loop.\"\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/following/' );\n\t\t\t},\n\t\t\tpost_id: 4899,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Following Blogs' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'When you follow a blog on WordPress.com, new posts from that site will automatically appear in your Reader.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tmedia: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/media/' );\n\t\t\t},\n\t\t\tpost_id: 853,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'The Media Library' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'The Media Library is where you can manage your images, audio, videos, and documents all in one place.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl(\n\t\t\t\t\t'https://wordpress.com/support/add-media/finding-free-images-and-other-media/'\n\t\t\t\t);\n\t\t\t},\n\t\t\tpost_id: 78425,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Finding Free Images and other Media' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Use free images (and other media) to make your pages and posts more interesting and engaging when on a budget!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/add-media/' );\n\t\t\t},\n\t\t\tpost_id: 38830,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add Media' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Dress up your text-based posts and pages with individual images, image galleries, ' +\n\t\t\t\t\t\t'slideshows, videos, and audio.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/videos/' );\n\t\t\t},\n\t\t\tpost_id: 4744,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Including Videos' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Videos are a great way to enhance your site pages and blog posts. Learn how to include them.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tpeople: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/user-roles/' );\n\t\t\t},\n\t\t\tpost_id: 1221,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'User Roles' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'User roles determine the access level or permissions of a person authorized to use a WordPress.com site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/user-mentions/' );\n\t\t\t},\n\t\t\tpost_id: 91788,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'User Mentions' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'User mentions are a great way to include other WordPress.com users within your ' +\n\t\t\t\t\t\t'posts and comments.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/adding-users/' );\n\t\t\t},\n\t\t\tpost_id: 2160,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Inviting Contributors, Followers, and Viewers' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Invite contributors, followers, and viewers to collaborate with others and grow your audience!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/followers/' );\n\t\t\t},\n\t\t\tpost_id: 5444,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Your Followers' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'When someone follows your site, each time you publish new content on your blog they ' +\n\t\t\t\t\t\t'receive an update in their Reader, via email, or both depending on their settings.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tplugins: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/plugins/' );\n\t\t\t},\n\t\t\tpost_id: 2108,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Using Plugins' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'On WordPress.com, we include the most popular plugin functionality within our ' +\n\t\t\t\t\t\t'sites automatically. Additionally, the Pro plan allows you to choose from many ' +\n\t\t\t\t\t\t'thousands of plugins, and install them on your site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/plugins/managing-plugins/' );\n\t\t\t},\n\t\t\tpost_id: 134818,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Managing plugins' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'After you install a plugin, it will appear in a list at My Sites  Plugins.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/plugins/adding-plugins/' );\n\t\t\t},\n\t\t\tpost_id: 134719,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Adding Plugins' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Along with all the tools and features built right into WordPress.com, the Pro plan ' +\n\t\t\t\t\t\t'allows you to install other plugins.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/business-plan/' );\n\t\t\t},\n\t\t\tpost_id: 134940,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Business Plan' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t\"When you want to build a one-of-a-kind website, it's time for WordPress.com Pro: \" +\n\t\t\t\t\t\t'upload plugins and themes to create a truly tailored experience for your visitors.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\t'posts-pages': [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl(\n\t\t\t\t\t'https://wordpress.com/support/do-i-need-a-website-a-blog-or-a-website-with-a-blog/'\n\t\t\t\t);\n\t\t\t},\n\t\t\tpost_id: 143180,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Do I Need a Website, a Blog, or a Website with a Blog?' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'If youre building a brand new site, you might be wondering if you need a website, a blog, or a website with a blog. At WordPress.com, you can create all of these options easily, right in your dashboard.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/five-step-website-setup/' );\n\t\t\t},\n\t\t\tpost_id: 100856,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Build Your Website in Five Steps' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Youve registered a website on WordPress.com. But now what? ' +\n\t\t\t\t\t\t'Learn five steps that will get the framework of your new website all set up, ' +\n\t\t\t\t\t\t'leaving it ready and waiting for your great content'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/pages/landing-pages/' );\n\t\t\t},\n\t\t\tpost_id: 124077,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Landing Pages' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Landing pages are pages with a single purpose: encouraging your visitors to, for example, sign up for ' +\n\t\t\t\t\t\t'a service, buy a product, or join a mailing list.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/posts/' );\n\t\t\t},\n\t\t\tpost_id: 84,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'About Blog Posts' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Posts are what make your blog a blog  theyre servings of content that are listed in reverse chronological order.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/posts/post-formats/' );\n\t\t\t},\n\t\t\tpost_id: 10382,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Post Formats' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn how to make gallery, video, audio, and other post types pop with post formats. '\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\t'settings-writing': [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/settings/writing-settings/' );\n\t\t\t},\n\t\t\tpost_id: 1502,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Writing Settings' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Learn how to manage categories, date format, content types, and more.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/posts/categories-vs-tags/' );\n\t\t\t},\n\t\t\tpost_id: 2135,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Categories vs. Tags' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Learn the differences between categories and tags.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/feeds/' );\n\t\t\t},\n\t\t\tpost_id: 3589,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Feeds' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'A feed (often called RSS) is a stream of posts or comments that is updated when new content is published.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/portfolios/' );\n\t\t\t},\n\t\t\tpost_id: 84808,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Portfolios' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'To show off your portfolio separate from your blog posts and pages, the Portfolio content type will let you' +\n\t\t\t\t\t\t' manage all your portfolio projects in one place.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\t'settings-discussion': [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/settings/discussion-settings/' );\n\t\t\t},\n\t\t\tpost_id: 1504,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Discussion Settings' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'The Discussion Settings are used to control how visitors and other blogs interact with your site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl(\n\t\t\t\t\t'https://wordpress.com/support/enable-disable-comments-for-future-posts/'\n\t\t\t\t);\n\t\t\t},\n\t\t\tpost_id: 5997,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Enable and Disable Comments for Future Posts' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'You can enable/disable comments on future posts by going into your Discussion settings. '\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/comments/' );\n\t\t\t},\n\t\t\tpost_id: 113,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Comments' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Comments are a way for visitors to add feedback to your posts and pages.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/subscriptions-and-newsletters/' );\n\t\t\t},\n\t\t\tpost_id: 67810,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Subscriptions and Newsletters' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn how readers can subscribe to your blog to receive email notifications of all of your posts.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\t'settings-traffic': [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/getting-more-views-and-traffic/' );\n\t\t\t},\n\t\t\tpost_id: 3307,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Get More Views and Traffic' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Want more traffic? Here are some tips for attracting more visitors to your site!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/related-posts/' );\n\t\t\t},\n\t\t\tpost_id: 1545,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Related Posts' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'The Related Posts feature pulls relevant content from your blog to display at the bottom of your posts.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/site-verification-services/' );\n\t\t\t},\n\t\t\tpost_id: 5022,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Site Verification Services' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn how to verify your WordPress.com site for the webmaster tools that many search engines provide.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/amp-accelerated-mobile-pages/' );\n\t\t\t},\n\t\t\tpost_id: 122516,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Accelerated Mobile Pages (AMP)' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Accelerated Mobile Pages (AMP) allows browsers and apps to load your site more quickly on mobile devices. ' +\n\t\t\t\t\t\t'By default, it is enabled for every WordPress.com site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\t'settings-security': [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/security/' );\n\t\t\t},\n\t\t\tpost_id: 10977,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Security' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn what we do to help protect your site and your personal data, along with added steps ' +\n\t\t\t\t\t\t'we recommend you take to do the same.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/unwanted-comments/' );\n\t\t\t},\n\t\t\tpost_id: 5882,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Unwanted Comments and Comment Spam' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'There are many ways to protect your WordPress.com blogs from unwanted comments. Learn all about them!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/selecting-a-strong-password/' );\n\t\t\t},\n\t\t\tpost_id: 35364,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Selecting A Strong Password' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'The weakest point in any security for your online accounts is usually your password. Learn how to select a strong one.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tsettings: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/settings/' );\n\t\t\t},\n\t\t\tpost_id: 497,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Settings' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'The Settings menu of your site is where you will configure everything about how the blog works and functions.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/settings/general-settings/' );\n\t\t\t},\n\t\t\tpost_id: 1501,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'General Settings' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'The General Settings let you control how your site is displayed, such as the ' +\n\t\t\t\t\t\t'title, tagline, language, and visibility.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/site-icons/' );\n\t\t\t},\n\t\t\tpost_id: 1327,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Site Icons' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'A Site Icon is a unique icon for your site that is shown in your visitors browser tab ' +\n\t\t\t\t\t\t'and other places around WordPress.com.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/five-step-blog-setup/' );\n\t\t\t},\n\t\t\tpost_id: 100846,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Five Steps to Your Great New Blog' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Get ready to publish! Our five-step checklist walks you through all the fundamentals.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/manage-purchases/' );\n\t\t\t},\n\t\t\tpost_id: 111349,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Managing Purchases, Renewals, and Cancellations' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Have a question or need to change something about a purchase you have made? Learn how.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tthemes: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/themes/' );\n\t\t\t},\n\t\t\tpost_id: 2278,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Themes: An Overview' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'A theme controls the general look and feel of your site including things like ' +\n\t\t\t\t\t\t'page layout, widget locations, and default font.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl(\n\t\t\t\t\t'https://wordpress.com/support/themes/uploading-setting-up-custom-themes/child-themes/'\n\t\t\t\t);\n\t\t\t},\n\t\t\tpost_id: 134704,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Child Themes' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t\"The only limit on your site is your vision  if the themes you see don't match that, it's \" +\n\t\t\t\t\t\t'time to go beyond them. Learn to use child themes to customize and extend your website.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\ttheme: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/themes/' );\n\t\t\t},\n\t\t\tpost_id: 134704,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Themes: An Overview' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'A theme controls the general look and feel of your site including things like ' +\n\t\t\t\t\t\t'page layout, widget locations, and default font.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl(\n\t\t\t\t\t'https://wordpress.com/support/themes/uploading-setting-up-custom-themes/child-themes/'\n\t\t\t\t);\n\t\t\t},\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Child Themes' );\n\t\t\t},\n\t\t\tpost_id: 134704,\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t\"The only limit on your site is your vision  if the themes you see don't match that, it's \" +\n\t\t\t\t\t\t'time to go beyond them. Learn to use child themes to customize and extend your website.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tplans: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/discover-the-wordpress-com-plans/' );\n\t\t\t},\n\t\t\tpost_id: 140323,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Explore the WordPress.com Plans' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t\"Upgrading your plan unlocks a ton of features! We'll help you pick the best fit for your needs and goals.\"\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/plan-features/' );\n\t\t\t},\n\t\t\tpost_id: 134698,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'WordPress.com Plans' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn about the capabilities and features that the different plans unlock for your site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/auto-renewal/' );\n\t\t\t},\n\t\t\tpost_id: 110924,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Subscriptions for Plans and Domains' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Your WordPress.com plans and any domains you add to your sites are based on a yearly ' +\n\t\t\t\t\t\t'subscription that renews automatically.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/jetpack-add-ons/' );\n\t\t\t},\n\t\t\tpost_id: 115025,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Jetpack Plans' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn about the free Jetpack plugin, its benefits, and the useful capabilities and features that a Jetpack plan unlocks.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/manage-purchases/' );\n\t\t\t},\n\t\t\tpost_id: 111349,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Managing Purchases, Renewals, and Cancellations' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Have a question or need to change something about a purchase you have made? Learn how.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\t'gutenberg-editor': [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/wordpress-editor/' );\n\t\t\t},\n\t\t\tpost_id: 147594,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'What are \"Blocks\"?' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'The WordPress Editor uses blocks to transform the way you create content: it turns a single document into a collection of discrete elements with explicit, easy-to-tweak structure.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tintent: SELL_INTENT,\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl(\n\t\t\t\t\t'https://wordpress.com/support/video-tutorials-add-payments-features-to-your-site-with-our-guides/'\n\t\t\t\t);\n\t\t\t},\n\t\t\tpost_id: 175999,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'The Payments Block' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t\"The Payments block is one of WordPress.com's payment blocks that allows you to accept payments for one-time, monthly recurring, or annual payments on your website.\"\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/xml-rpc/' );\n\t\t\t},\n\t\t\tpost_id: 3595,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Offline Editing' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn how to create and edit content for your WordPress.com site even without being connected to the internet!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/adding-users/' );\n\t\t\t},\n\t\t\tpost_id: 2160,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Inviting Contributors, Followers, and Viewers' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Invite contributors, followers, and viewers to collaborate with others and grow your audience!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\treader: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/reader/' );\n\t\t\t},\n\t\t\tpost_id: 32011,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'The Reader: An Overview' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Read posts from all the sites you follow  even ones that arent on WordPress.com! ' +\n\t\t\t\t\t\t'Discover great new reads and keep track of your comments and replies in one convenient place.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/following/' );\n\t\t\t},\n\t\t\tpost_id: 4899,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Follow Blogs' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'When you follow a blog on WordPress.com, new posts from that site will automatically appear in your Reader.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/topics/' );\n\t\t\t},\n\t\t\tpost_id: 2166,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Following Specific Topics in the Reader' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Looking for posts on a specific topic? Besides following entire blogs, you can also follow posts on a specific subject ' +\n\t\t\t\t\t\t'from across WordPress.com. You do this by adding the topic youre interested in under the Tags heading in the Reader.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/grow-your-community/' );\n\t\t\t},\n\t\t\tpost_id: 132190,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Grow Your Community' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Youve worked hard on building your site, now its time to explore the community and get noticed.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\thelp: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/blogging-u/' );\n\t\t\t},\n\t\t\tpost_id: 117437,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Blogging U.' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Blogging U. courses deliver free expert advice, pro tips, and inspiration right to your ' +\n\t\t\t\t\t\t'email inbox. Sign up now!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/help-support-options/' );\n\t\t\t},\n\t\t\tpost_id: 149,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Help! Getting WordPress.com Support' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'WordPress.com offers a number of avenues for reaching helpful, individualized support.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/' );\n\t\t\t},\n\t\t\tget title() {\n\t\t\t\treturn translate( 'All Support Articles' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Looking to learn more about a feature? Our docs have all the details.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://learn.wordpress.com/' );\n\t\t\t},\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Self-guided Online Tutorial' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'A step-by-step guide to getting familiar with the platform.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/manage-purchases/' );\n\t\t\t},\n\t\t\tpost_id: 111349,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Managing Purchases, Renewals, and Cancellations' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Have a question or need to change something about a purchase you have made? Learn how.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tcomments: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/comments/' );\n\t\t\t},\n\t\t\tpost_id: 113,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Comments' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Comments are a way for visitors to add feedback to your posts and pages.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/comment-display-options/' );\n\t\t\t},\n\t\t\tpost_id: 5840,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Comment Display Options' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'You can control comment threading, paging, and comment order settings from the ' +\n\t\t\t\t\t\t'Discussion Settings page in your sites settings.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/unwanted-comments/' );\n\t\t\t},\n\t\t\tpost_id: 5882,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Unwanted Comments and Comment Spam' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'There are many ways to protect your WordPress.com blogs from unwanted comments. Learn all about them!'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/comment-likes/' );\n\t\t\t},\n\t\t\tpost_id: 88757,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Comment Likes' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Comment Likes: how to like others comments and control how Comment Likes appear on your site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\thosting: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/sftp/' );\n\t\t\t},\n\t\t\tpost_id: 159771,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'SFTP on WordPress.com' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t\"Access and edit your website's files directly by using an SFTP client.\"\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/phpmyadmin-and-mysql/' );\n\t\t\t},\n\t\t\tpost_id: 159822,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'phpMyAdmin and MySQL' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'For the tech-savvy, manage your database with phpMyAdmin and run a wide range of operations with MySQL.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/php-version-switching/' );\n\t\t\t},\n\t\t\tpost_id: 160597,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'PHP Version Switching' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Sites on the Pro Plan using custom plugins and/or custom themes now have the option to switch PHP versions.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tcheckout: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/plan-features/' );\n\t\t\t},\n\t\t\tpost_id: 134698,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'WordPress.com Plans' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn about the capabilities and features that the different plans unlock for your site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/jetpack-add-ons/' );\n\t\t\t},\n\t\t\tpost_id: 115025,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Jetpack Plans' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Learn about the free Jetpack plugin, its benefits, and the useful capabilities and features that a Jetpack plan unlocks.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/manage-purchases/' );\n\t\t\t},\n\t\t\tpost_id: 111349,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Manage Purchases and Refund Policy' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Have a question or need to change something about a purchase you have made? Learn how.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/auto-renewal/' );\n\t\t\t},\n\t\t\tpost_id: 110924,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Subscriptions for Plans and Domains' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Your WordPress.com plans and any domains you add to your sites are based on a yearly ' +\n\t\t\t\t\t\t'subscription that renews automatically.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tdomains: [\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/add-email/' );\n\t\t\t},\n\t\t\tpost_id: 34087,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add Email to your Domain' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Want to use a custom email with your domain, such as info@yourgroovydomain.com? There are multiple ways to add email to your custom domain.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/domains/custom-dns/' );\n\t\t\t},\n\t\t\tpost_id: 6595,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Manage Custom DNS' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Custom DNS records are special settings that change how your domain works. They allow you to connect your domain to third-party services that are not hosted on WordPress.com, such as an email provider.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl(\n\t\t\t\t\t'https://wordpress.com/support/move-domain/transfer-domain-registration/'\n\t\t\t\t);\n\t\t\t},\n\t\t\tpost_id: 41298,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Transfer a Domain to Another Registrar' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'This article walks you through transferring your domain registration to another registrar. Your domain will need to be unlocked and privacy removed (if applicable) for the transfer.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/domain-mapping-vs-domain-transfer/' );\n\t\t\t},\n\t\t\tpost_id: 157655,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Connect an Existing Domain' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'You can connect an existing domain you own thats registered elsewhere by either mapping or transferring. Domain mapping lets you connect a domain while keeping it registered at the current registrar (where you purchased the domain from). Domain transferring moves the domain to WordPress.com so we become the new registrar.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/domains/' );\n\t\t\t},\n\t\t\tpost_id: 1988,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'All about domains' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'A domain name is an address people use to visit your site. It tells the web browser where to look for your site. Just like a street address, a domain is how people visit your website online. And, like having a sign in front of your store, a custom domain name helps give your site a professional look.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tget link() {\n\t\t\t\treturn localizeUrl( 'https://wordpress.com/support/manage-purchases/' );\n\t\t\t},\n\t\t\tpost_id: 111349,\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Managing Purchases, Renewals, and Cancellations' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Have a question or need to change something about a purchase you have made? Learn how.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n\n/*\nsource: https://www.youtube.com/playlist?list=PLQFhxUeNFfdKx9gO0a2mp9h8pKjb2y9la\nrun this in the console to get the videos into a more helpful format (also removes duplicates):\n```JavaScript\ndata = {};\ndocument.querySelectorAll('.yt-simple-endpoint.ytd-playlist-video-renderer').forEach( function( e ) {\n\tdata[ new RegExp(/v=([^&]*)&/).exec( e.href )[1] ] = e.querySelector( '#video-title' ).innerHTML.trim();\n} );\nconsole.log( data );\n```\n*/\n\nconst videosForSection = {\n\tsharing: [\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=YVelWG3hf3o',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add Social Sharing Buttons to Your Website' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to add social sharing buttons to your WordPress.com site, which you can also ' +\n\t\t\t\t\t\t'do with a Jetpack-enabled WordPress site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=NcCe0ozmqFM',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Connect Your Blog to Facebook Using Publicize' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to share blog posts directly on Facebook from your WordPress.com site, ' +\n\t\t\t\t\t\t'which you can also do on a Jetpack-enabled WordPress site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=f44-4TgnWTs',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Display Your Instagram Feed on Your Website' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to display your latest Instagram photos right on your WordPress.com site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=3rTooGV_mlg',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Set Up the Social Links Menu' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to set up a social links menu on your WordPress.com or Jetpack-enabled WordPress site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=gmrOkkqMNlc',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Embed a Twitter Timeline in your Sidebar' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to display your Twitter timeline on your WordPress.com or Jetpack-enabled WordPress site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=vy-U5saqG9A',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Set Up a Social Media Icons Widget' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to set up the social media icons widget on your WordPress.com or Jetpack-enabled WordPress site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=N0GRBFRkzzs',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Embed a Tweet from Twitter in Your Website' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to embed a Tweet in your content (including posts and pages) on your WordPress.com ' +\n\t\t\t\t\t\t'or Jetpack-enabled WordPress website or blog.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=uVRji6bKJUE',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Embed an Instagram Photo in Your Website' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to embed an Instagram photo in your content (including posts and pages) on your WordPress.com ' +\n\t\t\t\t\t\t'or Jetpack-enabled WordPress website or blog.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=sKm3Q83JxM0',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Embed a Facebook Update in Your Website' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to embed a Facebook update in your content (including posts, pages, and even comments) on your ' +\n\t\t\t\t\t\t'WordPress.com or Jetpack-enabled WordPress website or blog.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=SBgNkre_b14',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Share Blog Posts Directly on Twitter' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to share blog posts directly on Twitter from your WordPress.com or Jetpack-enabled WordPress site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tsettings: [\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=0YCZ22k4SfQ',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add a Site Logo' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to add a custom logo to your WordPress.com site.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=vucZ1uZ2NPo',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Update Your Website Title and Tagline' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to update the Title and Tagline of your WordPress.com site, which you can also ' +\n\t\t\t\t\t\t'do on your Jetpack-enabled WordPress site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=Y6iPsPwYD7g',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your Privacy Settings' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to change your website privacy settings on WordPress.com.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=bjxKGxW0MRA',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add a Site Icon' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to add a site icon on WordPress.com.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=z6fCtvLB0wM',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Create a Multilingual Site' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to create a multilingual site on WordPress.com.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=D142Edhcpaw',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Customize Your Content Options' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to customize your content options on select WordPress.com themes.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=Vyr-g5SEuIA',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your Language Settings' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to change your blog or website language and your interface language settings on WordPress.com.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=EUuEuW_LCrc',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Activate Free Email Forwarding' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to activate free email forwarding from an address using a custom domain registered through WordPress.com.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\taccount: [\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=aO-6yu3_xWQ',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your Password' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to change your account password on WordPress.com.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=qhsjkqFdDZo',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your WordPress.com Username' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to change your username on WordPress.com.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=Tyxu_xT6q1k',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your WordPress.com Display Name' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to change your display name on WordPress.com.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=07Nf8FkjO4o',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your Account Email Address' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to change your account email address on WordPress.com.' );\n\t\t\t},\n\t\t},\n\t],\n\tcustomizer: [\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=pf_ST7gvY8c',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add a Custom Header Image' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to add a custom header image to your WordPress.com website or blog.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=CY20IAtl2Ac',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Create a Custom Website Menu' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to create a custom menu on your WordPress.com or Jetpack-enabled WordPress site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=2H_Jsgh2Z3Y',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add a Widget' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to add a widget to your WordPress.com website.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=ypFF4ONBfSQ',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add a Custom Background' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to add a custom background to your WordPress.com site.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=b8EuJDrNeOA',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your Site Fonts' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to change the fonts on your WordPress.com website or blog.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=7VPgvxV78Kc',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add a Gallery Widget' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to add an image gallery widget to your WordPress.com website or blog.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=oDBuaBLrwF8',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Use Featured Content' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to use the Featured Content option on your WordPress.com website or blog.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=3TqRr21zyiA',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add an Image Widget' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to add an image widget to your WordPress.com website or blog.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\t'posts-pages': [\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=3RPidSCQ0LI',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Create a Landing Page' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to create a one-page website or landing page on your WordPress.com site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=4IkFQzl5nXc',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Set Up a Website in 5 Steps' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to create a website on WordPress.com in five steps.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=mta6Y0o7yJk',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Set Up a Blog in 5 Steps' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to create a blog on WordPress.com in five steps.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=Gx7YNX1Wk5U',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Create a Page' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to create a page on your WordPress.com site.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=mCfuh5bCOwM',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Create a Post' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to create a post on WordPress.com.' );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=bEVHg6nopcs',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Use a Custom Menu in a Widget' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to use a custom menu in a widget on your WordPress.com or Jetpack-enabled WordPress site.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=nAzdUOlFoBI',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Configure a Static Homepage' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'By default, your new WordPress.com website displays your latest posts. Find out how to create a static homepage instead.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=MPpVeMmDOhk',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Show Related Posts on Your WordPress Blog' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to show related posts on your WordPress.com site, which you can also do on a Jetpack-enabled WordPress blog.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=JVnltCZUKC4',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add Testimonials' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to add testimonials to your WordPress.com website or blog.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=yH_gapAUGAA',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your Post or Page Visibility Settings' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to change your page or post visibility settings WordPress.com.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tmedia: [\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=VjGnEHyqVqQ',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Add a Photo Gallery' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'Find out how to add a photo gallery on your WordPress.com and Jetpack-enabled website.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n\tthemes: [\n\t\t{\n\t\t\ttype: RESULT_VIDEO,\n\t\t\tlink: 'https://www.youtube.com/watch?v=yOfAuOb68Hc',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Change Your Website Theme on WordPress.com' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate( 'Find out how to change your WordPress.com theme.' );\n\t\t\t},\n\t\t},\n\t],\n};\n\nconst toursForSection = {\n\tmedia: [\n\t\t{\n\t\t\ttype: RESULT_TOUR,\n\t\t\ttour: 'mediaBasicsTour',\n\t\t\tkey: 'tour:mediaBasicsTour',\n\t\t\tget title() {\n\t\t\t\treturn translate( 'Learn Media Library Basics' );\n\t\t\t},\n\t\t\tget description() {\n\t\t\t\treturn translate(\n\t\t\t\t\t'The Media Library is a useful tool to help you manage, search, and edit your photos, videos, documents, and other media.'\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport function getContextResults( section, siteIntent ) {\n\t// Posts and Pages have a common help section\n\tif ( section === 'posts' || section === 'pages' ) {\n\t\tsection = 'posts-pages';\n\t}\n\n\tconst fallbackLinks = siteIntent === 'write' ? bloggerFallbackLinks : defaultFallbackLinks;\n\t// make sure editorially to show at most one tour and one video at once\n\t// `first` is a safe-guard in case that fails\n\tconst video = videosForSection[ section ]?.[ 0 ];\n\tconst tour = toursForSection[ section ]?.[ 0 ];\n\tlet links = contextLinksForSection[ section ] ?? fallbackLinks;\n\n\t// If true, still display fallback links in addition (as opposed to instead\n\t// of) the other context links.\n\tif ( section === 'home' ) {\n\t\treturn [ tour, video, ...fallbackLinks, ...links ].filter( Boolean );\n\t}\n\n\t// Remove sell docs if not on a site with the 'sell' intent.\n\tif ( section === 'gutenberg-editor' && siteIntent !== 'sell' ) {\n\t\tlinks = links.filter( ( link ) => {\n\t\t\treturn link.intent !== SELL_INTENT;\n\t\t} );\n\t}\n\n\treturn [ tour, video, ...links ].filter( Boolean );\n}\n","import { recordTracksEvent } from '@automattic/calypso-analytics';\nimport { useMobileBreakpoint } from '@automattic/viewport-react';\nimport classNames from 'classnames';\nimport { useState, useEffect, useRef } from 'react';\nimport { VIEW_CONTACT, VIEW_RICH_RESULT } from './constants';\nimport InlineHelpContactPage, { InlineHelpContactPageButton } from './inline-help-contact-page';\nimport InlineHelpEmbedResult from './inline-help-embed-result';\nimport InlineHelpSearchCard from './inline-help-search-card';\nimport InlineHelpSearchResults from './inline-help-search-results';\n\nimport './inline-help-center-content.scss';\n\nconst InlineHelpCenterContent = ( {\n\tselectedArticle,\n\tsetSelectedArticle,\n\tsetHelpCenterFooter,\n} ) => {\n\tconst isMobile = useMobileBreakpoint();\n\tconst [ searchQuery, setSearchQuery ] = useState( '' );\n\tconst [ activeSecondaryView, setActiveSecondaryView ] = useState( null );\n\tconst secondaryViewRef = useRef();\n\n\tconst openSecondaryView = ( secondaryViewKey ) => {\n\t\trecordTracksEvent( `calypso_inlinehelp_${ secondaryViewKey }_show`, {\n\t\t\tlocation: 'inline-help-popover',\n\t\t} );\n\t\tsetActiveSecondaryView( secondaryViewKey );\n\t};\n\n\t// Focus the secondary popover contents after the state is set\n\tuseEffect( () => {\n\t\tconst contentTitle = secondaryViewRef.current.querySelector( 'h2' );\n\n\t\tif ( contentTitle ) {\n\t\t\tcontentTitle.focus();\n\t\t}\n\t}, [ activeSecondaryView ] );\n\n\tconst openResultView = ( event, result ) => {\n\t\tevent.preventDefault();\n\t\tsetSelectedArticle( result );\n\t\topenSecondaryView( VIEW_RICH_RESULT );\n\t};\n\n\tconst closeSecondaryView = () => {\n\t\trecordTracksEvent( `calypso_inlinehelp_${ activeSecondaryView }_hide`, {\n\t\t\tlocation: 'inline-help-popover',\n\t\t} );\n\t\tsetActiveSecondaryView( null );\n\t\tsetSelectedArticle( null );\n\t};\n\n\tconst openContactView = () => {\n\t\topenSecondaryView( VIEW_CONTACT );\n\t};\n\n\tconst setAdminSection = () => {\n\t\tif ( ! isMobile ) {\n\t\t\treturn;\n\t\t}\n\t};\n\n\tconst renderSecondaryView = () => {\n\t\tconst classes = classNames(\n\t\t\t'inline-help__secondary-view',\n\t\t\t`inline-help__${ activeSecondaryView }`\n\t\t);\n\n\t\treturn (\n\t\t\t<section ref={ secondaryViewRef } className={ classes }>\n\t\t\t\t{\n\t\t\t\t\t{\n\t\t\t\t\t\t[ VIEW_CONTACT ]: (\n\t\t\t\t\t\t\t<InlineHelpContactPage\n\t\t\t\t\t\t\t\tcloseContactPage={ closeSecondaryView }\n\t\t\t\t\t\t\t\tonSelectResource={ openResultView }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t),\n\t\t\t\t\t\t[ VIEW_RICH_RESULT ]: (\n\t\t\t\t\t\t\t<InlineHelpEmbedResult\n\t\t\t\t\t\t\t\tresult={ selectedArticle }\n\t\t\t\t\t\t\t\thandleBackButton={ closeSecondaryView }\n\t\t\t\t\t\t\t\tsearchQuery={ searchQuery }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t),\n\t\t\t\t\t}[ activeSecondaryView ]\n\t\t\t\t}\n\t\t\t</section>\n\t\t);\n\t};\n\n\tconst renderHelpCenterContent = () => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"inline-help__search\">\n\t\t\t\t\t<InlineHelpSearchCard\n\t\t\t\t\t\tsearchQuery={ searchQuery }\n\t\t\t\t\t\tonSearch={ setSearchQuery }\n\t\t\t\t\t\tisVisible={ ! activeSecondaryView }\n\t\t\t\t\t/>\n\t\t\t\t\t<InlineHelpSearchResults\n\t\t\t\t\t\tonSelect={ openResultView }\n\t\t\t\t\t\tonAdminSectionSelect={ setAdminSection }\n\t\t\t\t\t\tsearchQuery={ searchQuery }\n\t\t\t\t\t\topenAdminInNewTab={ true }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{ renderSecondaryView() }\n\t\t\t</>\n\t\t);\n\t};\n\n\tuseEffect( () => {\n\t\tsetHelpCenterFooter(\n\t\t\tactiveSecondaryView ? null : (\n\t\t\t\t<InlineHelpContactPageButton\n\t\t\t\t\tonClick={ openContactView }\n\t\t\t\t\tonSelectResource={ openResultView }\n\t\t\t\t/>\n\t\t\t)\n\t\t);\n\t}, [ activeSecondaryView ] );\n\n\tuseEffect( () => {\n\t\tif ( selectedArticle ) {\n\t\t\topenSecondaryView( VIEW_RICH_RESULT );\n\t\t}\n\t}, [] );\n\n\tconst className = classNames(\n\t\t'inline-help-center__content',\n\t\tactiveSecondaryView && `is-secondary-view-${ activeSecondaryView }`,\n\t\t{\n\t\t\t'is-secondary-view-active': activeSecondaryView,\n\t\t}\n\t);\n\n\treturn <div className={ className }>{ renderHelpCenterContent() }</div>;\n};\n\nexport default InlineHelpCenterContent;\n","import { Button, Gridicon } from '@automattic/components';\nimport { useI18n } from '@wordpress/react-i18n';\nimport InlineHelpSearchResults from './inline-help-search-results';\n\nimport './inline-help-contact-page.scss';\n\ninterface Props {\n\tcloseContactPage: () => void;\n\tonSelectResource: () => void;\n}\n\nconst InlineHelpContactPage: React.FC< Props > = ( { closeContactPage, onSelectResource } ) => {\n\tconst { __ } = useI18n();\n\n\treturn (\n\t\t<div className=\"inline-help__contact-page\">\n\t\t\t<Button borderless={ true } onClick={ closeContactPage }>\n\t\t\t\t<Gridicon icon={ 'chevron-left' } size={ 18 } />\n\t\t\t\t{ __( 'Back' ) }\n\t\t\t</Button>\n\t\t\t<div className=\"inline-help__contact-content\">\n\t\t\t\t<h3>{ __( 'Contact our Wordpress.com experts' ) }</h3>\n\t\t\t\t<div className=\"inline-help__contact-boxes\">\n\t\t\t\t\t<div className=\"inline-help__contact-box\">\n\t\t\t\t\t\t<div style={ { backgroundColor: 'red' } }>\n\t\t\t\t\t\t\t<Gridicon icon={ 'comment' } size={ 18 } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h2>{ __( 'Live chat' ) }</h2>\n\t\t\t\t\t\t<p>{ __( 'Get an immediate reply' ) }</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"inline-help__contact-box\">\n\t\t\t\t\t\t<div style={ { backgroundColor: 'blue' } }>\n\t\t\t\t\t\t\t<Gridicon icon={ 'mail' } size={ 18 } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h2>{ __( 'Email' ) }</h2>\n\t\t\t\t\t\t<p>{ __( 'An expert will get back to you soon' ) }</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<InlineHelpSearchResults onSelect={ onSelectResource } placeholderLines={ 4 } />\n\t\t</div>\n\t);\n};\n\nexport const InlineHelpContactPageButton: React.FC< { onClick: () => void } > = ( { onClick } ) => {\n\tconst { __ } = useI18n();\n\n\treturn (\n\t\t<Button className=\"inline-help__contact-button\" borderless={ false } onClick={ onClick }>\n\t\t\t<Gridicon icon={ 'comment' } size={ 24 } fill=\"\" />\n\t\t\t<span>{ __( 'Still need help?' ) }</span>\n\t\t</Button>\n\t);\n};\n\nexport default InlineHelpContactPage;\n","import { recordTracksEvent } from '@automattic/calypso-analytics';\nimport { Button, Gridicon } from '@automattic/components';\nimport { Flex, FlexItem } from '@wordpress/components';\nimport { useEffect } from '@wordpress/element';\nimport { useI18n } from '@wordpress/react-i18n';\nimport React from 'react';\nimport ArticleContent from 'calypso/blocks/support-article-dialog/dialog-content';\nimport { RESULT_ARTICLE } from './constants';\n\ninterface Result {\n\tpost_id: number;\n\tlink: string;\n\ttype: string;\n}\n\ninterface Props {\n\tresult: Result;\n\thandleBackButton: () => void;\n\tsearchQuery: string;\n}\n\nconst InlineHelpEmbedResult: React.FC< Props > = ( { result, handleBackButton, searchQuery } ) => {\n\tconst { post_id: postId, link, type = RESULT_ARTICLE } = result;\n\tconst { __ } = useI18n();\n\n\tuseEffect( () => {\n\t\tconst tracksData = {\n\t\t\tsearch_query: searchQuery,\n\t\t\tlocation: 'inline-help-popover',\n\t\t\tresult_url: result.link,\n\t\t};\n\n\t\trecordTracksEvent( `calypso_inlinehelp_${ type }_open`, tracksData );\n\t}, [] );\n\n\treturn (\n\t\t<div className=\"inline-help__embed-result\">\n\t\t\t<Flex justify=\"space-between\">\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<Button borderless={ true } onClick={ handleBackButton }>\n\t\t\t\t\t\t<Gridicon icon={ 'chevron-left' } size={ 18 } />\n\t\t\t\t\t\t{ __( 'Back' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<Button borderless={ true } href={ link } target=\"_blank\">\n\t\t\t\t\t\t<Gridicon icon={ 'external' } size={ 18 } />\n\t\t\t\t\t</Button>\n\t\t\t\t</FlexItem>\n\t\t\t</Flex>\n\t\t\t<ArticleContent postId={ postId } blogId={ null } articleUrl={ null } />\n\t\t</div>\n\t);\n};\n\nexport default InlineHelpEmbedResult;\n","import debugFactory from 'debug';\nimport { useTranslate } from 'i18n-calypso';\nimport PropTypes from 'prop-types';\nimport { useRef, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport SearchCard from 'calypso/components/search-card';\nimport { useHelpSearchQuery } from 'calypso/data/help/use-help-search-query';\nimport { recordTracksEvent } from 'calypso/state/analytics/actions';\nimport './inline-help-search-card.scss';\n\n/**\n * Module variables\n */\nconst debug = debugFactory( 'calypso:inline-help' );\n\nconst InlineHelpSearchCard = ( {\n\tsearchQuery = '',\n\tlocation = 'inline-help-popover',\n\tisVisible = true,\n\tplaceholder,\n\tonSearch,\n} ) => {\n\tconst cardRef = useRef();\n\tconst translate = useTranslate();\n\tconst dispatch = useDispatch();\n\tconst { isLoading: isSearching } = useHelpSearchQuery( searchQuery );\n\n\t// Focus in the input element.\n\tuseEffect( () => {\n\t\tconst inputElement = cardRef.current?.searchInput;\n\t\t// Focuses only in the popover.\n\t\tif ( location !== 'inline-help-popover' || ! inputElement || ! isVisible ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst timerId = setTimeout( () => inputElement.focus(), 0 );\n\n\t\treturn () => window.clearTimeout( timerId );\n\t}, [ cardRef, location, isVisible ] );\n\n\tconst searchHelperHandler = ( query ) => {\n\t\tconst inputQuery = query.trim();\n\n\t\tif ( inputQuery?.length ) {\n\t\t\tdebug( 'search query received: ', searchQuery );\n\t\t\tdispatch(\n\t\t\t\trecordTracksEvent( 'calypso_inlinehelp_search', {\n\t\t\t\t\tsearch_query: searchQuery,\n\t\t\t\t\tlocation: location,\n\t\t\t\t} )\n\t\t\t);\n\t\t}\n\n\t\t// Set the query search\n\t\tonSearch?.( query );\n\t};\n\n\treturn (\n\t\t<SearchCard\n\t\t\tref={ cardRef }\n\t\t\tsearching={ isSearching }\n\t\t\tinitialValue={ searchQuery }\n\t\t\tonSearch={ searchHelperHandler }\n\t\t\tplaceholder={ placeholder || translate( 'Search for help' ) }\n\t\t\tdelaySearch\n\t\t/>\n\t);\n};\n\nInlineHelpSearchCard.propTypes = {\n\tsearchQuery: PropTypes.string,\n\tonSearch: PropTypes.func,\n\tplaceholder: PropTypes.string,\n\tlocation: PropTypes.string,\n};\n\nexport default InlineHelpSearchCard;\n","import { Gridicon } from '@automattic/components';\nimport { localizeUrl } from '@automattic/i18n-utils';\nimport { speak } from '@wordpress/a11y';\nimport { useTranslate } from 'i18n-calypso';\nimport { debounce } from 'lodash';\nimport page from 'page';\nimport PropTypes from 'prop-types';\nimport { Fragment, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getContextResults } from 'calypso/blocks/inline-help/contextual-help';\nimport QueryUserPurchases from 'calypso/components/data/query-user-purchases';\nimport { useHelpSearchQuery } from 'calypso/data/help/use-help-search-query';\nimport { decodeEntities, preventWidows } from 'calypso/lib/formatting';\nimport { recordTracksEvent } from 'calypso/state/analytics/actions';\nimport getAdminHelpResults from 'calypso/state/inline-help/selectors/get-admin-help-results';\nimport hasCancelableUserPurchases from 'calypso/state/selectors/has-cancelable-user-purchases';\nimport { useSiteOption } from 'calypso/state/sites/hooks';\nimport { getSectionName } from 'calypso/state/ui/selectors';\nimport {\n\tSUPPORT_TYPE_ADMIN_SECTION,\n\tSUPPORT_TYPE_API_HELP,\n\tSUPPORT_TYPE_CONTEXTUAL_HELP,\n} from './constants';\nimport PlaceholderLines from './placeholder-lines';\nimport './inline-help-search-results.scss';\n\nconst noop = () => {};\n\nfunction debounceSpeak( { message = '', priority = 'polite', timeout = 800 } ) {\n\treturn debounce( () => {\n\t\tspeak( message, priority );\n\t}, timeout );\n}\n\nconst loadingSpeak = debounceSpeak( { message: 'Loading search results.', timeout: 1500 } );\n\nconst resultsSpeak = debounceSpeak( { message: 'Search results loaded.' } );\n\nconst errorSpeak = debounceSpeak( { message: 'No search results found.' } );\n\nconst filterManagePurchaseLink = ( hasPurchases, isPurchasesSection ) => {\n\tif ( hasPurchases || isPurchasesSection ) {\n\t\treturn () => true;\n\t}\n\treturn ( { post_id } ) => post_id !== 111349;\n};\n\nfunction HelpSearchResults( {\n\texternalLinks = false,\n\tonSelect,\n\tonAdminSectionSelect = noop,\n\tsearchQuery = '',\n\tplaceholderLines,\n\topenAdminInNewTab = false,\n} ) {\n\tconst translate = useTranslate();\n\tconst dispatch = useDispatch();\n\n\tconst hasPurchases = useSelector( hasCancelableUserPurchases );\n\tconst sectionName = useSelector( getSectionName );\n\tconst isPurchasesSection = [ 'purchases', 'site-purchases' ].includes( sectionName );\n\tconst siteIntent = useSiteOption( 'site_intent' );\n\tconst rawContextualResults = useMemo(\n\t\t() => getContextResults( sectionName, siteIntent ),\n\t\t[ sectionName, siteIntent ]\n\t);\n\tconst adminResults = useSelector( ( state ) => getAdminHelpResults( state, searchQuery, 3 ) );\n\n\tconst contextualResults = rawContextualResults.filter(\n\t\t// Unless searching with Inline Help or on the Purchases section, hide the\n\t\t// \"Managing Purchases\" documentation link for users who have not made a purchase.\n\t\tfilterManagePurchaseLink( hasPurchases, isPurchasesSection )\n\t);\n\tconst { data: searchData, isLoading: isSearching } = useHelpSearchQuery( searchQuery );\n\n\tconst searchResults = searchData?.wordpress_support_links ?? [];\n\tconst hasAPIResults = searchResults.length > 0;\n\n\tuseEffect( () => {\n\t\t// Cancel all queued speak messages.\n\t\tloadingSpeak.cancel();\n\t\tresultsSpeak.cancel();\n\t\terrorSpeak.cancel();\n\n\t\t// If there's no query, then we don't need to announce anything.\n\t\tif ( ! searchQuery ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isSearching ) {\n\t\t\tloadingSpeak();\n\t\t} else if ( ! hasAPIResults ) {\n\t\t\terrorSpeak();\n\t\t} else if ( hasAPIResults ) {\n\t\t\tresultsSpeak();\n\t\t}\n\t}, [ isSearching, hasAPIResults, searchQuery ] );\n\n\tconst onLinkClickHandler = ( event, result, type ) => {\n\t\tconst { link } = result;\n\t\t// check and catch admin section links.\n\t\tif ( type === SUPPORT_TYPE_ADMIN_SECTION && link ) {\n\t\t\t// record track-event.\n\t\t\tdispatch(\n\t\t\t\trecordTracksEvent( 'calypso_inlinehelp_admin_section_visit', {\n\t\t\t\t\tlink: link,\n\t\t\t\t\tsearch_term: searchQuery,\n\t\t\t\t} )\n\t\t\t);\n\n\t\t\t// push state only if it's internal link.\n\t\t\tif ( ! /^http/.test( link ) ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\topenAdminInNewTab ? window.open( 'https://wordpress.com' + link, '_blank' ) : page( link );\n\t\t\t\tonAdminSectionSelect( event );\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tonSelect( event, result );\n\t};\n\n\tconst renderHelpLink = ( result, type ) => {\n\t\tconst { link, title, icon } = result;\n\n\t\tconst external = externalLinks && type !== SUPPORT_TYPE_ADMIN_SECTION;\n\n\t\treturn (\n\t\t\t<Fragment key={ link ?? title }>\n\t\t\t\t<li className=\"inline-help__results-item\">\n\t\t\t\t\t<div className=\"inline-help__results-cell\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={ localizeUrl( link ) }\n\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\tif ( ! external ) {\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonLinkClickHandler( event, result, type );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t{ ...( external && {\n\t\t\t\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\t\t\t\trel: 'noreferrer',\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ icon && <Gridicon icon={ icon } size={ 18 } /> }\n\t\t\t\t\t\t\t<span>{ preventWidows( decodeEntities( title ) ) }</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\tconst renderSearchResultsSection = ( { type, title, results, condition } ) => {\n\t\tconst id = `inline-search--${ type }`;\n\n\t\treturn condition ? (\n\t\t\t<Fragment key={ id }>\n\t\t\t\t{ title ? (\n\t\t\t\t\t<h3 id={ id } className=\"inline-help__results-title\">\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</h3>\n\t\t\t\t) : null }\n\t\t\t\t<ul className=\"inline-help__results-list\" aria-labelledby={ title ? id : undefined }>\n\t\t\t\t\t{ results.map( ( result ) => renderHelpLink( result, type ) ) }\n\t\t\t\t</ul>\n\t\t\t</Fragment>\n\t\t) : null;\n\t};\n\n\tconst renderSearchSections = () => {\n\t\tconst sections = [\n\t\t\t{\n\t\t\t\ttype: SUPPORT_TYPE_API_HELP,\n\t\t\t\ttitle: translate( 'Support articles' ),\n\t\t\t\tresults: searchResults.slice( 0, 5 ),\n\t\t\t\tcondition: ! isSearching && searchResults.length > 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: SUPPORT_TYPE_CONTEXTUAL_HELP,\n\t\t\t\ttitle: ! searchQuery.length ? translate( 'This might interest you' ) : '',\n\t\t\t\tresults: contextualResults.slice( 0, 6 ),\n\t\t\t\tcondition: ! isSearching && ! searchResults.length && contextualResults.length > 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: SUPPORT_TYPE_ADMIN_SECTION,\n\t\t\t\ttitle: translate( 'Show me where to' ),\n\t\t\t\tresults: adminResults,\n\t\t\t\tcondition: !! searchQuery && adminResults.length > 0,\n\t\t\t},\n\t\t];\n\n\t\treturn sections.map( renderSearchResultsSection );\n\t};\n\n\tconst resultsLabel = hasAPIResults\n\t\t? translate( 'Search Results' )\n\t\t: translate( 'Helpful resources for this section' );\n\n\tconst renderSearchResults = () => {\n\t\tif ( isSearching && ! searchResults.length && ! adminResults.length ) {\n\t\t\treturn <PlaceholderLines lines={ placeholderLines } />;\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ searchQuery && ! ( hasAPIResults || isSearching ) ? (\n\t\t\t\t\t<p className=\"inline-help__empty-results\">\n\t\t\t\t\t\t{ translate(\n\t\t\t\t\t\t\t'Sorry, there were no matches. Here are some of the most searched for help pages for this section:'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t) : null }\n\n\t\t\t\t<div className=\"inline-help__results\" aria-label={ resultsLabel }>\n\t\t\t\t\t{ renderSearchSections() }\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<QueryUserPurchases />\n\t\t\t{ renderSearchResults() }\n\t\t</>\n\t);\n}\n\nHelpSearchResults.propTypes = {\n\tsearchQuery: PropTypes.string,\n\tonSelect: PropTypes.func.isRequired,\n\tonAdminSectionSelect: PropTypes.func,\n};\n\nexport default HelpSearchResults;\n","import './placeholder-lines.scss';\n\nexport default function PlaceholderLines( { lines = 4 } ) {\n\treturn (\n\t\t<div className=\"inline-help__results-placeholder\">\n\t\t\t{ Array.from( { length: lines }, ( _, n ) => (\n\t\t\t\t<div key={ n } className=\"inline-help__results-placeholder-item\" />\n\t\t\t) ) }\n\t\t</div>\n\t);\n}\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { SUPPORT_BLOG_ID } from 'calypso/blocks/inline-help/constants';\nimport QueryReaderPost from 'calypso/components/data/query-reader-post';\nimport QueryReaderSite from 'calypso/components/data/query-reader-site';\nimport EmbedContainer from 'calypso/components/embed-container';\nimport useSupportArticleAlternatesQuery from 'calypso/data/support-article-alternates/use-support-article-alternates-query';\nimport { getPostByKey } from 'calypso/state/reader/posts/selectors';\nimport SupportArticleHeader from './header';\nimport Placeholders from './placeholders';\n\nimport './style.scss';\nimport './content.scss';\n\nconst getPostKey = ( blogId, postId ) => ( { blogId, postId } );\n\nconst useSupportArticleAlternatePostKey = ( blogId, postId ) => {\n\tconst supportArticleAlternates = useSupportArticleAlternatesQuery( blogId, postId );\n\tif ( supportArticleAlternates.isLoading ) {\n\t\treturn null;\n\t}\n\n\tif ( ! supportArticleAlternates.data ) {\n\t\treturn getPostKey( blogId, postId );\n\t}\n\n\treturn getPostKey( supportArticleAlternates.data.blog_id, supportArticleAlternates.data.page_id );\n};\n\nconst DialogContent = ( { postId, blogId, articleUrl } ) => {\n\tconst postKey = useSupportArticleAlternatePostKey( blogId ?? SUPPORT_BLOG_ID, postId );\n\tconst post = useSelector( ( state ) => getPostByKey( state, postKey ) );\n\tconst isLoading = ! post || ! postKey;\n\tconst siteId = post?.site_ID;\n\tconst shouldQueryReaderPost = ! post && postKey;\n\n\tuseEffect( () => {\n\t\t//If a url includes an anchor, let's scroll this into view!\n\t\tif (\n\t\t\ttypeof window !== 'undefined' &&\n\t\t\tarticleUrl &&\n\t\t\tarticleUrl.indexOf( '#' ) !== -1 &&\n\t\t\tpost?.content\n\t\t) {\n\t\t\tsetTimeout( () => {\n\t\t\t\tconst anchorId = articleUrl.split( '#' ).pop();\n\t\t\t\tconst element = document.getElementById( anchorId );\n\t\t\t\tif ( element ) {\n\t\t\t\t\telement.scrollIntoView();\n\t\t\t\t}\n\t\t\t}, 0 );\n\t\t}\n\t}, [ articleUrl, post ] );\n\n\treturn (\n\t\t<>\n\t\t\t{ siteId && <QueryReaderSite siteId={ +siteId } /> }\n\t\t\t{ shouldQueryReaderPost && <QueryReaderPost postKey={ postKey } /> }\n\t\t\t<article className=\"support-article-dialog__story\">\n\t\t\t\t<SupportArticleHeader post={ post } isLoading={ isLoading } />\n\t\t\t\t{\n\t\t\t\t\tisLoading ? (\n\t\t\t\t\t\t<Placeholders />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t/*eslint-disable react/no-danger */\n\n\t\t\t\t\t\t<EmbedContainer>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"support-article-dialog__story-content\"\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={ { __html: post?.content } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</EmbedContainer>\n\t\t\t\t\t)\n\t\t\t\t\t/*eslint-enable react/no-danger */\n\t\t\t\t}\n\t\t\t</article>\n\t\t</>\n\t);\n};\n\nDialogContent.propTypes = {\n\tpostId: PropTypes.number.isRequired,\n\tblogId: PropTypes.number,\n\tarticleUrl: PropTypes.string,\n};\n\nexport default DialogContent;\n","import PropTypes from 'prop-types';\nimport ExternalLink from 'calypso/components/external-link';\n\nconst SupportArticleHeader = ( { post, isLoading } ) =>\n\tisLoading || ! post ? (\n\t\t<div className=\"support-article-dialog__header is-placeholder\">\n\t\t\t<h1 className=\"support-article-dialog__header-title is-placeholder\">Post loading</h1>\n\t\t</div>\n\t) : (\n\t\t<div className=\"support-article-dialog__header\">\n\t\t\t<h1 className=\"support-article-dialog__header-title\">\n\t\t\t\t<ExternalLink\n\t\t\t\t\tclassName=\"support-article-dialog__header-title-link\"\n\t\t\t\t\thref={ post.URL }\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\ticon={ false }\n\t\t\t\t>\n\t\t\t\t\t{ post.title }\n\t\t\t\t</ExternalLink>\n\t\t\t</h1>\n\t\t</div>\n\t);\n\nSupportArticleHeader.propTypes = {\n\tpost: PropTypes.object,\n\tisLoading: PropTypes.bool,\n};\n\nexport default SupportArticleHeader;\n","import { Fragment } from 'react';\n\nconst PlaceHolders = () => (\n\t<Fragment>\n\t\t<div>\n\t\t\t<p className=\"support-article-dialog__placeholder-text\" />\n\t\t\t<p className=\"support-article-dialog__placeholder-text\" />\n\t\t</div>\n\t\t<div>\n\t\t\t<p className=\"support-article-dialog__placeholder-text\" />\n\t\t\t<p className=\"support-article-dialog__placeholder-text\" />\n\t\t</div>\n\t\t<div>\n\t\t\t<p className=\"support-article-dialog__placeholder-text\" />\n\t\t\t<p className=\"support-article-dialog__placeholder-text\" />\n\t\t</div>\n\t\t<div>\n\t\t\t<p className=\"support-article-dialog__placeholder-text\" />\n\t\t\t<p className=\"support-article-dialog__placeholder-text\" />\n\t\t</div>\n\t</Fragment>\n);\n\nexport default PlaceHolders;\n","import PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { isPostKeyLike } from 'calypso/reader/post-key';\nimport { fetchPost } from 'calypso/state/reader/posts/actions';\nimport { getPostByKey } from 'calypso/state/reader/posts/selectors';\n\nclass QueryReaderPost extends Component {\n\tstatic propTypes = {\n\t\tpostKey: PropTypes.object.isRequired,\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.maybeFetch();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.maybeFetch();\n\t}\n\n\tmaybeFetch = () => {\n\t\tconst { post, postKey } = this.props;\n\n\t\tif ( isPostKeyLike( postKey ) && ( ! post || post._state === 'minimal' ) ) {\n\t\t\tthis.props.fetchPost( postKey );\n\t\t}\n\t};\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\nexport default connect(\n\t( state, ownProps ) => ( {\n\t\tpost: getPostByKey( state, ownProps.postKey ),\n\t} ),\n\t{ fetchPost }\n)( QueryReaderPost );\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { requestSite } from 'calypso/state/reader/sites/actions';\nimport { shouldSiteBeFetched } from 'calypso/state/reader/sites/selectors';\n\nfunction QueryReaderSite( { siteId } ) {\n\tconst dispatch = useDispatch();\n\tconst shouldFetch = useSelector( ( state ) => shouldSiteBeFetched( state, siteId ) );\n\n\tuseEffect( () => {\n\t\tif ( siteId && shouldFetch ) {\n\t\t\tdispatch( requestSite( siteId ) );\n\t\t}\n\t}, [ dispatch, siteId, shouldFetch ] );\n\n\treturn null;\n}\n\nQueryReaderSite.propTypes = {\n\tsiteId: PropTypes.number,\n};\n\nexport default QueryReaderSite;\n","import PropTypes from 'prop-types';\nimport { Fragment, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getPreference } from 'calypso/state/preferences/selectors';\nimport getPrimarySiteId from 'calypso/state/selectors/get-primary-site-id';\nimport { requestSites, requestSite } from 'calypso/state/sites/actions';\nimport {\n\tisRequestingSites,\n\tisRequestingSite,\n\thasAllSitesList,\n} from 'calypso/state/sites/selectors';\n\nconst getRecentSites = ( state ) => getPreference( state, 'recentSites' );\n\nconst requestAll = () => ( dispatch, getState ) => {\n\tif ( ! isRequestingSites( getState() ) ) {\n\t\tdispatch( requestSites() );\n\t}\n};\n\nfunction QueryAll() {\n\tconst dispatch = useDispatch();\n\n\tuseEffect( () => {\n\t\tdispatch( requestAll() );\n\t}, [ dispatch ] );\n\n\treturn null;\n}\n\nconst requestSingle = ( siteId ) => ( dispatch, getState ) => {\n\tif ( siteId && ! isRequestingSite( getState(), siteId ) ) {\n\t\tdispatch( requestSite( siteId ) );\n\t}\n};\n\nfunction QuerySingle( { siteId } ) {\n\tconst dispatch = useDispatch();\n\n\tuseEffect( () => {\n\t\tif ( siteId ) {\n\t\t\tdispatch( requestSingle( siteId ) );\n\t\t}\n\t}, [ dispatch, siteId ] );\n\n\treturn null;\n}\n\nconst requestPrimaryAndRecent = ( siteIds ) => ( dispatch, getState ) => {\n\tconst state = getState();\n\tif ( hasAllSitesList( state ) ) {\n\t\treturn;\n\t}\n\n\tsiteIds.forEach( ( siteId ) => dispatch( requestSingle( siteId ) ) );\n};\n\nfunction QueryPrimaryAndRecent() {\n\tconst primarySiteId = useSelector( getPrimarySiteId );\n\t// This should return the same reference every time, so we can compare by reference.\n\tconst recentSiteIds = useSelector( getRecentSites );\n\tconst dispatch = useDispatch();\n\n\tuseEffect( () => {\n\t\tconst siteIds = [ ...( primarySiteId ? [ primarySiteId ] : [] ), ...( recentSiteIds ?? [] ) ];\n\n\t\tif ( siteIds.length ) {\n\t\t\tdispatch( requestPrimaryAndRecent( siteIds ) );\n\t\t}\n\t}, [ dispatch, primarySiteId, recentSiteIds ] );\n\n\treturn null;\n}\n\nexport default function QuerySites( { siteId, allSites = false, primaryAndRecent = false } ) {\n\treturn (\n\t\t<Fragment>\n\t\t\t{ allSites && <QueryAll /> }\n\t\t\t{ siteId && <QuerySingle siteId={ siteId } /> }\n\t\t\t{ primaryAndRecent && <QueryPrimaryAndRecent /> }\n\t\t</Fragment>\n\t);\n}\n\nQuerySites.propTypes = {\n\tallSites: PropTypes.bool,\n\tprimaryAndRecent: PropTypes.bool,\n\tsiteId: PropTypes.oneOfType( [\n\t\tPropTypes.number,\n\t\t// The actions and selectors we use also work with site slugs.\n\t\tPropTypes.string,\n\t] ),\n};\n","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getCurrentUserId } from 'calypso/state/current-user/selectors';\nimport { fetchUserPurchases } from 'calypso/state/purchases/actions';\nimport {\n\thasLoadedUserPurchasesFromServer,\n\tisFetchingUserPurchases,\n} from 'calypso/state/purchases/selectors';\n\nconst request = ( dispatch, getState ) => {\n\tconst state = getState();\n\n\tconst userId = getCurrentUserId( state );\n\tconst isFetching = isFetchingUserPurchases( state );\n\tconst hasLoaded = hasLoadedUserPurchasesFromServer( state );\n\n\tif ( userId && ! isFetching && ! hasLoaded ) {\n\t\tdispatch( fetchUserPurchases( userId ) );\n\t}\n};\n\nfunction QueryUserPurchases() {\n\tconst dispatch = useDispatch();\n\n\tuseEffect( () => {\n\t\tdispatch( request );\n\t} );\n\n\treturn null;\n}\n\nexport default QueryUserPurchases;\n","import { loadScript } from '@automattic/load-script';\nimport debugFactory from 'debug';\nimport { filter, forEach } from 'lodash';\nimport { Children, PureComponent } from 'react';\nimport ReactDom from 'react-dom';\nimport { loadjQueryDependentScriptDesktopWrapper } from 'calypso/lib/load-jquery-dependent-script-desktop-wrapper';\n\nconst noop = () => {};\nconst debug = debugFactory( 'calypso:components:embed-container' );\n\nconst embedsToLookFor = {\n\t'blockquote[class^=\"instagram-\"]': embedInstagram,\n\t'blockquote[class^=\"twitter-\"], a[class^=\"twitter-\"]': embedTwitter,\n\t'fb\\\\:post, [class^=fb-]': embedFacebook,\n\t'[class^=tumblr-]': embedTumblr,\n\t'.jetpack-slideshow': embedSlideshow,\n\t'.wp-block-jetpack-story': embedStory,\n\t'.embed-reddit': embedReddit,\n};\n\nconst cacheBustQuery = `?v=${ Math.floor( new Date().getTime() / ( 1000 * 60 * 60 * 24 * 10 ) ) }`; // A new query every 10 days\n\nconst SLIDESHOW_URLS = {\n\tCSS: `https://s0.wp.com/wp-content/mu-plugins/shortcodes/css/slideshow-shortcode.css${ cacheBustQuery }`,\n\tCYCLE_JS: `https://s0.wp.com/wp-content/mu-plugins/shortcodes/js/jquery.cycle.min.js${ cacheBustQuery }`,\n\tJS: `https://s0.wp.com/wp-content/mu-plugins/shortcodes/js/slideshow-shortcode.js${ cacheBustQuery }`,\n\tSPINNER: `https://s0.wp.com/wp-content/mu-plugins/shortcodes/img/slideshow-loader.gif${ cacheBustQuery }`,\n};\n\nfunction processEmbeds( domNode ) {\n\tObject.entries( embedsToLookFor ).forEach( ( [ embedSelector, fn ] ) => {\n\t\tconst nodes = domNode.querySelectorAll( embedSelector );\n\t\tforEach( filter( nodes, nodeNeedsProcessing ), fn );\n\t} );\n}\n\nfunction nodeNeedsProcessing( domNode ) {\n\tif ( domNode.hasAttribute( 'data-wpcom-embed-processed' ) ) {\n\t\treturn false; // already marked for processing\n\t}\n\n\tdomNode.setAttribute( 'data-wpcom-embed-processed', '1' );\n\treturn true;\n}\n\nfunction loadCSS( cssUrl ) {\n\tconst link = document.createElement( 'link' );\n\n\tlink.rel = 'stylesheet';\n\tlink.type = 'text/css';\n\tlink.href = cssUrl;\n\n\tdocument.head.appendChild( link );\n}\n\nconst loaders = {};\nfunction loadAndRun( scriptUrl, callback ) {\n\tlet loader = loaders[ scriptUrl ];\n\tif ( ! loader ) {\n\t\tloader = new Promise( function ( resolve, reject ) {\n\t\t\tloadScript( scriptUrl, function ( err ) {\n\t\t\t\tif ( err ) {\n\t\t\t\t\treject( err );\n\t\t\t\t} else {\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t\tloaders[ scriptUrl ] = loader;\n\t}\n\tloader.then( callback, function ( err ) {\n\t\tdebug( 'error loading ' + scriptUrl, err );\n\t\tloaders[ scriptUrl ] = null;\n\t} );\n}\n\nfunction embedInstagram( domNode ) {\n\tdebug( 'processing instagram for', domNode );\n\tif ( typeof instgrm !== 'undefined' ) {\n\t\ttry {\n\t\t\twindow.instgrm.Embeds.process();\n\t\t} catch ( e ) {}\n\t\treturn;\n\t}\n\n\tloadAndRun(\n\t\t'https://platform.instagram.com/en_US/embeds.js',\n\t\tembedInstagram.bind( null, domNode )\n\t);\n}\n\nfunction embedTwitter( domNode ) {\n\tdebug( 'processing twitter for', domNode );\n\n\tif ( typeof twttr !== 'undefined' ) {\n\t\ttry {\n\t\t\twindow.twttr.widgets.load( domNode );\n\t\t} catch ( e ) {}\n\t\treturn;\n\t}\n\n\tloadAndRun( 'https://platform.twitter.com/widgets.js', embedTwitter.bind( null, domNode ) );\n}\n\nfunction embedFacebook( domNode ) {\n\tdebug( 'processing facebook for', domNode );\n\tif ( typeof fb !== 'undefined' ) {\n\t\treturn;\n\t}\n\n\tloadAndRun( 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.2', noop );\n}\n\nfunction embedReddit( domNode ) {\n\tdebug( 'processing reddit for ', domNode );\n\tloadAndRun( 'https://embed.redditmedia.com/widgets/platform.js', noop );\n}\n\nlet tumblrLoader;\nfunction embedTumblr( domNode ) {\n\tdebug( 'processing tumblr for', domNode );\n\tif ( tumblrLoader ) {\n\t\treturn;\n\t}\n\n\t// tumblr just wants us to load this script, over and over and over\n\ttumblrLoader = true;\n\n\tfunction removeScript() {\n\t\tforEach(\n\t\t\tdocument.querySelectorAll( 'script[src=\"https://secure.assets.tumblr.com/post.js\"]' ),\n\t\t\tfunction ( el ) {\n\t\t\t\tel.parentNode.removeChild( el );\n\t\t\t}\n\t\t);\n\t\ttumblrLoader = false;\n\t}\n\n\tsetTimeout( function () {\n\t\tloadScript( 'https://secure.assets.tumblr.com/post.js', removeScript );\n\t}, 30 );\n}\n\nfunction triggerJQueryLoadEvent() {\n\t// force JetpackSlideshow to initialize, in case navigation hasn't caused ready event on document\n\twindow.jQuery( 'body' ).trigger( 'post-load' );\n}\n\nfunction createSlideshow() {\n\tif ( window.JetpackSlideshow ) {\n\t\ttriggerJQueryLoadEvent();\n\t}\n\n\tloadAndRun( SLIDESHOW_URLS.JS, () => {\n\t\ttriggerJQueryLoadEvent();\n\t} );\n}\n\nlet slideshowCSSPresent = document.head.querySelector( `link[href=\"${ SLIDESHOW_URLS.CSS }\"]` );\n\nfunction embedSlideshow( domNode ) {\n\tdebug( 'processing slideshow for', domNode );\n\n\t// set global variable required by JetpackSlideshow\n\twindow.jetpackSlideshowSettings = {\n\t\tspinner: SLIDESHOW_URLS.SPINNER,\n\t};\n\n\tif ( ! slideshowCSSPresent ) {\n\t\tslideshowCSSPresent = true;\n\t\tloadCSS( SLIDESHOW_URLS.CSS );\n\t}\n\n\t// Remove no JS warning so user doesn't have to look at it while several scripts load\n\tconst warningElements = domNode.parentNode.getElementsByClassName( 'jetpack-slideshow-noscript' );\n\tforEach( warningElements, ( el ) => {\n\t\tel.classList.add( 'hidden' );\n\t} );\n\n\tif ( window.jQuery && window.jQuery.prototype.cycle ) {\n\t\t// jQuery and cylcejs exist\n\t\tcreateSlideshow();\n\t} else if ( window.jQuery && ! window.jQuery.prototype.cycle ) {\n\t\t// Only jQuery exists\n\t\tloadAndRun( SLIDESHOW_URLS.CYCLE_JS, () => {\n\t\t\tcreateSlideshow();\n\t\t} );\n\t} else {\n\t\t// Neither exist\n\t\tloadjQueryDependentScriptDesktopWrapper( SLIDESHOW_URLS.CYCLE_JS, () => {\n\t\t\tcreateSlideshow();\n\t\t} );\n\t}\n}\n\nfunction embedStory( domNode ) {\n\tdebug( 'processing story for ', domNode );\n\n\t// wp-story-overlay is here for backwards compatiblity with Stories on Jetpack 9.7 and below.\n\tconst storyLink = domNode.querySelector( 'a.wp-story-container, a.wp-story-overlay' );\n\n\t// Open story in a new tab\n\tif ( storyLink ) {\n\t\tstoryLink.setAttribute( 'target', '_blank' );\n\t}\n}\n\n/**\n * A component that notices when the content has embeds that require outside JS. Load the outside JS and process the embeds\n */\nexport default class EmbedContainer extends PureComponent {\n\tcomponentDidMount() {\n\t\tprocessEmbeds( ReactDom.findDOMNode( this ) );\n\t}\n\n\tcomponentDidUpdate() {\n\t\tprocessEmbeds( ReactDom.findDOMNode( this ) );\n\t}\n\n\trender() {\n\t\treturn Children.only( this.props.children );\n\t}\n}\n","import { ScreenReaderText, Gridicon } from '@automattic/components';\nimport { localizeUrl } from '@automattic/i18n-utils';\nimport classnames from 'classnames';\nimport { translate } from 'i18n-calypso';\nimport { omit } from 'lodash';\nimport PropTypes from 'prop-types';\nimport { Component } from 'react';\n\nimport './style.scss';\n\nclass ExternalLink extends Component {\n\tstatic defaultProps = {\n\t\ticonSize: 18,\n\t\tshowIconFirst: false,\n\t};\n\n\tstatic propTypes = {\n\t\tclassName: PropTypes.string,\n\t\thref: PropTypes.string,\n\t\tonClick: PropTypes.func,\n\t\ticon: PropTypes.bool,\n\t\ticonSize: PropTypes.number,\n\t\ttarget: PropTypes.string,\n\t\tshowIconFirst: PropTypes.bool,\n\t\ticonClassName: PropTypes.string,\n\t};\n\n\trender() {\n\t\tconst classes = classnames( 'external-link', this.props.className, {\n\t\t\t'icon-first': this.props.showIconFirst,\n\t\t\t'has-icon': this.props.icon,\n\t\t} );\n\n\t\tconst props = {\n\t\t\t...omit( this.props, 'icon', 'iconSize', 'showIconFirst', 'iconClassName' ),\n\t\t\tclassName: classes,\n\t\t\trel: 'external',\n\t\t};\n\n\t\tif ( this.props.icon ) {\n\t\t\tprops.target = '_blank';\n\t\t}\n\n\t\tif ( props.target ) {\n\t\t\tprops.rel = props.rel.concat( ' noopener noreferrer' );\n\t\t}\n\n\t\tif ( props.href ) {\n\t\t\tprops.href = localizeUrl( props.href );\n\t\t}\n\n\t\tconst iconComponent = (\n\t\t\t<Gridicon\n\t\t\t\tclassName={ this.props.iconClassName }\n\t\t\t\ticon=\"external\"\n\t\t\t\tsize={ this.props.iconSize }\n\t\t\t/>\n\t\t);\n\n\t\treturn (\n\t\t\t<a { ...props }>\n\t\t\t\t{ this.props.icon && this.props.showIconFirst && iconComponent }\n\t\t\t\t{ this.props.children }\n\t\t\t\t{ this.props.icon && ! this.props.showIconFirst && iconComponent }\n\t\t\t\t{ this.props.icon && (\n\t\t\t\t\t<ScreenReaderText>\n\t\t\t\t\t\t{ translate( '(opens in a new tab)', {\n\t\t\t\t\t\t\tcomment: 'accessibility label for an external link',\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</ScreenReaderText>\n\t\t\t\t) }\n\t\t\t</a>\n\t\t);\n\t}\n}\nexport default ExternalLink;\n","import classNames from 'classnames';\nimport { omit } from 'lodash';\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport './style.scss';\n\nexport default class FormTextInput extends PureComponent {\n\tstatic propTypes = {\n\t\tisError: PropTypes.bool,\n\t\tisValid: PropTypes.bool,\n\t\tselectOnFocus: PropTypes.bool,\n\t\tclassName: PropTypes.string,\n\t};\n\n\tstate = {\n\t\tvalue: this.props.value || '',\n\t};\n\n\tcurrentTextField = undefined;\n\n\tcomponentDidUpdate( oldProps ) {\n\t\tthis.updateValueIfNeeded( oldProps.value );\n\t}\n\n\tupdateValueIfNeeded( oldValue ) {\n\t\tconst { value } = this.props;\n\t\tif ( oldValue !== value || value !== this.state.value ) {\n\t\t\tthis.setState( { value } );\n\t\t}\n\t}\n\n\ttextFieldRef = ( element ) => {\n\t\tthis.currentTextField = element;\n\n\t\tconst { inputRef } = this.props;\n\n\t\tif ( ! inputRef ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( typeof inputRef === 'function' ) {\n\t\t\tinputRef( element );\n\t\t} else {\n\t\t\tinputRef.current = element;\n\t\t}\n\t};\n\n\tfocus() {\n\t\tif ( this.currentTextField ) {\n\t\t\tthis.currentTextField.focus();\n\t\t}\n\t}\n\n\tselectOnFocus = ( event ) => {\n\t\tif ( this.props.selectOnFocus ) {\n\t\t\tevent.target.select();\n\t\t}\n\t};\n\n\tonChange = ( event ) => {\n\t\tthis.setState( { value: event.target.value } );\n\t\tthis.props.onChange?.( event );\n\t};\n\n\trender() {\n\t\tconst props = omit(\n\t\t\tthis.props,\n\t\t\t'isError',\n\t\t\t'isValid',\n\t\t\t'selectOnFocus',\n\t\t\t'inputRef',\n\t\t\t'onChange',\n\t\t\t'value'\n\t\t);\n\n\t\tconst classes = classNames( 'form-text-input', this.props.className, {\n\t\t\t'is-error': this.props.isError,\n\t\t\t'is-valid': this.props.isValid,\n\t\t} );\n\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\t{ ...props }\n\t\t\t\tvalue={ this.state.value }\n\t\t\t\tref={ this.textFieldRef }\n\t\t\t\tclassName={ classes }\n\t\t\t\tonClick={ this.selectOnFocus }\n\t\t\t\tonChange={ this.onChange }\n\t\t\t/>\n\t\t);\n\t}\n}\n","import { Card } from '@automattic/components';\nimport classnames from 'classnames';\nimport { forwardRef } from 'react';\nimport Search from 'calypso/components/search';\n\nimport './style.scss';\n\nconst SearchCard = ( { className, ...props }, ref ) => (\n\t<Card className={ classnames( 'search-card', className ) }>\n\t\t<Search ref={ ref } { ...props } />\n\t</Card>\n);\n\nexport default forwardRef( SearchCard );\n","import { Gridicon } from '@automattic/components';\nimport { isMobile } from '@automattic/viewport';\nimport classNames from 'classnames';\nimport i18n from 'i18n-calypso';\nimport { debounce } from 'lodash';\nimport PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport { v4 as uuid } from 'uuid';\nimport FormTextInput from 'calypso/components/forms/form-text-input';\nimport Spinner from 'calypso/components/spinner';\nimport TranslatableString from 'calypso/components/translatable/proptype';\nimport { gaRecordEvent } from 'calypso/lib/analytics/ga';\n\nimport './style.scss';\n\n/**\n * Internal variables\n */\nconst SEARCH_DEBOUNCE_MS = 300;\nconst noop = () => {};\n\nfunction keyListener( methodToCall, event ) {\n\tswitch ( event.key ) {\n\t\tcase ' ':\n\t\tcase 'Enter':\n\t\t\tthis[ methodToCall ]( event );\n\t\t\tbreak;\n\t}\n}\n\nclass Search extends Component {\n\tstatic propTypes = {\n\t\tadditionalClasses: PropTypes.string,\n\t\tinitialValue: PropTypes.string,\n\t\tvalue: PropTypes.string,\n\t\tplaceholder: TranslatableString,\n\t\tpinned: PropTypes.bool,\n\t\tdelaySearch: PropTypes.bool,\n\t\tdelayTimeout: PropTypes.number,\n\t\tdescribedBy: PropTypes.string,\n\t\tonSearch: PropTypes.func.isRequired,\n\t\tonSearchChange: PropTypes.func,\n\t\tonSearchOpen: PropTypes.func,\n\t\tonSearchClose: PropTypes.func,\n\t\tanalyticsGroup: PropTypes.string,\n\t\toverlayStyling: PropTypes.func,\n\t\tautoFocus: PropTypes.bool,\n\t\tdisabled: PropTypes.bool,\n\t\tonKeyDown: PropTypes.func,\n\t\tonClick: PropTypes.func,\n\t\tdisableAutocorrect: PropTypes.bool,\n\t\tonBlur: PropTypes.func,\n\t\tsearching: PropTypes.bool,\n\t\tisOpen: PropTypes.bool,\n\t\tdir: PropTypes.oneOf( [ 'ltr', 'rtl' ] ),\n\t\tfitsContainer: PropTypes.bool,\n\t\tmaxLength: PropTypes.number,\n\t\tminLength: PropTypes.number,\n\t\thideClose: PropTypes.bool,\n\t\tcompact: PropTypes.bool,\n\t\thideOpenIcon: PropTypes.bool,\n\t\tinputLabel: PropTypes.string,\n\t};\n\n\tstatic defaultProps = {\n\t\tpinned: false,\n\t\tdelaySearch: false,\n\t\tdelayTimeout: SEARCH_DEBOUNCE_MS,\n\t\tautoFocus: false,\n\t\tdisabled: false,\n\t\tdescribedBy: null,\n\t\tonSearchChange: noop,\n\t\tonSearchOpen: noop,\n\t\tonSearchClose: noop,\n\t\tonKeyDown: noop,\n\t\tonClick: noop,\n\t\t//undefined value for overlayStyling is an optimization that will\n\t\t//disable overlay scrolling calculation when no overlay is provided.\n\t\toverlayStyling: undefined,\n\t\tdisableAutocorrect: false,\n\t\tsearching: false,\n\t\tisOpen: false,\n\t\tdir: undefined,\n\t\tfitsContainer: false,\n\t\thideClose: false,\n\t\tcompact: false,\n\t\thideOpenIcon: false,\n\t};\n\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.instanceId = uuid();\n\n\t\tthis.state = {\n\t\t\tkeyword: props.initialValue || '',\n\t\t\tisOpen: !! props.isOpen,\n\t\t\thasFocus: props.autoFocus,\n\t\t};\n\n\t\tthis.closeListener = keyListener.bind( this, 'closeSearch' );\n\t\tthis.openListener = keyListener.bind( this, 'openSearch' );\n\t}\n\n\tsetOpenIconRef = ( openIcon ) => ( this.openIcon = openIcon );\n\n\tsetSearchInputRef = ( input ) => ( this.searchInput = input );\n\n\tsetOverlayRef = ( overlay ) => ( this.overlay = overlay );\n\n\t// @TODO: Please update https://github.com/Automattic/wp-calypso/issues/58453 if you are refactoring away from UNSAFE_* lifecycle methods!\n\tUNSAFE_componentWillReceiveProps( nextProps ) {\n\t\tif (\n\t\t\tnextProps.onSearch !== this.props.onSearch ||\n\t\t\tnextProps.delaySearch !== this.props.delaySearch\n\t\t) {\n\t\t\tthis.onSearch = this.props.delaySearch\n\t\t\t\t? debounce( this.props.onSearch, this.props.delayTimeout )\n\t\t\t\t: this.props.onSearch;\n\t\t}\n\n\t\tif ( this.props.isOpen !== nextProps.isOpen ) {\n\t\t\tthis.setState( { isOpen: nextProps.isOpen } );\n\t\t}\n\n\t\tif (\n\t\t\tthis.props.value !== nextProps.value &&\n\t\t\t( nextProps.value || nextProps.value === '' ) &&\n\t\t\tnextProps.value !== this.state.keyword\n\t\t) {\n\t\t\tthis.setState( { keyword: nextProps.value } );\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps, prevState ) {\n\t\tthis.scrollOverlay();\n\t\t// Focus if the search box was opened or the autoFocus prop has changed\n\t\tif (\n\t\t\t( this.state.isOpen && ! prevState.isOpen ) ||\n\t\t\t( this.props.autoFocus && ! prevProps.autoFocus )\n\t\t) {\n\t\t\tthis.focus();\n\t\t}\n\n\t\tif ( this.state.keyword === prevState.keyword ) {\n\t\t\treturn;\n\t\t}\n\t\t// if there's a keyword change: trigger search\n\t\tif ( this.state.keyword ) {\n\t\t\t// this.onSearch is debounced when this.props.delaySearch === true\n\t\t\t// this avoids unnecessary fetches while user types\n\t\t\tthis.onSearch( this.state.keyword );\n\t\t} else {\n\t\t\t// this.props.onSearch is _not_ debounced\n\t\t\t// no need to debounce if ! this.state.keyword\n\t\t\tif ( this.props.delaySearch ) {\n\t\t\t\t// Cancel any pending debounce\n\t\t\t\tthis.onSearch.cancel();\n\t\t\t}\n\t\t\tthis.props.onSearch( this.state.keyword );\n\t\t}\n\t\tthis.props.onSearchChange( this.state.keyword );\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.onSearch = this.props.delaySearch\n\t\t\t? debounce( this.props.onSearch, this.props.delayTimeout )\n\t\t\t: this.props.onSearch;\n\t}\n\n\tscrollOverlay = () => {\n\t\tthis.overlay &&\n\t\t\twindow.requestAnimationFrame( () => {\n\t\t\t\tif ( this.overlay && this.searchInput ) {\n\t\t\t\t\tthis.overlay.scrollLeft = this.getScrollLeft( this.searchInput );\n\t\t\t\t}\n\t\t\t} );\n\t};\n\n\t//This is fix for IE11. Does not work on Edge.\n\t//On IE11 scrollLeft value for input is always 0.\n\t//We are calculating it manually using TextRange object.\n\tgetScrollLeft = ( inputElement ) => {\n\t\t//TextRange is IE11 specific so this checks if we are not on IE11.\n\t\tif ( ! inputElement.createTextRange ) {\n\t\t\treturn inputElement.scrollLeft;\n\t\t}\n\n\t\tconst range = inputElement.createTextRange();\n\t\tconst inputStyle = window.getComputedStyle( inputElement, undefined );\n\t\tconst paddingLeft = parseFloat( inputStyle.paddingLeft );\n\t\tconst rangeRect = range.getBoundingClientRect();\n\t\tconst scrollLeft =\n\t\t\tinputElement.getBoundingClientRect().left +\n\t\t\tinputElement.clientLeft +\n\t\t\tpaddingLeft -\n\t\t\trangeRect.left;\n\t\treturn scrollLeft;\n\t};\n\n\tfocus = () => {\n\t\t// if we call focus before the element has been entirely synced up with the DOM, we stand a decent chance of\n\t\t// causing the browser to scroll somewhere odd. Instead, defer the focus until a future turn of the event loop.\n\t\tsetTimeout( () => this.searchInput && this.searchInput.focus(), 0 );\n\t};\n\n\tblur = () => this.searchInput.blur();\n\n\tclear = () => this.setState( { keyword: '' } );\n\n\tonBlur = ( event ) => {\n\t\tif ( this.props.onBlur ) {\n\t\t\tthis.props.onBlur( event );\n\t\t}\n\n\t\tthis.setState( { hasFocus: false } );\n\t};\n\n\tonChange = ( event ) => {\n\t\tthis.setState( {\n\t\t\tkeyword: event.target.value,\n\t\t} );\n\t};\n\n\topenSearch = ( event ) => {\n\t\tevent.preventDefault();\n\t\tthis.setState( {\n\t\t\tkeyword: '',\n\t\t\tisOpen: true,\n\t\t} );\n\n\t\tgaRecordEvent( this.props.analyticsGroup, 'Clicked Open Search' );\n\t};\n\n\tcloseSearch = ( event ) => {\n\t\tevent.preventDefault();\n\n\t\tif ( this.props.disabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tkeyword: '',\n\t\t\tisOpen: this.props.isOpen || false,\n\t\t} );\n\n\t\tthis.searchInput.value = ''; // will not trigger onChange\n\n\t\tif ( this.props.pinned ) {\n\t\t\tthis.searchInput.blur();\n\t\t\tthis.openIcon.focus();\n\t\t} else {\n\t\t\tthis.searchInput.focus();\n\t\t}\n\n\t\tthis.props.onSearchClose( event );\n\n\t\tgaRecordEvent( this.props.analyticsGroup, 'Clicked Close Search' );\n\t};\n\n\tkeyUp = ( event ) => {\n\t\tif ( event.key === 'Enter' && isMobile() ) {\n\t\t\t//dismiss soft keyboards\n\t\t\tthis.blur();\n\t\t}\n\n\t\tif ( ! this.props.pinned ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( event.key === 'Escape' ) {\n\t\t\tthis.closeSearch( event );\n\t\t}\n\t\tthis.scrollOverlay();\n\t};\n\n\tkeyDown = ( event ) => {\n\t\tthis.scrollOverlay();\n\t\tif ( event.key === 'Escape' && event.target.value === '' ) {\n\t\t\tthis.closeSearch( event );\n\t\t}\n\t\tthis.props.onKeyDown( event );\n\t};\n\n\t// Puts the cursor at end of the text when starting\n\t// with `initialValue` set.\n\tonFocus = () => {\n\t\tif ( ! this.searchInput ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst setValue = this.searchInput.value;\n\t\tif ( setValue ) {\n\t\t\t// Firefox needs clear or won't move cursor to end\n\t\t\tthis.searchInput.value = '';\n\t\t\tthis.searchInput.value = setValue;\n\t\t}\n\n\t\tthis.setState( { hasFocus: true } );\n\t\tthis.props.onSearchOpen();\n\t};\n\n\trender() {\n\t\tconst searchValue = this.state.keyword;\n\t\tconst placeholder = this.props.placeholder || i18n.translate( 'Search', { textOnly: true } );\n\t\tconst inputLabel = this.props.inputLabel;\n\t\tconst enableOpenIcon = this.props.pinned && ! this.state.isOpen;\n\t\tconst isOpenUnpinnedOrQueried =\n\t\t\tthis.state.isOpen || ! this.props.pinned || this.props.initialValue;\n\n\t\tconst autocorrect = this.props.disableAutocorrect && {\n\t\t\tautoComplete: 'off',\n\t\t\tautoCorrect: 'off',\n\t\t\tspellCheck: 'false',\n\t\t};\n\n\t\tconst searchClass = classNames( this.props.additionalClasses, this.props.dir, {\n\t\t\t'is-expanded-to-container': this.props.fitsContainer,\n\t\t\t'is-open': isOpenUnpinnedOrQueried,\n\t\t\t'is-searching': this.props.searching,\n\t\t\t'is-compact': this.props.compact,\n\t\t\t'has-focus': this.state.hasFocus,\n\t\t\t'has-open-icon': ! this.props.hideOpenIcon,\n\t\t\tsearch: true,\n\t\t} );\n\n\t\tconst fadeDivClass = classNames( 'search__input-fade', this.props.dir );\n\t\tconst inputClass = classNames( 'search__input', this.props.dir );\n\n\t\treturn (\n\t\t\t<div dir={ this.props.dir || null } className={ searchClass } role=\"search\">\n\t\t\t\t<Spinner />\n\t\t\t\t<div\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\tclassName=\"search__icon-navigation\"\n\t\t\t\t\tref={ this.setOpenIconRef }\n\t\t\t\t\tonClick={ enableOpenIcon ? this.openSearch : this.focus }\n\t\t\t\t\ttabIndex={ enableOpenIcon ? '0' : null }\n\t\t\t\t\tonKeyDown={ enableOpenIcon ? this.openListener : null }\n\t\t\t\t\taria-controls={ 'search-component-' + this.instanceId }\n\t\t\t\t\taria-label={ i18n.translate( 'Open Search', { context: 'button label' } ) }\n\t\t\t\t>\n\t\t\t\t\t{ ! this.props.hideOpenIcon && <Gridicon icon=\"search\" className=\"search__open-icon\" /> }\n\t\t\t\t</div>\n\t\t\t\t<div className={ fadeDivClass }>\n\t\t\t\t\t<FormTextInput\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tid={ 'search-component-' + this.instanceId }\n\t\t\t\t\t\tautoFocus={ this.props.autoFocus } // eslint-disable-line jsx-a11y/no-autofocus\n\t\t\t\t\t\taria-describedby={ this.props.describedBy }\n\t\t\t\t\t\taria-label={ inputLabel ? inputLabel : i18n.translate( 'Search' ) }\n\t\t\t\t\t\taria-hidden={ ! isOpenUnpinnedOrQueried }\n\t\t\t\t\t\tclassName={ inputClass }\n\t\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\t\trole=\"searchbox\"\n\t\t\t\t\t\tvalue={ searchValue }\n\t\t\t\t\t\tinputRef={ this.setSearchInputRef }\n\t\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\t\tonKeyUp={ this.keyUp }\n\t\t\t\t\t\tonKeyDown={ this.keyDown }\n\t\t\t\t\t\tonMouseUp={ this.props.onClick }\n\t\t\t\t\t\tonFocus={ this.onFocus }\n\t\t\t\t\t\tonBlur={ this.onBlur }\n\t\t\t\t\t\tdisabled={ this.props.disabled }\n\t\t\t\t\t\tautoCapitalize=\"none\"\n\t\t\t\t\t\tdir={ this.props.dir }\n\t\t\t\t\t\tmaxLength={ this.props.maxLength }\n\t\t\t\t\t\tminLength={ this.props.minLength }\n\t\t\t\t\t\t{ ...autocorrect }\n\t\t\t\t\t/>\n\t\t\t\t\t{ this.props.overlayStyling && this.renderStylingDiv() }\n\t\t\t\t</div>\n\t\t\t\t{ this.closeButton() }\n\t\t\t\t{ this.props.children }\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderStylingDiv() {\n\t\treturn (\n\t\t\t<div className=\"search__text-overlay\" ref={ this.setOverlayRef }>\n\t\t\t\t{ this.props.overlayStyling( this.state.keyword ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcloseButton() {\n\t\tif ( ! this.props.hideClose && ( this.state.keyword || this.state.isOpen ) ) {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\tclassName=\"search__icon-navigation\"\n\t\t\t\t\tonClick={ this.closeSearch }\n\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\tonKeyDown={ this.closeListener }\n\t\t\t\t\taria-controls={ 'search-component-' + this.instanceId }\n\t\t\t\t\taria-label={ i18n.translate( 'Close Search', { context: 'button label' } ) }\n\t\t\t\t>\n\t\t\t\t\t<Gridicon icon=\"cross\" className=\"search__close-icon\" />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport default Search;\n","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport './style.scss';\n\nexport default class Spinner extends PureComponent {\n\tstatic propTypes = {\n\t\tclassName: PropTypes.string,\n\t\tsize: PropTypes.number,\n\t};\n\n\tstatic defaultProps = {\n\t\tsize: 20,\n\t};\n\n\trender() {\n\t\tconst className = classNames( 'spinner', this.props.className );\n\n\t\tconst style = {\n\t\t\twidth: this.props.size,\n\t\t\theight: this.props.size,\n\t\t\tfontSize: this.props.size, // allows border-width to be specified in em units\n\t\t};\n\n\t\treturn (\n\t\t\t<div className={ className }>\n\t\t\t\t<div className=\"spinner__outer\" style={ style }>\n\t\t\t\t\t<div className=\"spinner__inner\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","function translatableStringChecker( props, propName, componentName ) {\n\tcomponentName = componentName || 'ANONYMOUS';\n\n\tconst value = props[ propName ];\n\tif ( value !== undefined && value !== null ) {\n\t\tif ( 'string' === typeof value ) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Translator Jumpstart old-style\n\t\tif ( 'object' === typeof value && 'data' === value.type ) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Translator Jumpstart after #21591\n\t\tif (\n\t\t\t'object' === typeof value &&\n\t\t\t[ 'object', 'function' ].includes( typeof value.type ) &&\n\t\t\t( 'Translatable' === value.type.name ||\n\t\t\t\t// Accept HOC wrappings (e.g. `localize( Translatable )`)\n\t\t\t\tString( value.type.displayName ).match( /\\(Translatable\\)/ ) )\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn new Error(\n\t\t\t'Invalid value for Translatable string in `' +\n\t\t\t\tcomponentName +\n\t\t\t\t'`. Please pass a translate() call.'\n\t\t);\n\t}\n\n\t// assume all ok\n\treturn null;\n}\n\nfunction createChainableTypeChecker( validate ) {\n\tfunction checkType( isRequired, props, propName, componentName, location ) {\n\t\tcomponentName = componentName || 'ANONYMOUS';\n\t\tif ( props[ propName ] === undefined ) {\n\t\t\tif ( isRequired ) {\n\t\t\t\treturn new Error(\n\t\t\t\t\t'Required ' +\n\t\t\t\t\t\tlocation +\n\t\t\t\t\t\t' `' +\n\t\t\t\t\t\tpropName +\n\t\t\t\t\t\t'` was not specified in ' +\n\t\t\t\t\t\t( '`' + componentName + '`.' )\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\treturn validate( props, propName, componentName, location );\n\t}\n\n\tconst chainedCheckType = checkType.bind( null, false );\n\tchainedCheckType.isRequired = checkType.bind( null, true );\n\n\treturn chainedCheckType;\n}\n\nexport default createChainableTypeChecker( translatableStringChecker );\n","import { useQuery } from 'react-query';\nimport wpcom from 'calypso/lib/wp';\n\nexport const useHelpSearchQuery = ( search, queryOptions = {} ) =>\n\tuseQuery(\n\t\t[ 'help', search ],\n\t\t() => wpcom.req.get( '/help/search', { query: search, include_post_id: 1 } ),\n\t\t{\n\t\t\tenabled: !! search,\n\t\t\t...queryOptions,\n\t\t}\n\t);\n","import { isDefaultLocale } from '@automattic/i18n-utils';\nimport { useQuery } from 'react-query';\nimport { useSelector } from 'react-redux';\nimport wp from 'calypso/lib/wp';\nimport getCurrentLocaleSlug from 'calypso/state/selectors/get-current-locale-slug';\n\nfunction useSupportArticleAlternatesQuery( blogId, postId, queryOptions = {} ) {\n\tconst locale = useSelector( getCurrentLocaleSlug );\n\n\treturn useQuery(\n\t\t[ 'support-article-alternates', blogId, postId ],\n\t\t() => wp.req.get( `/support/alternates/${ blogId }/posts/${ postId }` ),\n\t\t{\n\t\t\t...queryOptions,\n\t\t\tenabled: ! isDefaultLocale( locale ) && !! ( blogId && postId ),\n\t\t\trefetchOnMount: false,\n\t\t\trefetchOnWindowFocus: false,\n\t\t\tselect: ( data ) => {\n\t\t\t\treturn data[ locale ];\n\t\t\t},\n\t\t}\n\t);\n}\n\nexport default useSupportArticleAlternatesQuery;\n","import config from '@automattic/calypso-config';\nimport debugFactory from 'debug';\n\n// Enable/disable ad-tracking\n// These should not be put in the json config as they must not differ across environments\nexport const isGoogleAnalyticsEnabled = true;\nexport const isGoogleAnalyticsEnhancedEcommerceEnabled = true;\nexport const isFloodlightEnabled = true;\nexport const isFacebookEnabled = true;\nexport const isBingEnabled = true;\nexport const isGeminiEnabled = false;\nexport const isWpcomGoogleAdsGtagEnabled = true;\nexport const isJetpackGoogleAdsGtagEnabled = true;\nexport const isQuantcastEnabled = false;\nexport const isExperianEnabled = true;\nexport const isOutbrainEnabled = true;\nexport const isPinterestEnabled = true;\nexport const isIconMediaEnabled = false;\nexport const isTwitterEnabled = true;\nexport const isLinkedinEnabled = false;\nexport const isCriteoEnabled = false;\nexport const isPandoraEnabled = false;\nexport const isQuoraEnabled = false;\nexport const isAdRollEnabled = false;\n\n/**\n * Module variables\n */\nexport const debug = debugFactory( 'calypso:analytics:ad-tracking' );\n\nexport const FACEBOOK_TRACKING_SCRIPT_URL = 'https://connect.facebook.net/en_US/fbevents.js';\nexport const GOOGLE_GTAG_SCRIPT_URL = 'https://www.googletagmanager.com/gtag/js?id=';\nexport const BING_TRACKING_SCRIPT_URL = 'https://bat.bing.com/bat.js';\nexport const CRITEO_TRACKING_SCRIPT_URL = 'https://static.criteo.net/js/ld/ld.js';\nexport const YAHOO_GEMINI_CONVERSION_PIXEL_URL =\n\t'https://sp.analytics.yahoo.com/spp.pl?a=10000&.yp=10014088&ec=wordpresspurchase';\nexport const YAHOO_GEMINI_AUDIENCE_BUILDING_PIXEL_URL =\n\t'https://sp.analytics.yahoo.com/spp.pl?a=10000&.yp=10014088';\nexport const PANDORA_CONVERSION_PIXEL_URL =\n\t'https://data.adxcel-ec2.com/pixel/?ad_log=referer&action=purchase&pixid=7efc5994-458b-494f-94b3-31862eee9e26';\nexport const EXPERIAN_CONVERSION_PIXEL_URL =\n\t'https://d.turn.com/r/dd/id/L21rdC84MTYvY2lkLzE3NDc0MzIzNDgvdC8yL2NhdC8zMjE4NzUwOQ';\nexport const ICON_MEDIA_RETARGETING_PIXEL_URL =\n\t'https://tags.w55c.net/rs?id=cab35a3a79dc4173b8ce2c47adad2cea&t=marketing';\nexport const ICON_MEDIA_SIGNUP_PIXEL_URL =\n\t'https://tags.w55c.net/rs?id=d239e9cb6d164f7299d2dbf7298f930a&t=marketing';\nexport const ICON_MEDIA_ORDER_PIXEL_URL =\n\t'https://tags.w55c.net/rs?id=d299eef42f2d4135a96d0d40ace66f3a&t=checkout';\nexport const ADROLL_PAGEVIEW_PIXEL_URL_1 =\n\t'https://d.adroll.com/ipixel/PEJHFPIHPJC2PD3IMTCWTT/WV6A5O5PBJBIBDYGZHVBM5?name=ded132f8';\nexport const ADROLL_PAGEVIEW_PIXEL_URL_2 =\n\t'https://d.adroll.com/fb/ipixel/PEJHFPIHPJC2PD3IMTCWTT/WV6A5O5PBJBIBDYGZHVBM5?name=ded132f8';\nexport const ADROLL_PURCHASE_PIXEL_URL_1 =\n\t'https://d.adroll.com/ipixel/PEJHFPIHPJC2PD3IMTCWTT/WV6A5O5PBJBIBDYGZHVBM5?name=8eb337b5';\nexport const ADROLL_PURCHASE_PIXEL_URL_2 =\n\t'https://d.adroll.com/fb/ipixel/PEJHFPIHPJC2PD3IMTCWTT/WV6A5O5PBJBIBDYGZHVBM5?name=8eb337b5';\nexport const TWITTER_TRACKING_SCRIPT_URL = 'https://static.ads-twitter.com/uwt.js';\nexport const LINKED_IN_SCRIPT_URL = 'https://snap.licdn.com/li.lms-analytics/insight.min.js';\nexport const QUORA_SCRIPT_URL = 'https://a.quora.com/qevents.js';\nexport const OUTBRAIN_SCRIPT_URL = 'https://amplify.outbrain.com/cp/obtp.js';\nexport const PINTEREST_SCRIPT_URL = 'https://s.pinimg.com/ct/core.js';\nexport const TRACKING_IDS = {\n\tbingInit: '4074038',\n\tcriteo: '31321',\n\tdcmFloodlightAdvertiserId: '6355556',\n\tfacebookInit: '823166884443641',\n\tfacebookJetpackInit: '919484458159593',\n\tfullStory: '120RG4',\n\tfullStoryJetpack: '181XXV',\n\tlinkedInPartnerId: '195308',\n\toutbrainAdvId: '00f0f5287433c2851cc0cb917c7ff0465e',\n\tpinterestInit: '2613194105266',\n\tquantcast: 'p-3Ma3jHaQMB_bS',\n\tquoraPixelId: '420845cb70e444938cf0728887a74ca1',\n\ttwitterPixelId: 'nvzbs',\n\twpcomGoogleAnalyticsGtag: config( 'google_analytics_key' ),\n\twpcomFloodlightGtag: 'DC-6355556',\n\twpcomGoogleAdsGtag: 'AW-946162814',\n\twpcomGoogleAdsGtagSignupStart: 'AW-946162814/baDICKzQiq4BEP6YlcMD', // \"WordPress.com Signup Start\"\n\twpcomGoogleAdsGtagRegistration: 'AW-946162814/_6cKCK6miZYBEP6YlcMD', // \"WordPress.com Registration\"\n\twpcomGoogleAdsGtagSignup: 'AW-946162814/5-NnCKy3xZQBEP6YlcMD', // \"All Calypso Signups (WordPress.com)\"\n\twpcomGoogleAdsGtagAddToCart: 'AW-946162814/MF4yCNi_kZYBEP6YlcMD', // \"WordPress.com AddToCart\"\n\twpcomGoogleAdsGtagPurchase: 'AW-946162814/taG8CPW8spQBEP6YlcMD', // \"WordPress.com Purchase Gtag\"\n\tjetpackGoogleAnalyticsGtag: 'UA-52447-43', // Jetpack Gtag (Analytics) for use in Jetpack x WordPress.com Flows\n\tjetpackGoogleAdsGtagPurchase: 'AW-946162814/kIF1CL3ApfsBEP6YlcMD',\n};\n// This name is something we created to store a session id for DCM Floodlight session tracking\nexport const DCM_FLOODLIGHT_SESSION_COOKIE_NAME = 'dcmsid';\nexport const DCM_FLOODLIGHT_SESSION_LENGTH_IN_SECONDS = 1800;\n\nexport const GA_PRODUCT_BRAND_WPCOM = 'WordPress.com';\nexport const GA_PRODUCT_BRAND_JETPACK = 'Jetpack';\n","import { getTracksAnonymousUserId, getCurrentUser } from '@automattic/calypso-analytics';\nimport cookie from 'cookie';\nimport { v4 as uuid } from 'uuid';\nimport { isAdTrackingAllowed } from 'calypso/lib/analytics/utils';\nimport {\n\tdebug,\n\tisFloodlightEnabled,\n\tDCM_FLOODLIGHT_SESSION_COOKIE_NAME,\n\tDCM_FLOODLIGHT_SESSION_LENGTH_IN_SECONDS,\n} from './constants';\n\n// Ensure setup has run.\nimport './setup';\n\n/**\n * Records Floodlight events using Gtag and automatically adds `u4`, `u5`, and `allow_custom_scripts: true`.\n *\n * @param {object} params An object of Floodlight params.\n */\nexport function recordParamsInFloodlightGtag( params ) {\n\tif ( ! isAdTrackingAllowed() || ! isFloodlightEnabled ) {\n\t\treturn;\n\t}\n\n\t// Adds u4 (user id) and u5 (anonymous user id) parameters\n\tconst defaults = {\n\t\t...floodlightUserParams(),\n\t\t// See: https://support.google.com/searchads/answer/7566546?hl=en\n\t\tallow_custom_scripts: true,\n\t};\n\n\tconst finalParams = [ 'event', 'conversion', { ...defaults, ...params } ];\n\n\tdebug( 'recordParamsInFloodlightGtag:', finalParams );\n\n\twindow.gtag( ...finalParams );\n}\n\n/**\n * Returns an object with DCM Floodlight user params\n *\n * @returns {object} With the WordPress.com user id and/or the logged out Tracks id\n */\nfunction floodlightUserParams() {\n\tconst params = {};\n\tconst currentUser = getCurrentUser();\n\tconst anonymousUserId = getTracksAnonymousUserId();\n\n\tif ( currentUser ) {\n\t\tparams.u4 = currentUser.hashedPii.ID;\n\t}\n\n\tif ( anonymousUserId ) {\n\t\tparams.u5 = anonymousUserId;\n\t}\n\n\treturn params;\n}\n\n/**\n * Returns the DCM Floodlight session id, generating a new one if there's not already one\n *\n * @returns {string} The session id\n */\nfunction floodlightSessionId() {\n\tconst cookies = cookie.parse( document.cookie );\n\n\tconst existingSessionId = cookies[ DCM_FLOODLIGHT_SESSION_COOKIE_NAME ];\n\tif ( existingSessionId ) {\n\t\tdebug( 'Floodlight: Existing session: ' + existingSessionId );\n\t\treturn existingSessionId;\n\t}\n\n\t// Generate a 32-byte random session id\n\tconst newSessionId = uuid().replace( new RegExp( '-', 'g' ), '' );\n\tdebug( 'Floodlight: New session: ' + newSessionId );\n\treturn newSessionId;\n}\n\n/**\n * Track a page view in DCM Floodlight\n *\n * @param {string} urlPath - The URL path\n * @returns {void}\n */\nexport function recordPageViewInFloodlight( urlPath ) {\n\tif ( ! isAdTrackingAllowed() || ! isFloodlightEnabled ) {\n\t\treturn;\n\t}\n\n\tconst sessionId = floodlightSessionId();\n\n\t// Set or bump the cookie's expiration date to maintain the session\n\tdocument.cookie = cookie.serialize( DCM_FLOODLIGHT_SESSION_COOKIE_NAME, sessionId, {\n\t\tmaxAge: DCM_FLOODLIGHT_SESSION_LENGTH_IN_SECONDS,\n\t} );\n\n\tdebug( 'retarget: recordPageViewInFloodlight: wpvisit' );\n\trecordParamsInFloodlightGtag( {\n\t\tsession_id: sessionId,\n\t\tu6: urlPath,\n\t\tu7: sessionId,\n\t\tsend_to: 'DC-6355556/wordp0/wpvisit+per_session',\n\t} );\n\n\tdebug( 'retarget: recordPageViewInFloodlight: wppv' );\n\trecordParamsInFloodlightGtag( {\n\t\tu6: urlPath,\n\t\tu7: sessionId,\n\t\tsend_to: 'DC-6355556/wordp0/wppv+standard',\n\t} );\n}\n","import { getCurrentUser, getDoNotTrack } from '@automattic/calypso-analytics';\nimport config from '@automattic/calypso-config';\nimport { isPiiUrl, mayWeTrackCurrentUserGdpr } from 'calypso/lib/analytics/utils';\nimport isJetpackCloud from 'calypso/lib/jetpack/is-jetpack-cloud';\nimport { isGoogleAnalyticsEnabled, TRACKING_IDS } from './constants';\nimport { setupGtag } from './setup-gtag';\n\n// Ensure setup has run.\nimport './setup';\n\nexport function setupGoogleAnalyticsGtag( options ) {\n\tsetupGtag();\n\twindow.gtag( 'config', TRACKING_IDS.wpcomGoogleAnalyticsGtag, options );\n}\n\n/**\n * Returns whether Google Analytics is allowed.\n *\n * This function returns false if:\n *\n * 1. `isGoogleAnalyticsEnabled` is `true`\n * 2. `ad-tracking` feature is disabled\n * 3. `Do Not Track` is enabled\n * 4. the current user could be in the GDPR zone and hasn't consented to tracking\n * 5. `document.location.href` may contain personally identifiable information\n *\n * Note that getDoNotTrack() and isPiiUrl() can change at any time which is why we do not cache them.\n *\n * @returns {boolean} true if GA is allowed.\n */\nexport function isGoogleAnalyticsAllowed() {\n\treturn (\n\t\tisGoogleAnalyticsEnabled &&\n\t\tconfig.isEnabled( 'ad-tracking' ) &&\n\t\t! getDoNotTrack() &&\n\t\t! isPiiUrl() &&\n\t\tmayWeTrackCurrentUserGdpr()\n\t);\n}\n\n/**\n * Returns the default configuration for Google Analytics\n *\n * @returns {object} GA's default config\n */\nexport function getGoogleAnalyticsDefaultConfig() {\n\tconst currentUser = getCurrentUser();\n\n\treturn {\n\t\t...( currentUser && { user_id: currentUser.hashedPii.ID } ),\n\t\tanonymize_ip: true,\n\t\ttransport_type: 'function' === typeof window.navigator.sendBeacon ? 'beacon' : 'xhr',\n\t\tuse_amp_client_id: true,\n\t\tcustom_map: {\n\t\t\tdimension3: 'client_id',\n\t\t},\n\t\tlinker: isJetpackCloud() ? { domains: [ 'wordpress.com' ] } : { accept_incoming: true },\n\t};\n}\n\n/**\n * Fires Google Analytics page view event\n *\n * @param {string} urlPath The path of the current page\n * @param {string} pageTitle The title of the current page\n * @param {boolean} useJetpackGoogleAnalytics send the page view to Jetpack Google Analytics\n */\nexport function fireGoogleAnalyticsPageView(\n\turlPath,\n\tpageTitle,\n\tuseJetpackGoogleAnalytics = false\n) {\n\twindow.gtag( 'config', TRACKING_IDS.wpcomGoogleAnalyticsGtag, {\n\t\t...getGoogleAnalyticsDefaultConfig(),\n\t\tpage_path: urlPath,\n\t\tpage_title: pageTitle,\n\t} );\n\tif ( useJetpackGoogleAnalytics ) {\n\t\twindow.gtag( 'config', TRACKING_IDS.jetpackGoogleAnalyticsGtag, {\n\t\t\t...getGoogleAnalyticsDefaultConfig(),\n\t\t\tpage_path: urlPath,\n\t\t\tpage_title: pageTitle,\n\t\t} );\n\t}\n}\n\n/**\n * Fires a generic Google Analytics event\n *\n * @param {string} category Is the string that will appear as the event category.\n * @param {string} action Is the string that will appear as the event action in Google Analytics Event reports.\n * @param {string} label Is the string that will appear as the event label.\n * @param {number} value Is a non-negative integer that will appear as the event value.\n */\nexport function fireGoogleAnalyticsEvent( category, action, label, value ) {\n\twindow.gtag( 'event', action, {\n\t\tevent_category: category,\n\t\tevent_label: label,\n\t\tvalue: value,\n\t} );\n}\n","import { getCurrentUser } from '@automattic/calypso-analytics';\nimport { loadScript } from '@automattic/load-script';\nimport {\n\tdebug,\n\tisFacebookEnabled,\n\tisBingEnabled,\n\tisCriteoEnabled,\n\tisQuantcastEnabled,\n\tisWpcomGoogleAdsGtagEnabled,\n\tisFloodlightEnabled,\n\tisTwitterEnabled,\n\tisLinkedinEnabled,\n\tisQuoraEnabled,\n\tisOutbrainEnabled,\n\tisPinterestEnabled,\n\tisGoogleAnalyticsEnabled,\n\tTRACKING_IDS,\n\tFACEBOOK_TRACKING_SCRIPT_URL,\n\tGOOGLE_GTAG_SCRIPT_URL,\n\tBING_TRACKING_SCRIPT_URL,\n\tCRITEO_TRACKING_SCRIPT_URL,\n\tTWITTER_TRACKING_SCRIPT_URL,\n\tLINKED_IN_SCRIPT_URL,\n\tQUORA_SCRIPT_URL,\n\tOUTBRAIN_SCRIPT_URL,\n\tPINTEREST_SCRIPT_URL,\n} from './constants';\n\n// Ensure setup has run.\nimport './setup';\n\nexport const loadTrackingScripts = attemptLoad( async () => {\n\tconst scripts = getTrackingScriptsToLoad();\n\n\tlet hasError = false;\n\tfor ( const src of scripts ) {\n\t\ttry {\n\t\t\t// We use `await` to load each script one by one and allow the GUI to load and be responsive while\n\t\t\t// the trackers get loaded in a user friendly manner.\n\t\t\tawait loadScript( src );\n\t\t} catch ( error ) {\n\t\t\thasError = true;\n\t\t\tdebug( 'loadTrackingScripts: [Load Error] a tracking script failed to load: ', error );\n\t\t}\n\t\tdebug( 'loadTrackingScripts: [Loaded]', src );\n\t}\n\n\tif ( hasError ) {\n\t\tthrow new Error( 'One or more tracking scripts failed to load' );\n\t}\n\n\tdebug( 'loadTrackingScripts: load done' );\n\n\tinitLoadedTrackingScripts();\n\n\t// uses JSON.stringify for consistency with recordOrder()\n\tdebug( 'loadTrackingScripts: dataLayer:', JSON.stringify( window.dataLayer, null, 2 ) );\n} );\n\nfunction getTrackingScriptsToLoad() {\n\tconst scripts = [];\n\n\tif ( isFacebookEnabled ) {\n\t\tscripts.push( FACEBOOK_TRACKING_SCRIPT_URL );\n\t}\n\n\t// The Gtag script needs to be loaded with an ID in the URL so we search for the first available one.\n\tconst enabledGtags = [\n\t\tisGoogleAnalyticsEnabled && TRACKING_IDS.wpcomGoogleAnalyticsGtag,\n\t\tisWpcomGoogleAdsGtagEnabled && TRACKING_IDS.wpcomGoogleAdsGtag,\n\t\tisFloodlightEnabled && TRACKING_IDS.wpcomFloodlightGtag,\n\t].filter( ( id ) => false !== id );\n\tif ( enabledGtags.length > 0 ) {\n\t\tscripts.push( GOOGLE_GTAG_SCRIPT_URL + enabledGtags[ 0 ] );\n\t}\n\n\tif ( isBingEnabled ) {\n\t\tscripts.push( BING_TRACKING_SCRIPT_URL );\n\t}\n\n\tif ( isCriteoEnabled ) {\n\t\tscripts.push( CRITEO_TRACKING_SCRIPT_URL );\n\t}\n\n\tif ( isQuantcastEnabled ) {\n\t\tscripts.push( quantcastAsynchronousTagURL() );\n\t}\n\n\tif ( isTwitterEnabled ) {\n\t\tscripts.push( TWITTER_TRACKING_SCRIPT_URL );\n\t}\n\n\tif ( isLinkedinEnabled ) {\n\t\tscripts.push( LINKED_IN_SCRIPT_URL );\n\t}\n\n\tif ( isQuoraEnabled ) {\n\t\tscripts.push( QUORA_SCRIPT_URL );\n\t}\n\n\tif ( isOutbrainEnabled ) {\n\t\tscripts.push( OUTBRAIN_SCRIPT_URL );\n\t}\n\n\tif ( isPinterestEnabled ) {\n\t\tscripts.push( PINTEREST_SCRIPT_URL );\n\t}\n\n\treturn scripts;\n}\n\nfunction initLoadedTrackingScripts() {\n\t// init Facebook\n\tif ( isFacebookEnabled ) {\n\t\tinitFacebook();\n\t}\n\n\t// init Bing\n\tif ( isBingEnabled ) {\n\t\tconst bingConfig = {\n\t\t\tti: TRACKING_IDS.bingInit,\n\t\t\tq: window.uetq,\n\t\t};\n\n\t\tif ( typeof UET !== 'undefined' ) {\n\t\t\t// bing's script creates the UET global for us\n\t\t\twindow.uetq = new UET( bingConfig ); // eslint-disable-line\n\t\t}\n\t}\n\n\t// init Twitter\n\tif ( isTwitterEnabled ) {\n\t\twindow.twq( 'init', TRACKING_IDS.twitterPixelId );\n\t}\n\n\t// init Quora\n\tif ( isQuoraEnabled ) {\n\t\twindow.qp( 'init', TRACKING_IDS.quoraPixelId );\n\t}\n\n\t// init Pinterest\n\tif ( isPinterestEnabled ) {\n\t\tconst currentUser = getCurrentUser();\n\t\tconst params = currentUser ? { em: currentUser.hashedPii.email } : {};\n\t\twindow.pintrk( 'load', TRACKING_IDS.pinterestInit, params );\n\t}\n\n\tdebug( 'loadTrackingScripts: init done' );\n}\n\n// Returns a function that has the following behavior:\n// - when called, tries to call `loader` and returns a promise that resolves when load is finished\n// - when `loader` is already in progress, don't issue two concurrent calls: wait for the first to finish\n// - when `loader` fails, DON'T return a rejected promise. Instead, leave it unresolved and let the caller\n//   wait, potentially forever. Next call to the loader function has a chance to succeed and resolve the\n//   promise, for the current and all previous callers. That effectively implements a queue.\nfunction attemptLoad( loader ) {\n\tlet setLoadResult;\n\tlet status = 'not-loading';\n\n\tconst loadResult = new Promise( ( resolve ) => {\n\t\tsetLoadResult = resolve;\n\t} );\n\n\treturn () => {\n\t\tif ( status === 'not-loading' ) {\n\t\t\tstatus = 'loading';\n\t\t\tloader().then(\n\t\t\t\t( result ) => {\n\t\t\t\t\tstatus = 'loaded';\n\t\t\t\t\tsetLoadResult( result );\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tstatus = 'not-loading';\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\treturn loadResult;\n\t};\n}\n\n/**\n * Returns the URL for Quantcast's Purchase Confirmation Tag\n *\n * @see https://www.quantcast.com/help/guides/using-the-quantcast-asynchronous-tag/\n *\n * @returns {string} The URL\n */\nfunction quantcastAsynchronousTagURL() {\n\tconst protocolAndSubdomain =\n\t\tdocument.location.protocol === 'https:' ? 'https://secure' : 'http://edge';\n\n\treturn protocolAndSubdomain + '.quantserve.com/quant.js';\n}\n\n/**\n * Initializes the Facebook pixel.\n *\n * When the user is logged in, additional hashed data is being forwarded.\n * See https://developers.facebook.com/docs/facebook-pixel/pixel-with-ads/conversion-tracking#advanced_match\n */\nfunction initFacebook() {\n\tlet advancedMatching = {};\n\tconst currentUser = getCurrentUser();\n\n\tif ( currentUser ) {\n\t\tadvancedMatching = { em: currentUser.hashedPii.email };\n\t}\n\n\tdebug( 'initFacebook', advancedMatching );\n\n\t// WP Facebook pixel\n\twindow.fbq( 'init', TRACKING_IDS.facebookInit, advancedMatching );\n\n\t// Jetpack Facebook pixel\n\t// Also initialize the FB pixel for Jetpack.\n\t// However, disable auto-config for this secondary pixel ID.\n\t// See: <https://developers.facebook.com/docs/facebook-pixel/api-reference#automatic-configuration>\n\twindow.fbq( 'set', 'autoConfig', false, TRACKING_IDS.facebookJetpackInit );\n\twindow.fbq( 'init', TRACKING_IDS.facebookJetpackInit, advancedMatching );\n}\n","import { isAdTrackingAllowed, refreshCountryCodeCookieGdpr } from 'calypso/lib/analytics/utils';\nimport {\n\tdebug,\n\tisFacebookEnabled,\n\tisBingEnabled,\n\tisQuantcastEnabled,\n\tisWpcomGoogleAdsGtagEnabled,\n\tisTwitterEnabled,\n\tisQuoraEnabled,\n\tisOutbrainEnabled,\n\tisPinterestEnabled,\n\tisAdRollEnabled,\n\tisIconMediaEnabled,\n\tisGeminiEnabled,\n\tTRACKING_IDS,\n\tICON_MEDIA_RETARGETING_PIXEL_URL,\n\tYAHOO_GEMINI_AUDIENCE_BUILDING_PIXEL_URL,\n} from './constants';\nimport { recordPageViewInFloodlight } from './floodlight';\nimport { loadTrackingScripts } from './load-tracking-scripts';\n\n// Ensure setup has run.\nimport './setup';\n\n// Retargeting events are fired once every `retargetingPeriod` seconds.\nconst retargetingPeriod = 60 * 60 * 24;\n\n// Last time the retarget() function effectively fired (Unix time in seconds).\nlet lastRetargetTime = 0;\n\n/**\n * Fire tracking events for the purposes of retargeting on all Calypso pages\n *\n * @param {string} urlPath The URL path we should report to the ad-trackers which may be different from the actual one\n * for privacy reasons.\n *\n * @returns {void}\n */\nexport async function retarget( urlPath ) {\n\tawait refreshCountryCodeCookieGdpr();\n\n\tif ( ! isAdTrackingAllowed() ) {\n\t\tdebug( 'retarget: [Skipping] ad tracking is not allowed', urlPath );\n\t\treturn;\n\t}\n\n\tawait loadTrackingScripts();\n\n\tdebug( 'retarget:', urlPath );\n\n\t// Non rate limited retargeting (main trackers)\n\n\t// Quantcast\n\tif ( isQuantcastEnabled ) {\n\t\tconst params = {\n\t\t\tqacct: TRACKING_IDS.quantcast,\n\t\t\tevent: 'refresh',\n\t\t};\n\t\tdebug( 'retarget: [Quantcast]', params );\n\t\twindow._qevents.push( params );\n\t}\n\n\t// Facebook\n\tif ( isFacebookEnabled ) {\n\t\tconst params = [ 'trackSingle', TRACKING_IDS.facebookInit, 'PageView' ];\n\t\tdebug( 'retarget: [Facebook]', params );\n\t\twindow.fbq( ...params );\n\t}\n\n\t// Bing\n\tif ( isBingEnabled ) {\n\t\tdebug( 'retarget: [Bing]' );\n\t\twindow.uetq.push( 'pageLoad' );\n\t}\n\n\t// Wordpress.com Google Ads Gtag\n\tif ( isWpcomGoogleAdsGtagEnabled ) {\n\t\tconst params = [ 'config', TRACKING_IDS.wpcomGoogleAdsGtag, { page_path: urlPath } ];\n\t\tdebug( 'retarget: [Google Ads] WPCom', params );\n\t\twindow.gtag( ...params );\n\t}\n\n\t// Floodlight\n\trecordPageViewInFloodlight( urlPath );\n\n\t// Pinterest\n\tif ( isPinterestEnabled ) {\n\t\tdebug( 'retarget: [Pinterest]' );\n\t\twindow.pintrk( 'page' );\n\t}\n\n\t// AdRoll\n\tif ( isAdRollEnabled ) {\n\t\tdebug( 'retarget: [AdRoll]' );\n\t\twindow.adRoll.trackPageview();\n\t}\n\n\t// Rate limited retargeting (secondary trackers)\n\n\tconst nowTimestamp = Date.now() / 1000;\n\tif ( nowTimestamp >= lastRetargetTime + retargetingPeriod ) {\n\t\tlastRetargetTime = nowTimestamp;\n\n\t\t// Outbrain\n\t\tif ( isOutbrainEnabled ) {\n\t\t\tconst params = [ 'track', 'PAGE_VIEW' ];\n\t\t\tdebug( 'retarget: [Outbrain] [rate limited]', params );\n\t\t\twindow.obApi( ...params );\n\t\t}\n\n\t\t// Icon Media\n\t\tif ( isIconMediaEnabled ) {\n\t\t\tconst params = ICON_MEDIA_RETARGETING_PIXEL_URL;\n\t\t\tdebug( 'retarget: [Icon Media] [rate limited]', params );\n\t\t\tnew window.Image().src = params;\n\t\t}\n\n\t\t// Twitter\n\t\tif ( isTwitterEnabled ) {\n\t\t\tconst params = [ 'track', 'PageView' ];\n\t\t\tdebug( 'retarget: [Twitter] [rate limited]', params );\n\t\t\twindow.twq( ...params );\n\t\t}\n\n\t\t// Yahoo Gemini\n\t\tif ( isGeminiEnabled ) {\n\t\t\tconst params = YAHOO_GEMINI_AUDIENCE_BUILDING_PIXEL_URL;\n\t\t\tdebug( 'retarget: [Yahoo Gemini] [rate limited]', params );\n\t\t\tnew window.Image().src = params;\n\t\t}\n\n\t\t// Quora\n\t\tif ( isQuoraEnabled ) {\n\t\t\tconst params = [ 'track', 'ViewContent' ];\n\t\t\tdebug( 'retarget: [Quora] [rate limited]', params );\n\t\t\twindow.qp( ...params );\n\t\t}\n\t}\n\n\t// uses JSON.stringify for consistency with recordOrder()\n\tdebug( 'retarget: dataLayer:', JSON.stringify( window.dataLayer, null, 2 ) );\n}\n","export function setupGtag() {\n\tif ( window.dataLayer && window.gtag ) {\n\t\treturn;\n\t}\n\twindow.dataLayer = window.dataLayer || [];\n\twindow.gtag = function () {\n\t\twindow.dataLayer.push( arguments );\n\t};\n\twindow.gtag( 'js', new Date() );\n}\n","import {\n\tisAdRollEnabled,\n\tisBingEnabled,\n\tisCriteoEnabled,\n\tisFacebookEnabled,\n\tisFloodlightEnabled,\n\tisLinkedinEnabled,\n\tisOutbrainEnabled,\n\tisPinterestEnabled,\n\tisQuantcastEnabled,\n\tisQuoraEnabled,\n\tisTwitterEnabled,\n\tisWpcomGoogleAdsGtagEnabled,\n\tADROLL_PAGEVIEW_PIXEL_URL_1,\n\tADROLL_PAGEVIEW_PIXEL_URL_2,\n\tADROLL_PURCHASE_PIXEL_URL_1,\n\tADROLL_PURCHASE_PIXEL_URL_2,\n\tTRACKING_IDS,\n} from './constants';\nimport { setupGtag } from './setup-gtag';\n\nif ( typeof window !== 'undefined' ) {\n\tsetupGtag();\n\n\t// Facebook\n\tif ( isFacebookEnabled ) {\n\t\tsetupFacebookGlobal();\n\t}\n\n\t// Bing\n\tif ( isBingEnabled && ! window.uetq ) {\n\t\twindow.uetq = [];\n\t}\n\n\t// Criteo\n\tif ( isCriteoEnabled && ! window.criteo_q ) {\n\t\twindow.criteo_q = [];\n\t}\n\n\t// Quantcast\n\tif ( isQuantcastEnabled && ! window._qevents ) {\n\t\twindow._qevents = [];\n\t}\n\n\t// Google Ads Gtag for wordpress.com\n\tif ( isWpcomGoogleAdsGtagEnabled ) {\n\t\tsetupWpcomGoogleAdsGtag();\n\t}\n\n\tif ( isFloodlightEnabled ) {\n\t\tsetupWpcomFloodlightGtag();\n\t}\n\n\t// Twitter\n\tif ( isTwitterEnabled ) {\n\t\tsetupTwitterGlobal();\n\t}\n\n\t// Linkedin\n\tif ( isLinkedinEnabled ) {\n\t\tsetupLinkedinGlobal();\n\t}\n\n\t// Quora\n\tif ( isQuoraEnabled ) {\n\t\tsetupQuoraGlobal();\n\t}\n\n\t// Outbrain\n\tif ( isOutbrainEnabled ) {\n\t\tsetupOutbrainGlobal();\n\t}\n\n\t// Pinterest\n\tif ( isPinterestEnabled ) {\n\t\tsetupPinterestGlobal();\n\t}\n\n\t// AdRoll\n\tif ( isAdRollEnabled ) {\n\t\tsetupAdRollGlobal();\n\t}\n}\n\n/**\n * Initializes Linkedin tracking.\n */\nfunction setupLinkedinGlobal() {\n\tif ( ! window._linkedin_data_partner_id ) {\n\t\twindow._linkedin_data_partner_id = TRACKING_IDS.linkedInPartnerId;\n\t}\n}\n\n/**\n * Initializes Quora tracking.\n * This is a rework of the obfuscated tracking code provided by Quora.\n */\nfunction setupQuoraGlobal() {\n\tif ( window.qp ) {\n\t\treturn;\n\t}\n\n\tconst quoraPixel = ( window.qp = function () {\n\t\tquoraPixel.qp\n\t\t\t? quoraPixel.qp.apply( quoraPixel, arguments )\n\t\t\t: quoraPixel.queue.push( arguments );\n\t} );\n\tquoraPixel.queue = [];\n}\n\n/**\n * This sets up the globals that the Facebook event library expects.\n * More info here: https://www.facebook.com/business/help/952192354843755\n */\nfunction setupFacebookGlobal() {\n\tif ( window.fbq ) {\n\t\treturn;\n\t}\n\n\tconst facebookEvents = ( window.fbq = function () {\n\t\tif ( facebookEvents.callMethod ) {\n\t\t\tfacebookEvents.callMethod.apply( facebookEvents, arguments );\n\t\t} else {\n\t\t\tfacebookEvents.queue.push( arguments );\n\t\t}\n\t} );\n\n\tif ( ! window._fbq ) {\n\t\twindow._fbq = facebookEvents;\n\t}\n\n\t/*\n\t * Disable automatic PageView pushState tracking. It causes problems when we're using multiple FB pixel IDs.\n\t * The objective here is to avoid firing a PageView against multiple FB pixel IDs. By disabling pushState tracking,\n\t * we can do PageView tracking for FB on our own. See: `retarget()` in this file.\n\t *\n\t * There's more about the `disablePushState` flag here:\n\t * <https://developers.facebook.com/ads/blog/post/2017/05/29/tagging-a-single-page-application-facebook-pixel/>\n\t */\n\twindow._fbq.disablePushState = true;\n\n\tfacebookEvents.push = facebookEvents;\n\tfacebookEvents.loaded = true;\n\tfacebookEvents.version = '2.0';\n\tfacebookEvents.queue = [];\n}\n\n/**\n * This sets up the global `twq` function that Twitter expects.\n * More info here: https://github.com/Automattic/wp-calypso/pull/10235\n */\nfunction setupTwitterGlobal() {\n\tif ( window.twq ) {\n\t\treturn;\n\t}\n\n\tconst twq = ( window.twq = function () {\n\t\ttwq.exe ? twq.exe.apply( twq, arguments ) : twq.queue.push( arguments );\n\t} );\n\ttwq.version = '1.1';\n\ttwq.queue = [];\n}\n\nfunction setupOutbrainGlobal() {\n\tconst api = ( window.obApi = function () {\n\t\tapi.dispatch ? api.dispatch.apply( api, arguments ) : api.queue.push( arguments );\n\t} );\n\tapi.version = '1.0';\n\tapi.loaded = true;\n\tapi.marketerId = TRACKING_IDS.outbrainAdvId;\n\tapi.queue = [];\n}\n\nfunction setupPinterestGlobal() {\n\tif ( ! window.pintrk ) {\n\t\twindow.pintrk = function () {\n\t\t\twindow.pintrk.queue.push( Array.prototype.slice.call( arguments ) );\n\t\t};\n\t\tconst n = window.pintrk;\n\t\tn.queue = [];\n\t\tn.version = '3.0';\n\t}\n}\n\nfunction setupAdRollGlobal() {\n\tif ( ! window.adRoll ) {\n\t\twindow.adRoll = {\n\t\t\ttrackPageview: function () {\n\t\t\t\tnew window.Image().src = ADROLL_PAGEVIEW_PIXEL_URL_1;\n\t\t\t\tnew window.Image().src = ADROLL_PAGEVIEW_PIXEL_URL_2;\n\t\t\t},\n\t\t\ttrackPurchase: function () {\n\t\t\t\tnew window.Image().src = ADROLL_PURCHASE_PIXEL_URL_1;\n\t\t\t\tnew window.Image().src = ADROLL_PURCHASE_PIXEL_URL_2;\n\t\t\t},\n\t\t};\n\t}\n}\n\nfunction setupWpcomGoogleAdsGtag() {\n\tsetupGtag();\n\twindow.gtag( 'config', TRACKING_IDS.wpcomGoogleAdsGtag );\n}\n\nfunction setupWpcomFloodlightGtag() {\n\tsetupGtag();\n\twindow.gtag( 'config', TRACKING_IDS.wpcomFloodlightGtag );\n}\n","import { debug, TRACKING_IDS } from './constants';\n\n// Ensure setup has run.\nimport './setup';\n\n/**\n * Fire custom facebook conversion tracking event.\n *\n * @param {string} name - The name of the custom event.\n * @param {object} properties - The custom event attributes.\n * @returns {void}\n */\nexport function trackCustomFacebookConversionEvent( name, properties ) {\n\twindow.fbq && window.fbq( 'trackSingleCustom', TRACKING_IDS.facebookInit, name, properties );\n}\n\n/**\n * Fire custom adwords conversation tracking event.\n *\n * @param {object} properties - The custom event attributes.\n * @returns {void}\n */\nexport function trackCustomAdWordsRemarketingEvent( properties ) {\n\tdebug( 'trackCustomAdWordsRemarketingEvent:', properties );\n\t// Not sure this is currently serving any purpose and whether we can convert it to use Gtag.\n\t// Refactoring the middleware for analytics is outside the scope of this PR so I'll leave the function stub for now.\n\t/*\n\twindow.google_trackConversion &&\n\t\twindow.google_trackConversion( {\n\t\t\tgoogle_conversion_id: ADWORDS_CONVERSION_ID,\n\t\t\tgoogle_custom_params: properties,\n\t\t\tgoogle_remarketing_only: true,\n\t\t} );\n\t*/\n}\n","import { getCurrentUser, getDoNotTrack } from '@automattic/calypso-analytics';\nimport config from '@automattic/calypso-config';\nimport debug from 'debug';\nimport { isE2ETest } from 'calypso/lib/e2e';\nimport isJetpackCloud from 'calypso/lib/jetpack/is-jetpack-cloud';\nimport { TRACKING_IDS } from './ad-tracking/constants';\nimport { mayWeTrackCurrentUserGdpr, isPiiUrl } from './utils';\n\nconst fullStoryDebug = debug( 'calypso:analytics:fullstory' );\n\nlet fullStoryScriptLoaded = false;\n\nexport function retargetFullStory() {\n\tmaybeAddFullStoryScript();\n\n\tif ( ! window.FS ) {\n\t\treturn;\n\t}\n\n\tfullStoryDebug( 'retargetFullStory' );\n\twindow.FS.restart();\n\tmaybeIdentifyUser();\n}\n\nexport function recordFullStoryEvent( name, _props ) {\n\tmaybeAddFullStoryScript();\n\n\tif ( ! window.FS || ! name ) {\n\t\treturn;\n\t}\n\n\tconst props = suffixPropsAccordingToSpec( _props );\n\tfullStoryDebug( 'recordFullStoryEvent:', { name, props } );\n\twindow.FS.event( name, props );\n\tmaybeIdentifyUser();\n}\n\nfunction maybeAddFullStoryScript() {\n\tif (\n\t\tfullStoryScriptLoaded ||\n\t\t! config.isEnabled( 'fullstory' ) ||\n\t\tgetDoNotTrack() ||\n\t\tisE2ETest() ||\n\t\tisPiiUrl() ||\n\t\t! mayWeTrackCurrentUserGdpr()\n\t) {\n\t\tif ( ! fullStoryScriptLoaded ) {\n\t\t\tfullStoryDebug( 'maybeAddFullStoryScript:', false );\n\t\t}\n\t\treturn;\n\t}\n\n\tfullStoryScriptLoaded = true;\n\tfullStoryDebug( 'maybeAddFullStoryScript:', true );\n\n\twindow._fs_debug = 'development' === process.env.NODE_ENV;\n\twindow._fs_host = 'fullstory.com';\n\twindow._fs_script = 'edge.fullstory.com/s/fs.js';\n\twindow._fs_org = isJetpackCloud() ? TRACKING_IDS.fullStoryJetpack : TRACKING_IDS.fullStory;\n\twindow._fs_namespace = 'FS';\n\n\t( function ( m, n, e, t, l, o, g, y ) {\n\t\tfullStoryDebug( 'maybeAddFullStoryScript:', 'script loading' );\n\t\tif ( e in m ) {\n\t\t\tif ( m.console && m.console.log ) {\n\t\t\t\tm.console.log( 'FullStory namespace conflict. Please set window._fs_namespace.' );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tg = m[ e ] = function ( a, b, s ) {\n\t\t\tg.q ? g.q.push( [ a, b, s ] ) : g._api( a, b, s );\n\t\t};\n\t\tg.q = [];\n\t\to = n.createElement( t );\n\t\to.async = 1;\n\t\to.crossOrigin = 'anonymous';\n\t\to.src = 'https://' + window._fs_script;\n\t\ty = n.getElementsByTagName( t )[ 0 ];\n\t\ty.parentNode.insertBefore( o, y );\n\t\tg.identify = function ( i, v, s ) {\n\t\t\tg( l, { uid: i }, s );\n\t\t\tif ( v ) g( l, v, s );\n\t\t};\n\t\tg.setUserVars = function ( v, s ) {\n\t\t\tg( l, v, s );\n\t\t};\n\t\tg.event = function ( i, v, s ) {\n\t\t\tg( 'event', { n: i, p: v }, s );\n\t\t};\n\t\tg.anonymize = function () {\n\t\t\tg.identify( !! 0 );\n\t\t};\n\t\tg.shutdown = function () {\n\t\t\tg( 'rec', ! 1 );\n\t\t};\n\t\tg.restart = function () {\n\t\t\tg( 'rec', ! 0 );\n\t\t};\n\t\tg.log = function ( a, b ) {\n\t\t\tg( 'log', [ a, b ] );\n\t\t};\n\t\tg.consent = function ( a ) {\n\t\t\tg( 'consent', ! arguments.length || a );\n\t\t};\n\t\tg.identifyAccount = function ( i, v ) {\n\t\t\to = 'account';\n\t\t\tv = v || {};\n\t\t\tv.acctId = i;\n\t\t\tg( o, v );\n\t\t};\n\t\tg.clearUserCookie = function () {};\n\t\tg.setVars = function ( _n, p ) {\n\t\t\tg( 'setVars', [ _n, p ] );\n\t\t};\n\t\tg._w = {};\n\t\ty = 'XMLHttpRequest';\n\t\tg._w[ y ] = m[ y ];\n\t\ty = 'fetch';\n\t\tg._w[ y ] = m[ y ];\n\t\tif ( m[ y ] )\n\t\t\tm[ y ] = function () {\n\t\t\t\treturn g._w[ y ].apply( this, arguments );\n\t\t\t};\n\t\tg._v = '1.3.0';\n\t} )( window, document, window._fs_namespace, 'script', 'user' );\n}\n\nfunction maybeIdentifyUser() {\n\tif ( ! window.FS ) {\n\t\treturn;\n\t}\n\n\tconst currentUser = getCurrentUser();\n\n\tif ( currentUser ) {\n\t\tfullStoryDebug( 'maybeIdentifyUser:', currentUser );\n\t\twindow.FS.identify( currentUser.hashedPii.ID );\n\t}\n}\n\nfunction suffixPropsAccordingToSpec( _props ) {\n\tconst props = {};\n\t_props = typeof _props === 'object' ? _props : {};\n\n\tfor ( const [ key, value ] of Object.entries( _props ) ) {\n\t\tconst type = typeof value;\n\n\t\tif ( type === 'string' ) {\n\t\t\tprops[ key + '_str' ] = value;\n\t\t} else if ( type === 'boolean' ) {\n\t\t\tprops[ key + '_bool' ] = value;\n\t\t} else if ( type === 'number' || type === 'bigint' ) {\n\t\t\tif ( String( value ).indexOf( '.' ) !== -1 ) {\n\t\t\t\tprops[ key + '_real' ] = value;\n\t\t\t} else {\n\t\t\t\tprops[ key + '_int' ] = value;\n\t\t\t}\n\t\t} else if ( type === 'object' ) {\n\t\t\tprops[ key ] = suffixPropsAccordingToSpec( value );\n\t\t}\n\t}\n\n\treturn props;\n}\n","import debug from 'debug';\nimport {\n\tgetGoogleAnalyticsDefaultConfig,\n\tsetupGoogleAnalyticsGtag,\n\tisGoogleAnalyticsAllowed,\n\tfireGoogleAnalyticsPageView,\n\tfireGoogleAnalyticsEvent,\n} from 'calypso/lib/analytics/ad-tracking';\n\nconst gaDebug = debug( 'calypso:analytics:ga' );\n\nlet initialized = false;\n\nfunction initialize() {\n\tif ( ! initialized ) {\n\t\tconst parameters = {\n\t\t\tsend_page_view: false,\n\t\t\t...getGoogleAnalyticsDefaultConfig(),\n\t\t};\n\n\t\tgaDebug( 'parameters:', parameters );\n\n\t\tsetupGoogleAnalyticsGtag( parameters );\n\n\t\tinitialized = true;\n\t}\n}\n\nexport const gaRecordPageView = makeGoogleAnalyticsTrackingFunction( function recordPageView(\n\turlPath,\n\tpageTitle,\n\tuseJetpackGoogleAnalytics = false\n) {\n\tgaDebug(\n\t\t'Recording Page View ~ [URL: ' +\n\t\t\turlPath +\n\t\t\t'] [Title: ' +\n\t\t\tpageTitle +\n\t\t\t'] [useJetpackGoogleAnalytics: ' +\n\t\t\tuseJetpackGoogleAnalytics +\n\t\t\t']'\n\t);\n\n\tfireGoogleAnalyticsPageView( urlPath, pageTitle, useJetpackGoogleAnalytics );\n} );\n\n/**\n * Fires a generic Google Analytics event\n *\n * {string} category Is the string that will appear as the event category.\n * {string} action Is the string that will appear as the event action in Google Analytics Event reports.\n * {string} label Is the string that will appear as the event label.\n * {string} value Is a non-negative integer that will appear as the event value.\n */\nexport const gaRecordEvent = makeGoogleAnalyticsTrackingFunction( function recordEvent(\n\tcategory,\n\taction,\n\tlabel,\n\tvalue\n) {\n\tif ( 'undefined' !== typeof value && ! isNaN( Number( String( value ) ) ) ) {\n\t\tvalue = Math.round( Number( String( value ) ) ); // GA requires an integer value.\n\t\t// https://developers.google.com/analytics/devguides/collection/analyticsjs/field-reference#eventValue\n\t}\n\n\tlet debugText = 'Recording Event ~ [Category: ' + category + '] [Action: ' + action + ']';\n\n\tif ( 'undefined' !== typeof label ) {\n\t\tdebugText += ' [Option Label: ' + label + ']';\n\t}\n\n\tif ( 'undefined' !== typeof value ) {\n\t\tdebugText += ' [Option Value: ' + value + ']';\n\t}\n\n\tgaDebug( debugText );\n\n\tfireGoogleAnalyticsEvent( category, action, label, value );\n} );\n\n/**\n * Wrap Google Analytics with debugging, possible analytics supression, and initialization\n *\n * This method will display debug output if Google Analytics is suppresed, otherwise it will\n * initialize and call the Google Analytics function it is passed.\n *\n * @see isGoogleAnalyticsAllowed\n *\n * @param  {Function} func Google Analytics tracking function\n * @returns {Function} Wrapped function\n */\nexport function makeGoogleAnalyticsTrackingFunction( func ) {\n\treturn function ( ...args ) {\n\t\tif ( ! isGoogleAnalyticsAllowed() ) {\n\t\t\tgaDebug( '[Disallowed] analytics %s( %o )', func.name, args );\n\t\t\treturn;\n\t\t}\n\n\t\tinitialize();\n\n\t\tfunc( ...args );\n\t};\n}\n","import { getDoNotTrack } from '@automattic/calypso-analytics';\nimport config from '@automattic/calypso-config';\nimport debug from 'debug';\nimport { isE2ETest } from 'calypso/lib/e2e';\nimport { mayWeTrackCurrentUserGdpr, isPiiUrl } from './utils';\n\nconst hotjarDebug = debug( 'calypso:analytics:hotjar' );\n\nlet hotJarScriptLoaded = false;\n\nexport function addHotJarScript() {\n\tif (\n\t\thotJarScriptLoaded ||\n\t\t! config( 'hotjar_enabled' ) ||\n\t\tisE2ETest() ||\n\t\tgetDoNotTrack() ||\n\t\tisPiiUrl() ||\n\t\t! mayWeTrackCurrentUserGdpr()\n\t) {\n\t\thotjarDebug( 'Not loading HotJar script' );\n\t\treturn;\n\t}\n\n\t( function ( h, o, t, j, a, r ) {\n\t\thotjarDebug( 'Loading HotJar script' );\n\t\th.hj =\n\t\t\th.hj ||\n\t\t\tfunction () {\n\t\t\t\t( h.hj.q = h.hj.q || [] ).push( arguments );\n\t\t\t};\n\t\th._hjSettings = { hjid: 227769, hjsv: 5 };\n\t\ta = o.getElementsByTagName( 'head' )[ 0 ];\n\t\tr = o.createElement( 'script' );\n\t\tr.async = 1;\n\t\tr.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;\n\t\ta.appendChild( r );\n\t} )( window, document, '//static.hotjar.com/c/hotjar-', '.js?sv=' );\n\n\thotJarScriptLoaded = true;\n}\n","import {\n\tinitializeAnalytics as initializeCalypsoAnalytics,\n\tgetTracksAnonymousUserId,\n\tgetCurrentUser,\n} from '@automattic/calypso-analytics';\nimport debugModule from 'debug';\n\n/**\n * Module variables\n */\nconst debug = debugModule( 'calypso:analytics:init' );\n\nexport async function initializeAnalytics( currentUser, superProps ) {\n\tawait initializeCalypsoAnalytics( currentUser, superProps );\n\tconst user = getCurrentUser();\n\n\t// This block is necessary because calypso-analytics/initializeAnalytics no longer calls out to ad-tracking\n\tif ( 'object' === typeof currentUser && user && getTracksAnonymousUserId() ) {\n\t\tconst mod = await import(\n\t\t\t/* webpackChunkName: \"lib-analytics-ad-tracking-record-alias-in-floodlight\" */\n\t\t\t'calypso/lib/analytics/ad-tracking/record-alias-in-floodlight'\n\t\t);\n\t\tconst { recordAliasInFloodlight } = mod;\n\t\tdebug( 'recordAliasInFloodlight', user );\n\t\trecordAliasInFloodlight();\n\t}\n}\n","import config from '@automattic/calypso-config';\nimport debug from 'debug';\n\nconst mcDebug = debug( 'calypso:analytics:mc' );\n\nfunction buildQuerystring( group, name ) {\n\tlet uriComponent = '';\n\n\tif ( 'object' === typeof group ) {\n\t\tfor ( const key in group ) {\n\t\t\turiComponent += '&x_' + encodeURIComponent( key ) + '=' + encodeURIComponent( group[ key ] );\n\t\t}\n\t} else {\n\t\turiComponent = '&x_' + encodeURIComponent( group ) + '=' + encodeURIComponent( name );\n\t}\n\n\treturn uriComponent;\n}\n\nfunction buildQuerystringNoPrefix( group, name ) {\n\tlet uriComponent = '';\n\n\tif ( 'object' === typeof group ) {\n\t\tfor ( const key in group ) {\n\t\t\turiComponent += '&' + encodeURIComponent( key ) + '=' + encodeURIComponent( group[ key ] );\n\t\t}\n\t} else {\n\t\turiComponent = '&' + encodeURIComponent( group ) + '=' + encodeURIComponent( name );\n\t}\n\n\treturn uriComponent;\n}\n\nexport function bumpStat( group, name ) {\n\tif ( 'object' === typeof group ) {\n\t\tmcDebug( 'Bumping stats %o', group );\n\t} else {\n\t\tmcDebug( 'Bumping stat %s:%s', group, name );\n\t}\n\n\tif ( 'undefined' !== typeof window && config( 'mc_analytics_enabled' ) ) {\n\t\tconst uriComponent = buildQuerystring( group, name );\n\t\tnew window.Image().src =\n\t\t\tdocument.location.protocol +\n\t\t\t'//pixel.wp.com/g.gif?v=wpcom-no-pv' +\n\t\t\turiComponent +\n\t\t\t'&t=' +\n\t\t\tMath.random();\n\t}\n}\n\nexport function bumpStatWithPageView( group, name ) {\n\t// this function is fairly dangerous, as it bumps page views for wpcom and should only be called in very specific cases.\n\tif ( 'object' === typeof group ) {\n\t\tmcDebug( 'Bumping page view with props %o', group );\n\t} else {\n\t\tmcDebug( 'Bumping page view %s:%s', group, name );\n\t}\n\n\tif ( 'undefined' !== typeof window && config( 'mc_analytics_enabled' ) ) {\n\t\tconst uriComponent = buildQuerystringNoPrefix( group, name );\n\t\tnew window.Image().src =\n\t\t\tdocument.location.protocol +\n\t\t\t'//pixel.wp.com/g.gif?v=wpcom' +\n\t\t\turiComponent +\n\t\t\t'&t=' +\n\t\t\tMath.random();\n\t}\n}\n","// pageView is a wrapper for pageview events across Tracks and GA.\n\nimport { recordTracksPageViewWithPageParams } from '@automattic/calypso-analytics';\nimport { resolveDeviceTypeByViewPort } from '@automattic/viewport';\nimport { retarget as retargetAdTrackers } from 'calypso/lib/analytics/ad-tracking';\nimport { retargetFullStory } from 'calypso/lib/analytics/fullstory';\nimport { updateQueryParamsTracking } from 'calypso/lib/analytics/sem';\nimport { refreshCountryCodeCookieGdpr, saveCouponQueryArgument } from 'calypso/lib/analytics/utils';\nimport { gaRecordPageView } from './ga';\nimport { processQueue } from './queue';\nimport { referRecordPageView } from './refer';\n\nexport function recordPageView( urlPath, pageTitle, params = {}, options = {} ) {\n\t// Add delay to avoid stale `_dl` in recorded calypso_page_view event details.\n\t// `_dl` (browserdocumentlocation) is read from the current URL by external JavaScript.\n\tsetTimeout( () => {\n\t\t// Add device type to Tracks page view event.\n\t\tparams.device_type = resolveDeviceTypeByViewPort();\n\n\t\t// Tracks, Google Analytics, Refer platform.\n\t\trecordTracksPageViewWithPageParams( urlPath, params );\n\t\tsafeGoogleAnalyticsPageView( urlPath, pageTitle, options?.useJetpackGoogleAnalytics );\n\t\treferRecordPageView();\n\n\t\t// Retargeting.\n\t\tsaveCouponQueryArgument();\n\t\tupdateQueryParamsTracking();\n\t\tretargetAdTrackers( urlPath );\n\n\t\t// FullStory.\n\t\tretargetFullStory();\n\n\t\t// Process queue.\n\t\tprocessQueue();\n\t}, 0 );\n}\n\nasync function safeGoogleAnalyticsPageView(\n\turlPath,\n\tpageTitle,\n\tuseJetpackGoogleAnalytics = false\n) {\n\tawait refreshCountryCodeCookieGdpr();\n\tgaRecordPageView( urlPath, pageTitle, useJetpackGoogleAnalytics );\n}\n","// This is a `localStorage` queue for delayed event triggers.\n\nimport debug from 'debug';\n\n/**\n * Module variables\n */\nconst queueDebug = debug( 'calypso:analytics:queue' );\n\n// The supported modules for which queue triggers can be set up.\n// We use a layer of indirection to avoid loading the modules until they're needed.\nconst modules = {\n\tsignup: () =>\n\t\timport( /* webpackChunkName: \"lib-analytics-signup\" */ 'calypso/lib/analytics/signup' ),\n};\n\nconst lsKey = () => 'analyticsQueue';\n\nfunction clear() {\n\tif ( ! window.localStorage ) {\n\t\treturn; // Not possible.\n\t}\n\n\twindow.localStorage.removeItem( lsKey() );\n}\n\nfunction get() {\n\tif ( ! window.localStorage ) {\n\t\treturn []; // Not possible.\n\t}\n\n\tlet items = window.localStorage.getItem( lsKey() );\n\n\titems = items ? JSON.parse( items ) : [];\n\titems = Array.isArray( items ) ? items : [];\n\n\treturn items;\n}\n\nfunction runTrigger( moduleName, trigger, ...args ) {\n\tif ( 'string' === typeof trigger && 'function' === typeof modules[ moduleName ] ) {\n\t\tmodules[ moduleName ]().then( ( mod ) => {\n\t\t\tif ( 'function' === typeof mod[ trigger ] ) {\n\t\t\t\tmod[ trigger ].apply( null, args || undefined );\n\t\t\t}\n\t\t} );\n\t}\n\treturn; // Not possible.\n}\n\n/**\n * Add an item to the analytics queue.\n *\n * @param {string} moduleName the name of the module where the queued method exists, e.g. `signup`.\n * See the `modules` constant at the top of this file (`lib/analytics/queue.js`).\n * @param {string} trigger the exported function in the chosen module to be run, e.g. `recordSignupStart` in `signup`.\n * @param  {...any} args the arguments to be passed to the chosen function. Optional.\n */\nexport function addToQueue( moduleName, trigger, ...args ) {\n\tif ( ! window.localStorage ) {\n\t\t// If unable to queue, trigger it now.\n\t\treturn runTrigger( moduleName, trigger, ...args );\n\t}\n\n\tlet items = get();\n\tconst newItem = { moduleName, trigger, args };\n\n\titems.push( newItem );\n\titems = items.slice( -100 ); // Upper limit.\n\n\tqueueDebug( 'Adding new item to queue.', newItem );\n\twindow.localStorage.setItem( lsKey(), JSON.stringify( items ) );\n}\n\n/**\n * Process the existing analytics queue, by running any pending triggers and clearing it.\n */\nexport function processQueue() {\n\tif ( ! window.localStorage ) {\n\t\treturn; // Not possible.\n\t}\n\n\tconst items = get();\n\tclear();\n\n\tqueueDebug( 'Processing items in queue.', items );\n\n\titems.forEach( ( item ) => {\n\t\tif ( 'object' === typeof item && 'string' === typeof item.trigger ) {\n\t\t\tqueueDebug( 'Processing item in queue.', item );\n\t\t\trunTrigger( item.moduleName, item.trigger, ...item.args );\n\t\t}\n\t} );\n}\n","// Refer platform tracking.\n\nimport { urlParseAmpCompatible } from 'calypso/lib/analytics/utils';\nimport { trackAffiliateReferral } from './track-affiliate-referral';\nimport { recordTracksEvent } from './tracks';\n\nexport function referRecordPageView() {\n\tif ( ! window || ! window.location ) {\n\t\treturn; // Not possible.\n\t}\n\n\tconst referrer = window.location.href;\n\tconst parsedUrl = urlParseAmpCompatible( referrer );\n\tconst affiliateId =\n\t\tparsedUrl?.searchParams.get( 'aff' ) || parsedUrl?.searchParams.get( 'affiliate' );\n\tconst campaignId = parsedUrl?.searchParams.get( 'cid' );\n\tconst subId = parsedUrl?.searchParams.get( 'sid' );\n\n\tif ( affiliateId && ! isNaN( affiliateId ) ) {\n\t\trecordTracksEvent( 'calypso_refer_visit', {\n\t\t\tpage: parsedUrl.host + parsedUrl.pathname,\n\t\t} );\n\n\t\ttrackAffiliateReferral( { affiliateId, campaignId, subId, referrer } );\n\t}\n}\n","import { pushEventToTracksQueue } from '@automattic/calypso-analytics';\nimport cookie from 'cookie';\nimport debugFactory from 'debug';\nimport { urlParseAmpCompatible } from 'calypso/lib/analytics/utils';\n\n/**\n * Const variables.\n */\nconst debug = debugFactory( 'calypso:analytics:sem' );\nconst UTM_COOKIE_MAX_AGE = 60 * 60 * 24 * 365;\nconst MAX_UTM_LENGTH = 128;\nconst MAX_URL_PARAM_VALUE_LENGTH = 50;\nconst MAX_KEYWORD_PARAM_VALUE_LENGTH = 80;\nconst MAX_GCLID_PARAM_VALUE_LENGTH = 100;\n// These are the URL params that end up in the `ad_details` cookie\nconst ALLOWED_URL_PARAMS = [\n\t'adgroupid',\n\t'campaignid',\n\t'device',\n\t'gclid',\n\t'gclsrc',\n\t'fbclid',\n\t'keyword',\n\t'matchtype',\n\t'network',\n\t'type',\n\t'term',\n\t'utm_campaign',\n\t'utm_content',\n\t'utm_medium',\n\t'utm_source',\n\t'utm_term',\n\t'targetid', // QuanticMind\n\t'locationid', // QuanticMind\n\t'ref',\n\t'format', // amp/non-amp\n];\nconst VALID_UTM_SOURCE_CAMPAIGN = new RegExp( '^[a-zA-Z\\\\d_\\\\-]{1,' + MAX_UTM_LENGTH + '}$' );\n\nfunction isValidUtmSourceOrCampaign( value ) {\n\treturn VALID_UTM_SOURCE_CAMPAIGN.test( value );\n}\n\nfunction isValidOtherUrlParamValue( key, value ) {\n\tif ( 'gclid' === key ) {\n\t\treturn value.length <= MAX_GCLID_PARAM_VALUE_LENGTH;\n\t} else if ( 'keyword' === key ) {\n\t\treturn value.length <= MAX_KEYWORD_PARAM_VALUE_LENGTH;\n\t}\n\n\treturn value.length <= MAX_URL_PARAM_VALUE_LENGTH;\n}\n\nfunction isValidAndAllowedUrlParamValue( key, value ) {\n\tif ( -1 === ALLOWED_URL_PARAMS.indexOf( key ) ) {\n\t\treturn false;\n\t} else if ( 'utm_source' === key || 'utm_campaign' === value ) {\n\t\treturn isValidUtmSourceOrCampaign( value );\n\t}\n\n\treturn isValidOtherUrlParamValue( key, value );\n}\n\nfunction setUtmCookie( name, value ) {\n\tdocument.cookie = cookie.serialize( name, value, {\n\t\tpath: '/',\n\t\tmaxAge: UTM_COOKIE_MAX_AGE,\n\t\t// NOTE: Domains having more than a single extension (e.g., example.us.com)\n\t\t// would require additional custom logic to work out the root domain name.\n\t\tdomain: '.' + document.location.hostname.split( '.' ).slice( -2 ).join( '.' ),\n\t} );\n}\n\n/**\n * Updates tracking based on URL query parameters.\n */\nexport function updateQueryParamsTracking() {\n\tif ( ! document.location.search ) {\n\t\tdebug( 'No query data in URL.' );\n\t\treturn;\n\t}\n\n\tconst searchParams = urlParseAmpCompatible( document.location.href )?.searchParams;\n\n\t// Sanitize query params\n\tlet sanitizedQuery = new URLSearchParams();\n\n\tif ( searchParams ) {\n\t\tconst validEntries = Array.from( searchParams.entries() ).filter( ( [ key, value ] ) =>\n\t\t\tisValidAndAllowedUrlParamValue( key, value )\n\t\t);\n\t\tsanitizedQuery = new URLSearchParams( validEntries );\n\n\t\t// Cross domain tracking for AMP.\n\t\tif ( searchParams.get( 'amp_client_id' ) ) {\n\t\t\tpushEventToTracksQueue( [ 'identifyAnonUser', searchParams.get( 'amp_client_id' ) ] );\n\t\t}\n\t}\n\n\t// Drop SEM cookie update if either of these is missing\n\tif ( ! sanitizedQuery.get( 'utm_source' ) || ! sanitizedQuery.get( 'utm_campaign' ) ) {\n\t\tdebug( 'Missing utm_source or utm_campaign.' );\n\t\treturn;\n\t}\n\n\t// Regenerate sanitized query string\n\tconst sanitizedQueryString = sanitizedQuery.toString();\n\n\tif ( sanitizedQueryString ) {\n\t\tdebug( 'ad_details: ' + sanitizedQueryString );\n\t\tsetUtmCookie( 'ad_details', sanitizedQueryString );\n\t\tsetUtmCookie( 'ad_timestamp', Math.floor( new Date().getTime() / 1000 ) );\n\t}\n}\n","import config from '@automattic/calypso-config';\nimport { shouldReportOmitBlogId } from 'calypso/lib/analytics/utils';\nimport { getCurrentUserSiteCount } from 'calypso/state/current-user/selectors';\nimport { getSelectedSite } from 'calypso/state/ui/selectors';\n\nconst getSuperProps = ( reduxStore ) => ( eventProperties ) => {\n\tconst state = reduxStore.getState();\n\n\tconst superProps = {\n\t\tenvironment: process.env.NODE_ENV,\n\t\tenvironment_id: config( 'env_id' ),\n\t\tsite_count: getCurrentUserSiteCount( state ) || 0,\n\t\tsite_id_label: 'wpcom',\n\t\tclient: config( 'client_slug' ),\n\t};\n\n\tconst omitSelectedSite = shouldReportOmitBlogId( eventProperties.path );\n\tconst selectedSite = omitSelectedSite ? null : getSelectedSite( state );\n\n\tif ( selectedSite ) {\n\t\tObject.assign( superProps, {\n\t\t\t// Tracks expects a blog_id property to identify the blog which is\n\t\t\t// why we use it here instead of calling the property site_id\n\t\t\tblog_id: selectedSite.ID,\n\n\t\t\t// Tracks expects a blog_lang property to identify the blog language which is\n\t\t\t// why we use it here instead of calling the property site_language\n\t\t\tblog_lang: selectedSite.lang,\n\n\t\t\tsite_id_label: selectedSite.jetpack ? 'jetpack' : 'wpcom',\n\t\t\tsite_plan_id: selectedSite.plan ? selectedSite.plan.product_id : null,\n\t\t} );\n\t}\n\n\treturn superProps;\n};\n\nexport default getSuperProps;\n","import debug from 'debug';\nimport { pick } from 'lodash';\nimport { recordTracksEvent } from 'calypso/lib/analytics/tracks';\n\nconst referDebug = debug( 'calypso:analytics:refer' );\n\nconst allowedEventProps = [\n\t'status',\n\t'success',\n\t'duplicate',\n\t'description',\n\t'cookie_id',\n\t'vendor_id',\n\t'affiliate_id',\n\t'campaign_id',\n\t'sub_id',\n\t'referrer',\n];\n\nexport async function trackAffiliateReferral( { affiliateId, campaignId, subId, referrer } ) {\n\treferDebug( 'Recording affiliate referral.', { affiliateId, campaignId, subId, referrer } );\n\n\tconst headers = {\n\t\t'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n\t\tAccept: 'application/json',\n\t};\n\n\tconst body = new URLSearchParams( {\n\t\taffiliate_id: affiliateId,\n\t\tcampaign_id: campaignId || '',\n\t\tsub_id: subId || '',\n\t\treferrer: referrer || '',\n\t} ).toString();\n\n\treferDebug( 'Fetching Refer platform response.' );\n\n\ttry {\n\t\tconst response = await window.fetch( 'https://refer.wordpress.com/clicks/67402', {\n\t\t\tcredentials: 'include', // Needed to check and set the 'wp-affiliate-tracker' cookie.\n\t\t\tmethod: 'POST',\n\t\t\theaders,\n\t\t\tbody,\n\t\t} );\n\n\t\tconst json = await response.json();\n\n\t\tif ( response.ok ) {\n\t\t\treferDebug( 'Recording Refer platform success response.', json );\n\t\t\trecordTracksEvent( 'calypso_refer_visit_response', {\n\t\t\t\t...pick( json.data, allowedEventProps ),\n\t\t\t\tstatus: response.status || '',\n\t\t\t\tsuccess: json.success || true,\n\t\t\t\tdescription: json.message || 'success',\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\treferDebug( 'Recording Refer platform error response.', json );\n\t\trecordTracksEvent( 'calypso_refer_visit_response', {\n\t\t\t...pick( json.data, allowedEventProps ),\n\t\t\tstatus: response.status || '',\n\t\t\tsuccess: json.success || false,\n\t\t\tdescription: json.message || 'error',\n\t\t} );\n\t} catch ( error ) {\n\t\t// Exception from `fetch` usually means network error. Don't report these to Tracks.\n\t\treferDebug( 'Failed to fetch Refer platform response.', error );\n\t}\n}\n","import { EventEmitter } from 'events';\nimport {\n\trecordTracksEvent as baseRecordTracksEvent,\n\tanalyticsEvents,\n\trecordTracksPageView as baseRecordTracksPageView,\n\tpushEventToTracksQueue,\n} from '@automattic/calypso-analytics';\n\nexport const tracksEvents = new EventEmitter();\n\nexport function recordTracksEvent( eventName, eventProperties ) {\n\tanalyticsEvents.once( 'record-event', ( _eventName, _eventProperties ) => {\n\t\ttracksEvents.emit( 'record-event', _eventName, _eventProperties );\n\t} );\n\n\tbaseRecordTracksEvent( eventName, eventProperties );\n}\n\nexport function recordTracksPageView( urlPath, params ) {\n\tbaseRecordTracksPageView( urlPath, params );\n}\n\nexport function setTracksOptOut( isOptingOut ) {\n\tpushEventToTracksQueue( [ 'setOptOut', isOptingOut ] );\n}\n","import debugFactory from 'debug';\n\n/**\n * Module variables\n */\nexport default debugFactory( 'calypso:analytics:utils' );\n","import { getDoNotTrack } from '@automattic/calypso-analytics';\nimport config from '@automattic/calypso-config';\nimport debug from './debug';\nimport isPiiUrl from './is-pii-url';\nimport isUrlExcludedForPerformance from './is-url-excluded-for-performance';\nimport mayWeTrackCurrentUserGdpr from './may-we-track-current-user-gdpr';\n/**\n * Returns whether ad tracking is allowed.\n *\n * This function returns false if:\n *\n * 1. 'ad-tracking' is disabled\n * 2. `Do Not Track` is enabled\n * 3. the current user could be in the GDPR zone and hasn't consented to tracking\n * 4. `document.location.href` may contain personally identifiable information\n *\n * @returns {boolean} Is ad tracking is allowed?\n */\nexport default function isAdTrackingAllowed() {\n\tconst result =\n\t\tconfig.isEnabled( 'ad-tracking' ) &&\n\t\t! getDoNotTrack() &&\n\t\t! isUrlExcludedForPerformance() &&\n\t\t! isPiiUrl() &&\n\t\tmayWeTrackCurrentUserGdpr();\n\tdebug( `isAdTrackingAllowed: ${ result }` );\n\treturn result;\n}\n","const GDPR_COUNTRIES = [\n\t// European Member countries\n\t'AT', // Austria\n\t'BE', // Belgium\n\t'BG', // Bulgaria\n\t'CY', // Cyprus\n\t'CZ', // Czech Republic\n\t'DE', // Germany\n\t'DK', // Denmark\n\t'EE', // Estonia\n\t'ES', // Spain\n\t'FI', // Finland\n\t'FR', // France\n\t'GR', // Greece\n\t'HR', // Croatia\n\t'HU', // Hungary\n\t'IE', // Ireland\n\t'IT', // Italy\n\t'LT', // Lithuania\n\t'LU', // Luxembourg\n\t'LV', // Latvia\n\t'MT', // Malta\n\t'NL', // Netherlands\n\t'PL', // Poland\n\t'PT', // Portugal\n\t'RO', // Romania\n\t'SE', // Sweden\n\t'SI', // Slovenia\n\t'SK', // Slovakia\n\t'GB', // United Kingdom\n\t// Single Market Countries that GDPR applies to\n\t'CH', // Switzerland\n\t'IS', // Iceland\n\t'LI', // Liechtenstein\n\t'NO', // Norway\n];\n\n/**\n * Returns a boolean telling whether a country is in the GDPR zone.\n *\n * @param countryCode The country code to look for.\n *\n * @returns Whether the country is in the GDPR zone\n */\nexport default function isCountryInGdprZone( countryCode: string | undefined ): boolean {\n\treturn countryCode !== undefined && GDPR_COUNTRIES.includes( countryCode );\n}\n","import debug from './debug';\n\n// If this list catches things that are not necessarily forbidden we're ok with\n// a little bit of approximation as long as we do catch the ones that we have to.\n// We need to be quite aggressive with how we filter candiate pages as failing\n// to protect our users' privacy puts us in breach of our own TOS and our\n// retargeting partners' TOS. We also see personally identifiable information in\n// unexpected places like email addresses in users' posts URLs and titles for\n// various (usually accidental) reasons. We also pass PII in URLs like\n// `wordpress.com/jetpack/connect` and `wordpress.com/error-report`.\nconst forbiddenPiiPatterns = [\n\t'@',\n\t'email=',\n\t'email_address=',\n\t'first=',\n\t'last=',\n\t'first-name=',\n\t'last-name=',\n\t'address-1=',\n\t'phone=',\n];\n\nconst forbiddenPiiPatternsEnc = forbiddenPiiPatterns.map( ( pattern ) => {\n\treturn encodeURIComponent( pattern );\n} );\n\n/**\n * Whether the current URL can potentially contain personally identifiable info.\n *\n * @returns {boolean} true if the current URL can potentially contain personally identifiable info.\n */\nexport default function isPiiUrl() {\n\tconst href = document.location.href;\n\tconst match = ( pattern ) => href.indexOf( pattern ) !== -1;\n\tconst result = forbiddenPiiPatterns.some( match ) || forbiddenPiiPatternsEnc.some( match );\n\n\tdebug( `Is PII URL: ${ result }` );\n\treturn result;\n}\n","import debug from './debug';\n\n// For better load performance, these routes are excluded from loading ads.\nconst excludedRoutes = [ '/log-in' ];\n\n/**\n * Are tracking pixels forbidden from the given URL for better performance (except for Google Analytics)?\n *\n * @returns {boolean} true if the current URL is excluded.\n */\nexport default function isUrlExcludedForPerformance() {\n\tconst { href } = document.location;\n\tconst match = ( pattern ) => href.indexOf( pattern ) !== -1;\n\tconst result = excludedRoutes.some( match );\n\n\tdebug( `Is URL Excluded for Performance: ${ result }` );\n\treturn result;\n}\n","/**\n * `localStorage` key for marketing coupons.\n *\n * @type {string} `localStorage` key.\n */\nconst MARKETING_COUPONS_KEY = 'marketing-coupons';\nexport default MARKETING_COUPONS_KEY;\n","import cookie from 'cookie';\nimport debug from './debug';\nimport isCountryInGdprZone from './is-country-in-gdpr-zone';\n\n/**\n * Returns a boolean telling whether we may track the current user.\n *\n * WARNING: this function only works on the client side.\n *\n * @returns Whether we may track the current user\n */\nexport default function mayWeTrackCurrentUserGdpr(): boolean {\n\tlet result = false;\n\tconst cookies = cookie.parse( document.cookie );\n\tif ( cookies.sensitive_pixel_option === 'yes' ) {\n\t\tresult = true;\n\t} else if ( cookies.sensitive_pixel_option === 'no' ) {\n\t\tresult = false;\n\t} else {\n\t\tconst countryCode = cookies.country_code;\n\t\tresult =\n\t\t\tcountryCode !== undefined &&\n\t\t\tcountryCode !== 'unknown' &&\n\t\t\t! isCountryInGdprZone( countryCode );\n\t}\n\tdebug( `mayWeTrackCurrentUserGdpr: ${ result }` );\n\treturn result;\n}\n","import cookie from 'cookie';\nimport debug from './debug';\n\nlet refreshCountryCodeCookieGdprRequest = null;\n\n/**\n * Refreshes the GDPR `country_code` cookie every 6 hours (like A8C_Analytics wpcom plugin).\n *\n * @returns {Promise<void>} Promise that resolves when the refreshing is done (or immediately)\n */\nexport default async function refreshCountryCodeCookieGdpr() {\n\tconst cookies = cookie.parse( document.cookie );\n\tif ( cookies.country_code ) {\n\t\tdebug( 'refreshCountryCodeCookieGdpr: country_code cookie is fresh: %s', cookies.country_code );\n\t\treturn;\n\t}\n\n\tif ( refreshCountryCodeCookieGdprRequest === null ) {\n\t\trefreshCountryCodeCookieGdprRequest = requestCountryCode().then( ( countryCode ) =>\n\t\t\tsetCountryCodeCookie( countryCode )\n\t\t);\n\t}\n\n\tawait refreshCountryCodeCookieGdprRequest;\n\trefreshCountryCodeCookieGdprRequest = null;\n}\n\nfunction requestCountryCode() {\n\t// cache buster\n\tconst v = new Date().getTime();\n\treturn fetch( 'https://public-api.wordpress.com/geo/?v=' + v )\n\t\t.then( ( res ) => {\n\t\t\tif ( ! res.ok ) {\n\t\t\t\treturn res.body().then( ( body ) => {\n\t\t\t\t\tthrow new Error( body );\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn res.json();\n\t\t} )\n\t\t.then( ( json ) => {\n\t\t\treturn json.country_short;\n\t\t} )\n\t\t.catch( ( err ) => {\n\t\t\tdebug( 'refreshCountryCodeCookieGdpr: error: ', err );\n\t\t\treturn 'unknown';\n\t\t} );\n}\n\nfunction setCountryCodeCookie( countryCode ) {\n\tconst maxAge = 6 * 60 * 60; // 6 hours in seconds\n\tdocument.cookie = cookie.serialize( 'country_code', countryCode, { path: '/', maxAge } );\n\tdebug( 'refreshCountryCodeCookieGdpr: country_code cookie set to %s', countryCode );\n}\n","import debug from './debug';\nimport MARKETING_COUPONS_KEY from './marketing-coupons-key';\nimport urlParseAmpCompatible from './url-parse-amp-compatible';\n\n/**\n * Remembers `?coupon` query argument via `localStorage`.\n */\nexport default function saveCouponQueryArgument() {\n\t// Read coupon query argument, return early if there is none.\n\tconst parsedUrl = urlParseAmpCompatible( window.location.href );\n\tconst couponCode = parsedUrl?.searchParams.get( 'coupon' );\n\tif ( ! couponCode ) {\n\t\treturn;\n\t}\n\n\t// Read coupon list from localStorage, create new if it's not there yet, refresh existing.\n\tlet coupons = null;\n\ttry {\n\t\tconst couponsJson = window.localStorage.getItem( MARKETING_COUPONS_KEY );\n\t\tcoupons = JSON.parse( couponsJson );\n\t} catch ( err ) {}\n\tif ( ! coupons ) {\n\t\tcoupons = {};\n\t}\n\n\tconst THIRTY_DAYS_MILLISECONDS = 7 * 24 * 60 * 60 * 1000;\n\tconst now = Date.now();\n\tdebug( 'Found coupons in localStorage: ', coupons );\n\n\tcoupons[ couponCode ] = now;\n\n\t// Delete coupons if they're older than 30 days.\n\tObject.keys( coupons ).forEach( ( key ) => {\n\t\tif ( now > coupons[ key ] + THIRTY_DAYS_MILLISECONDS ) {\n\t\t\tdelete coupons[ key ];\n\t\t}\n\t} );\n\n\t// Write remembered coupons back to localStorage.\n\ttry {\n\t\tdebug( 'Storing coupons in localStorage: ', coupons );\n\t\twindow.localStorage.setItem( MARKETING_COUPONS_KEY, JSON.stringify( coupons ) );\n\t} catch ( err ) {}\n}\n","const SITE_FRAGMENT_REGEX = /\\/(:site|:site_id|:siteid|:blogid|:blog_id|:siteslug)(\\/|$|\\?)/i;\n\n/**\n * Check if a path should report the currently selected site ID.\n *\n * Some paths should never report it because it's used\n * to tell general admin and site-specific activities apart.\n *\n * @param {string} path The tracked path.\n * @returns {boolean} If the report should null `blog_id`.\n */\nexport default ( path ) => {\n\tif ( ! path ) {\n\t\treturn true;\n\t}\n\treturn ! SITE_FRAGMENT_REGEX.test( path );\n};\n","import debug from './debug';\n\n/**\n * Decodes a url-safe base64 encoded string.\n *\n * @param {string} str The url-safe base64 encoded string\n * @returns {string} The decoded string\n */\nfunction urlSafeBase64DecodeString( str ) {\n\tconst decodeMap = {\n\t\t'-': '+',\n\t\t_: '/',\n\t\t'.': '=',\n\t};\n\n\treturn window.atob( str.replace( /[-_.]/g, ( ch ) => decodeMap[ ch ] ) );\n}\n\n/**\n * Decodes a URL param encoded by AMP's linker.js\n * See also https://github.com/ampproject/amphtml/blob/HEAD/extensions/amp-analytics/linker-id-receiving.md\n *\n * @param {string} value Value to be decoded\n * @returns {null|object} null or and object containing key/value pairs\n */\nfunction parseAmpEncodedParams( value ) {\n\tvalue = value\n\t\t.split( '*' )\n\t\t.filter( ( val ) => val.length )\n\t\t.slice( 2 );\n\t// return null if empty or we have an odd number of elements\n\tif ( 0 === value.length || 0 !== value.length % 2 ) {\n\t\treturn null;\n\t}\n\tconst keyValMap = {};\n\tfor ( let i = 0; i < value.length; i += 2 ) {\n\t\tkeyValMap[ value[ i ] ] = urlSafeBase64DecodeString( value[ i + 1 ] );\n\t}\n\n\treturn keyValMap;\n}\n\n/**\n * Returns a URL instance with the original data plus the data extracted from `tk_amp`. Null if not a valid absolute URL.\n * URL parameters explicitly present in the URL take precedence over the ones extracted from `tk_amp`.\n * This function is used to support AMP-compatible tracking.\n *\n * @param {string} url URL to be parsed like `document.location.href`.\n * @returns {object} A URL instance with the original data plus the data extracted from `tk_amp`. Null if not a valid absolute URL.\n */\nexport default function urlParseAmpCompatible( url ) {\n\ttry {\n\t\tconst parsedUrl = new URL( url );\n\n\t\tdebug( 'urlParseAmpCompatible: original query:', parsedUrl.search );\n\n\t\tif ( parsedUrl.searchParams.has( 'tk_amp' ) ) {\n\t\t\tconst tk_amp = parseAmpEncodedParams( parsedUrl.searchParams.get( 'tk_amp' ) );\n\t\t\tdebug( 'urlParseAmpCompatible: tk_amp:', tk_amp );\n\t\t\tfor ( const key of Object.keys( tk_amp ) ) {\n\t\t\t\tif ( ! parsedUrl.searchParams.has( key ) ) {\n\t\t\t\t\tparsedUrl.searchParams.set( key, tk_amp[ key ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdebug( 'urlParseAmpCompatible: merged query:', parsedUrl.search );\n\n\t\treturn parsedUrl;\n\t} catch {\n\t\treturn null;\n\t}\n}\n","import debugModule from 'debug';\nimport { StoredItems } from './types';\n\nconst debug = debugModule( 'calypso:support-user' );\n\n// This module defines a series of methods which bypasse all persistent storage.\n// Any calls to read/write data using browser-storage instead access a temporary\n// in-memory store which is lost on page reload. This driver is used to sandbox\n// a user's data while support-user is active, ensuring it does not contaminate\n// the original user, and vice versa.\n\nconst memoryStore = new Map();\n\nexport async function getAllStoredItems( pattern?: RegExp ): Promise< StoredItems > {\n\tdebug( 'browser-storage bypass', 'getAllStoredItems' );\n\n\t// Return everything.\n\tif ( ! pattern ) {\n\t\treturn Object.fromEntries( memoryStore.entries() );\n\t}\n\n\t// Return only the entries that match the pattern.\n\tconst entries = Array.from( memoryStore.entries() );\n\treturn Object.fromEntries( entries.filter( ( [ key ] ) => pattern.test( key ) ) );\n}\n\nexport async function getStoredItem< T >( key: string ): Promise< T | undefined > {\n\tdebug( 'browser-storage bypass', 'getStoredItem', key );\n\n\tif ( memoryStore.has( key ) ) {\n\t\treturn memoryStore.get( key );\n\t}\n\n\treturn undefined;\n}\n\nexport async function setStoredItem< T >( key: string, value: T ) {\n\tdebug( 'browser-storage bypass', 'setStoredItem', key );\n\tmemoryStore.set( key, value );\n}\n\nexport async function clearStorage() {\n\tdebug( 'browser-storage bypass', 'clearStorage' );\n\tmemoryStore.clear();\n}\n\nexport function activate() {\n\tmemoryStore.clear();\n}\n","import config from '@automattic/calypso-config';\nimport debugFactory from 'debug';\nimport { kebabCase } from 'lodash';\nimport { bumpStat } from 'calypso/lib/analytics/mc';\nimport { once } from 'calypso/lib/memoize-last';\nimport {\n\tgetStoredItem as bypassGet,\n\tgetAllStoredItems as bypassGetAll,\n\tsetStoredItem as bypassSet,\n\tclearStorage as bypassClear,\n\tactivate as activateBypass,\n} from './bypass';\nimport { StoredItems } from './types';\n\nconst debug = debugFactory( 'calypso:browser-storage' );\n\nlet shouldBypass = false;\nlet shouldDisableIDB = false;\n\nconst DB_NAME = 'calypso';\nconst DB_VERSION = 2; // Match versioning of the previous localforage-based implementation.\nconst STORE_NAME = 'calypso_store';\n\nconst SANITY_TEST_KEY = 'browser-storage-sanity-test';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isAffectedSafari =\n\tconfig.isEnabled( 'safari-idb-mitigation' ) &&\n\ttypeof window !== 'undefined' &&\n\t!! window.IDBKeyRange?.lowerBound( 0 ).includes &&\n\t!! ( window as any ).webkitAudioContext &&\n\t!! window.PointerEvent;\n\ndebug( 'Safari IDB mitigation active: %s', isAffectedSafari );\n\nexport const supportsIDB = once( async () => {\n\tif ( typeof window === 'undefined' || ! window.indexedDB ) {\n\t\tdebug( 'IDB not found in host' );\n\t\treturn false;\n\t}\n\n\tif ( shouldDisableIDB ) {\n\t\tdebug( 'IDB disabled' );\n\t\treturn false;\n\t}\n\n\ttry {\n\t\tconst testValue = Date.now().toString();\n\t\tawait idbSet( SANITY_TEST_KEY, testValue );\n\t\tawait idbGet( SANITY_TEST_KEY );\n\t\treturn true;\n\t} catch ( error ) {\n\t\t// IDB sanity test failed. Fall back to alternative method.\n\t\treturn false;\n\t}\n} );\n\nconst getDB = once( () => {\n\tconst request = window.indexedDB.open( DB_NAME, DB_VERSION );\n\treturn new Promise< IDBDatabase >( ( resolve, reject ) => {\n\t\ttry {\n\t\t\tif ( request ) {\n\t\t\t\trequest.onerror = ( event ) => {\n\t\t\t\t\t// InvalidStateError is special in Firefox.\n\t\t\t\t\t// We need to `preventDefault` to stop it from reaching the console.\n\t\t\t\t\tif ( request.error && request.error.name === 'InvalidStateError' ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treject( request.error );\n\t\t\t\t};\n\t\t\t\trequest.onsuccess = () => {\n\t\t\t\t\tconst db = request.result;\n\n\t\t\t\t\t// Add a general error handler for any future requests made against this db handle.\n\t\t\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB#Handling_Errors for\n\t\t\t\t\t// more information on how error events bubble with IndexedDB\n\t\t\t\t\tdb.onerror = function ( errorEvent: any ) {\n\t\t\t\t\t\tdebug( 'IDB Error', errorEvent );\n\t\t\t\t\t\tif ( errorEvent.target?.error?.name ) {\n\t\t\t\t\t\t\tbumpStat( 'calypso-browser-storage', kebabCase( errorEvent.target.error.name ) );\n\n\t\t\t\t\t\t\tif ( errorEvent.target.error.name === 'QuotaExceededError' ) {\n\t\t\t\t\t\t\t\t// we've blown through the quota. Turn off IDB for this page load\n\t\t\t\t\t\t\t\tshouldDisableIDB = true;\n\t\t\t\t\t\t\t\tsupportsIDB.clear();\n\t\t\t\t\t\t\t\tdebug( 'disabling IDB because we saw a QuotaExceededError' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tdb.onversionchange = () => {\n\t\t\t\t\t\t// This fires when the database gets upgraded or when it gets deleted.\n\t\t\t\t\t\t// We need to close our handle to allow the change to proceed\n\t\t\t\t\t\tdb.close();\n\t\t\t\t\t};\n\t\t\t\t\tresolve( db );\n\t\t\t\t};\n\t\t\t\trequest.onupgradeneeded = () => request.result.createObjectStore( STORE_NAME );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\treject( error );\n\t\t}\n\t} );\n} );\n\nfunction idbGet< T >( key: string ): Promise< T | undefined > {\n\treturn new Promise( ( resolve, reject ) => {\n\t\tgetDB()\n\t\t\t.then( ( db ) => {\n\t\t\t\tconst transaction = db.transaction( STORE_NAME, 'readonly' );\n\t\t\t\tconst get = transaction.objectStore( STORE_NAME ).get( key );\n\n\t\t\t\tconst success = () => resolve( get.result );\n\t\t\t\tconst error = () => reject( transaction.error );\n\n\t\t\t\ttransaction.oncomplete = success;\n\t\t\t\ttransaction.onabort = error;\n\t\t\t\ttransaction.onerror = error;\n\t\t\t} )\n\t\t\t.catch( ( err ) => reject( err ) );\n\t} );\n}\n\ntype EventTargetWithCursorResult = EventTarget & { result: IDBCursorWithValue | null };\n\nfunction idbGetAll( pattern?: RegExp ): Promise< StoredItems > {\n\treturn getDB().then(\n\t\t( db ) =>\n\t\t\tnew Promise( ( resolve, reject ) => {\n\t\t\t\tconst results: StoredItems = {};\n\t\t\t\tconst transaction = db.transaction( STORE_NAME, 'readonly' );\n\t\t\t\tconst getAll = transaction.objectStore( STORE_NAME ).openCursor();\n\n\t\t\t\tconst success = ( event: Event ) => {\n\t\t\t\t\tconst cursor = ( event.target as EventTargetWithCursorResult ).result;\n\t\t\t\t\tif ( cursor ) {\n\t\t\t\t\t\tconst { primaryKey: key, value } = cursor;\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tkey &&\n\t\t\t\t\t\t\ttypeof key === 'string' &&\n\t\t\t\t\t\t\tkey !== SANITY_TEST_KEY &&\n\t\t\t\t\t\t\t( ! pattern || pattern.test( key ) )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tresults[ key ] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcursor.continue();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No more results.\n\t\t\t\t\t\tresolve( results );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst error = () => reject( transaction.error );\n\n\t\t\t\tgetAll.onsuccess = success;\n\t\t\t\ttransaction.onabort = error;\n\t\t\t\ttransaction.onerror = error;\n\t\t\t} )\n\t);\n}\n\nlet idbWriteCount = 0;\nlet idbWriteBlock: Promise< void > | null = null;\nasync function idbSet< T >( key: string, value: T ): Promise< void > {\n\t// if there's a write lock, wait on it\n\tif ( idbWriteBlock ) {\n\t\tawait idbWriteBlock;\n\t}\n\t// if we're on safari 13, we need to clear out the object store every\n\t// so many writes to make sure we don't chew up the transaction log\n\tif ( isAffectedSafari && ++idbWriteCount % 20 === 0 ) {\n\t\tawait idbSafariReset();\n\t}\n\n\treturn new Promise( ( resolve, reject ) => {\n\t\tgetDB()\n\t\t\t.then( async ( db ) => {\n\t\t\t\tconst transaction = db.transaction( STORE_NAME, 'readwrite' );\n\t\t\t\ttransaction.objectStore( STORE_NAME ).put( value, key );\n\n\t\t\t\tconst success = () => resolve();\n\t\t\t\tconst error = () => reject( transaction.error );\n\n\t\t\t\ttransaction.oncomplete = success;\n\t\t\t\ttransaction.onabort = error;\n\t\t\t\ttransaction.onerror = error;\n\t\t\t} )\n\t\t\t.catch( ( err ) => reject( err ) );\n\t} );\n}\n\nfunction idbClear(): Promise< void > {\n\treturn new Promise( ( resolve, reject ) => {\n\t\tgetDB()\n\t\t\t.then( ( db ) => {\n\t\t\t\tconst transaction = db.transaction( STORE_NAME, 'readwrite' );\n\t\t\t\ttransaction.objectStore( STORE_NAME ).clear();\n\n\t\t\t\tconst success = () => resolve();\n\t\t\t\tconst error = () => reject( transaction.error );\n\n\t\t\t\ttransaction.oncomplete = success;\n\t\t\t\ttransaction.onabort = error;\n\t\t\t\ttransaction.onerror = error;\n\t\t\t} )\n\t\t\t.catch( ( err ) => reject( err ) );\n\t} );\n}\n\nfunction idbRemove(): Promise< void > {\n\treturn new Promise( ( resolve, reject ) => {\n\t\tconst deleteRequest = window.indexedDB.deleteDatabase( DB_NAME );\n\t\tdeleteRequest.onsuccess = () => {\n\t\t\tgetDB.clear();\n\t\t\tresolve();\n\t\t};\n\t\tdeleteRequest.onerror = ( event ) => reject( event );\n\t} );\n}\n\nasync function idbSafariReset() {\n\tif ( idbWriteBlock ) {\n\t\treturn idbWriteBlock;\n\t}\n\tdebug( 'performing safari idb mitigation' );\n\tidbWriteBlock = _idbSafariReset();\n\tidbWriteBlock.finally( () => {\n\t\tidbWriteBlock = null;\n\t\tdebug( 'idb mitigation complete' );\n\t} );\n\treturn idbWriteBlock;\n}\n\nasync function _idbSafariReset(): Promise< void > {\n\tconst items = await idbGetAll();\n\n\tawait idbRemove();\n\n\treturn new Promise( ( resolve, reject ) => {\n\t\tgetDB().then(\n\t\t\t( db ) => {\n\t\t\t\tconst transaction = db.transaction( STORE_NAME, 'readwrite' );\n\t\t\t\tconst oStore = transaction.objectStore( STORE_NAME );\n\t\t\t\t// eslint-disable-next-line prefer-const\n\t\t\t\tfor ( let [ key, value ] of Object.entries( items ) ) {\n\t\t\t\t\toStore.put( value, key );\n\t\t\t\t}\n\t\t\t\tconst success = () => resolve();\n\t\t\t\tconst error = () => reject( transaction.error );\n\n\t\t\t\ttransaction.oncomplete = success;\n\t\t\t\ttransaction.onabort = error;\n\t\t\t\ttransaction.onerror = error;\n\t\t\t},\n\t\t\t( err ) => reject( err )\n\t\t);\n\t} );\n}\n\n/**\n * Whether persistent storage should be bypassed, using a memory store instead.\n *\n * @param shouldBypassPersistentStorage Whether persistent storage should be bypassed.\n */\nexport function bypassPersistentStorage( shouldBypassPersistentStorage: boolean ) {\n\tshouldBypass = shouldBypassPersistentStorage;\n\n\tif ( shouldBypass ) {\n\t\tactivateBypass();\n\t}\n}\n\n/**\n * Get a stored item.\n *\n * @param key The stored item key.\n * @returns A promise with the stored value. `undefined` if missing.\n */\nexport async function getStoredItem< T >( key: string ): Promise< T | undefined > {\n\tif ( shouldBypass ) {\n\t\treturn await bypassGet( key );\n\t}\n\n\tconst idbSupported = await supportsIDB();\n\tif ( ! idbSupported ) {\n\t\tconst valueString = window.localStorage.getItem( key );\n\t\tif ( valueString === undefined || valueString === null ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn JSON.parse( valueString );\n\t}\n\n\treturn await idbGet( key );\n}\n\n/**\n * Get all stored items.\n *\n * @param pattern The pattern to match on returned item keys.\n * @returns A promise with the stored key/value pairs as an object. Empty if none.\n */\nexport async function getAllStoredItems( pattern?: RegExp ): Promise< StoredItems > {\n\tif ( shouldBypass ) {\n\t\treturn await bypassGetAll( pattern );\n\t}\n\n\tconst idbSupported = await supportsIDB();\n\tif ( ! idbSupported ) {\n\t\tconst entries = Object.entries( window.localStorage ).map( ( [ key, value ] ) => [\n\t\t\tkey,\n\t\t\tvalue !== undefined ? JSON.parse( value ) : undefined,\n\t\t] );\n\n\t\tif ( ! pattern ) {\n\t\t\treturn Object.fromEntries( entries );\n\t\t}\n\n\t\treturn Object.fromEntries( entries.filter( ( [ key ] ) => pattern.test( key ) ) );\n\t}\n\n\treturn await idbGetAll( pattern );\n}\n\n/**\n * Set an item in storage.\n *\n * @param key The key to store the item under.\n * @param value The value of the item to be stored.\n * @returns A promise that gets resolved when the item is successfully stored.\n */\nexport async function setStoredItem< T >( key: string, value: T ): Promise< void > {\n\tif ( shouldBypass ) {\n\t\treturn await bypassSet( key, value );\n\t}\n\n\tconst idbSupported = await supportsIDB();\n\tif ( ! idbSupported ) {\n\t\twindow.localStorage.setItem( key, JSON.stringify( value ) );\n\t\treturn;\n\t}\n\n\treturn await idbSet( key, value );\n}\n\n/**\n * Clear all stored items.\n *\n * @returns A promise that gets resolved when all items are successfully cleared.\n */\nexport async function clearStorage(): Promise< void > {\n\tif ( shouldBypass ) {\n\t\treturn await bypassClear();\n\t}\n\n\tconst idbSupported = await supportsIDB();\n\tif ( ! idbSupported ) {\n\t\twindow.localStorage.clear();\n\t\treturn;\n\t}\n\n\treturn await idbClear();\n}\n","// All end-to-end tests use a custom user agent containing this string.\nconst E2E_USER_AGENT = 'wp-e2e-tests';\n\nexport function isE2ETest(): boolean {\n\treturn typeof navigator !== 'undefined' && navigator.userAgent.includes( E2E_USER_AGENT );\n}\n","import decode from './decode';\n\nexport function decodeEntities( text ) {\n\t// Bypass decode if text doesn't include entities\n\tif ( 'string' !== typeof text || -1 === text.indexOf( '&' ) ) {\n\t\treturn text;\n\t}\n\n\treturn decode( text );\n}\n","const element = ( () => {\n\tif ( document.implementation && document.implementation.createHTMLDocument ) {\n\t\treturn document.implementation.createHTMLDocument( '' ).createElement( 'textarea' );\n\t}\n\n\treturn document.createElement( 'textarea' );\n} )();\n\nexport default function decodeEntities( text ) {\n\telement.innerHTML = text;\n\tconst decoded = element.textContent;\n\telement.innerHTML = '';\n\treturn decoded;\n}\n","import { isValidElement, cloneElement } from 'react';\n\n/**\n * Prevent widows by replacing spaces between the last `wordsToKeep` words in the text with non-breaking spaces\n *\n * @param  {string|@i18n-calypso/TranslateResult} text the text to work on\n * @param  {number} wordsToKeep the number of words to keep together\n * @returns {string}             the widow-prevented string\n */\nexport function preventWidows( text, wordsToKeep = 2 ) {\n\treturn preventWidowsInPart(\n\t\t'string' === typeof text ? text.trim() : text,\n\t\tMath.max( 1, wordsToKeep - 1 )\n\t).part;\n}\n\nconst reverseSpaceRegex = /\\s+(\\S*)$/;\n\n/**\n * The helper function to preventWidows that calls itself recursively searching for spaces to substitute with\n * non-breaking spaces.\n *\n * @param {string|@i18n-calypso/TranslateResult} part The section of the content to search, a string or a component\n *     or an array of strings and components\n * @param {number} spacesToSubstitute The number of spaces to substitute with non-breaking spaces. This is one less than the preventWidows wordsToKeep\n * @returns object Contains two keys `part` the possibly modified `part` parameter passed in, and `substituted` the number of spaces substituted.\n */\nfunction preventWidowsInPart( part, spacesToSubstitute ) {\n\tlet substituted = 0;\n\n\tif ( 'string' === typeof part && part.length > 0 ) {\n\t\tlet text = part;\n\t\tlet retVal = '';\n\n\t\t// If the part is a string, work from the right looking for spaces\n\t\t// TODO Work out if we can tell that this is a RTL language, and if it's appropriate to join words in this way\n\t\twhile ( substituted < spacesToSubstitute && reverseSpaceRegex.test( text ) ) {\n\t\t\tconst match = reverseSpaceRegex.exec( text );\n\t\t\tretVal = '\\xA0' + match[ 1 ] + retVal;\n\t\t\ttext = text.replace( reverseSpaceRegex, '' );\n\t\t\tsubstituted++;\n\t\t}\n\t\tretVal = text + retVal;\n\t\t// Return the modified string and the number of spaces substituted\n\t\treturn { part: retVal, substituted };\n\t}\n\n\t/* If we're called with an array construct a copy of the array by calling\n\t * ourself on each element until we have substituted enough spaces. Then\n\t * concatentate the rest of the array\n\t */\n\tif ( Array.isArray( part ) && part.length > 0 ) {\n\t\tlet elements = [];\n\t\tlet idx = part.length - 1;\n\t\twhile ( substituted < spacesToSubstitute && idx >= 0 ) {\n\t\t\tconst result = preventWidowsInPart( part[ idx ], spacesToSubstitute - substituted );\n\t\t\telements.unshift( result.part );\n\t\t\tsubstituted += result.substituted;\n\t\t\tidx--;\n\t\t}\n\t\telements = part.slice( 0, idx + 1 ).concat( elements );\n\t\treturn { part: elements, substituted };\n\t}\n\n\t/* If we're called with a component, and it has children\n\t * then call ourself with the value of the children prop\n\t * (an array that will be handled above)\n\t *\n\t * Then return a cloned component with the possibly modified\n\t * children, along with the tally of substituted spaces.\n\t */\n\tif ( isValidElement( part ) && part.props.children ) {\n\t\tconst result = preventWidowsInPart( part.props.children, spacesToSubstitute );\n\t\tif ( result.substituted > 0 ) {\n\t\t\t// pass children as spread arguments to prevent missing array key warnings\n\t\t\tconst partArray = Array.isArray( result.part ) ? result.part : [ result.part ];\n\t\t\treturn {\n\t\t\t\tpart: cloneElement( part, part.props, ...partArray ),\n\t\t\t\tsubstituted: result.substituted,\n\t\t\t};\n\t\t}\n\t\treturn { part, substituted };\n\t}\n\n\t// For anything else e.g. an element without children, there's nothing to do.\n\treturn { part, substituted };\n}\n","import stripTags from 'striptags';\n\n/**\n * Strips HTML from a string. Does not handle tags nested in attribute strings.\n *\n * @param  {string} string The string to strip tags from\n * @returns {string}        The stripped string\n */\nexport function stripHTML( string ) {\n\treturn stripTags( string );\n}\n","/**\n * We'll use the following constants to do the switchover from\n * G Suite -> Google Workspace.\n * The product name is never translated in the translation strings\n * so we won't translate them here either.\n */\nexport const GSUITE_PRODUCT_FAMILY = 'G Suite';\nexport const GOOGLE_WORKSPACE_PRODUCT_FAMILY = 'Google Workspace';\n\n/**\n * Defines product types to use as slugs in urls.\n *\n * @see emailManagementAddGSuiteUsers() in client/my-sites/email/paths.js\n */\nexport const GOOGLE_WORKSPACE_PRODUCT_TYPE = 'google-workspace';\nexport const GSUITE_PRODUCT_TYPE = 'gsuite';\nexport const GOOGLE_PROVIDER_NAME = 'google';\n","import { isGSuiteProductSlug } from '@automattic/calypso-products';\nimport {\n\tGOOGLE_WORKSPACE_PRODUCT_FAMILY,\n\tGSUITE_PRODUCT_FAMILY,\n} from 'calypso/lib/gsuite/constants';\n\n/**\n * @param {string|null} productSlug - optional product slug\n * @returns {string}\n */\nexport function getGoogleMailServiceFamily( productSlug = null ) {\n\tif ( isGSuiteProductSlug( productSlug ) ) {\n\t\treturn GSUITE_PRODUCT_FAMILY;\n\t}\n\n\treturn GOOGLE_WORKSPACE_PRODUCT_FAMILY;\n}\n","/*\n * This function creates a stub `Connection` object that dynamically loads the chunk\n * with the `happychat/connection` library only after the first method call.\n */\nexport default function buildConnection() {\n\t// Promise with a lazy initialized `Connection`\n\tlet connection = null;\n\n\t// Async load the connection library and return a promise with its default export.\n\t// That's a factory function that creates and returns the `Connection` class instance.\n\tfunction importConnectionLib() {\n\t\treturn import(\n\t\t\t/* webpackChunkName: \"async-load-calypso-lib-happychat-connection\" */ 'calypso/lib/happychat/connection'\n\t\t);\n\t}\n\n\tfunction getConnection() {\n\t\tif ( ! connection ) {\n\t\t\tconnection = importConnectionLib().then( ( { default: createConnection } ) =>\n\t\t\t\tcreateConnection()\n\t\t\t);\n\t\t}\n\t\treturn connection;\n\t}\n\n\t// Forward a method call to the implementation. Works only for methods that return promises,\n\t// which, fortunately, is the case for all `Connection` methods.\n\tfunction forwardMethod( name ) {\n\t\treturn ( ...args ) => getConnection().then( ( conn ) => conn[ name ]( ...args ) );\n\t}\n\n\treturn {\n\t\tinit: forwardMethod( 'init' ),\n\t\trequest: forwardMethod( 'request' ),\n\t\tsend: forwardMethod( 'send' ),\n\t};\n}\n","import i18n from 'i18n-calypso';\n\nexport const getLocaleSlug = () => i18n.getLocaleSlug();\n","import config from '@automattic/calypso-config';\n\nconst jetpackCloudEnvironments = [\n\t'jetpack-cloud-development',\n\t'jetpack-cloud-stage',\n\t'jetpack-cloud-horizon',\n\t'jetpack-cloud-production',\n];\n\nconst isJetpackCloud = (): boolean => jetpackCloudEnvironments.includes( config( 'env_id' ) );\n\nexport default isJetpackCloud;\n","/**\n * A wrapper for loadjQueryDependentScript that handles the desktop app\n * It is not possible to expose jQuery globally in Electron App: https://github.com/atom/electron/issues/254.\n * It needs to be loaded using require and npm package.\n */\n\nimport { loadjQueryDependentScript } from '@automattic/load-script';\nimport debugFactory from 'debug';\nconst debug = debugFactory( 'lib/load-jquery-dependent-script-desktop-wrapper' );\n\nexport function loadjQueryDependentScriptDesktopWrapper( url, callback ) {\n\tdebug( `Loading a jQuery dependent script from \"${ url }\"` );\n\n\tloadjQueryDependentScript( url, callback );\n}\n","import wpcom from 'calypso/lib/wp';\n\n/**\n * Parameters sent to logstash endpoint.\n *\n * @see PCYsg-5T4-p2\n */\ninterface LogToLogstashParams {\n\t/**\n\t * Feature name.\n\t *\n\t * Should be explicitly allowed. @see D31385-code\n\t */\n\tfeature: 'calypso_ssr' | 'calypso_client';\n\tmessage: string;\n\textra?: any;\n\tsite_id?: number;\n\t[ key: string ]: any;\n}\n\n/**\n * Log to logstash. This function is inefficient because\n * the data goes over the REST API, so use sparingly.\n */\nexport async function logToLogstash( params: LogToLogstashParams ): Promise< void > {\n\tawait wpcom.req.post( '/logstash', { params: JSON.stringify( params ) } );\n}\n","interface Clearable {\n\tclear(): void;\n}\n\n/**\n * Wraps a function in a utility method that remembers the last invocation's\n * arguments and results, and returns the latter if the former match.\n *\n * @param fn The function to be wrapped.\n *\n * @returns The wrapped function.\n */\nexport default function memoizeLast< T extends ( ...args: any[] ) => any >( fn: T ): T & Clearable {\n\tlet lastArgs: Parameters< T > | undefined;\n\tlet lastResult: ReturnType< T > | undefined;\n\n\tconst func = ( ( ...args: Parameters< T > ) => {\n\t\tconst isSame =\n\t\t\tlastArgs &&\n\t\t\targs.length === lastArgs.length &&\n\t\t\targs.every( ( arg, index ) => arg === ( lastArgs as Parameters< T > )[ index ] );\n\n\t\tif ( ! isSame ) {\n\t\t\tlastArgs = args;\n\t\t\tlastResult = fn( ...args );\n\t\t}\n\n\t\treturn lastResult;\n\t} ) as T & Clearable;\n\n\tfunc.clear = () => {\n\t\tlastArgs = undefined;\n\t\tlastResult = undefined;\n\t};\n\n\treturn func;\n}\n\n/**\n * A stricter-typed alias of `memoizeLast`, for functions without arguments.\n * Since it only accepts functions without arguments, it effectively guarantees\n * that the provided function will only be run once, as the check for whether\n * the arguments have not changed will always pass.\n *\n * @param fn The function to be wrapped.\n *\n * @returns The wrapped function.\n */\nexport function once< T extends () => any >( fn: T ) {\n\t// Runtime validation. Useful when static validation is unavailable.\n\tif ( process.env.NODE_ENV !== 'production' && fn.length !== 0 ) {\n\t\tthrow new Error( 'memoize-last: The `once` method expects a function with no arguments.' );\n\t}\n\treturn memoizeLast( fn );\n}\n","import cookie from 'cookie';\nimport store from 'store';\n\n/**\n * Module variables\n */\nconst TOKEN_NAME = 'wpcom_token';\nconst MAX_AGE = 365 * 24 * 60 * 60 * 1000; // How long to store the OAuth cookie\n\nexport function getToken() {\n\tconst cookies = cookie.parse( document.cookie );\n\n\tif ( typeof cookies[ TOKEN_NAME ] !== 'undefined' ) {\n\t\treturn cookies[ TOKEN_NAME ];\n\t}\n\n\tconst token = store.get( TOKEN_NAME );\n\n\tif ( token ) {\n\t\treturn token;\n\t}\n\n\treturn false;\n}\n\nexport function setToken( token ) {\n\t// TODO: Support secure cookies if this is ever used outside of the desktop app\n\tdocument.cookie = cookie.serialize( TOKEN_NAME, token, { maxAge: MAX_AGE } );\n}\n\nexport function clearToken() {\n\tconst cookies = cookie.parse( document.cookie );\n\n\tif ( typeof cookies[ TOKEN_NAME ] !== 'undefined' ) {\n\t\tdocument.cookie = cookie.serialize( TOKEN_NAME, false, { maxAge: -1 } );\n\t}\n}\n","import config from '@automattic/calypso-config';\nimport isJetpackCloud from 'calypso/lib/jetpack/is-jetpack-cloud';\n\n/**\n * Returns the onboarding URL.\n *\n * @returns {string}  URL of the onboarding flow for existing users.\n */\nexport function onboardingUrl() {\n\tif ( isJetpackCloud() ) {\n\t\treturn config( 'jetpack_connect_url' );\n\t}\n\treturn config( 'signup_url' );\n}\n","import { get, find } from 'lodash';\n\nconst DISCOVER_BLOG_ID = 53424024;\n\n/**\n * Add discover properties to a post\n *\n * @param  {object} post - the post to extend\n * @returns {object}      - the post with discover properties\n */\nexport default function ( post ) {\n\tconst isDiscover = !! (\n\t\tget( post, 'discover_metadata' ) || DISCOVER_BLOG_ID === get( post, 'site_ID' )\n\t);\n\tlet discoverFormat;\n\n\tif ( isDiscover ) {\n\t\tconst formats = get( post, 'discover_metadata.discover_fp_post_formats' );\n\t\tconst pickFormat = find( formats, ( format ) => format.slug !== 'pick' );\n\n\t\t// if there is no pick format the post is a discover feature\n\t\tdiscoverFormat = pickFormat ? pickFormat.slug : 'feature';\n\t}\n\n\tpost.is_discover = isDiscover;\n\tpost.discover_format = discoverFormat;\n\n\treturn post;\n}\n","/* eslint-disable jsdoc/no-undefined-types */\n\nimport getEmbedMetadata from 'get-video-id';\nimport { map, compact, includes, some, filter } from 'lodash';\nimport { READER_CONTENT_WIDTH } from 'calypso/state/reader/posts/sizes';\nimport { iframeIsAllowed, maxWidthPhotonishURL, deduceImageWidthAndHeight } from './utils';\n\n/** Checks whether or not an image is a tracking pixel\n *\n * @param {Node} image - DOM node for an img\n * @returns {boolean} isTrackingPixel - returns true if image is probably a tracking pixel\n */\nfunction isTrackingPixel( image ) {\n\tif ( ! image || ! image.src ) {\n\t\treturn false;\n\t}\n\n\tconst edgeLength = image.height + image.width;\n\treturn edgeLength === 1 || edgeLength === 2;\n}\n\n/** Returns true if image should be considered\n *\n * @param {Node} image - DOM node for an image\n * @returns {boolean} true/false depending on if it should be included as a potential featured image\n */\nfunction isCandidateForContentImage( image ) {\n\tif ( ! image || ! image.getAttribute( 'src' ) ) {\n\t\treturn false;\n\t}\n\n\tconst ineligibleCandidateUrlParts = [ 'gravatar.com', '/wpcom-smileys/' ];\n\n\tconst imageUrl = image.getAttribute( 'src' );\n\n\tconst imageShouldBeExcludedFromCandidacy = some( ineligibleCandidateUrlParts, ( urlPart ) =>\n\t\tincludes( imageUrl.toLowerCase(), urlPart )\n\t);\n\n\treturn ! ( isTrackingPixel( image ) || imageShouldBeExcludedFromCandidacy );\n}\n\n/** Detects and returns metadata if it should be considered as a content image\n *\n * @param {image} image - the image\n * @returns {object} metadata - regarding the image or null\n */\nconst detectImage = ( image ) => {\n\tif ( isCandidateForContentImage( image ) ) {\n\t\tconst { width, height } = deduceImageWidthAndHeight( image ) || { width: 0, height: 0 };\n\t\treturn {\n\t\t\tsrc: maxWidthPhotonishURL( image.getAttribute( 'src' ), READER_CONTENT_WIDTH ),\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tmediaType: 'image',\n\t\t};\n\t}\n\treturn false;\n};\n\n/**  For an iframe we know how to process, return a string for an autoplaying iframe\n *\n * @param {Node} iframe - DOM node for an iframe\n * @returns {string} html src for an iframe that autoplays if from a source we understand.  else null;\n */\nconst getAutoplayIframe = ( iframe ) => {\n\tconst KNOWN_SERVICES = [ 'youtube', 'vimeo', 'videopress' ];\n\tconst metadata = getEmbedMetadata( iframe.src );\n\tif ( metadata && includes( KNOWN_SERVICES, metadata.service ) ) {\n\t\tconst autoplayIframe = iframe.cloneNode();\n\t\tif ( autoplayIframe.src.indexOf( '?' ) === -1 ) {\n\t\t\tautoplayIframe.src += '?autoplay=1';\n\t\t} else {\n\t\t\tautoplayIframe.src += '&autoplay=1';\n\t\t}\n\t\treturn autoplayIframe.outerHTML;\n\t}\n\treturn null;\n};\n\nconst getEmbedType = ( iframe ) => {\n\tlet node = iframe;\n\tlet matches;\n\n\tdo {\n\t\tif ( ! node.className ) {\n\t\t\tcontinue;\n\t\t}\n\t\tmatches = node.className.match( /\\bembed-([-a-zA-Z0-9_]+)\\b/ );\n\t\tif ( matches ) {\n\t\t\treturn matches[ 1 ];\n\t\t}\n\t} while ( ( node = node.parentNode ) );\n\n\treturn null;\n};\n\n/** Detects and returns metadata if it should be considered as a content iframe\n *\n * @param {Node} iframe - a DOM node for an iframe\n * @returns {metadata} metadata - metadata for an embed\n */\nconst detectEmbed = ( iframe ) => {\n\tif ( ! iframeIsAllowed( iframe ) ) {\n\t\treturn false;\n\t}\n\n\tconst width = Number( iframe.width );\n\tconst height = Number( iframe.height );\n\tconst aspectRatio = width / height;\n\n\treturn {\n\t\ttype: getEmbedType( iframe ),\n\t\tsrc: iframe.src,\n\t\tiframe: iframe.outerHTML,\n\t\taspectRatio: aspectRatio,\n\t\twidth: width,\n\t\theight: height,\n\t\tmediaType: 'video',\n\t\tautoplayIframe: getAutoplayIframe( iframe ),\n\t};\n};\n\n/** Adds an ordered list of all of the content_media to the post\n *\n * @param {post} post - the post object to add content_media to\n * @param {dom} dom - the dom of the post to scan for media\n * @returns {PostMetadata} post - the post object mutated to also have content_media\n */\nexport default function detectMedia( post, dom ) {\n\tconst imageSelector = 'img[src]';\n\tconst embedSelector = 'iframe';\n\tconst media = dom.querySelectorAll( `${ imageSelector }, ${ embedSelector }` );\n\n\tconst contentMedia = map( media, ( element ) => {\n\t\tconst nodeName = element.nodeName.toLowerCase();\n\n\t\tif ( nodeName === 'iframe' ) {\n\t\t\treturn detectEmbed( element );\n\t\t} else if ( nodeName === 'img' ) {\n\t\t\treturn detectImage( element );\n\t\t}\n\t\treturn false;\n\t} );\n\n\tpost.content_media = compact( contentMedia );\n\tpost.content_embeds = filter( post.content_media, ( m ) => m.mediaType === 'video' );\n\tpost.content_images = filter( post.content_media, ( m ) => m.mediaType === 'image' );\n\n\t// TODO: figure out a more sane way of combining featured_image + content media\n\t// so that changes to logic don't need to exist in multiple places\n\tif ( post.featured_image ) {\n\t\tpost.featured_image = maxWidthPhotonishURL( post.featured_image, READER_CONTENT_WIDTH );\n\t}\n\n\treturn post;\n}\n","import i18n from 'i18n-calypso';\nimport { forEach } from 'lodash';\nimport { domForHtml } from './utils';\n\nconst pollLinkSelectors = [\n\t'a[href^=\"http://polldaddy.com/poll/\"]',\n\t'a[href^=\"https://polldaddy.com/poll/\"]',\n\t'a[href^=\"http://poll.fm/\"]',\n\t'a[href^=\"https://poll.fm/\"]',\n\t'a[href^=\"http://survey.fm/\"]',\n\t'a[href^=\"https://survey.fm/\"]',\n];\n\nexport default function detectPolls( post, dom ) {\n\tif ( ! dom ) {\n\t\tthrow new Error( 'this transform must be used as part of withContentDOM' );\n\t}\n\n\t// Crowdsignal embed markup isn't very helpfully structured, but we can look for the noscript tag,\n\t// which contains the information we need, and replace it with a paragraph.\n\tconst noscripts = dom.querySelectorAll( 'noscript' );\n\n\tforEach( noscripts, ( noscript ) => {\n\t\tif ( ! noscript.firstChild ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// some browsers don't require this and let us query the dom inside a noscript. some do not. maybe just jsdom.\n\t\tconst noscriptDom = domForHtml( noscript.innerHTML );\n\n\t\tconst pollLink = noscriptDom.querySelector( pollLinkSelectors.join( ', ' ) );\n\t\tif ( pollLink ) {\n\t\t\tconst matches =\n\t\t\t\tpollLink.href.match( /https?:\\/\\/(polldaddy\\.com\\/poll|poll\\.fm|survey\\.fm)\\/([0-9]+)/ ) ||\n\t\t\t\t[];\n\t\t\tconst pollId = matches[ 2 ];\n\t\t\tif ( pollId ) {\n\t\t\t\tconst p = document.createElement( 'p' );\n\t\t\t\tp.innerHTML =\n\t\t\t\t\t'<a target=\"_blank\" rel=\"external noopener noreferrer\" href=\"https://poll.fm/' +\n\t\t\t\t\tpollId +\n\t\t\t\t\t'\">' +\n\t\t\t\t\ti18n.translate( 'Take our poll' ) +\n\t\t\t\t\t'</a>';\n\t\t\t\tnoscript.parentNode.replaceChild( p, noscript );\n\t\t\t}\n\t\t}\n\t} );\n\n\treturn post;\n}\n","import i18n from 'i18n-calypso';\nimport { forEach } from 'lodash';\n\nexport default function detectSurveys( post, dom ) {\n\tif ( ! dom ) {\n\t\tthrow new Error( 'this transform must be used as part of withContentDOM' );\n\t}\n\n\tconst surveys = dom.querySelectorAll( '.pd-embed, .cs-embed' );\n\n\tif ( ! surveys ) {\n\t\treturn post;\n\t}\n\n\tforEach( surveys, ( survey ) => {\n\t\t// Get survey details\n\t\tlet surveyDetails = null;\n\n\t\ttry {\n\t\t\tsurveyDetails = JSON.parse( survey.getAttribute( 'data-settings' ) );\n\t\t} catch ( e ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { domain: surveyDomain, id: surveySlug } = surveyDetails;\n\n\t\tif ( ! surveyDomain || ! surveySlug ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Construct a survey link\n\t\tconst p = document.createElement( 'p' );\n\t\tp.innerHTML =\n\t\t\t'<a target=\"_blank\" rel=\"external noopener noreferrer\" href=\"https://' +\n\t\t\tsurveyDomain +\n\t\t\tsurveySlug +\n\t\t\t'\">' +\n\t\t\ti18n.translate( 'Take our survey' ) +\n\t\t\t'</a>';\n\n\t\t// Replace the .pd-embed div with the new paragraph\n\t\tsurvey.parentNode.replaceChild( p, survey );\n\t} );\n\n\treturn post;\n}\n","import { getUrlParts, getUrlFromParts } from '@automattic/calypso-url';\n\nfunction stripAutoPlays( searchParams ) {\n\tconst returnVal = new URLSearchParams( searchParams );\n\n\tconst keys = Array.from( searchParams.keys() ).filter( ( k ) => /^auto_?play$/i.test( k ) ) || [];\n\n\tkeys.forEach( ( key ) => {\n\t\t// In the rare case that we're handed an array of values, we use the first one\n\t\tconst val = searchParams.get( key ).toLowerCase();\n\t\tif ( val === '1' ) {\n\t\t\treturnVal.set( key, '0' );\n\t\t} else if ( val === 'true' ) {\n\t\t\treturnVal.set( key, 'false' );\n\t\t} else {\n\t\t\t// force a singular value\n\t\t\treturnVal.set( key, val );\n\t\t}\n\t} );\n\treturn returnVal;\n}\n\nexport function disableAutoPlayOnMedia( post, dom ) {\n\tif ( ! dom ) {\n\t\tthrow new Error( 'this transform must be used as part of withContentDOM' );\n\t}\n\tdom.querySelectorAll( 'audio, video' ).forEach( ( el ) => ( el.autoplay = false ) );\n\treturn post;\n}\n\nexport function disableAutoPlayOnEmbeds( post, dom ) {\n\tif ( ! dom ) {\n\t\tthrow new Error( 'this transform must be used as part of withContentDOM' );\n\t}\n\n\tdom.querySelectorAll( 'iframe' ).forEach( ( embed ) => {\n\t\tconst urlParts = getUrlParts( embed.src );\n\t\tif ( urlParts.search ) {\n\t\t\turlParts.searchParams = stripAutoPlays( urlParts.searchParams );\n\t\t\tdelete urlParts.search;\n\t\t\tembed.src = getUrlFromParts( urlParts ).href;\n\t\t}\n\t} );\n\n\treturn post;\n}\n","import { forEach, get } from 'lodash';\n\n/**\n * The linkJetpackCarousels rule modifies all of the WordPress galleries in the content\n * to link you to their host website's carousel instead of the permalink for that specific image.\n * Based on the DOM layout for Jetpack Galleries, which are used by Jetpack sites and WordPress.com sites\n * For example,\n * Before: https://example.com/2017/03/25/my-family/img_1/\n * After: https://example.com/2017/03/25/my-family/#jp-carousel-1234\n *\n * @param  {object} post The post\n * @param  {object} dom  The DOM for the post's content\n * @returns {object}      The post, with any additions\n */\nexport default function linkJetpackCarousels( post, dom ) {\n\tconst galleries = dom.querySelectorAll( '.tiled-gallery' );\n\n\tforEach( galleries, ( gallery ) => {\n\t\tlet extra = get( gallery, [ 'dataset', 'carouselExtra' ], false );\n\t\tif ( ! extra ) {\n\t\t\t// this only really exists for jsdom. See https://github.com/tmpvar/jsdom/issues/961\n\t\t\textra = gallery.getAttribute( 'data-carousel-extra' );\n\t\t\tif ( ! extra ) {\n\t\t\t\t// We couldn't find the extra for this gallery. While we could pull it from the post, this makes it\n\t\t\t\t// suspect that we really found a jetpack gallery. Just bail.\n\t\t\t\treturn post;\n\t\t\t}\n\t\t}\n\t\tlet permalink;\n\t\ttry {\n\t\t\tpermalink = JSON.parse( extra ).permalink;\n\t\t} catch ( e ) {\n\t\t\t// doesn't look like the extra was valid JSON. Maybe this isn't really a gallery? Bail.\n\t\t\treturn post;\n\t\t}\n\t\t// find all the links and rewrite them to point to the carousel instead of the permalink\n\t\tconst links = gallery.querySelectorAll( '.tiled-gallery-item > a' );\n\t\tforEach( links, ( link ) => {\n\t\t\tconst img = link.querySelector( 'img' );\n\t\t\tconst attachmentId = img && img.getAttribute( 'data-attachment-id' );\n\t\t\tif ( attachmentId ) {\n\t\t\t\tlink.href = permalink + '#jp-carousel-' + attachmentId;\n\t\t\t\tlink.setAttribute( 'target', '_blank' );\n\t\t\t}\n\t\t} );\n\t} );\n\treturn post;\n}\n","import { getUrlParts } from '@automattic/calypso-url';\nimport { some, forEach, startsWith } from 'lodash';\nimport { iframeIsAllowed } from './utils';\n\n/** Given an iframe, is it okay to have it run without a sandbox?\n *\n * @param {object} iframe - the iframe to check\n * @returns {boolean} true/false if we trust the source and we know they don't work in a sandbox\n */\nfunction doesNotNeedSandbox( iframe ) {\n\tconst trustedHosts = [\n\t\t'spotify.com',\n\t\t'kickstarter.com',\n\t\t'soundcloud.com',\n\t\t'embed.ted.com',\n\t\t'player.twitch.tv',\n\t];\n\n\tconst hostName = iframe.src && getUrlParts( iframe.src ).hostname;\n\tconst iframeHost = hostName && hostName.toLowerCase();\n\n\treturn some( trustedHosts, ( trustedHost ) => `.${ iframeHost }`.endsWith( '.' + trustedHost ) );\n}\n\nexport default function makeEmbedsSafe( post, dom ) {\n\tif ( ! dom ) {\n\t\tthrow new Error( 'this transform must be used as part of withContentDOM' );\n\t}\n\n\tconst iframes = dom.querySelectorAll( 'iframe' );\n\n\tforEach( iframes, function ( iframe ) {\n\t\tif ( ! startsWith( iframe.src, 'http' ) ) {\n\t\t\tiframe.parentNode.removeChild( iframe );\n\t\t\treturn;\n\t\t}\n\n\t\tiframe.src = iframe.src.replace( /^http:/, 'https:' );\n\n\t\tif ( doesNotNeedSandbox( iframe ) ) {\n\t\t\tiframe.removeAttribute( 'sandbox' );\n\t\t} else if ( iframeIsAllowed( iframe ) ) {\n\t\t\tiframe.setAttribute( 'sandbox', 'allow-same-origin allow-scripts allow-popups' );\n\t\t} else {\n\t\t\tiframe.setAttribute( 'sandbox', 'allow-scripts' );\n\t\t}\n\t} );\n\n\tif ( post.is_external || post.is_jetpack ) {\n\t\tconst embeds = dom.querySelectorAll( 'embed,object' );\n\n\t\tforEach( embeds, function ( embed ) {\n\t\t\tembed.parentNode.removeChild( embed );\n\t\t} );\n\t}\n\n\treturn post;\n}\n","import { getUrlParts, getUrlFromParts } from '@automattic/calypso-url';\nimport { forEach, startsWith, some, includes, filter } from 'lodash';\nimport safeImageURL from 'calypso/lib/safe-image-url';\nimport { resolveRelativePath } from 'calypso/lib/url';\nimport { maxWidthPhotonishURL } from './utils';\n\nconst TRANSPARENT_GIF =\n\t'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\n/**\n * @param {window.Node} node - Takes in a DOM Node and mutates it so that it no longer has an 'on*' event handlers e.g. onClick\n */\nconst removeUnwantedAttributes = ( node ) => {\n\tif ( ! node || ! node.hasAttributes() ) {\n\t\treturn;\n\t}\n\n\tconst inlineEventHandlerAttributes = filter( node.attributes, ( attr ) =>\n\t\tstartsWith( attr.name, 'on' )\n\t);\n\tinlineEventHandlerAttributes.forEach( ( a ) => node.removeAttribute( a.name ) );\n\n\t// always remove srcset because they are very difficult to make safe and may not be worth the trouble\n\tnode.removeAttribute( 'srcset' );\n};\n\n/** Checks whether or not imageUrl should be removed from the dom\n *\n * @param {string} imageUrl - the url of the image\n * @returns {boolean} whether or not it should be removed from the dom\n */\nconst imageShouldBeRemovedFromContent = ( imageUrl ) => {\n\tif ( ! imageUrl ) {\n\t\treturn;\n\t}\n\n\tconst bannedUrlParts = [\n\t\t'feeds.feedburner.com',\n\t\t'feeds.wordpress.com/',\n\t\t'.feedsportal.com',\n\t\t'wp-includes',\n\t\t'wp-content/themes',\n\t\t'wp-content/plugins',\n\t\t'stats.wordpress.com',\n\t\t'pixel.wp.com',\n\t];\n\n\treturn some( bannedUrlParts, ( part ) => includes( imageUrl.toLowerCase(), part ) );\n};\n\nfunction provideProtocol( post, url ) {\n\tconst postUrlParts = getUrlParts( post.URL );\n\n\t// The image on the relative-protocol URL will have the same protocol with the post\n\tif ( url.startsWith( '//' ) ) {\n\t\treturn `${ postUrlParts.protocol || 'https:' }${ url }`;\n\t}\n\n\treturn url;\n}\n\nfunction makeImageSafe( post, image, maxWidth ) {\n\tlet imgSource = image.getAttribute( 'src' );\n\tconst imgSourceParts = getUrlParts( imgSource );\n\tconst hostName = imgSourceParts.hostname;\n\n\t// if imgSource is relative, prepend post domain so it isn't relative to calypso\n\tif ( ! hostName ) {\n\t\tconst postUrlParts = getUrlParts( post.URL );\n\t\timgSource = getUrlFromParts( {\n\t\t\tprotocol: postUrlParts.protocol,\n\t\t\thost: postUrlParts.host,\n\t\t\tpathname: resolveRelativePath( postUrlParts.pathname, imgSourceParts.pathname ),\n\t\t} ).href;\n\t}\n\n\tlet safeSource = maxWidth\n\t\t? maxWidthPhotonishURL( safeImageURL( imgSource ), maxWidth )\n\t\t: safeImageURL( imgSource );\n\n\t// When the image URL is not photoned, try providing protocol\n\tif ( ! safeSource ) {\n\t\timgSource = provideProtocol( post, imgSource );\n\t}\n\n\t// allow https sources through even if we can't make them 'safe'\n\t// helps images that use querystring params and are from secure sources\n\tif ( ! safeSource && startsWith( imgSource, 'https://' ) ) {\n\t\tsafeSource = imgSource;\n\t}\n\n\tremoveUnwantedAttributes( image );\n\n\t// trickery to remove it from the dom / not load the image\n\t// TODO: test if this is necessary\n\tif ( ! safeSource || imageShouldBeRemovedFromContent( imgSource ) ) {\n\t\timage.parentNode.removeChild( image );\n\t\t// fun fact: removing the node from the DOM will not prevent it from loading. You actually have to\n\t\t// change out the src to change what loads. The following is a 1x1 transparent gif as a data URL\n\t\timage.setAttribute( 'src', TRANSPARENT_GIF );\n\t\treturn;\n\t}\n\n\timage.setAttribute( 'src', safeSource );\n}\n\nconst makeImagesSafe = ( maxWidth ) => ( post, dom ) => {\n\tif ( ! dom ) {\n\t\tthrow new Error( 'this transform must be used as part of withContentDOM' );\n\t}\n\n\tconst images = dom.querySelectorAll( 'img[src]' );\n\tforEach( images, ( image ) => makeImageSafe( post, image, maxWidth ) );\n\n\treturn post;\n};\n\nexport default makeImagesSafe;\n","import { forEach } from 'lodash';\nimport { safeLinkRe } from './utils';\n\nexport default function makeContentLinksSafe( post, dom ) {\n\tconst links = Array.from( dom.querySelectorAll( 'a[href]' ) );\n\tforEach( links, ( link ) => {\n\t\t// only accept links that are to http or https sites\n\t\tif ( ! safeLinkRe.test( link.href ) ) {\n\t\t\tlink.removeAttribute( 'href' );\n\t\t}\n\t} );\n\treturn post;\n}\n","import { forEach } from 'lodash';\n\nconst thingsToRemove = [\n\t'.sharedaddy', // share daddy\n\t'script', // might be too late for these at this point...\n\t'.jp-relatedposts', // jetpack related posts\n\t'.jp-relatedposts-headline', // same\n\t'.mc4wp-form', // mailchimp 4 wp\n\t'.wpcnt', // wordads?\n\t'.OUTBRAIN',\n\t'.adsbygoogle',\n\t'form', // no form elements\n\t'input',\n\t'select',\n\t'button',\n\t'textarea',\n].join( ', ' ); // make them all into one big selector\n\nfunction removeElement( element ) {\n\telement.parentNode && element.parentNode.removeChild( element );\n}\n\nexport default function sanitizeContent( post, dom ) {\n\tif ( ! dom ) {\n\t\tthrow new Error( 'this transform must be used as part of withContentDOM' );\n\t}\n\n\tconst elements = dom.querySelectorAll( thingsToRemove );\n\t// using forEach because qsa doesn't return a real array\n\tforEach( elements, removeElement );\n\n\treturn post;\n}\n","import { forEach } from 'lodash';\n\nfunction matches( element, selector ) {\n\tconst ep = Element.prototype;\n\t// modern browsers support `matches` but IE11 and older safari support it as `matchesSelector` with a prefix\n\tconst matcher =\n\t\tep.matches || ep.webkitMatchesSelector || ep.mozMatchesSelector || ep.msMatchesSelector;\n\tif ( ! matcher ) {\n\t\treturn false;\n\t}\n\treturn matcher.call( element, selector );\n}\n\nexport default function removeContentStyles( post, dom ) {\n\tif ( ! dom ) {\n\t\tthrow new Error( 'this transform must be used as part of withContentDOM' );\n\t}\n\n\t// Allow the markup for galleries, Instagram, and Twitter. Styling will be allowed on elements that match this selector.\n\tconst allowedMarkupSelector =\n\t\t'.gallery, .gallery *, .gallery-row, .gallery-row *, .gallery-group, .gallery-group *, ' +\n\t\t'blockquote[class^=\"instagram-\"], blockquote[class^=\"instagram-\"] *, ' +\n\t\t'blockquote[class^=\"twitter-\"], blockquote[class^=\"twitter-\"] *';\n\n\t// remove most style attributes\n\tconst styled = dom.querySelectorAll( '[style]' );\n\tforEach( styled, function ( element ) {\n\t\tif ( ! matches( element, allowedMarkupSelector ) ) {\n\t\t\telement.removeAttribute( 'style' );\n\t\t}\n\t} );\n\n\t// remove all style elements outside of galleries and embeds\n\tforEach( dom.querySelectorAll( 'style' ), function ( element ) {\n\t\tif ( ! matches( element, allowedMarkupSelector ) ) {\n\t\t\telement.parentNode && element.parentNode.removeChild( element );\n\t\t}\n\t} );\n\n\t// remove align from non images. Unlike above, img align is permitted anywhere.\n\tforEach( dom.querySelectorAll( '[align]' ), ( element ) => {\n\t\tif ( element.tagName !== 'IMG' ) {\n\t\t\telement.removeAttribute( 'align' );\n\t\t}\n\t} );\n\n\treturn post;\n}\n","import { trim, forEach } from 'lodash';\nimport striptags from 'striptags';\nimport { domForHtml } from './utils';\n\n/**\n * Removes an HTML element from the DOM\n *\n * @param {Node} element DOM element to remove\n */\nfunction removeElement( element ) {\n\telement.parentNode && element.parentNode.removeChild( element );\n}\n\n/**\n *  Trims any empty starting `br` tags.  Recurses into non-empty tags.\n *  will remove all of the leading `br`s it can find.\n *\n * @param {Node} dom DOM element to remove br tags from.\n */\nfunction stripLeadingBreaklines( dom ) {\n\tif ( ! dom ) {\n\t\treturn;\n\t}\n\n\t// first element is breakline actually returns the node in case of success\n\twhile ( firstElementIsBreakline( dom ) ) {\n\t\tremoveElement( firstElementIsBreakline( dom ) );\n\t}\n}\n\n/**\n *  Returns the node if first element ( checking nested ) is a `br`\n *  else returns falsy\n *\n * @param {Node} dom DOM element to check\n */\nfunction firstElementIsBreakline( dom ) {\n\tif ( dom.childNodes.length === 0 ) {\n\t\treturn dom.nodeName === 'BR' && dom;\n\t}\n\n\treturn firstElementIsBreakline( dom.firstChild );\n}\n\nfunction buildStrippedDom( content ) {\n\t// Spin up a new DOM for the linebreak markup\n\tconst dom = domForHtml( content );\n\n\t// Ditch any photo captions, styles, scripts\n\tconst stripSelectors =\n\t\t'.wp-caption, style, script, blockquote[class^=\"instagram-\"], figure, .tiled-gallery';\n\tforEach( dom.querySelectorAll( stripSelectors ), removeElement );\n\treturn dom.innerHTML;\n}\n\nexport function formatExcerpt( content ) {\n\tif ( ! content ) {\n\t\treturn '';\n\t}\n\n\tconst dom = domForHtml( striptags( content, [ 'p', 'br', 'sup', 'sub' ] ) );\n\tdom.id = '__better_excerpt__';\n\n\t// strip any p's that are empty\n\tArray.from( dom.querySelectorAll( 'p' ) )\n\t\t.filter( ( element ) => trim( element.textContent ).length === 0 )\n\t\t.forEach( removeElement );\n\n\t// remove styles for all p's that remain\n\tArray.from( dom.querySelectorAll( 'p' ) ).forEach( ( element ) => {\n\t\telement.removeAttribute( 'style' );\n\t\telement.removeAttribute( 'align' );\n\t} );\n\n\tstripLeadingBreaklines( dom );\n\n\t// now limit it to the first three elements\n\tforEach(\n\t\tdom.querySelectorAll( '#__better_excerpt__ > p, #__better_excerpt__ > br' ),\n\t\tfunction ( element, index ) {\n\t\t\tif ( index >= 3 ) {\n\t\t\t\telement.parentNode && element.parentNode.removeChild( element );\n\t\t\t}\n\t\t}\n\t);\n\n\t// trim and replace &nbsp; entities\n\tconst betterExcerpt = trim( dom.innerHTML.replace( /&nbsp;/g, ' ' ) );\n\tdom.innerHTML = '';\n\treturn betterExcerpt;\n}\n\nexport default function createBetterExcerpt( post ) {\n\tif ( ! post || ! post.content ) {\n\t\treturn post;\n\t}\n\n\tconst strippedDom = buildStrippedDom( post.content );\n\n\tpost.content_no_html = trim( striptags( strippedDom ) );\n\n\tpost.better_excerpt = formatExcerpt( strippedDom );\n\tpost.better_excerpt_no_html = trim( striptags( post.better_excerpt ) );\n\n\t// also make a shorter excerpt...\n\tif ( post.better_excerpt_no_html ) {\n\t\t// replace any trailing [...] with an actual ellipsis\n\t\tlet shorterExcerpt = post.better_excerpt_no_html.replace( /\\[...\\]\\w*$/, '' );\n\t\t// limit to 160 characters\n\t\tif ( shorterExcerpt.length > 160 ) {\n\t\t\tconst lastSpace = shorterExcerpt.lastIndexOf( ' ', 160 );\n\t\t\tshorterExcerpt = shorterExcerpt.substring( 0, lastSpace ) + '';\n\t\t}\n\t\tpost.short_excerpt = shorterExcerpt;\n\t}\n\n\treturn post;\n}\n","import { decodeEntities as decode } from 'calypso/lib/formatting';\nimport safeImageURL from 'calypso/lib/safe-image-url';\n\nconst DEFAULT_FIELDS = [ 'excerpt', 'title', 'site_name' ];\n\nexport default function decodeEntities( post, fields = DEFAULT_FIELDS ) {\n\tfields.forEach( function ( prop ) {\n\t\tif ( post[ prop ] ) {\n\t\t\tpost[ prop ] = decode( post[ prop ] );\n\t\t}\n\t} );\n\n\t// Sometimes titles are double-encoded, so run again to be sure\n\tpost.title = decode( post.title );\n\n\tif ( post.parent && post.parent.title ) {\n\t\tpost.parent.title = decode( post.parent.title );\n\t}\n\n\tif ( post.author ) {\n\t\tif ( post.author.name ) {\n\t\t\tpost.author.name = decode( post.author.name );\n\t\t}\n\t\tif ( post.author.avatar_URL ) {\n\t\t\tpost.author.avatar_URL = safeImageURL( post.author.avatar_URL );\n\t\t}\n\t}\n\n\tif ( post.tags ) {\n\t\t// tags is an object\n\t\tObject.values( post.tags ).forEach( function ( tag ) {\n\t\t\ttag.name = decode( tag.name );\n\t\t} );\n\t}\n\n\treturn post;\n}\n","import { filter } from 'lodash';\nimport safeImageUrl from 'calypso/lib/safe-image-url';\n\nfunction isValidImage( width, height ) {\n\treturn function ( image ) {\n\t\treturn image.width >= width && image.height >= height && safeImageUrl( image.src );\n\t};\n}\n\nexport default function keepValidImages( minWidth, minHeight ) {\n\treturn function keepValidImagesForWidthAndHeight( post ) {\n\t\tconst imageFilter = isValidImage( minWidth, minHeight );\n\t\tif ( post.images ) {\n\t\t\tpost.images = filter( post.images, imageFilter );\n\t\t}\n\t\tif ( post.content_images ) {\n\t\t\tpost.content_images = filter( post.content_images, imageFilter );\n\t\t}\n\t\treturn post;\n\t};\n}\n","/**\n */\n\nimport { safeLinkRe } from './utils';\n\nexport default function makeLinksSafe( post ) {\n\tif ( post && post.URL && ! safeLinkRe.test( post.URL ) ) {\n\t\tpost.URL = '';\n\t}\n\n\tif ( post && post.short_URL && ! safeLinkRe.test( post.short_URL ) ) {\n\t\tpost.short_URL = '';\n\t}\n\treturn post;\n}\n","export default function makeSiteIDSafeForAPI( post ) {\n\tif ( post.site_id ) {\n\t\tpost.normalized_site_id = ( '' + post.site_id ).replace( /::/g, '/' );\n\t}\n\n\treturn post;\n}\n","import { find } from 'lodash';\nimport { thumbIsLikelyImage, isCandidateForCanonicalImage } from './utils';\n\nexport default function pickCanonicalImage( post ) {\n\tlet canonicalImage;\n\tif ( thumbIsLikelyImage( post.post_thumbnail ) ) {\n\t\tconst { URL: url, width, height } = post.post_thumbnail;\n\t\tcanonicalImage = {\n\t\t\turi: url,\n\t\t\twidth,\n\t\t\theight,\n\t\t};\n\t} else if ( post.content_images && post.content_images.length ) {\n\t\tconst candidateImage = find( post.content_images, isCandidateForCanonicalImage );\n\t\tif ( candidateImage ) {\n\t\t\tcanonicalImage = {\n\t\t\t\turi: candidateImage.src,\n\t\t\t\twidth: candidateImage.width,\n\t\t\t\theight: candidateImage.height,\n\t\t\t};\n\t\t}\n\t}\n\tif ( canonicalImage ) {\n\t\tpost.canonical_image = canonicalImage;\n\t}\n\treturn post;\n}\n","import { find, get } from 'lodash';\nimport safeImageUrl from 'calypso/lib/safe-image-url';\nimport { isUrlLikelyAnImage } from './utils';\n\n/** Returns true if an image is large enough to be a featured asset\n *\n * @param {object} image - image must have a width and height property\n * @returns {boolean} true if large enough, false if image undefined or too small\n */\nfunction isImageLargeEnoughForFeature( image ) {\n\tif ( ! image ) {\n\t\treturn false;\n\t}\n\tconst imageIsTallEnough = 100 <= image.width;\n\tconst imageIsWideEnough = 75 <= image.height;\n\n\treturn imageIsTallEnough && imageIsWideEnough;\n}\n\nfunction isCandidateForFeature( media ) {\n\tif ( ! media ) {\n\t\treturn false;\n\t}\n\n\tif ( media.mediaType === 'image' ) {\n\t\treturn isImageLargeEnoughForFeature( media ) && safeImageUrl( media.src );\n\t} else if ( media.mediaType === 'video' ) {\n\t\t// we need to know how to autoplay it which probably means we know how to get a thumbnail\n\t\treturn media.autoplayIframe;\n\t}\n\n\treturn false;\n}\n\n/*\n * Given a post:\n *  1. prefer to return the post's featured image ( post.post_thumbnail )\n *  2. if there is no usable featured image, use the media that appears first in the content of the post\n *  3. if there is no eligible asset, return null\n */\nexport default function pickCanonicalMedia( post ) {\n\tif ( ! post ) {\n\t\treturn post;\n\t}\n\n\t// jetpack lies about thumbnails/featured_images so we need to make sure its actually an image\n\tif (\n\t\tisUrlLikelyAnImage( post.featured_image ) &&\n\t\t( ( ! post.post_thumbnail && post.is_jetpack ) || // some jetpack sites dont create post_thumbnail\n\t\t\tisImageLargeEnoughForFeature( post.post_thumbnail ) ) &&\n\t\tsafeImageUrl( post.featured_image )\n\t) {\n\t\tpost.canonical_media = {\n\t\t\tsrc: post.featured_image,\n\t\t\theight: get( post, 'post_thumbnail.height' ),\n\t\t\twidth: get( post, 'post_thumbnail.width' ),\n\t\t\tmediaType: 'image',\n\t\t};\n\t\treturn post;\n\t}\n\n\tconst canonicalMedia = find( post.content_media, isCandidateForFeature );\n\n\tif ( canonicalMedia ) {\n\t\tpost.canonical_media = canonicalMedia;\n\t}\n\n\treturn post;\n}\n","import { maxBy, values } from 'lodash';\n\nexport default function pickPrimaryTag( post ) {\n\t// if we hand max an invalid or empty array, it returns -Infinity\n\tconst primary_tag = maxBy( values( post.tags ), function ( tag ) {\n\t\treturn tag.post_count;\n\t} );\n\n\tif ( primary_tag !== undefined ) {\n\t\tpost.primary_tag = primary_tag;\n\t}\n\n\treturn post;\n}\n","import { forEach } from 'lodash';\nimport { preventWidows as preventWidowFormatting } from 'calypso/lib/formatting';\n\nexport default function preventWidows( post ) {\n\tforEach( [ 'excerpt' ], function ( prop ) {\n\t\tif ( post[ prop ] ) {\n\t\t\tpost[ prop ] = preventWidowFormatting( post[ prop ], 2 );\n\t\t}\n\t} );\n\treturn post;\n}\n","import { startsWith } from 'lodash';\nimport { makeImageURLSafe } from './utils';\n\nexport default function safeImagePropertiesForWidth( maxWidth ) {\n\treturn function safeImageProperties( post ) {\n\t\tmakeImageURLSafe( post.author, 'avatar_URL', maxWidth );\n\t\tmakeImageURLSafe( post, 'featured_image', maxWidth, post.URL );\n\t\tif ( post.post_thumbnail ) {\n\t\t\tmakeImageURLSafe( post.post_thumbnail, 'URL', maxWidth, post.URL );\n\t\t}\n\t\tif ( post.featured_media && post.featured_media.type === 'image' ) {\n\t\t\tmakeImageURLSafe( post.featured_media, 'uri', maxWidth, post.URL );\n\t\t}\n\t\tif ( post.canonical_image && post.canonical_image.uri ) {\n\t\t\tmakeImageURLSafe( post.canonical_image, 'uri', maxWidth, post.URL );\n\t\t}\n\t\tif ( post.attachments ) {\n\t\t\tObject.values( post.attachments ).forEach( function ( attachment ) {\n\t\t\t\tif ( startsWith( attachment.mime_type, 'image/' ) ) {\n\t\t\t\t\tmakeImageURLSafe( attachment, 'URL', maxWidth, post.URL );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn post;\n\t};\n}\n","import { forEach } from 'lodash';\nimport { stripHTML } from 'calypso/lib/formatting';\n\nexport default function stripHtml( post ) {\n\tforEach( [ 'excerpt', 'title', 'site_name' ], function ( prop ) {\n\t\tif ( post[ prop ] ) {\n\t\t\tpost[ prop ] = stripHTML( post[ prop ] );\n\t\t}\n\t} );\n\n\tif ( post.author && post.author.name ) {\n\t\tpost.author.name = stripHTML( post.author.name );\n\t}\n\treturn post;\n}\n","import debugFactory from 'debug';\nimport { filter, find, forEach, map, take } from 'lodash';\nimport { deduceImageWidthAndHeight, thumbIsLikelyImage } from './utils';\n\nconst debug = debugFactory( 'calypso:post-normalizer:wait-for-images-to-load' );\n\nfunction convertImageToObject( image ) {\n\tconst returnObj = {\n\t\tsrc: image.src,\n\t\t// use natural height and width\n\t\twidth: image.naturalWidth,\n\t\theight: image.naturalHeight,\n\t};\n\n\tif ( image instanceof Image && image.complete ) {\n\t\treturnObj.fetched = true;\n\t}\n\n\treturn returnObj;\n}\n\nfunction imageForURL( imageUrl ) {\n\tconst img = new Image();\n\timg.src = imageUrl;\n\treturn img;\n}\n\nfunction promiseForImage( image ) {\n\tif ( image.complete && image.naturalWidth > 0 ) {\n\t\treturn Promise.resolve( image );\n\t}\n\treturn new Promise( ( resolve, reject ) => {\n\t\timage.onload = () => resolve( image );\n\t\timage.onerror = () => reject( image );\n\t} );\n}\n\nexport default function waitForImagesToLoad( post ) {\n\treturn new Promise( ( resolve ) => {\n\t\tfunction acceptLoadedImages( images ) {\n\t\t\tif ( post.featured_image ) {\n\t\t\t\tif ( ! find( images, { src: post.featured_image } ) ) {\n\t\t\t\t\t// featured image didn't load, nix it\n\t\t\t\t\tpost.featured_image = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tpost.images = map( images, convertImageToObject );\n\n\t\t\tpost.content_images = filter(\n\t\t\t\tmap( post.content_images, function ( image ) {\n\t\t\t\t\treturn find( post.images, { src: image.src } );\n\t\t\t\t} ),\n\t\t\t\tBoolean\n\t\t\t);\n\n\t\t\t// this adds adds height/width to images\n\t\t\tpost.content_media = map( post.content_media, ( media ) => {\n\t\t\t\tif ( media.mediaType === 'image' ) {\n\t\t\t\t\tconst img = find( post.images, { src: media.src } );\n\t\t\t\t\treturn { ...media, ...img };\n\t\t\t\t}\n\t\t\t\treturn media;\n\t\t\t} );\n\n\t\t\tresolve( post );\n\t\t}\n\n\t\tconst knownImages = {};\n\t\tconst imagesToCheck = [];\n\n\t\tfunction checkAndRememberDimensions( image, url ) {\n\t\t\t// Check provided image (if any) for dimension info first.\n\t\t\tlet knownDimensions = image && deduceImageWidthAndHeight( image );\n\n\t\t\t// If we still don't know the dimension info, check attachments.\n\t\t\tif ( ! knownDimensions && post.attachments ) {\n\t\t\t\tconst attachment = Object.values( post.attachments ).find(\n\t\t\t\t\t( att ) => att.URL === post.featured_image\n\t\t\t\t);\n\t\t\t\tif ( attachment ) {\n\t\t\t\t\tknownDimensions = deduceImageWidthAndHeight( attachment );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remember dimensions if we have them.\n\t\t\tif ( knownDimensions ) {\n\t\t\t\tknownImages[ url ] = {\n\t\t\t\t\tsrc: url,\n\t\t\t\t\tnaturalWidth: knownDimensions.width,\n\t\t\t\t\tnaturalHeight: knownDimensions.height,\n\t\t\t\t};\n\t\t\t}\n\t\t\timagesToCheck.push( url );\n\t\t}\n\n\t\tif ( thumbIsLikelyImage( post.post_thumbnail ) ) {\n\t\t\tcheckAndRememberDimensions( post.post_thumbnail, post.post_thumbnail.URL );\n\t\t} else if ( post.featured_image ) {\n\t\t\tcheckAndRememberDimensions( null, post.featured_image );\n\t\t}\n\n\t\tforEach( post.content_images, ( image ) => checkAndRememberDimensions( image, image.src ) );\n\n\t\tif ( imagesToCheck.length === 0 ) {\n\t\t\tresolve( post );\n\t\t\treturn;\n\t\t}\n\n\t\tconst imagesLoaded = {};\n\n\t\t// convert to image objects to start the load process\n\t\t// only check the first x images\n\t\tconst NUMBER_OF_IMAGES_TO_CHECK = 10;\n\t\tlet promises = map( take( imagesToCheck, NUMBER_OF_IMAGES_TO_CHECK ), ( imageUrl ) => {\n\t\t\tif ( imageUrl in knownImages ) {\n\t\t\t\treturn Promise.resolve( knownImages[ imageUrl ] );\n\t\t\t}\n\t\t\treturn promiseForImage( imageForURL( imageUrl ) );\n\t\t} );\n\n\t\tforEach( promises, ( promise ) => {\n\t\t\tpromise\n\t\t\t\t.then( ( image ) => {\n\t\t\t\t\t// keep track of what loaded successfully. Note these will be out of order.\n\t\t\t\t\timagesLoaded[ image.src ] = image;\n\t\t\t\t} )\n\t\t\t\t.catch( ( err ) => {\n\t\t\t\t\t// ignore what did not, but return the promise chain to success\n\t\t\t\t\tdebug( 'failed to load image', err, post );\n\t\t\t\t\treturn null;\n\t\t\t\t} )\n\t\t\t\t.then( () => {\n\t\t\t\t\t// check to see if all of the promises have settled\n\t\t\t\t\t// if so, accept what loaded and resolve the main promise\n\t\t\t\t\tpromises = promises.filter( ( p ) => p !== promise );\n\t\t\t\t\tif ( promises.length === 0 ) {\n\t\t\t\t\t\tconst imagesInOrder = filter(\n\t\t\t\t\t\t\tmap( imagesToCheck, ( src ) => {\n\t\t\t\t\t\t\t\treturn imagesLoaded[ src ];\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t\tBoolean\n\t\t\t\t\t\t);\n\t\t\t\t\t\tacceptLoadedImages( imagesInOrder );\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t\t.catch( ( err ) => {\n\t\t\t\t\tdebug( 'Fulfilling promise failed', err );\n\t\t\t\t} );\n\t\t} );\n\t} );\n}\n","import { reduce } from 'lodash';\nimport { domForHtml } from './utils';\n\nexport default function createDomTransformRunner( transforms ) {\n\treturn function withContentDOM( post ) {\n\t\tif ( ! post || ! post.content || ! transforms ) {\n\t\t\treturn post;\n\t\t}\n\n\t\tconst dom = domForHtml( post.content );\n\n\t\tpost = reduce(\n\t\t\ttransforms,\n\t\t\t( memo, transform ) => {\n\t\t\t\treturn transform( memo, dom );\n\t\t\t},\n\t\t\tpost\n\t\t);\n\n\t\tpost.content = dom.innerHTML;\n\t\tdom.innerHTML = '';\n\n\t\treturn post;\n\t};\n}\n","export function deduceImageWidthAndHeight( image ) {\n\tif ( image.height && image.width ) {\n\t\treturn {\n\t\t\theight: image.height,\n\t\t\twidth: image.width,\n\t\t};\n\t}\n\tif ( image.naturalHeight && image.naturalWidth ) {\n\t\treturn {\n\t\t\theight: image.naturalHeight,\n\t\t\twidth: image.naturalWidth,\n\t\t};\n\t}\n\tif ( image.dataset && image.dataset.origSize ) {\n\t\tconst [ width, height ] = image.dataset.origSize.split( ',' ).map( Number );\n\t\treturn {\n\t\t\twidth,\n\t\t\theight,\n\t\t};\n\t}\n\treturn null;\n}\n","export function domForHtml( html ) {\n\tif ( typeof DOMParser !== 'undefined' && window.DOMParser.prototype.parseFromString ) {\n\t\tconst parser = new window.DOMParser();\n\t\tconst parsed = parser.parseFromString( html, 'text/html' );\n\t\tif ( parsed && parsed.body ) {\n\t\t\treturn parsed.body;\n\t\t}\n\t}\n\n\t// DOMParser support is not present or non-standard\n\tconst newDoc = document.implementation.createHTMLDocument( 'processing doc' );\n\tconst dom = newDoc.createElement( 'div' );\n\tdom.innerHTML = html;\n\n\treturn dom;\n}\n","import { getUrlParts } from '@automattic/calypso-url';\nimport { some } from 'lodash';\n\n/**\n * Determines if an iframe is from a source we trust. We allow these to be the featured media and also give\n * them a freer sandbox\n *\n * @param  {object} iframe the iframe to check\n * @returns {boolean} true if allowed\n */\nexport function iframeIsAllowed( iframe ) {\n\tconst allowedIframeHosts = [\n\t\t'youtube.com',\n\t\t'youtube-nocookie.com',\n\t\t'videopress.com',\n\t\t'video.wordpress.com',\n\t\t'vimeo.com',\n\t\t'cloudup.com',\n\t\t'soundcloud.com',\n\t\t'8tracks.com',\n\t\t'spotify.com',\n\t\t'me.sh',\n\t\t'bandcamp.com',\n\t\t'kickstarter.com',\n\t\t'facebook.com',\n\t\t'embed.itunes.apple.com',\n\t\t'nyt.com',\n\t\t'google.com',\n\t\t'mixcloud.com',\n\t\t'players.brightcove.net',\n\t\t'embed.ted.com',\n\t\t'fast.wistia.net',\n\t\t'player.twitch.tv',\n\t\t'archive.org',\n\t\t'codepen.io',\n\t\t'www.audiomack.com',\n\t\t'player.theplatform.com',\n\t\t'embed.radiopublic.com',\n\t\t'gfycat.com',\n\t\t'scribd.com',\n\t\t'megaphone.fm',\n\t\t'icloud.com',\n\t\t'read.amazon.com',\n\t\t'loom.com',\n\t];\n\tconst hostName = iframe.src && getUrlParts( iframe.src ).hostname;\n\tconst iframeSrc = hostName && hostName.toLowerCase();\n\treturn some( allowedIframeHosts, function ( allowedHost ) {\n\t\treturn `.${ iframeSrc }`.endsWith( '.' + allowedHost );\n\t} );\n}\n","export function isCandidateForCanonicalImage( image ) {\n\tif ( ! image ) {\n\t\treturn false;\n\t}\n\n\tif ( image.width < 100 ) {\n\t\treturn false;\n\t}\n\n\tif ( image.width * image.height < 100 * 75 ) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n","import { getUrlParts } from '@automattic/calypso-url';\nimport { some } from 'lodash';\n\n/** Determine if url is likely pointed to an image\n *\n * @param {string} uri - a url\n * @returns {boolean} - true or false depending on if it is probably an image (has the right extension)\n */\nexport function isUrlLikelyAnImage( uri ) {\n\tif ( ! uri ) {\n\t\treturn false;\n\t}\n\n\tconst withoutQuery = getUrlParts( uri ).pathname;\n\treturn some( [ '.jpg', '.jpeg', '.png', '.gif' ], ( ext ) => withoutQuery.endsWith( ext ) );\n}\n","import { getUrlParts, getUrlFromParts } from '@automattic/calypso-url';\nimport { maxWidthPhotonishURL } from 'calypso/lib/post-normalizer/utils/max-width-photonish-url';\nimport safeImageURL from 'calypso/lib/safe-image-url';\nimport { resolveRelativePath } from 'calypso/lib/url';\n\nexport function makeImageURLSafe( object, propName, maxWidth, baseURL ) {\n\tif ( object && object[ propName ] ) {\n\t\tconst urlParts = getUrlParts( object[ propName ] );\n\t\tif ( baseURL && ! urlParts.hostname ) {\n\t\t\tconst { pathname: basePath } = getUrlParts( baseURL );\n\t\t\tconst resolvedPath = resolveRelativePath( basePath, object[ propName ] );\n\t\t\tobject[ propName ] = getUrlFromParts( {\n\t\t\t\t...urlParts,\n\t\t\t\tprotocol: baseURL.protocol,\n\t\t\t\thostname: baseURL.hostname,\n\t\t\t\tpathname: resolvedPath,\n\t\t\t} ).href;\n\t\t}\n\t\tobject[ propName ] = safeImageURL( object[ propName ] );\n\n\t\tif ( maxWidth ) {\n\t\t\tobject[ propName ] = maxWidthPhotonishURL( object[ propName ], maxWidth );\n\t\t}\n\t}\n}\n","import { format, getUrlParts, getUrlFromParts, determineUrlType } from '@automattic/calypso-url';\n\nconst IMAGE_SCALE_FACTOR =\n\ttypeof window !== 'undefined' && window.devicePixelRatio && window.devicePixelRatio > 1 ? 2 : 1;\n\nconst DEFAULT_PHOTON_QUALITY = 80; // 80 was chosen after some heuristic testing as the best blend of size and quality\n\nconst SERVICE_HOSTNAME_PATTERNS = {\n\tphoton: /(^[is]\\d\\.wp\\.com|(^|\\.)wordpress\\.com)$/,\n\tgravatar: /(^|\\.)gravatar\\.com$/,\n};\n\nexport function maxWidthPhotonishURL( imageURL, width ) {\n\tif ( ! imageURL ) {\n\t\treturn imageURL;\n\t}\n\n\tconst urlParts = getUrlParts( imageURL );\n\tconst urlType = determineUrlType( imageURL );\n\n\t// Return the unformatted imageURL for path-relative or path-absolute URLs.\n\tif ( ! urlParts.host ) {\n\t\treturn imageURL;\n\t}\n\n\tconst service = Object.keys( SERVICE_HOSTNAME_PATTERNS ).find( ( key ) =>\n\t\turlParts.hostname.match( SERVICE_HOSTNAME_PATTERNS[ key ] )\n\t);\n\n\t// From this point on, we should only have absolute and scheme-relative URLs.\n\tdelete urlParts.search;\n\t// strip other sizing params\n\tfor ( const param of [ 'h', 'crop', 'resize', 'fit' ] ) {\n\t\turlParts.searchParams.delete( param );\n\t}\n\n\tconst sizeParam = 'gravatar' === service ? 's' : 'w';\n\turlParts.searchParams.set( sizeParam, width * IMAGE_SCALE_FACTOR );\n\n\tif ( 'gravatar' !== service ) {\n\t\t// gravatar doesn't support these, only photon / files.wordpress\n\t\turlParts.searchParams.set( 'quality', DEFAULT_PHOTON_QUALITY );\n\t\turlParts.searchParams.set( 'strip', 'info' ); // strip all exif data, leave ICC intact\n\t}\n\n\t// make a new query object with keys in a known order\n\tconst sortedKeys = Array.from( urlParts.searchParams.keys() ).sort();\n\tconst sortedParams = new URLSearchParams();\n\tsortedKeys.forEach( ( key ) => sortedParams.set( key, urlParts.searchParams.get( key ) ) );\n\n\tconst extendedUrl = getUrlFromParts( {\n\t\t...urlParts,\n\t\t// Provide a protocol if one is missing. This is the case for some image ads.\n\t\tprotocol: urlParts.protocol || 'https:',\n\t\t// Override original search params.\n\t\tsearchParams: sortedParams,\n\t} ).href;\n\n\ttry {\n\t\t// Format back to original URL type (e.g. scheme-relative).\n\t\treturn format( extendedUrl, urlType );\n\t} catch {\n\t\t// Something failed in the formatting, so return just return the full extended URL.\n\t\treturn extendedUrl;\n\t}\n}\n","export const safeLinkRe = /^https?:\\/\\//;\n\n/**\n * Only accept links that start with http or https. Reject others.\n *\n * @param {string} link the link to check\n * @returns {string|undefined} the safe link or undefined\n */\nexport function safeLink( link ) {\n\tif ( safeLinkRe.test( link ) ) {\n\t\treturn link;\n\t}\n\treturn undefined;\n}\n","import { isUrlLikelyAnImage } from 'calypso/lib/post-normalizer/utils/is-url-likely-an-image';\n\n/**\n * Determine if a post thumbnail is likely an image\n *\n * @param  {object} thumb the thumbnail object from a post\n * @returns {boolean}       whether or not we think this is an image\n */\nexport function thumbIsLikelyImage( thumb ) {\n\tif ( ! thumb || ! thumb.URL ) {\n\t\treturn false;\n\t}\n\t// this doesn't work because jetpack 4.2 lies\n\t// normally I wouldn't leave commented code in, but it's the best way to explain what not to do\n\t//if ( startsWith( thumb.mime_type, 'image/' ) ) {\n\t//\treturn true;\n\t// }\n\treturn isUrlLikelyAnImage( thumb.URL );\n}\n","import { camelCase } from 'lodash';\n\nfunction createPurchaseObject( purchase ) {\n\tconst object = {\n\t\tid: Number( purchase.ID ),\n\t\tactive: Boolean( purchase.active ),\n\t\tamount: Number( purchase.amount ),\n\t\tattachedToPurchaseId: Number( purchase.attached_to_purchase_id ),\n\t\tbillPeriodDays: Number( purchase.bill_period_days ),\n\t\tmostRecentRenewDate: purchase.most_recent_renew_date,\n\t\tcanDisableAutoRenew: Boolean( purchase.can_disable_auto_renew ),\n\t\tcanExplicitRenew: Boolean( purchase.can_explicit_renew ),\n\t\tcostToUnbundle: purchase.cost_to_unbundle\n\t\t\t? Number( purchase.cost_to_unbundle )\n\t\t\t: Number( purchase.amount ),\n\t\tcostToUnbundleText: purchase.cost_to_unbundle_display\n\t\t\t? purchase.cost_to_unbundle_display\n\t\t\t: purchase.price_text,\n\t\tcurrencyCode: purchase.currency_code,\n\t\tcurrencySymbol: purchase.currency_symbol,\n\t\tdescription: purchase.description,\n\t\tdomain: purchase.domain,\n\t\tdomainRegistrationAgreementUrl: purchase.domain_registration_agreement_url || null,\n\t\terror: null,\n\t\tblogCreatedDate: purchase.blog_created_date,\n\t\texpiryDate: purchase.expiry_date,\n\t\texpiryStatus: camelCase( purchase.expiry_status ),\n\t\tiapPurchaseManagementLink: purchase.iap_purchase_management_link,\n\t\tincludedDomain: purchase.included_domain,\n\t\tincludedDomainPurchaseAmount: purchase.included_domain_purchase_amount,\n\t\tintroductoryOffer: purchase.introductory_offer\n\t\t\t? {\n\t\t\t\t\tcostPerInterval: Number( purchase.introductory_offer.cost_per_interval ),\n\t\t\t\t\tendDate: String( purchase.introductory_offer.end_date ),\n\t\t\t\t\tintervalCount: Number( purchase.introductory_offer.interval_count ),\n\t\t\t\t\tintervalUnit: String( purchase.introductory_offer.interval_unit ),\n\t\t\t\t\tisWithinPeriod: Boolean( purchase.introductory_offer.is_within_period ),\n\t\t\t\t\ttransitionAfterRenewalCount: Number(\n\t\t\t\t\t\tpurchase.introductory_offer.transition_after_renewal_count\n\t\t\t\t\t),\n\t\t\t\t\tisNextRenewalUsingOffer: Boolean(\n\t\t\t\t\t\tpurchase.introductory_offer.is_next_renewal_using_offer\n\t\t\t\t\t),\n\t\t\t\t\tremainingRenewalsUsingOffer: Number(\n\t\t\t\t\t\tpurchase.introductory_offer.remaining_renewals_using_offer\n\t\t\t\t\t),\n\t\t\t\t\tshouldProrateWhenOfferEnds: Boolean(\n\t\t\t\t\t\tpurchase.introductory_offer.should_prorate_when_offer_ends\n\t\t\t\t\t),\n\t\t\t\t\tisNextRenewalProrated: Boolean( purchase.introductory_offer.is_next_renewal_prorated ),\n\t\t\t  }\n\t\t\t: null,\n\t\tisCancelable: Boolean( purchase.is_cancelable ),\n\t\tisDomainRegistration: Boolean( purchase.is_domain_registration ),\n\t\tisLocked: Boolean( purchase.is_locked ),\n\t\tisInAppPurchase: Boolean( purchase.is_iap_purchase ),\n\t\tisRechargeable: Boolean( purchase.is_rechargable ),\n\t\tisRefundable: Boolean( purchase.is_refundable ),\n\t\tisRenewable: Boolean( purchase.is_renewable ),\n\t\tisRenewal: Boolean( purchase.is_renewal ),\n\t\tmeta: purchase.meta,\n\t\tpriceText: purchase.price_text,\n\t\tpartnerName: purchase.partner_name,\n\t\tpartnerSlug: purchase.partner_slug,\n\t\tpartnerKeyId: purchase.partner_key_id,\n\t\tpayment: {\n\t\t\tname: purchase.payment_name,\n\t\t\ttype: purchase.payment_type,\n\t\t\tcountryCode: purchase.payment_country_code,\n\t\t\tcountryName: purchase.payment_country_name,\n\t\t\tstoredDetailsId: purchase.stored_details_id,\n\t\t},\n\t\tpendingTransfer: Boolean( purchase.pending_transfer ),\n\t\tproductId: Number( purchase.product_id ),\n\t\tproductName: purchase.product_name,\n\t\tproductSlug: purchase.product_slug,\n\t\ttotalRefundAmount: Number( purchase.total_refund_amount ),\n\t\ttotalRefundText: purchase.total_refund_text,\n\t\trefundAmount: Number( purchase.refund_amount ),\n\t\trefundOptions: purchase.refund_options,\n\t\trefundText: purchase.refund_text,\n\t\trefundPeriodInDays: purchase.refund_period_in_days,\n\t\tregularPriceText: purchase.regular_price_text,\n\t\trenewDate: purchase.renew_date,\n\t\tsaleAmount: purchase.sale_amount,\n\t\tsiteId: Number( purchase.blog_id ),\n\t\tsiteName: purchase.blogname,\n\t\tsubscribedDate: purchase.subscribed_date,\n\t\tsubscriptionStatus: purchase.subscription_status,\n\t\ttagLine: purchase.tag_line,\n\t\ttaxAmount: purchase.tax_amount,\n\t\ttaxText: purchase.tax_text,\n\t\tpurchaseRenewalQuantity: purchase.renewal_price_tier_usage_quantity || null,\n\t\tuserId: Number( purchase.user_id ),\n\t};\n\n\tif ( 'credit_card' === purchase.payment_type ) {\n\t\tobject.payment.creditCard = {\n\t\t\tid: Number( purchase.payment_card_id ),\n\t\t\ttype: purchase.payment_card_type,\n\t\t\tprocessor: purchase.payment_card_processor,\n\t\t\tnumber: purchase.payment_details,\n\t\t\texpiryDate: purchase.payment_expiry,\n\t\t};\n\t}\n\n\tif ( 'paypal_direct' === purchase.payment_type ) {\n\t\tobject.payment.expiryDate = purchase.payment_expiry;\n\t}\n\n\treturn object;\n}\n\nexport function createPurchasesArray( dataTransferObject ) {\n\tif ( ! Array.isArray( dataTransferObject ) ) {\n\t\treturn [];\n\t}\n\n\treturn dataTransferObject.map( createPurchaseObject );\n}\n","import { clone, difference, get, isEqual, map, omit, reduce, values } from 'lodash';\nimport QueryKey from './key';\n\n/**\n * Constants\n */\n\n/**\n * Object key name for property used in indicating that an item is intended to\n * be removed during patched `mergeItem`.\n *\n * @type {string}\n */\nexport const DELETE_PATCH_KEY = '__DELETE';\n\n/*\n * Construct an array of items from an array of keys and a map of key/item pairs.\n * There is a two-level memoization cache for the `items` and `itemKeys` params.\n * `itemKeys` can also be `null`, which means a request to return an array of all items.\n */\nconst itemsCache = new WeakMap();\nconst ALL_ITEMS_KEY = [];\n\nfunction getItemsForKeys( items, itemKeys ) {\n\t// Get the cache record for the `items` instance, construct a new one if doesn't exist yet.\n\tlet cacheForItems = itemsCache.get( items );\n\tif ( ! cacheForItems ) {\n\t\tcacheForItems = new WeakMap();\n\t\titemsCache.set( items, cacheForItems );\n\t}\n\n\t// `itemKeys == null` means a request for array of all items. Cache them with a special key.\n\tif ( itemKeys == null ) {\n\t\tlet resultForAllKeys = cacheForItems.get( ALL_ITEMS_KEY );\n\t\tif ( ! resultForAllKeys ) {\n\t\t\tresultForAllKeys = values( items );\n\t\t\tcacheForItems.set( ALL_ITEMS_KEY, resultForAllKeys );\n\t\t}\n\t\treturn resultForAllKeys;\n\t}\n\n\t// compute result from `items` and `itemKeys`, cached for unique `itemKeys` instances\n\tlet resultForItemKeys = cacheForItems.get( itemKeys );\n\tif ( ! resultForItemKeys ) {\n\t\tresultForItemKeys = itemKeys.map( ( itemKey ) => items[ itemKey ] );\n\t\tcacheForItems.set( itemKeys, resultForItemKeys );\n\t}\n\treturn resultForItemKeys;\n}\n\n/**\n * QueryManager manages items which can be queried and change over time. It is\n * intended to be extended by a more specific implementation which is\n * responsible for implementing its matching, merging, and sorting behaviors.\n */\nexport default class QueryManager {\n\tstatic QueryKey = QueryKey;\n\n\t/**\n\t * Constructs a new instance of QueryManager\n\t *\n\t * @param {object} data            Initial data\n\t * @param {object} options         Manager options\n\t * @param {string} options.itemKey Field to key items by\n\t */\n\tconstructor( data, options ) {\n\t\tthis.data = Object.assign(\n\t\t\t{\n\t\t\t\titems: {},\n\t\t\t\tqueries: {},\n\t\t\t},\n\t\t\tdata\n\t\t);\n\n\t\tthis.options = Object.assign(\n\t\t\t{\n\t\t\t\titemKey: 'ID',\n\t\t\t},\n\t\t\toptions\n\t\t);\n\t}\n\n\t/**\n\t * Returns a new item after consideration of incoming revision of that\n\t * item. The item can be undefined in the case that the revision is\n\t * new. Optionally patch the item to merge, not replace. Returning\n\t * undefined indicates that item should be removed from known set.\n\t *\n\t * @param  {?object} item        Existing item, if exists\n\t * @param  {object}  revisedItem Incoming revision of item\n\t * @param  {boolean} patch       Use patching application\n\t * @returns {?object}             Item to track, or undefined to omit\n\t */\n\tstatic mergeItem( item, revisedItem, patch = false ) {\n\t\tif ( patch ) {\n\t\t\tif ( revisedItem[ DELETE_PATCH_KEY ] ) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn Object.assign( {}, item, revisedItem );\n\t\t}\n\n\t\treturn revisedItem;\n\t}\n\n\t/**\n\t * Returns true if the item matches the given query, or false otherwise.\n\t *\n\t * @param  {object}  query Query object\n\t * @param  {object}  item  Item to consider\n\t * @returns {boolean}       Whether item matches query\n\t */\n\tstatic matches( query, item ) {\n\t\treturn !! item;\n\t}\n\n\t/**\n\t * A sort comparison function that defines the sort order of items under\n\t * consideration of the specified query.\n\t *\n\t * @param  {object} query Query object\n\t * @param  {object} itemA First item\n\t * @param  {object} itemB Second item\n\t * @returns {number}       0 if equal, less than 0 if itemA is first,\n\t *                        greater than 0 if itemB is first.\n\t */\n\tstatic compare( query, itemA, itemB ) {\n\t\tif ( itemA === itemB ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn itemB - itemA;\n\t}\n\n\t/**\n\t * A sorting function that defines the sort order of items under\n\t * consideration of the specified query. This mutates the keys argument and\n\t * doesn't have a return value (because that's how Array.prototype.sort works, see\n\t * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort ).\n\t *\n\t * @param  {Array}  keys  Keys to be sorted\n\t * @param  {Array}  items Items by which to sort\n\t * @param  {object} query Query object\n\t */\n\tstatic sort( keys, items, query ) {\n\t\tkeys.sort( ( keyA, keyB ) => {\n\t\t\tif ( ! items[ keyA ] || ! items[ keyB ] ) {\n\t\t\t\t// One of the items has yet to be removed from the\n\t\t\t\t// set at this point in iteration, so don't bother\n\t\t\t\t// trying to sort.\n\t\t\t\t// This is just an optimization, so implementers of an extending class's `sort`\n\t\t\t\t// method aren't required to implement this check.\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn this.compare( query, items[ keyA ], items[ keyB ] );\n\t\t} );\n\t}\n\n\t/**\n\t * Returns a single item by key.\n\t *\n\t * @param  {string} itemKey Item key\n\t * @returns {object}         Item\n\t */\n\tgetItem( itemKey ) {\n\t\treturn this.data.items[ itemKey ];\n\t}\n\n\t/**\n\t * Returns items tracked by the instance. If a query is specified, returns\n\t * items specific to that query, or null if no items have been received for\n\t * the query.\n\t *\n\t * @param  {?object}       query Optional query object\n\t * @returns {object[]|null}       Items tracked, if known\n\t */\n\tgetItems( query ) {\n\t\tlet itemKeys = null;\n\t\tif ( query ) {\n\t\t\tconst queryKey = this.constructor.QueryKey.stringify( query );\n\t\t\titemKeys = this.data.queries[ queryKey ]?.itemKeys;\n\t\t\tif ( ! itemKeys ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\treturn getItemsForKeys( this.data.items, itemKeys );\n\t}\n\n\t/**\n\t * Returns the number of total known items for the specified query, as\n\t * included in the REST API posts response. Returns null if the query is\n\t * not known.\n\t *\n\t * @param  {object}  query Query object\n\t * @returns {?number}       Found items for query\n\t */\n\tgetFound( query ) {\n\t\tconst queryKey = this.constructor.QueryKey.stringify( query );\n\t\treturn get( this.data.queries, [ queryKey, 'found' ], null );\n\t}\n\n\t/**\n\t * Removes a single item given its item key, returning a new instance of\n\t * QueryManager if the tracked items have changed, or the current instance\n\t * otherwise.\n\t *\n\t * @param  {string}       itemKey Key of item to remove\n\t * @returns {QueryManager}         New instance if changed, or same instance\n\t *                                otherwise\n\t */\n\tremoveItem( itemKey ) {\n\t\treturn this.removeItems( [ itemKey ] );\n\t}\n\n\t/**\n\t * Removes multiple items given an array of item keys, returning a new\n\t * instance of QueryManager if the tracked items have changed, or the\n\t * current instance otherwise.\n\t *\n\t * @param  {string[]}     itemKeys Keys of items to remove\n\t * @returns {QueryManager}          New instance if changed, or same\n\t *                                 instance otherwise\n\t */\n\tremoveItems( itemKeys = [] ) {\n\t\treturn this.receive(\n\t\t\titemKeys.map( ( itemKey ) => {\n\t\t\t\treturn {\n\t\t\t\t\t[ this.options.itemKey ]: itemKey,\n\t\t\t\t\t[ DELETE_PATCH_KEY ]: true,\n\t\t\t\t};\n\t\t\t} ),\n\t\t\t{ patch: true }\n\t\t);\n\t}\n\n\t/**\n\t * Signal that an item(s) has been received for tracking. Optionally\n\t * specify that items received are intended for patch application, or that\n\t * they are associated with a query. This function does not mutate the\n\t * instance state. Instead, it returns a new instance of QueryManager if\n\t * the tracked items have been modified, or the current instance otherwise.\n\t *\n\t * @param  {(Array|object)} items              Item(s) to be received\n\t * @param  {object}         options            Options for receive\n\t * @param  {boolean}        options.patch      Apply changes as partial\n\t * @param  {object}         options.query      Query set to set or replace\n\t * @param  {boolean}        options.mergeQuery Add to existing query set\n\t * @param  {boolean}        options.dontShareQueryResultsWhenQueriesAreDifferent When storing results for one query, results for that query should not be shared with different queries\n\t * @param  {number}         options.found      Total found items for query\n\t * @returns {QueryManager}                      New instance if changed, or\n\t *                                             same instance otherwise\n\t */\n\treceive( items = [], options = {} ) {\n\t\t// Coerce received single item to array\n\t\tif ( ! Array.isArray( items ) ) {\n\t\t\titems = [ items ];\n\t\t}\n\n\t\tconst nextItems = reduce(\n\t\t\titems,\n\t\t\t( memo, receivedItem ) => {\n\t\t\t\tconst receivedItemKey = receivedItem[ this.options.itemKey ];\n\t\t\t\tconst item = this.getItem( receivedItemKey );\n\t\t\t\tconst mergedItem = this.constructor.mergeItem( item, receivedItem, options.patch );\n\n\t\t\t\tif ( undefined === mergedItem ) {\n\t\t\t\t\tif ( item ) {\n\t\t\t\t\t\t// `undefined` item is an intended omission from set\n\t\t\t\t\t\treturn omit( memo, receivedItemKey );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Item never existed in set in the first place, skip and\n\t\t\t\t\t// return same memo\n\t\t\t\t\treturn memo;\n\t\t\t\t}\n\n\t\t\t\tif ( ! item || ! isEqual( mergedItem, item ) ) {\n\t\t\t\t\t// Did not exist previously or has changed\n\t\t\t\t\tif ( memo === this.data.items ) {\n\t\t\t\t\t\t// Create a copy of memo, as we don't want to mutate the original items set\n\t\t\t\t\t\tmemo = clone( memo );\n\t\t\t\t\t}\n\n\t\t\t\t\tmemo[ receivedItemKey ] = mergedItem;\n\t\t\t\t}\n\n\t\t\t\treturn memo;\n\t\t\t},\n\t\t\tthis.data.items\n\t\t);\n\n\t\tlet isModified = nextItems !== this.data.items;\n\t\tlet nextQueries = this.data.queries;\n\t\tlet isNewlyReceivedQueryKey = false;\n\t\tlet receivedQueryKey;\n\n\t\t// Skip if no items have been updated, added, or removed. If query\n\t\t// specified with received items, we may need to update queries\n\t\tif ( ! isModified && ! options.query ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( options.query ) {\n\t\t\tconst receivedItemKeys = map( items, this.options.itemKey );\n\t\t\treceivedQueryKey = this.constructor.QueryKey.stringify( options.query );\n\t\t\tisNewlyReceivedQueryKey = ! this.data.queries[ receivedQueryKey ];\n\n\t\t\tlet nextQueryReceivedItemKeys;\n\t\t\tif (\n\t\t\t\tisNewlyReceivedQueryKey ||\n\t\t\t\t! isEqual( this.data.queries[ receivedQueryKey ].itemKeys, receivedItemKeys )\n\t\t\t) {\n\t\t\t\tif ( options.mergeQuery && ! isNewlyReceivedQueryKey ) {\n\t\t\t\t\t// When merging into a query where items already exist,\n\t\t\t\t\t// omit incoming keys from existing set. These keys will\n\t\t\t\t\t// be restored below during match testing.\n\t\t\t\t\tnextQueryReceivedItemKeys = difference(\n\t\t\t\t\t\tthis.data.queries[ receivedQueryKey ].itemKeys,\n\t\t\t\t\t\treceivedItemKeys\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t// If not merging, assign incoming keys as next items\n\t\t\t\t\tnextQueryReceivedItemKeys = receivedItemKeys;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet nextQueryFound;\n\t\t\tif (\n\t\t\t\toptions.found >= 0 &&\n\t\t\t\toptions.found !== get( nextQueries, [ receivedQueryKey, 'found' ] )\n\t\t\t) {\n\t\t\t\tnextQueryFound = options.found;\n\t\t\t}\n\n\t\t\tif ( nextQueryReceivedItemKeys || nextQueryFound >= 0 ) {\n\t\t\t\t// Consider modified if either the current query set is not\n\t\t\t\t// tracked or if the keys differ from currently known set\n\t\t\t\tisModified = true;\n\t\t\t\tconst nextReceivedQuery = Object.assign( {}, nextQueries[ receivedQueryKey ] );\n\n\t\t\t\tif ( nextQueryReceivedItemKeys ) {\n\t\t\t\t\tnextReceivedQuery.itemKeys = nextQueryReceivedItemKeys;\n\t\t\t\t}\n\n\t\t\t\tif ( nextQueryFound >= 0 ) {\n\t\t\t\t\tnextReceivedQuery.found = nextQueryFound;\n\t\t\t\t}\n\n\t\t\t\tnextQueries = Object.assign( {}, nextQueries, {\n\t\t\t\t\t[ receivedQueryKey ]: nextReceivedQuery,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\tnextQueries = reduce(\n\t\t\tnextQueries,\n\t\t\t( memo, queryDetails, queryKey ) => {\n\t\t\t\tmemo[ queryKey ] = queryDetails;\n\n\t\t\t\tconst isReceivedQueryKey = receivedQueryKey && receivedQueryKey === queryKey;\n\t\t\t\tif ( isReceivedQueryKey && ( isNewlyReceivedQueryKey || ! options.mergeQuery ) ) {\n\t\t\t\t\t// We can save the effort testing against received items in\n\t\t\t\t\t// the current query, since we know they'll match\n\t\t\t\t\treturn memo;\n\t\t\t\t}\n\n\t\t\t\tif ( ! isReceivedQueryKey && options.dontShareQueryResultsWhenQueriesAreDifferent ) {\n\t\t\t\t\treturn memo;\n\t\t\t\t}\n\n\t\t\t\t// Found counts should not be adjusted for the received query if\n\t\t\t\t// merging into existing items\n\t\t\t\tconst shouldAdjustFoundCount = ! isReceivedQueryKey;\n\n\t\t\t\tconst query = this.constructor.QueryKey.parse( queryKey );\n\t\t\t\tlet needsSort = false;\n\t\t\t\titems.forEach( ( receivedItem ) => {\n\t\t\t\t\t// Find item in known data for query\n\t\t\t\t\tconst receivedItemKey = receivedItem[ this.options.itemKey ];\n\t\t\t\t\tconst updatedItem = nextItems[ receivedItemKey ];\n\t\t\t\t\tconst index = memo[ queryKey ].itemKeys.indexOf( receivedItemKey );\n\n\t\t\t\t\tif ( -1 !== index ) {\n\t\t\t\t\t\t// Item already exists in query, check to see whether the\n\t\t\t\t\t\t// updated item is being removed or no longer matches\n\t\t\t\t\t\tif ( ! updatedItem || ! this.constructor.matches( query, updatedItem ) ) {\n\t\t\t\t\t\t\t// Create a copy of the original details to avoid mutating\n\t\t\t\t\t\t\tif ( memo[ queryKey ] === queryDetails ) {\n\t\t\t\t\t\t\t\tmemo[ queryKey ] = clone( queryDetails );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Omit item by slicing previous and next\n\t\t\t\t\t\t\tmemo[ queryKey ].itemKeys = [\n\t\t\t\t\t\t\t\t...memo[ queryKey ].itemKeys.slice( 0, index ),\n\t\t\t\t\t\t\t\t...memo[ queryKey ].itemKeys.slice( index + 1 ),\n\t\t\t\t\t\t\t];\n\n\t\t\t\t\t\t\t// Decrement found count for query\n\t\t\t\t\t\t\tif ( shouldAdjustFoundCount && Number.isFinite( memo[ queryKey ].found ) ) {\n\t\t\t\t\t\t\t\tmemo[ queryKey ].found--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ( updatedItem && this.constructor.matches( query, updatedItem ) ) {\n\t\t\t\t\t\t// Item doesn't currently exist in query but is a match, so\n\t\t\t\t\t\t// insert item into set\n\n\t\t\t\t\t\t// Create a copy of the original details to avoid mutating\n\t\t\t\t\t\tif ( memo[ queryKey ] === queryDetails ) {\n\t\t\t\t\t\t\tmemo[ queryKey ] = clone( queryDetails );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Increment found count for query\n\t\t\t\t\t\tif ( shouldAdjustFoundCount && Number.isFinite( memo[ queryKey ].found ) ) {\n\t\t\t\t\t\t\tmemo[ queryKey ].found++;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// A matching item should be inserted into the query set\n\t\t\t\t\t\tmemo[ queryKey ].itemKeys = get( memo, [ queryKey, 'itemKeys' ], [] ).concat(\n\t\t\t\t\t\t\treceivedItemKey\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// The itemKeys will need to be re-sorted after all items are processed\n\t\t\t\t\t\tneedsSort = true;\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tif ( needsSort ) {\n\t\t\t\t\tthis.constructor.sort( memo[ queryKey ].itemKeys, nextItems, query );\n\t\t\t\t}\n\n\t\t\t\tisModified = isModified || memo[ queryKey ] !== queryDetails;\n\t\t\t\treturn memo;\n\t\t\t},\n\t\t\t{}\n\t\t);\n\n\t\tif ( ! isModified ) {\n\t\t\treturn this;\n\t\t}\n\n\t\treturn new this.constructor(\n\t\t\tObject.assign( {}, this.data, {\n\t\t\t\titems: nextItems,\n\t\t\t\tqueries: nextQueries,\n\t\t\t} ),\n\t\t\tthis.options\n\t\t);\n\t}\n}\n","import { sortBy, omitBy } from 'lodash';\n\n/**\n * QueryKey manages the serialization and deserialization of a query key for\n * use in tracking query results in an instance of QueryManager.\n */\nexport default class QueryKey {\n\t/**\n\t * If defined in extending class, will omit all parameters where values\n\t * match that of the default query\n\t *\n\t * @type {?object}\n\t */\n\tstatic DEFAULT_QUERY = null;\n\n\t/**\n\t * If defined in extending class as true, will omit all null values from\n\t * stringified or parsed query objects\n\t *\n\t * @type {boolean}\n\t */\n\tstatic OMIT_NULL_VALUES = false;\n\n\t/**\n\t * Given a query object, determines which values of query are included in\n\t * stringification or parsed return value. The base class will omit only\n\t * undefined values, but can be extended to omit null values or values\n\t * matching those in a default query.\n\t *\n\t * @param  {object} query Query object\n\t * @returns {object}       Pruned query object\n\t */\n\tstatic omit( query ) {\n\t\tconst { OMIT_NULL_VALUES, DEFAULT_QUERY } = this;\n\t\tif ( ! OMIT_NULL_VALUES && ! DEFAULT_QUERY ) {\n\t\t\treturn query;\n\t\t}\n\n\t\treturn omitBy( query, ( value, key ) => {\n\t\t\tif ( OMIT_NULL_VALUES && null === value ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif ( DEFAULT_QUERY && DEFAULT_QUERY[ key ] === value ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t} );\n\t}\n\n\t/**\n\t * Returns a serialized query, given a query object\n\t *\n\t * @param  {object} query Query object\n\t * @returns {string}       Serialized query\n\t */\n\tstatic stringify( query ) {\n\t\tconst prunedQuery = this.omit( query );\n\n\t\t// A stable query is one which produces the same result regardless of\n\t\t// key ordering in the original object, to ensure that:\n\t\t//\n\t\t// QueryKey.stringify( { a: 1, b: 2 } ) === QueryKey.stringify( { b: 2, a: 1 } )\n\t\tconst stableQuery = sortBy( Object.entries( prunedQuery ), ( pair ) => pair[ 0 ] );\n\n\t\treturn JSON.stringify( stableQuery );\n\t}\n\n\t/**\n\t * Returns a query object, given a serialized query\n\t *\n\t * @param  {string} key Serialized query\n\t * @returns {object}     Query object\n\t */\n\tstatic parse( key ) {\n\t\treturn this.omit( Object.fromEntries( JSON.parse( key ) ) );\n\t}\n}\n","export const DEFAULT_PAGINATED_QUERY = {\n\tnumber: 20,\n\tpage: 1,\n};\n\nexport const PAGINATION_QUERY_KEYS = [ 'number', 'offset', 'page' ];\n","import { cloneDeep, omit, range } from 'lodash';\nimport QueryManager from '../';\nimport { DEFAULT_PAGINATED_QUERY, PAGINATION_QUERY_KEYS } from './constants';\nimport PaginatedQueryKey from './key';\n\nconst pageCache = new WeakMap();\n\n/*\n * Compute paginated slices of the `items` array, with memoization\n */\nfunction getPaginatedItems( items, start, count ) {\n\t// retrieve cache for the `items` array, create a new record if doesn't exist\n\tlet itemsCache = pageCache.get( items );\n\tif ( ! itemsCache ) {\n\t\titemsCache = new Map();\n\t\tpageCache.set( items, itemsCache );\n\t}\n\n\t// cache the computed page slices\n\tconst pageKey = `${ start }/${ count }`;\n\tlet pageResult = itemsCache.get( pageKey );\n\tif ( ! pageResult ) {\n\t\tpageResult = items.slice( start, start + count );\n\t\titemsCache.set( pageKey, pageResult );\n\t}\n\n\treturn pageResult;\n}\n\n/**\n * PaginatedQueryManager manages paginated data which can be queried and\n * change over time\n */\nexport default class PaginatedQueryManager extends QueryManager {\n\tstatic QueryKey = PaginatedQueryKey;\n\tstatic DefaultQuery = DEFAULT_PAGINATED_QUERY;\n\n\t/**\n\t * Returns true if the specified query is an object containing one or more\n\t * query pagination keys.\n\t *\n\t * @param  {object}  query Query object to check\n\t * @returns {boolean}       Whether query contains pagination key\n\t */\n\tstatic hasQueryPaginationKeys( query ) {\n\t\treturn !! query && PAGINATION_QUERY_KEYS.some( ( key ) => query.hasOwnProperty( key ) );\n\t}\n\n\t/**\n\t * Returns items tracked by the instance. If a query is specified, returns\n\t * items specific to that query.\n\t *\n\t * @param  {?object}  query Optional query object\n\t * @returns {object[]}       Items tracked\n\t */\n\tgetItems( query ) {\n\t\tif ( ! query ) {\n\t\t\treturn super.getItems( query );\n\t\t}\n\n\t\t// Get all items, ignoring page. Test as truthy to ensure that query is\n\t\t// in-fact being tracked, otherwise bail early.\n\t\tconst dataIgnoringPage = this.getItemsIgnoringPage( query, true );\n\t\tif ( ! dataIgnoringPage ) {\n\t\t\treturn dataIgnoringPage;\n\t\t}\n\n\t\t// Slice the unpaginated set of data\n\t\tconst page = query.page || this.constructor.DefaultQuery.page;\n\t\tconst perPage = query.number || this.constructor.DefaultQuery.number;\n\t\tconst startOffset = ( page - 1 ) * perPage;\n\n\t\treturn getPaginatedItems( dataIgnoringPage, startOffset, perPage );\n\t}\n\n\t/**\n\t * Returns items tracked by the instance, ignoring pagination for the given\n\t * query.\n\t *\n\t * @param  {object}   query         Query object\n\t * @param  {boolean}  includeFiller Whether page structure should be left\n\t *                                  intact to reflect found count, with\n\t *                                  items yet to be received as `undefined`\n\t * @returns {object[]}               Items tracked, ignoring page\n\t */\n\tgetItemsIgnoringPage( query, includeFiller = false ) {\n\t\tif ( ! query ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst items = super.getItems( omit( query, PAGINATION_QUERY_KEYS ) );\n\t\tif ( ! items || includeFiller ) {\n\t\t\treturn items;\n\t\t}\n\n\t\treturn items.filter( ( item ) => undefined !== item );\n\t}\n\n\t/**\n\t * Returns the number of pages for the specified query, or null if the\n\t * query is not known.\n\t *\n\t * @param  {object}  query Query object\n\t * @returns {?number}       Pages for query\n\t */\n\tgetNumberOfPages( query ) {\n\t\tconst found = this.getFound( query );\n\t\tif ( null === found ) {\n\t\t\treturn found;\n\t\t}\n\n\t\tconst perPage = query.number || this.constructor.DefaultQuery.number;\n\t\treturn Math.ceil( found / perPage );\n\t}\n\n\t/**\n\t * Signal that an item(s) has been received for tracking. Optionally\n\t * specify that items received are intended for patch application, or that\n\t * they are associated with a query. This function does not mutate the\n\t * instance state. Instead, it returns a new instance of QueryManager if\n\t * the tracked items have been modified, or the current instance otherwise.\n\t *\n\t * @param  {(Array|object)} items              Item(s) to be received\n\t * @param  {object}         options            Options for receive\n\t * @param  {boolean}        options.patch      Apply changes as partial\n\t * @param  {object}         options.query      Query set to set or replace\n\t * @param  {boolean}        options.mergeQuery Add to existing query set\n\t * @param  {number}         options.found      Total found items for query\n\t * @returns {QueryManager}                      New instance if changed, or\n\t *                                             same instance otherwise\n\t */\n\treceive( items, options = {} ) {\n\t\t// When tracking queries, remove pagination query arguments. These are\n\t\t// simulated in `PaginatedQueryManager.prototype.getItems`.\n\t\tlet modifiedOptions = options;\n\t\tif ( options.query ) {\n\t\t\tmodifiedOptions = Object.assign(\n\t\t\t\t{\n\t\t\t\t\tmergeQuery: true,\n\t\t\t\t},\n\t\t\t\toptions,\n\t\t\t\t{\n\t\t\t\t\tquery: omit( options.query, PAGINATION_QUERY_KEYS ),\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\t// Receive the updated manager, passing a modified set of options to\n\t\t// exclude pagination keys, and to indicate appending query.\n\t\tconst nextManager = super.receive( items, modifiedOptions );\n\n\t\t// If manager is the same instance, assume no changes have been made\n\t\tif ( this === nextManager ) {\n\t\t\treturn nextManager;\n\t\t}\n\n\t\t// If original query does not have any pagination keys, we don't need\n\t\t// to update its item set\n\t\tif ( ! this.constructor.hasQueryPaginationKeys( options.query ) ) {\n\t\t\treturn nextManager;\n\t\t}\n\n\t\tconst queryKey = this.constructor.QueryKey.stringify( options.query );\n\t\tconst page = options.query.page || this.constructor.DefaultQuery.page;\n\t\tconst perPage = options.query.number || this.constructor.DefaultQuery.number;\n\t\tconst startOffset = ( page - 1 ) * perPage;\n\t\tconst nextQuery = nextManager.data.queries[ queryKey ];\n\n\t\t// Coerce received single item to array\n\t\tif ( ! Array.isArray( items ) ) {\n\t\t\titems = [ items ];\n\t\t}\n\n\t\t// If the item set for the queried page is identical, there are no\n\t\t// updates to be made\n\t\tconst pageItemKeys = items.map( ( item ) => item[ this.options.itemKey ] );\n\n\t\t// If we've reached this point, we know that we've received a paged\n\t\t// set of data where our assumed item set is incorrect.\n\t\tconst modifiedNextQuery = cloneDeep( nextQuery );\n\n\t\t// Found count is not always reliable.  For example, if one or more\n\t\t// password-protected posts would appear in a page of API results, but\n\t\t// the current user doesn't have access to view them, then they will be\n\t\t// omitted from the results entirely.  There are also other situations\n\t\t// where this can occur, such as `status: 'inherit'`.\n\t\t//\n\t\t// Even worse, the WP.com API will decrement the found count in this\n\t\t// situation, but only for items missing from the currently requested\n\t\t// page.\n\t\t//\n\t\t// What should we do about all of this?  We decided that given the\n\t\t// limitations of this code, it's OK for a page of results to have less\n\t\t// than the expected number of items, and we should not try to\n\t\t// decrement the \"found\" count either because then we could end up\n\t\t// skipping pages from the end of a result set.\n\t\t//\n\t\t// Therefore, the only thing we need to do here is take the *maximum*\n\t\t// of the previous \"found\" count and the next \"found\" count.\n\t\tif ( modifiedNextQuery.hasOwnProperty( 'found' ) && items.length < perPage ) {\n\t\t\tconst previousQuery = this.data.queries[ queryKey ];\n\t\t\tif ( previousQuery && previousQuery.hasOwnProperty( 'found' ) ) {\n\t\t\t\tmodifiedNextQuery.found = Math.max( previousQuery.found, modifiedNextQuery.found );\n\t\t\t}\n\t\t}\n\n\t\t// Replace the assumed set with the received items.\n\t\tmodifiedNextQuery.itemKeys = [\n\t\t\t...range( 0, startOffset ).map( ( index ) => {\n\t\t\t\t// Ensure that item set is comprised of all indices leading up\n\t\t\t\t// to received page, even if those items are not known.\n\t\t\t\tconst itemKey = nextQuery.itemKeys[ index ];\n\t\t\t\tif ( ! pageItemKeys.includes( itemKey ) ) {\n\t\t\t\t\treturn itemKey;\n\t\t\t\t}\n\t\t\t} ),\n\t\t\t...range( 0, perPage ).map( ( index ) => {\n\t\t\t\t// Fill page with items from the received set, or undefined to\n\t\t\t\t// at least ensure page matches expected range\n\t\t\t\treturn pageItemKeys[ index ];\n\t\t\t} ),\n\t\t\t...nextQuery.itemKeys.slice( startOffset + perPage ).filter( ( itemKey ) => {\n\t\t\t\t// Filter out any item keys which exist in the page set, as\n\t\t\t\t// this indicates that they've trickled down from later page\n\t\t\t\treturn itemKey && ! pageItemKeys.includes( itemKey );\n\t\t\t} ),\n\t\t];\n\n\t\t// If found is known from options, ensure that we fill the end of the\n\t\t// array with undefined entries until found count\n\t\tif ( modifiedNextQuery.hasOwnProperty( 'found' ) ) {\n\t\t\tmodifiedNextQuery.itemKeys = range( 0, modifiedNextQuery.found ).map( ( index ) => {\n\t\t\t\treturn modifiedNextQuery.itemKeys[ index ];\n\t\t\t} );\n\t\t}\n\n\t\treturn new this.constructor(\n\t\t\tObject.assign( {}, nextManager.data, {\n\t\t\t\tqueries: Object.assign( {}, nextManager.data.queries, {\n\t\t\t\t\t[ queryKey ]: modifiedNextQuery,\n\t\t\t\t} ),\n\t\t\t} ),\n\t\t\tnextManager.options\n\t\t);\n\t}\n}\n","import { omit } from 'lodash';\nimport QueryKey from '../key';\nimport { PAGINATION_QUERY_KEYS } from './constants';\n\n/**\n * PaginatedQueryKey manages the serialization and deserialization of a query\n * key for use in tracking query results in an instance of PostQueryManager.\n */\nexport default class PaginatedQueryKey extends QueryKey {\n\t/**\n\t * Returns a serialized query, given a query object\n\t *\n\t * @param  {object} query Query object\n\t * @returns {string}       Serialized query\n\t */\n\tstatic stringify( query ) {\n\t\treturn super.stringify( omit( query, PAGINATION_QUERY_KEYS ) );\n\t}\n\n\t/**\n\t * Returns a query object, given a serialized query\n\t *\n\t * @param  {string} key Serialized query\n\t * @returns {object}     Query object\n\t */\n\tstatic parse( key ) {\n\t\treturn omit( super.parse( key ), PAGINATION_QUERY_KEYS );\n\t}\n}\n","export const DEFAULT_POST_QUERY = {\n\tcontext: 'display',\n\thttp_envelope: false,\n\tpretty: false,\n\tnumber: 20,\n\toffset: 0,\n\tpage: 1,\n\torder: 'DESC',\n\torder_by: 'date',\n\ttype: 'post',\n\tstatus: 'publish',\n\tsticky: 'include',\n\tsearch: '',\n};\n","import { some, get } from 'lodash';\nimport moment from 'moment';\nimport PaginatedQueryManager from '../paginated';\nimport { DEFAULT_POST_QUERY } from './constants';\nimport PostQueryKey from './key';\n\n/**\n * PostQueryManager manages posts which can be queried and change over time\n */\nexport default class PostQueryManager extends PaginatedQueryManager {\n\tstatic QueryKey = PostQueryKey;\n\tstatic DefaultQuery = DEFAULT_POST_QUERY;\n\n\t/**\n\t * Returns true if the post matches the given query, or false otherwise.\n\t *\n\t * @param  {object}  query Query object\n\t * @param  {object}  post  Item to consider\n\t * @returns {boolean}       Whether post matches query\n\t */\n\tstatic matches( query, post ) {\n\t\tconst queryWithDefaults = Object.assign( {}, this.DefaultQuery, query );\n\t\treturn Object.entries( queryWithDefaults ).every( ( [ key, value ] ) => {\n\t\t\tswitch ( key ) {\n\t\t\t\tcase 'search': {\n\t\t\t\t\tif ( ! value ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst search = value.toLowerCase();\n\t\t\t\t\treturn (\n\t\t\t\t\t\t( post.title && post.title.toLowerCase().includes( search ) ) ||\n\t\t\t\t\t\t( post.content && post.content.toLowerCase().includes( search ) )\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tcase 'after':\n\t\t\t\tcase 'before':\n\t\t\t\tcase 'modified_after':\n\t\t\t\tcase 'modified_before': {\n\t\t\t\t\tconst queryDate = moment( value, moment.ISO_8601 );\n\t\t\t\t\tconst comparison = /after$/.test( key ) ? 'isAfter' : 'isBefore';\n\t\t\t\t\tconst field = /^modified_/.test( key ) ? 'modified' : 'date';\n\t\t\t\t\treturn queryDate.isValid() && moment( post[ field ] )[ comparison ]( queryDate );\n\t\t\t\t}\n\n\t\t\t\tcase 'term':\n\t\t\t\t\treturn Object.entries( value ).every( ( [ taxonomy, slugs ] ) => {\n\t\t\t\t\t\tslugs = slugs.split( ',' );\n\t\t\t\t\t\treturn some( post.terms[ taxonomy ], ( { slug } ) => slugs.includes( slug ) );\n\t\t\t\t\t} );\n\n\t\t\t\tcase 'tag':\n\t\t\t\tcase 'category': {\n\t\t\t\t\tif ( ! value ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst valueLowercase = value.toLowerCase();\n\t\t\t\t\tconst field = 'tag' === key ? 'tags' : 'categories';\n\t\t\t\t\treturn some( post[ field ], ( { name, slug } ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t( name && name.toLowerCase() === valueLowercase ) ||\n\t\t\t\t\t\t\t( slug && slug.toLowerCase() === valueLowercase )\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tcase 'type':\n\t\t\t\t\treturn 'any' === value || value === post.type;\n\n\t\t\t\tcase 'parent_id':\n\t\t\t\t\treturn value === post.parent || ( post.parent && value === post.parent.ID );\n\n\t\t\t\tcase 'exclude':\n\t\t\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\t\t\treturn ! value.includes( post.ID );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value !== post.ID;\n\n\t\t\t\tcase 'sticky':\n\t\t\t\t\tif ( 'require' === value ) {\n\t\t\t\t\t\treturn post.sticky;\n\t\t\t\t\t} else if ( 'exclude' === value ) {\n\t\t\t\t\t\treturn ! post.sticky;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\tcase 'author':\n\t\t\t\t\treturn get( post, 'author.ID', post.author ) === value;\n\n\t\t\t\tcase 'status':\n\t\t\t\t\treturn (\n\t\t\t\t\t\t'any' === value ||\n\t\t\t\t\t\tString( value )\n\t\t\t\t\t\t\t.split( ',' )\n\t\t\t\t\t\t\t.some( ( status ) => {\n\t\t\t\t\t\t\t\treturn status === post[ key ];\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t} );\n\t}\n\n\t/**\n\t * A sort comparison function that defines the sort order of posts under\n\t * consideration of the specified query.\n\t *\n\t * @param  {object} query Query object\n\t * @param  {object} postA First post\n\t * @param  {object} postB Second post\n\t * @returns {number}       0 if equal, less than 0 if postA is first,\n\t *                        greater than 0 if postB is first.\n\t */\n\tstatic compare( query, postA, postB ) {\n\t\tlet order;\n\n\t\tswitch ( query.order_by ) {\n\t\t\tcase 'ID':\n\t\t\t\torder = postA.ID - postB.ID;\n\t\t\t\tbreak;\n\n\t\t\tcase 'comment_count':\n\t\t\t\torder =\n\t\t\t\t\tget( postA.discussion, 'comment_count', 0 ) - get( postB.discussion, 'comment_count', 0 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'title':\n\t\t\t\torder = postA.title.localeCompare( postB.title );\n\t\t\t\tbreak;\n\n\t\t\tcase 'modified':\n\t\t\t\torder = new Date( postA.modified ) - new Date( postB.modified );\n\t\t\t\tbreak;\n\n\t\t\tcase 'date':\n\t\t\tdefault:\n\t\t\t\torder = new Date( postA.date ) - new Date( postB.date );\n\t\t}\n\n\t\t// Default to descending order, opposite sign of ordered result\n\t\tif ( ! query.order || /^desc$/i.test( query.order ) ) {\n\t\t\torder *= -1;\n\t\t}\n\n\t\treturn order || 0;\n\t}\n}\n","import { omitBy } from 'lodash';\nimport PaginatedQueryKey from '../paginated/key';\nimport { DEFAULT_POST_QUERY } from './constants';\n\n/**\n * Returns true if the specified key value query pair is identical to that of\n * the default post query, is null, or is undefined.\n *\n * @param  {*}       value Value to check\n * @param  {string}  key   Key to check\n * @returns {boolean}       Whether key value matches default query or is null\n */\nfunction isDefaultOrNullQueryValue( value, key ) {\n\treturn (\n\t\tnull == value || DEFAULT_POST_QUERY[ key ] === value // Double-equals null checks undefined, null\n\t);\n}\n\n/**\n * PostQueryKey manages the serialization and deserialization of a query key\n * for use in tracking query results in an instance of PostQueryManager.\n */\nexport default class PostQueryKey extends PaginatedQueryKey {\n\t/**\n\t * Returns a serialized query, given a query object\n\t *\n\t * @param  {object} query Query object\n\t * @returns {string}       Serialized query\n\t */\n\tstatic stringify( query ) {\n\t\treturn super.stringify( omitBy( query, isDefaultOrNullQueryValue ) );\n\t}\n\n\t/**\n\t * Returns a query object, given a serialized query\n\t *\n\t * @param  {string} key Serialized query\n\t * @returns {object}     Query object\n\t */\n\tstatic parse( key ) {\n\t\treturn omitBy( super.parse( key ), isDefaultOrNullQueryValue );\n\t}\n}\n","import deepFreeze from 'deep-freeze';\nimport { cloneDeepWith } from 'lodash';\n\nconst queryManagerSchema = deepFreeze( {\n\tadditionalProperties: false,\n\trequired: [ 'data', 'options' ],\n\ttype: 'object',\n\tproperties: {\n\t\tdata: {\n\t\t\tadditionalProperties: false,\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\titems: { type: 'object' },\n\t\t\t\tqueries: {\n\t\t\t\t\tadditionalProperties: false,\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tpatternProperties: {\n\t\t\t\t\t\t// Stringified query objects are the keys\n\t\t\t\t\t\t'^\\\\[.*\\\\]$': {\n\t\t\t\t\t\t\trequired: [ 'itemKeys' ],\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\titemKeys: {\n\t\t\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\t\t\t// Typical valid object keys\n\t\t\t\t\t\t\t\t\t\t// `null` is important for PagingQueryManager\n\t\t\t\t\t\t\t\t\t\t// It fills array with undefined (matches null)\n\t\t\t\t\t\t\t\t\t\ttype: [ 'integer', 'null', 'string' ],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfound: {\n\t\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\toptions: {\n\t\t\tadditionalProperties: true,\n\t\t\trequired: [ 'itemKey' ],\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\titemKey: { type: 'string' },\n\t\t\t},\n\t\t},\n\t},\n} );\n\n/**\n * Get a queryManagerSchema with a customized items schema\n *\n * @param  {object} itemsSchema Schema that will be used for the items\n * @returns {object}            Customized schema\n */\nexport function withItemsSchema( itemsSchema ) {\n\treturn cloneDeepWith( queryManagerSchema, ( value ) => {\n\t\tif ( value === queryManagerSchema.properties.data.properties.items ) {\n\t\t\treturn itemsSchema;\n\t\t}\n\t} );\n}\n\nexport default queryManagerSchema;\n","/**\n * Apply a `callback` transformation to a `QueryManager` instance in `state[ siteId ]` and\n * return a state object updated with its result.\n * If the `state[ siteId ]` object doesn't exist, it's created with the `create` function.\n * If `create` is `false`, the `callback` will not be applied (there is no `QueryManager` to\n * apply it to after all) and unchanged state will be returned.\n *\n * @param {object} state State object\n * @param {string} siteId State key\n * @param {Function} callback Transformation callback\n * @param {Function} [create] Optional create callback\n * @returns {object} Updated state object\n */\nexport default function withQueryManager( state, siteId, callback, create ) {\n\tif ( ! siteId ) {\n\t\treturn state;\n\t}\n\n\tconst prevManager = state[ siteId ] || ( create && create() );\n\n\tif ( ! prevManager ) {\n\t\treturn state;\n\t}\n\n\tconst nextManager = callback( prevManager );\n\n\tif ( nextManager === prevManager ) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\t...state,\n\t\t[ siteId ]: nextManager,\n\t};\n}\n","export default ( path: string ): string => ( path === '/' ? path : path.replace( /\\/$/, '' ) );\n","import { getUrlParts, getUrlFromParts } from '@automattic/calypso-url';\nimport photon from 'photon';\n\n/**\n * Pattern matching URLs to be left unmodified.\n *\n * @type {RegExp}\n */\nlet REGEX_EXEMPT_URL;\nif ( typeof globalThis.location === 'object' ) {\n\tREGEX_EXEMPT_URL = new RegExp(\n\t\t`^(/(?!/)|data:image/[^;]+;|blob:${ globalThis.location.origin }/)`\n\t);\n} else {\n\tREGEX_EXEMPT_URL = /^(\\/(?!\\/)|data:image\\/[^;]+;)/;\n}\n\n/**\n * Pattern matching Automattic-controlled hostnames\n *\n * @type {RegExp}\n */\nconst REGEXP_A8C_HOST = /^([-a-zA-Z0-9_]+\\.)*(gravatar\\.com|wordpress\\.com|wp\\.com|a8c\\.com)$/;\n\n/**\n * Query parameters to be treated as image dimensions\n *\n * @type {string[]}\n */\nconst SIZE_PARAMS = [ 'w', 'h', 'resize', 'fit', 's' ];\n\n/**\n * Generate a safe version of the provided URL\n *\n * Images that Calypso uses have to be provided by a trusted TLS host. To do\n * this, we check the host of the URL against a list of allowed hosts, and run the image\n * through photon if the host name does not match.\n *\n * NOTE: This function will return `null` for external URLs with query strings,\n * because Photon itself does not support this!\n *\n * @param  {string} url The URL to secure\n * @returns {?string}    The secured URL, or `null` if we couldn't make it safe\n */\nexport default function safeImageUrl( url ) {\n\tif ( typeof url !== 'string' ) {\n\t\treturn null;\n\t}\n\n\tif ( url.length < 1 ) {\n\t\treturn null;\n\t}\n\n\tif ( REGEX_EXEMPT_URL.test( url ) ) {\n\t\treturn url;\n\t}\n\n\tconst parsedUrl = getUrlParts( url );\n\n\tif ( REGEXP_A8C_HOST.test( parsedUrl.hostname ) ) {\n\t\t// Safely promote Automattic domains to HTTPS\n\t\tparsedUrl.protocol = 'https';\n\t\treturn getUrlFromParts( parsedUrl ).toString();\n\t}\n\n\t// If there's a query string, bail out because Photon doesn't support them on external URLs\n\tif ( parsedUrl.search && ( parsedUrl.host || parsedUrl.hostname || parsedUrl.origin ) ) {\n\t\t// If it's just size parameters, let's remove them\n\t\tSIZE_PARAMS.forEach( ( param ) => parsedUrl.searchParams.delete( param ) );\n\n\t\t// Ditch authuser=0 if we find it - we see this on googleusercontent.com URLs and it doesn't affect the image output\n\t\tif ( parsedUrl.searchParams.get( 'authuser' ) === '0' ) {\n\t\t\tparsedUrl.searchParams.delete( 'authuser' );\n\t\t}\n\n\t\t// There are still parameters left, since they might be needed to retrieve the image, bail out\n\t\tif ( parsedUrl.searchParams.length ) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Ensure we're creating a new URL without the size parameters\n\t\tdelete parsedUrl.search;\n\n\t\t// Force https since if there's a missing protocol it'll throw an error\n\t\tif ( ! parsedUrl?.protocol ) {\n\t\t\tparsedUrl.protocol = 'https';\n\t\t}\n\n\t\turl = getUrlFromParts( parsedUrl ).toString();\n\t}\n\n\t// Photon doesn't support SVGs\n\tif ( parsedUrl.pathname.endsWith( '.svg' ) ) {\n\t\treturn null;\n\t}\n\n\treturn photon( url );\n}\n","import { format, determineUrlType, URL_TYPE } from '@automattic/calypso-url';\nimport { pickBy } from 'lodash';\nimport type { URL as URLString } from 'calypso/types';\nimport type { Primitive } from 'utility-types';\n\nconst BASE_URL = 'http://__domain__.invalid';\n\ninterface QueryArgs {\n\t[ key: string ]: Primitive;\n}\n\nexport default function addQueryArgs( args: QueryArgs, url: URLString ): URLString {\n\tif ( 'object' !== typeof args ) {\n\t\tthrow new Error( 'addQueryArgs expects the first argument to be an object.' );\n\t}\n\n\tif ( 'string' !== typeof url ) {\n\t\tthrow new Error( 'addQueryArgs expects the second argument to be a string.' );\n\t}\n\n\tconst urlType = determineUrlType( url );\n\n\tif ( urlType === URL_TYPE.INVALID ) {\n\t\tthrow new Error( 'addQueryArgs expects the second argument to be a valid URL.' );\n\t}\n\n\t// Remove any undefined query args\n\targs = pickBy( args, ( arg ) => arg != null );\n\n\tconst parsed = new URL( url, BASE_URL );\n\n\tconst newSearch = new URLSearchParams( parsed.search );\n\tfor ( const key of Object.keys( args ) ) {\n\t\tnewSearch.set( key, String( args[ key ] ) );\n\t}\n\n\t// Path-relative URLs require special handling, because they cannot be transformed\n\t// into an absolute URL without potentially losing path information.\n\t// E.g. `../foo?bar=baz` becomes `<base>/foo?bar=baz` when fed to `new URL()`\n\t// with a base, losing the traversal into the parent directory.\n\t// We need to handle these with a string replace instead.\n\tif ( urlType === URL_TYPE.PATH_RELATIVE ) {\n\t\tlet serializedSearch = newSearch.toString();\n\t\tif ( serializedSearch !== '' ) {\n\t\t\tserializedSearch = `?${ serializedSearch }`;\n\t\t}\n\n\t\t// The URL had some params already.\n\t\tif ( parsed.search !== '' ) {\n\t\t\treturn url.replace( parsed.search, serializedSearch );\n\t\t}\n\n\t\t// The URL didn't have params, but it had a hash.\n\t\tif ( parsed.hash ) {\n\t\t\treturn url.replace( parsed.hash, `${ serializedSearch }${ parsed.hash }` );\n\t\t}\n\n\t\t// The URL didn't have params nor a hash.\n\t\treturn `${ url }${ serializedSearch }`;\n\t}\n\n\tparsed.search = newSearch.toString();\n\n\t// Format the new URL into the same type the original had.\n\treturn format( parsed, urlType );\n}\n","import { Falsy } from 'utility-types';\nimport { URL as TypedURL, SiteSlug } from 'calypso/types';\n\nconst urlWithoutHttpRegex = /^https?:\\/\\//;\n\n/**\n * Returns the supplied URL without the initial http(s).\n *\n * @param  url The URL to remove http(s) from\n * @returns     URL without the initial http(s)\n */\nexport function withoutHttp( url: '' ): '';\nexport function withoutHttp( url: Falsy ): null;\nexport function withoutHttp( url: TypedURL ): TypedURL;\nexport function withoutHttp( url: TypedURL | Falsy ): TypedURL | null {\n\tif ( url === '' ) {\n\t\treturn '';\n\t}\n\n\tif ( ! url ) {\n\t\treturn null;\n\t}\n\n\treturn url.replace( urlWithoutHttpRegex, '' );\n}\n\nexport function urlToSlug( url: Falsy ): null;\nexport function urlToSlug( url: TypedURL ): SiteSlug;\nexport function urlToSlug( url: TypedURL | Falsy ): SiteSlug | null {\n\tif ( ! url ) {\n\t\treturn null;\n\t}\n\n\treturn withoutHttp( url ).replace( /\\//g, '::' );\n}\n\n/**\n * Removes the `http(s)://` part and the trailing slash from a URL.\n * \"http://blog.wordpress.com\" will be converted into \"blog.wordpress.com\".\n * \"https://www.wordpress.com/blog/\" will be converted into \"www.wordpress.com/blog\".\n *\n * @param  urlToConvert The URL to convert\n * @returns              The URL's domain and path\n */\nexport function urlToDomainAndPath( urlToConvert: TypedURL ): TypedURL {\n\treturn withoutHttp( urlToConvert ).replace( /\\/$/, '' );\n}\n","import { determineUrlType, URL_TYPE } from '@automattic/calypso-url';\n\nconst DUMMY_URL = 'http://__domain__.invalid/';\n\nexport default function resolveRelativePath( basePath: string, relativePath: string ): string {\n\tbasePath = basePath || '/';\n\tconst baseType = determineUrlType( basePath );\n\n\tif ( baseType !== URL_TYPE.PATH_ABSOLUTE ) {\n\t\tthrow new Error( '`basePath` should be an absolute path' );\n\t}\n\n\tconst url = new URL( DUMMY_URL );\n\turl.pathname = basePath;\n\n\tif ( ! relativePath ) {\n\t\treturn url.pathname;\n\t}\n\n\turl.pathname =\n\t\t( url.pathname.endsWith( '/' ) ? url.pathname.slice( 0, -1 ) : url.pathname ) +\n\t\t( relativePath.startsWith( '/' ) ? '' : '/' ) +\n\t\trelativePath;\n\n\treturn url.pathname;\n}\n","import { decodeEntities } from 'calypso/lib/formatting/decode-entities';\nimport { getComputedAttributes } from './get-computed-attributes';\n\nconst allowedKeys = [\n\t'ID',\n\t'display_name',\n\t'username',\n\t'avatar_URL',\n\t'site_count',\n\t'jetpack_site_count',\n\t'visible_site_count',\n\t'jetpack_visible_site_count',\n\t'date',\n\t'has_unseen_notes',\n\t'newest_note_type',\n\t'phone_account',\n\t'email',\n\t'email_verified',\n\t'is_valid_google_apps_country',\n\t'user_ip_country_code',\n\t'logout_URL',\n\t'primary_blog',\n\t'primary_blog_is_jetpack',\n\t'primary_blog_url',\n\t'meta',\n\t'is_new_reader',\n\t'social_login_connections',\n\t'abtests',\n\t'lasagna_jwt',\n\t'i18n_empathy_mode',\n\t'use_fallback_for_incomplete_languages',\n];\nconst requiredKeys = [ 'ID' ];\nconst decodedKeys = [ 'display_name', 'description', 'user_URL' ];\n\nexport function filterUserObject( obj ) {\n\tif ( typeof obj !== 'object' ) {\n\t\tthrow new Error( 'the /me response is not an object' );\n\t}\n\n\tfor ( const key of requiredKeys ) {\n\t\tif ( ! obj.hasOwnProperty( key ) ) {\n\t\t\tthrow new Error( `the /me response misses a required field '${ key }'` );\n\t\t}\n\t}\n\n\tconst user = {};\n\tfor ( const key of allowedKeys ) {\n\t\tconst value = obj[ key ];\n\t\tuser[ key ] = value && decodedKeys.includes( key ) ? decodeEntities( value ) : value;\n\t}\n\n\treturn Object.assign( user, getComputedAttributes( obj ) );\n}\n","import { withoutHttp } from 'calypso/lib/url';\n\nfunction getSiteSlug( url ) {\n\tconst slug = withoutHttp( url );\n\treturn slug.replace( /\\//g, '::' );\n}\n\nexport function getComputedAttributes( attributes ) {\n\tconst primaryBlogUrl = attributes.primary_blog_url || '';\n\treturn {\n\t\tprimarySiteSlug: getSiteSlug( primaryBlogUrl ),\n\t\tlocaleSlug: attributes.language,\n\t\tlocaleVariant: attributes.locale_variant,\n\t};\n}\n","import config from '@automattic/calypso-config';\n\nexport function getLogoutUrl( userData, redirect ) {\n\tlet url;\n\tlet subdomain = '';\n\n\t// If logout_URL isn't set, then go ahead and return the logout URL\n\t// without a proper nonce as a fallback.\n\t// Note: we never want to use logout_URL in the desktop app\n\tif ( ! userData?.logout_URL || config.isEnabled( 'always_use_logout_url' ) ) {\n\t\t// Use localized version of the homepage in the redirect\n\t\tif ( userData?.localeSlug && userData.localeSlug !== '' && userData.localeSlug !== 'en' ) {\n\t\t\tsubdomain = userData.localeSlug + '.';\n\t\t}\n\n\t\turl = config( 'logout_url' ).replace( '|subdomain|', subdomain );\n\t} else {\n\t\turl = userData.logout_URL;\n\t}\n\n\tif ( 'string' === typeof redirect ) {\n\t\tredirect = '&redirect_to=' + encodeURIComponent( redirect );\n\t\turl += redirect;\n\t}\n\n\treturn url;\n}\n","import wpcom from 'calypso/lib/wp';\n\nexport function rawCurrentUserFetch() {\n\treturn wpcom.me().get( {\n\t\tmeta: 'flags',\n\t} );\n}\n","import store from 'store';\nimport { clearStorage } from 'calypso/lib/browser-storage';\n\n/**\n * Empty localStorage cache to discard any user reference that the application may hold\n */\nexport async function clearStore() {\n\tstore.clearAll();\n\tawait clearStorage();\n}\n\nexport function getStoredUserId() {\n\treturn store.get( 'wpcom_user_id' );\n}\n\nexport function setStoredUserId( userId ) {\n\treturn store.set( 'wpcom_user_id', userId );\n}\n\nconst disablePersistenceCallbacks = [];\n\nexport function disablePersistence() {\n\tfor ( const callback of disablePersistenceCallbacks ) {\n\t\tcallback();\n\t}\n}\n\nexport function onDisablePersistence( callback ) {\n\tdisablePersistenceCallbacks.push( callback );\n}\n","import config from '@automattic/calypso-config';\nimport debugFactory from 'debug';\nimport wpcomProxyRequest from 'wpcom-proxy-request';\nimport * as oauthToken from 'calypso/lib/oauth-token';\nimport wpcomSupport from 'calypso/lib/wp/support';\nimport wpcomOAuthWrapper from 'calypso/lib/wpcom-oauth-wrapper';\nimport wpcomXhrWrapper from 'calypso/lib/wpcom-xhr-wrapper';\nimport { injectGuestSandboxTicketHandler } from './handlers/guest-sandbox-ticket';\nimport { injectLocalization } from './localization';\n\nconst debug = debugFactory( 'calypso:wp' );\n\nlet wpcom;\n\nif ( config.isEnabled( 'oauth' ) ) {\n\twpcom = wpcomOAuthWrapper( oauthToken.getToken(), wpcomXhrWrapper );\n} else {\n\twpcom = wpcomOAuthWrapper( wpcomProxyRequest );\n\n\t// Upgrade to \"access all users blogs\" mode\n\twpcom.request(\n\t\t{\n\t\t\tmetaAPI: { accessAllUsersBlogs: true },\n\t\t},\n\t\tfunction ( error ) {\n\t\t\tif ( error ) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t\tdebug( 'Proxy now running in \"access all user\\'s blogs\" mode' );\n\t\t}\n\t);\n}\n\nwpcom = wpcomSupport( wpcom );\n\nif ( 'development' === process.env.NODE_ENV ) {\n\trequire( './offline-library' ).makeOffline( wpcom );\n\n\t// expose wpcom global var in development mode\n\twindow.wpcom = wpcom;\n}\n\n// Inject localization helpers to `wpcom` instance\ninjectLocalization( wpcom );\n\ninjectGuestSandboxTicketHandler( wpcom );\n\n/**\n * Expose `wpcom`\n */\nexport default wpcom;\n\n/**\n * Expose `wpcomJetpackLicensing` which uses a different auth token than wpcom.\n */\nexport const wpcomJetpackLicensing = wpcomOAuthWrapper( wpcomXhrWrapper );\n","import { parse, stringify } from 'qs';\nimport store from 'store';\n\nexport const GUEST_TICKET_LOCALFORAGE_KEY = 'guest_sandbox_ticket';\nexport const GUEST_TICKET_VALIDITY_DURATION = 1000 * 60 * 60 * 2; // two hours\n\nconst getTicket = () => store.get( GUEST_TICKET_LOCALFORAGE_KEY );\n\n/**\n * Deletes an old guest sandbox ticket from local storage if one exists.\n */\nexport const deleteOldTicket = () => {\n\tconst existingTicket = getTicket();\n\n\tif (\n\t\texistingTicket &&\n\t\texistingTicket.createdDate < Date.now() - GUEST_TICKET_VALIDITY_DURATION\n\t) {\n\t\tstore.remove( GUEST_TICKET_LOCALFORAGE_KEY );\n\t}\n};\n\n/**\n * Updates `wpcom` to pass a store sandbox ticket if one is present.\n *\n * @param {object} wpcom Original WPCOM instance\n */\nexport const injectGuestSandboxTicketHandler = ( wpcom ) => {\n\tconst request = wpcom.request.bind( wpcom );\n\n\tObject.assign( wpcom, {\n\t\trequest( params, callback ) {\n\t\t\tconst ticket = getTicket();\n\n\t\t\tif ( ticket ) {\n\t\t\t\tconst query = parse( params.query );\n\n\t\t\t\tparams = Object.assign( {}, params, {\n\t\t\t\t\tquery: stringify( Object.assign( query, { store_sandbox_ticket: ticket.value } ) ),\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn request( params, callback );\n\t\t},\n\t} );\n};\n\n/**\n * Deletes the old ticket and sets the new one from a `guest_ticket` querystring parameter.\n */\nconst initialize = () => {\n\tif ( typeof window === 'undefined' ) {\n\t\treturn;\n\t}\n\n\tdeleteOldTicket();\n\n\tconst queryObject = parse( window.location.search.replace( '?', '' ) );\n\n\tif ( queryObject.guest_ticket ) {\n\t\tstore.set( GUEST_TICKET_LOCALFORAGE_KEY, {\n\t\t\tcreatedDate: Date.now(),\n\t\t\tvalue: queryObject.guest_ticket,\n\t\t} );\n\t}\n};\n\ninitialize();\n","import i18n from 'i18n-calypso';\nimport { parse, stringify } from 'qs';\n\n/**\n * Given a WPCOM parameter set, modifies the query such that a non-default\n * locale is added to the query parameter.\n *\n * @param  {object} params Original parameters\n * @returns {object}        Revised parameters, if non-default locale\n */\nexport function addLocaleQueryParam( params ) {\n\tconst locale = i18n.getLocaleVariant() || i18n.getLocaleSlug();\n\n\tif ( ! locale || 'en' === locale ) {\n\t\treturn params;\n\t}\n\n\tlet localeQueryParam;\n\tconst query = parse( params.query );\n\n\tif ( params.apiNamespace ) {\n\t\t// v2 api request\n\t\tlocaleQueryParam = { _locale: locale };\n\t} else {\n\t\tlocaleQueryParam = { locale };\n\t}\n\n\treturn Object.assign( params, {\n\t\tquery: stringify( Object.assign( localeQueryParam, query ) ),\n\t} );\n}\n\n/**\n * Modifies a WPCOM instance, returning an updated instance with included\n * localization helpers. Specifically, this adds a locale query parameter\n * by default.\n *\n * @param {object} wpcom Original WPCOM instance\n * @returns {object} Modified WPCOM instance with localization helpers\n */\nexport function injectLocalization( wpcom ) {\n\tconst originalRequest = wpcom.request.bind( wpcom );\n\treturn Object.assign( wpcom, {\n\t\tlocalized: true,\n\n\t\trequest: function ( params, callback ) {\n\t\t\treturn originalRequest( addLocaleQueryParam( params ), callback );\n\t\t},\n\t} );\n}\n","import { parse, stringify } from 'qs';\n\nexport default function wpcomSupport( wpcom ) {\n\tlet supportUser = '';\n\tlet supportToken = '';\n\tlet tokenErrorCallback = null;\n\n\t/**\n\t * Add the supportUser and supportToken to the query.\n\t *\n\t * @param {object}  params The original request params object\n\t * @returns {object}        The new query object with support data injected\n\t */\n\tconst addSupportData = function ( params ) {\n\t\t// Unwind the query string\n\t\tconst query = parse( params.query );\n\n\t\t// Inject the credentials\n\t\tquery.support_user = supportUser;\n\t\tquery._support_token = supportToken;\n\n\t\treturn Object.assign( {}, params, {\n\t\t\tquery: stringify( query ),\n\t\t} );\n\t};\n\n\t/**\n\t * Add the supportUser and supportToken to the query.\n\t *\n\t * @param {object}  params The original request params object\n\t * @returns {object}        The new query object with support data injected\n\t */\n\tconst addSupportParams = function ( params ) {\n\t\treturn {\n\t\t\t...params,\n\t\t\tsupport_user: supportUser,\n\t\t\t_support_token: supportToken,\n\t\t};\n\t};\n\n\tconst request = wpcom.request.bind( wpcom );\n\n\treturn Object.assign( wpcom, {\n\t\taddSupportParams,\n\t\t/**\n\t\t * @param {string} newUser  Support username\n\t\t * @param {string} newToken Support token\n\t\t * @param {Function} newTokenErrorCallback Called when invalid support auth token is detected\n\t\t * @returns {boolean}  true if the user and token were changed, false otherwise\n\t\t */\n\t\tsetSupportUserToken: function ( newUser = '', newToken = '', newTokenErrorCallback ) {\n\t\t\tif ( newUser === supportUser && newToken === supportToken ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tsupportUser = newUser;\n\t\t\tsupportToken = newToken;\n\t\t\ttokenErrorCallback = newTokenErrorCallback;\n\t\t\treturn true;\n\t\t},\n\t\trequest: ( params, callback ) => {\n\t\t\tif ( ! ( supportUser && supportToken ) ) {\n\t\t\t\treturn request( params, callback );\n\t\t\t}\n\n\t\t\treturn request( addSupportData( params ), ( error, response ) => {\n\t\t\t\tif ( tokenErrorCallback && error?.error === 'invalid_support_token' ) {\n\t\t\t\t\ttokenErrorCallback( error );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Call the original response callback\n\t\t\t\tcallback( error, response );\n\t\t\t} );\n\t\t},\n\t} );\n}\n","import inherits from 'inherits';\nimport wpcomFactory from 'wpcom';\n\n/**\n * Class inherited from `WPCOMUnpublished` class and adds\n * specific methods useful for wp-calypso.\n *\n * @param {string} [token] - oauth token\n * @param {Function} [reqHandler] - request handler\n * @returns {wpcomFactory} WPCOMOAuthWrapper instance\n */\nfunction WPCOMOAuthWrapper( token, reqHandler ) {\n\tif ( ! ( this instanceof WPCOMOAuthWrapper ) ) {\n\t\treturn new WPCOMOAuthWrapper( token, reqHandler );\n\t}\n\n\tif ( 'function' === typeof token ) {\n\t\treqHandler = token;\n\t\ttoken = null;\n\t} else if ( token ) {\n\t\tthis.loadToken( token );\n\t}\n\n\twpcomFactory.call( this, token, function ( params, fn ) {\n\t\tif ( this.isTokenLoaded() ) {\n\t\t\t// authToken is used in wpcom-xhr-request,\n\t\t\t// which is used for the signup flow in the REST Proxy\n\t\t\tparams = {\n\t\t\t\t...params,\n\t\t\t\tauthToken: this._token,\n\t\t\t\ttoken: this._token,\n\t\t\t};\n\t\t}\n\n\t\treturn reqHandler( params, fn );\n\t} );\n}\n\ninherits( WPCOMOAuthWrapper, wpcomFactory );\n\n/**\n * Add a token to this instance of WPCOM.\n * When loaded, the token is applied to the param object of each subsequent request.\n *\n * @param {string} [token] - oauth token\n */\nwpcomFactory.prototype.loadToken = function ( token ) {\n\tthis._token = token;\n};\n\n/**\n * Returns a boolean representing whether or not the token has been loaded.\n *\n * @returns {string} oauth token\n */\nWPCOMOAuthWrapper.prototype.isTokenLoaded = function () {\n\treturn this._token !== undefined;\n};\n\n/**\n * Expose `WPCOMOAuthWrapper`\n */\nexport default WPCOMOAuthWrapper;\n","import { getLogoutUrl } from 'calypso/lib/user/shared-utils';\nimport { clearStore } from 'calypso/lib/user/store';\n\nexport default async function ( params, callback ) {\n\tconst xhr = ( await import( /* webpackChunkName: \"wpcom-xhr-request\" */ 'wpcom-xhr-request' ) )\n\t\t.default;\n\n\treturn xhr( params, async function ( error, response, headers ) {\n\t\tif ( error && error.name === 'InvalidTokenError' ) {\n\t\t\tawait clearStore();\n\t\t\twindow.location.href = getLogoutUrl();\n\t\t}\n\n\t\tcallback( error, response, headers );\n\t} );\n}\n","/**\n * Mapping from Calypso panel slug to tuple of focus key and value.\n *\n *\n * @type {object}\n */\n\nexport const PANEL_MAPPINGS = {\n\twidgets: [ 'panel', 'widgets' ],\n\tfonts: [ 'section', 'jetpack_fonts' ],\n\tidentity: [ 'section', 'title_tagline' ],\n\t'custom-css': [ 'section', 'jetpack_custom_css' ],\n\tamp: [ 'section', 'amp_design' ],\n\tmenus: [ 'panel', 'nav_menus' ],\n\thomepage: [ 'section', 'static_front_page' ],\n\tjetpack_search: [ 'section', 'jetpack_search' ],\n};\n\n/**\n * Given the name of a Calypso customizer panel, returns an object containing\n * the section or panel to be used in autofocus. Returns null if the panel is\n * not recognized.\n *\n * @param  {string}  panel Calypso panel slug\n * @returns {?object}       WordPress autofocus argument object\n */\nexport function getCustomizerFocus( panel ) {\n\tif ( PANEL_MAPPINGS.hasOwnProperty( panel ) ) {\n\t\tconst [ key, value ] = PANEL_MAPPINGS[ panel ];\n\t\treturn { [ `autofocus[${ key }]` ]: value };\n\t}\n\n\treturn null;\n}\n","import config from '@automattic/calypso-config';\nimport { getUrlParts } from '@automattic/calypso-url';\nimport { find, get } from 'lodash';\nimport { getSiteUrl as readerRouteGetSiteUrl } from 'calypso/reader/route';\n\nfunction hasDiscoverSlug( post, searchSlug ) {\n\tconst metaData = get( post, 'discover_metadata.discover_fp_post_formats' );\n\treturn !! ( metaData && find( metaData, { slug: searchSlug } ) );\n}\n\nexport const discoverBlogId = config( 'discover_blog_id' );\n\nexport function isDiscoverBlog( blogId ) {\n\treturn +blogId === config( 'discover_blog_id' );\n}\n\nexport function isDiscoverFeed( feedId ) {\n\treturn +feedId === config( 'discover_feed_id' );\n}\n\nexport function isDiscoverEnabled() {\n\treturn false;\n}\n\nexport function isDiscoverPost( post ) {\n\treturn !! (\n\t\tget( post, 'discover_metadata' ) || get( post, 'site_ID' ) === config( 'discover_blog_id' )\n\t);\n}\n\nexport function isDiscoverSitePick( post ) {\n\treturn hasDiscoverSlug( post, 'site-pick' );\n}\n\nexport function isInternalDiscoverPost( post ) {\n\treturn !! get( post, 'discover_metadata.featured_post_wpcom_data' );\n}\n\nexport function getSiteUrl( post ) {\n\tconst blogId = get( post, 'discover_metadata.featured_post_wpcom_data.blog_id' );\n\t// If we have a blog ID, we want to send them to the site detail page\n\treturn blogId ? readerRouteGetSiteUrl( blogId ) : get( post, 'discover_metadata.permalink' );\n}\n\nexport function getDiscoverBlogName( post ) {\n\treturn get( post, 'discover_metadata.attribution.blog_name' );\n}\n\nexport function hasSource( post ) {\n\treturn isDiscoverPost( post ) && ! isDiscoverSitePick( post );\n}\n\nexport function getSourceData( post ) {\n\tconst sourceData = get( post, 'discover_metadata.featured_post_wpcom_data' );\n\n\tif ( sourceData ) {\n\t\treturn {\n\t\t\tblogId: get( sourceData, 'blog_id' ),\n\t\t\tpostId: get( sourceData, 'post_id' ),\n\t\t};\n\t}\n\treturn {};\n}\n\nexport function getLinkProps( linkUrl ) {\n\tconst { hostname } = getUrlParts( linkUrl );\n\tconst isExternal = hostname && hostname !== window.location.hostname;\n\n\treturn {\n\t\trel: isExternal ? 'external' : '',\n\t\ttarget: isExternal ? '_blank' : '',\n\t};\n}\n\nexport function getSourceFollowUrl( post ) {\n\tlet followUrl;\n\n\tif ( ! isDiscoverPost( post ) ) {\n\t\treturn;\n\t}\n\n\tfollowUrl = get( post, 'discover_metadata.attribution.blog_url' );\n\n\t// If it's a site pick, try the permalink\n\tif ( ! followUrl && isDiscoverSitePick( post ) ) {\n\t\tfollowUrl = get( post, 'discover_metadata.permalink' );\n\t}\n\n\treturn followUrl || '';\n}\n","const PAGE_MARGIN_LARGE = 32 * 2;\nconst PAGE_MARGIN_MEDIUM = 24 * 2;\nconst PAGE_MARGIN_SMALL = 10 * 2;\nconst SIDEBAR_WIDTH = 240;\nconst MAX_CONTENT_WIDTH = 720;\n\n/**\n * Returns the available content width in full post for the reader at the current viewport width\n */\nexport default function contentWidth() {\n\tif ( typeof document === 'undefined' ) {\n\t\treturn undefined;\n\t}\n\n\tconst clientWidth = document.documentElement.clientWidth;\n\tif ( clientWidth > 1040 ) {\n\t\treturn MAX_CONTENT_WIDTH;\n\t}\n\tif ( clientWidth > 928 ) {\n\t\treturn clientWidth - ( SIDEBAR_WIDTH + PAGE_MARGIN_LARGE );\n\t}\n\tif ( clientWidth > 660 ) {\n\t\treturn clientWidth - ( SIDEBAR_WIDTH + PAGE_MARGIN_MEDIUM );\n\t}\n\treturn clientWidth - PAGE_MARGIN_SMALL;\n}\n","export function keyForPost( post ) {\n\tif ( ! post ) {\n\t\treturn;\n\t}\n\n\tif ( post.feed_ID && post.feed_item_ID ) {\n\t\treturn {\n\t\t\tfeedId: post.feed_ID,\n\t\t\tpostId: post.feed_item_ID,\n\t\t};\n\t}\n\tif ( post.is_external ) {\n\t\treturn {\n\t\t\tfeedId: post.feed_ID || post.site_ID,\n\t\t\tpostId: post.feed_item_ID || post.ID,\n\t\t};\n\t}\n\treturn {\n\t\tblogId: post.site_ID,\n\t\tpostId: post.ID,\n\t};\n}\n\nexport function keysAreEqual( a, b ) {\n\tif ( a === b ) {\n\t\treturn true;\n\t}\n\tif ( ( ! a && b ) || ( a && ! b ) || ( ! a && ! b && a !== b ) ) {\n\t\treturn false;\n\t}\n\tif ( ( a.isGap && ! b.isGap ) || ( ! a.isGap && b.isGap ) ) {\n\t\treturn false;\n\t}\n\tif ( a.isGap && b.isGap ) {\n\t\treturn a.from === b.from && a.to === b.to;\n\t}\n\tif ( a.postId !== b.postId ) {\n\t\treturn false;\n\t}\n\tif ( a.feedId ) {\n\t\treturn a.feedId === b.feedId;\n\t}\n\treturn a.blogId === b.blogId;\n}\n\nexport function keyToString( postKey ) {\n\tif ( ! postKey || postKey.isGap ) {\n\t\treturn null;\n\t}\n\n\tif ( postKey.isCombination ) {\n\t\tconst feedId = postKey.feedId ? `&feedId=${ postKey.feedId }` : '';\n\t\tconst blogId = postKey.blogId ? `&feedId=${ postKey.blogId }` : '';\n\t\tconst postIds = postKey.postIds.join( ',' );\n\t\treturn `postIds=[${ postIds }, ]${ feedId }${ blogId } `;\n\t} else if ( postKey.isRecommendationBlock ) {\n\t\treturn `rec-${ postKey.index }`;\n\t} else if ( postKey.feedId ) {\n\t\treturn `${ postKey.postId }-${ postKey.feedId }`;\n\t} else if ( postKey.blogId ) {\n\t\treturn `${ postKey.postId }-${ postKey.blogId }`;\n\t}\n\n\treturn null; // should never happen!\n}\n\nexport function isPostKeyLike( postKey ) {\n\treturn postKey && postKey.postId && ( postKey.blogId || postKey.feedId );\n}\n","import config from '@automattic/calypso-config';\n\nconst FEED_URL_BASE = '/read/feeds/';\nconst SITE_URL_BASE = '/read/blogs/';\n\nconst DISCOVER_SITE_ID = config( 'discover_blog_id' );\nconst DISCOVER_FEED_ID = config( 'discover_feed_id' );\n\nconst prettyFeedUrls = {\n\t[ DISCOVER_FEED_ID ]: '/discover',\n};\n\nconst prettySiteUrls = {\n\t[ DISCOVER_SITE_ID ]: '/discover',\n};\n\nexport function getPrettySiteUrl( siteID ) {\n\treturn prettySiteUrls[ siteID ];\n}\n\nexport function getPrettyFeedUrl( feedID ) {\n\treturn prettyFeedUrls[ feedID ];\n}\n\nexport function getSiteUrl( siteID ) {\n\treturn getPrettySiteUrl( siteID ) || SITE_URL_BASE + siteID;\n}\n\nexport function getFeedUrl( feedID ) {\n\treturn getPrettyFeedUrl( feedID ) || FEED_URL_BASE + feedID;\n}\n\nexport function getStreamUrl( feedID, siteID ) {\n\tif ( feedID ) {\n\t\treturn getFeedUrl( feedID );\n\t}\n\n\treturn getSiteUrl( siteID );\n}\n\nexport function getStreamUrlFromPost( post ) {\n\tif ( post.feed_ID ) {\n\t\treturn getFeedUrl( post.feed_ID );\n\t}\n\n\treturn getSiteUrl( post.site_ID );\n}\n\nexport function getTagStreamUrl( tag ) {\n\treturn `/tag/${ tag }`;\n}\n\nexport function getPostUrl( post ) {\n\tif ( post.feed_ID && post.feed_item_ID ) {\n\t\treturn `/read/feeds/${ post.feed_ID }/posts/${ post.feed_item_ID }`;\n\t} else if ( post.is_external ) {\n\t\treturn `/read/feeds/${ post.feed_ID }/posts/${ post.ID }`;\n\t}\n\treturn `/read/blogs/${ post.site_ID }/posts/${ post.ID }`;\n}\n","import debugFactory from 'debug';\nimport { pick } from 'lodash';\nimport { gaRecordEvent } from 'calypso/lib/analytics/ga';\nimport { bumpStat, bumpStatWithPageView } from 'calypso/lib/analytics/mc';\nimport { recordTracksEvent } from 'calypso/lib/analytics/tracks';\n\nconst debug = debugFactory( 'calypso:reader:stats' );\n\nexport function recordAction( action ) {\n\tdebug( 'reader action', action );\n\tbumpStat( 'reader_actions', action );\n}\n\nexport function recordGaEvent( action, label, value ) {\n\tdebug( 'reader ga event', ...arguments );\n\tgaRecordEvent( 'Reader', action, label, value );\n}\n\nexport function recordPermalinkClick( source, post, eventProperties = {} ) {\n\tbumpStat( {\n\t\treader_actions: 'visited_post_permalink',\n\t\treader_permalink_source: source,\n\t} );\n\trecordGaEvent( 'Clicked Post Permalink', source );\n\tconst trackEvent = 'calypso_reader_permalink_click';\n\n\t// Add source as Tracks event property\n\teventProperties = Object.assign( { source }, eventProperties );\n\n\tif ( post ) {\n\t\trecordTrackForPost( trackEvent, post, eventProperties );\n\t} else {\n\t\trecordTrack( trackEvent, eventProperties );\n\t}\n}\n\nfunction getLocation( path ) {\n\tif ( path === undefined || path === '' ) {\n\t\treturn 'unknown';\n\t}\n\tif ( path === '/read' ) {\n\t\treturn 'following';\n\t}\n\tif ( path.indexOf( '/read/a8c' ) === 0 ) {\n\t\treturn 'following_a8c';\n\t}\n\tif ( path.indexOf( '/read/p2' ) === 0 ) {\n\t\treturn 'following_p2';\n\t}\n\tif ( path.indexOf( '/tag/' ) === 0 ) {\n\t\treturn 'topic_page';\n\t}\n\tif ( path.match( /^\\/read\\/(blogs|feeds)\\/([0-9]+)\\/posts\\/([0-9]+)$/i ) ) {\n\t\treturn 'single_post';\n\t}\n\tif ( path.match( /^\\/read\\/(blogs|feeds)\\/([0-9]+)$/i ) ) {\n\t\treturn 'blog_page';\n\t}\n\tif ( path.indexOf( '/read/list/' ) === 0 ) {\n\t\treturn 'list';\n\t}\n\tif ( path.indexOf( '/activities/likes' ) === 0 ) {\n\t\treturn 'postlike';\n\t}\n\tif ( path.indexOf( '/recommendations/mine' ) === 0 ) {\n\t\treturn 'recommended_foryou';\n\t}\n\tif ( path.indexOf( '/following/edit' ) === 0 ) {\n\t\treturn 'following_edit';\n\t}\n\tif ( path.indexOf( '/following/manage' ) === 0 ) {\n\t\treturn 'following_manage';\n\t}\n\tif ( path.indexOf( '/discover' ) === 0 ) {\n\t\treturn 'discover';\n\t}\n\tif ( path.indexOf( '/read/recommendations/posts' ) === 0 ) {\n\t\treturn 'recommended_posts';\n\t}\n\tif ( path.indexOf( '/read/search' ) === 0 ) {\n\t\treturn 'search';\n\t}\n\tif ( path.indexOf( '/read/conversations/a8c' ) === 0 ) {\n\t\treturn 'conversations_a8c';\n\t}\n\tif ( path.indexOf( '/read/conversations' ) === 0 ) {\n\t\treturn 'conversations';\n\t}\n\treturn 'unknown';\n}\n\n/**\n * @param {*} eventName track event name\n * @param {*} eventProperties extra event props\n * @param {{pathnameOverride: string}} [pathnameOverride] Overwrites the location for ui_algo Useful for when\n *   recordTrack() is called after loading the next window.\n *   For example: opening an article (calypso_reader_article_opened) would call\n *   recordTrack after changing windows and would result in a `ui_algo: single_post`\n *   regardless of the stream the post was opened. This now allows the article_opened\n *   Tracks event to correctly specify which stream the post was opened.\n * @deprecated Use the recordReaderTracksEvent action instead.\n */\nexport function recordTrack( eventName, eventProperties, { pathnameOverride } = {} ) {\n\tdebug( 'reader track', ...arguments );\n\n\tconst location = getLocation( pathnameOverride || window.location.pathname );\n\teventProperties = Object.assign( { ui_algo: location }, eventProperties );\n\n\tif ( process.env.NODE_ENV !== 'production' ) {\n\t\tif (\n\t\t\t'blog_id' in eventProperties &&\n\t\t\t'post_id' in eventProperties &&\n\t\t\t! ( 'is_jetpack' in eventProperties )\n\t\t) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.warn( 'consider using recordTrackForPost...', eventName, eventProperties );\n\t\t}\n\t}\n\n\trecordTracksEvent( eventName, eventProperties );\n}\n\nconst allowedTracksRailcarEventNames = new Set();\nallowedTracksRailcarEventNames\n\t.add( 'calypso_reader_related_post_from_same_site_clicked' )\n\t.add( 'calypso_reader_related_post_from_other_site_clicked' )\n\t.add( 'calypso_reader_related_post_site_clicked' )\n\t.add( 'calypso_reader_article_liked' )\n\t.add( 'calypso_reader_article_commented_on' )\n\t.add( 'calypso_reader_article_opened' )\n\t.add( 'calypso_reader_searchcard_clicked' )\n\t.add( 'calypso_reader_author_link_clicked' )\n\t.add( 'calypso_reader_permalink_click' )\n\t.add( 'calypso_reader_recommended_post_clicked' )\n\t.add( 'calypso_reader_recommended_site_clicked' )\n\t.add( 'calypso_reader_recommended_post_dismissed' );\n\nexport function recordTracksRailcar( action, eventName, railcar, overrides = {} ) {\n\t// flatten the railcar down into the event props\n\trecordTrack(\n\t\taction,\n\t\tObject.assign(\n\t\t\teventName ? { action: eventName.replace( 'calypso_reader_', '' ) } : {},\n\t\t\trailcar,\n\t\t\toverrides\n\t\t)\n\t);\n}\n\nexport function recordTracksRailcarRender( eventName, railcar, overrides ) {\n\treturn recordTracksRailcar( 'calypso_traintracks_render', eventName, railcar, overrides );\n}\n\nexport function recordTracksRailcarInteract( eventName, railcar, overrides ) {\n\treturn recordTracksRailcar( 'calypso_traintracks_interact', eventName, railcar, overrides );\n}\n\nexport function recordTrackForPost( eventName, post = {}, additionalProps = {}, options ) {\n\trecordTrack( eventName, { ...getTracksPropertiesForPost( post ), ...additionalProps }, options );\n\tif ( post.railcar && allowedTracksRailcarEventNames.has( eventName ) ) {\n\t\t// check for overrides for the railcar\n\t\trecordTracksRailcarInteract(\n\t\t\teventName,\n\t\t\tpost.railcar,\n\t\t\tpick( additionalProps, [ 'ui_position', 'ui_algo' ] )\n\t\t);\n\t} else if ( process.env.NODE_ENV !== 'production' && post.railcar ) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.warn( 'Consider allowing reader track', eventName );\n\t}\n}\n\nexport function getTracksPropertiesForPost( post = {} ) {\n\treturn {\n\t\tblog_id: ! post.is_external && post.site_ID > 0 ? post.site_ID : undefined,\n\t\tpost_id: ! post.is_external && post.ID > 0 ? post.ID : undefined,\n\t\tfeed_id: post.feed_ID > 0 ? post.feed_ID : undefined,\n\t\tfeed_item_id: post.feed_item_ID > 0 ? post.feed_item_ID : undefined,\n\t\tis_jetpack: post.is_jetpack,\n\t};\n}\n\nexport function recordRailcar( eventName, railcar, eventProperties ) {\n\trecordTracksRailcarInteract(\n\t\teventName,\n\t\trailcar,\n\t\tpick( eventProperties, [ 'ui_position', 'ui_algo' ] )\n\t);\n}\n\nexport function recordTrackWithRailcar( eventName, railcar, eventProperties ) {\n\trecordTrack( eventName, eventProperties );\n\trecordRailcar( eventName, railcar, eventProperties );\n}\n\nexport function pageViewForPost( blogId, blogUrl, postId, isPrivate ) {\n\tif ( ! blogId || ! blogUrl || ! postId ) {\n\t\treturn;\n\t}\n\n\tconst params = {\n\t\tref: 'http://wordpress.com/',\n\t\treader: 1,\n\t\thost: blogUrl.replace( /.*?:\\/\\//g, '' ),\n\t\tblog: blogId,\n\t\tpost: postId,\n\t};\n\tif ( isPrivate ) {\n\t\tparams.priv = 1;\n\t}\n\tdebug( 'reader page view for post', params );\n\tbumpStatWithPageView( params );\n}\n\nexport function recordFollow( url, railcar, additionalProps = {} ) {\n\tconst source = additionalProps.source || getLocation( window.location.pathname );\n\tbumpStat( 'reader_follows', source );\n\trecordAction( 'followed_blog' );\n\trecordGaEvent( 'Clicked Follow Blog', source );\n\trecordTrack( 'calypso_reader_site_followed', {\n\t\turl,\n\t\tsource,\n\t\t...additionalProps,\n\t} );\n\tif ( railcar ) {\n\t\trecordTracksRailcarInteract( 'site_followed', railcar );\n\t}\n}\n\nexport function recordUnfollow( url, railcar, additionalProps = {} ) {\n\tconst source = getLocation( window.location.pathname );\n\tbumpStat( 'reader_unfollows', source );\n\trecordAction( 'unfollowed_blog' );\n\trecordGaEvent( 'Clicked Unfollow Blog', source );\n\trecordTrack( 'calypso_reader_site_unfollowed', {\n\t\turl,\n\t\tsource,\n\t\t...additionalProps,\n\t} );\n\tif ( railcar ) {\n\t\trecordTracksRailcarInteract( 'site_unfollowed', railcar );\n\t}\n}\n","import { flatMap, last } from 'lodash';\nimport moment from 'moment';\nimport { isDiscoverBlog, isDiscoverFeed } from 'calypso/reader/discover/helper';\n\nexport function isDiscoverPostKey( postKey ) {\n\treturn isDiscoverBlog( postKey.blogId ) || isDiscoverFeed( postKey.feedId );\n}\n\nexport const RECS_PER_BLOCK = 2;\n\n/**\n * Check if two postKeys are for the same siteId or feedId\n *\n * @param {object} postKey1 First post key\n * @param {object} postKey2 Second post key\n * @returns {boolean} Returns true if two postKeys are for the same siteId or feedId\n */\nexport function sameSite( postKey1, postKey2 ) {\n\treturn (\n\t\tpostKey1 &&\n\t\tpostKey2 &&\n\t\t! postKey1.isRecommendationBlock &&\n\t\t! postKey2.isRecommendationBlock &&\n\t\t( ( postKey1.blogId && postKey1.blogId === postKey2.blogId ) ||\n\t\t\t( postKey1.feedId && postKey1.feedId === postKey2.feedId ) )\n\t);\n}\n\nexport function sameDay( postKey1, postKey2 ) {\n\treturn moment( postKey1.date ).isSame( postKey2.date, 'day' );\n}\n\nexport function sameXPost( postKey1, postKey2 ) {\n\treturn (\n\t\tpostKey1 &&\n\t\tpostKey2 &&\n\t\tpostKey1.xPostMetadata &&\n\t\tpostKey2.xPostMetadata &&\n\t\tpostKey1.xPostMetadata.blogId &&\n\t\tpostKey1.xPostMetadata.blogId === postKey2.xPostMetadata.blogId &&\n\t\tpostKey1.xPostMetadata.postId &&\n\t\tpostKey1.xPostMetadata.postId === postKey2.xPostMetadata.postId\n\t);\n}\n\n/**\n * Takes two postKeys and combines them into a ReaderCombinedCard postKey.\n * Note: This only makes sense for postKeys from the same site\n *\n * @param {object} postKey1 must be either a ReaderCombinedCard postKey or a regular postKey\n * @param {object} postKey2 can only be a regular postKey. May not be a combinedCard postKey or a recommendations postKey\n * @returns {object} A ReaderCombinedCard postKey\n */\nexport function combine( postKey1, postKey2 ) {\n\tif ( ! postKey1 || ! postKey2 ) {\n\t\treturn null;\n\t}\n\n\tconst combined = {\n\t\tisCombination: true,\n\t\tdate:\n\t\t\tpostKey1.date && postKey1.date < postKey2.date // keep the earliest moment\n\t\t\t\t? postKey1.date\n\t\t\t\t: postKey2.date,\n\t\tpostIds: [\n\t\t\t...( postKey1.postIds || [ postKey1.postId ] ),\n\t\t\t...( postKey2.postIds || [ postKey2.postId ] ),\n\t\t],\n\t};\n\tpostKey1.blogId && ( combined.blogId = postKey1.blogId );\n\tpostKey1.feedId && ( combined.feedId = postKey1.feedId );\n\n\treturn combined;\n}\n\nexport const combineCards = ( postKeys ) =>\n\tpostKeys.reduce( ( accumulator, postKey ) => {\n\t\tconst lastPostKey = last( accumulator );\n\t\tif (\n\t\t\tsameSite( lastPostKey, postKey ) &&\n\t\t\tsameDay( lastPostKey, postKey ) &&\n\t\t\t! isDiscoverPostKey( postKey )\n\t\t) {\n\t\t\taccumulator[ accumulator.length - 1 ] = combine( last( accumulator ), postKey );\n\t\t} else {\n\t\t\taccumulator.push( postKey );\n\t\t}\n\t\treturn accumulator;\n\t}, [] );\n\nexport function injectRecommendations( posts, recs = [], itemsBetweenRecs ) {\n\tif ( ! recs || recs.length === 0 ) {\n\t\treturn posts;\n\t}\n\n\tif ( posts.length < itemsBetweenRecs ) {\n\t\treturn posts;\n\t}\n\n\tlet recIndex = 0;\n\n\treturn flatMap( posts, ( post, index ) => {\n\t\tif ( index && index % itemsBetweenRecs === 0 && recIndex < recs.length ) {\n\t\t\tconst recBlock = {\n\t\t\t\tisRecommendationBlock: true,\n\t\t\t\trecommendations: recs.slice( recIndex, recIndex + RECS_PER_BLOCK ),\n\t\t\t\tindex: recIndex,\n\t\t\t};\n\t\t\trecIndex += RECS_PER_BLOCK;\n\t\t\treturn [ recBlock, post ];\n\t\t}\n\t\treturn post;\n\t} );\n}\n\nconst MIN_DISTANCE_BETWEEN_RECS = 4; // page size is 7, so one in the middle of every page and one on page boundries, sometimes\nconst MAX_DISTANCE_BETWEEN_RECS = 30;\n\nexport function getDistanceBetweenRecs( totalSubs ) {\n\t// the distance between recs changes based on how many subscriptions the user has.\n\t// We cap it at MAX_DISTANCE_BETWEEN_RECS.\n\t// It grows at the natural log of the number of subs, times a multiplier, offset by a constant.\n\t// This lets the distance between recs grow quickly as you add subs early on, and slow down as you\n\t// become a common user of the reader.\n\tif ( totalSubs <= 0 ) {\n\t\t// 0 means either we don't know yet, or the user actually has zero subs.\n\t\t// if a user has zero subs, we don't show posts at all, so just treat 0 as 'unknown' and\n\t\t// push recs to the max.\n\t\treturn MAX_DISTANCE_BETWEEN_RECS;\n\t}\n\n\treturn Math.min(\n\t\tMath.max( Math.floor( Math.log( totalSubs ) * Math.LOG2E * 5 - 6 ), MIN_DISTANCE_BETWEEN_RECS ),\n\t\tMAX_DISTANCE_BETWEEN_RECS\n\t);\n}\n","/**\n * Any new action type should be added to the set of exports below, with the\n * value mirroring its exported name.\n *\n * Please keep this list alphabetized!\n *\n * Unsure how to name an action type? Refer to our guidelines:\n *  - https://wpcalypso.wordpress.com/devdocs/docs/our-approach-to-data.md#actions\n */\nexport const ACCOUNT_CLOSE = 'ACCOUNT_CLOSE';\nexport const ACCOUNT_CLOSE_SUCCESS = 'ACCOUNT_CLOSE_SUCCESS';\nexport const ACCOUNT_RECOVERY_SETTINGS_DELETE = 'ACCOUNT_RECOVERY_SETTINGS_DELETE';\nexport const ACCOUNT_RECOVERY_SETTINGS_DELETE_FAILED = 'ACCOUNT_RECOVERY_SETTINGS_DELETE_FAILED';\nexport const ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS = 'ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS';\nexport const ACCOUNT_RECOVERY_SETTINGS_FETCH = 'ACCOUNT_RECOVERY_SETTINGS_FETCH';\nexport const ACCOUNT_RECOVERY_SETTINGS_FETCH_FAILED = 'ACCOUNT_RECOVERY_SETTINGS_FETCH_FAILED';\nexport const ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS = 'ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS';\nexport const ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION =\n\t'ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION';\nexport const ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION_FAILED =\n\t'ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION_FAILED';\nexport const ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION_SUCCESS =\n\t'ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION_SUCCESS';\nexport const ACCOUNT_RECOVERY_SETTINGS_UPDATE = 'ACCOUNT_RECOVERY_SETTINGS_UPDATE';\nexport const ACCOUNT_RECOVERY_SETTINGS_UPDATE_FAILED = 'ACCOUNT_RECOVERY_SETTINGS_UPDATE_FAILED';\nexport const ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS = 'ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS';\nexport const ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE = 'ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE';\nexport const ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_FAILED =\n\t'ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_FAILED';\nexport const ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_SUCCESS =\n\t'ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_SUCCESS';\nexport const ACTIVE_PROMOTIONS_RECEIVE = 'ACTIVE_PROMOTIONS_RECEIVE';\nexport const ACTIVE_PROMOTIONS_REQUEST = 'ACTIVE_PROMOTIONS_REQUEST';\nexport const ACTIVE_PROMOTIONS_REQUEST_FAILURE = 'ACTIVE_PROMOTIONS_REQUEST_FAILURE';\nexport const ACTIVE_PROMOTIONS_REQUEST_SUCCESS = 'ACTIVE_PROMOTIONS_REQUEST_SUCCESS';\nexport const ACTIVITY_LOG_FILTER_SET = 'ACTIVITY_LOG_FILTER_SET';\nexport const ACTIVITY_LOG_FILTER_UPDATE = 'ACTIVITY_LOG_FILTER_UPDATE';\nexport const ADMIN_MENU_RECEIVE = 'ADMIN_MENU_RECEIVE';\nexport const ADMIN_MENU_REQUEST = 'ADMIN_MENU_REQUEST';\nexport const ALL_DOMAINS_REQUEST = 'ALL_DOMAINS_REQUEST';\nexport const ALL_DOMAINS_REQUEST_FAILURE = 'ALL_DOMAINS_REQUEST_FAILURE';\nexport const ALL_DOMAINS_REQUEST_SUCCESS = 'ALL_DOMAINS_REQUEST_SUCCESS';\nexport const ANALYTICS_EVENT_RECORD = 'ANALYTICS_EVENT_RECORD';\nexport const ANALYTICS_MULTI_TRACK = 'ANALYTICS_MULTI_TRACK';\nexport const ANALYTICS_PAGE_VIEW_RECORD = 'ANALYTICS_PAGE_VIEW_RECORD';\nexport const ANALYTICS_STAT_BUMP = 'ANALYTICS_STAT_BUMP';\nexport const ANALYTICS_TRACKING_ON = 'ANALYTICS_TRACKING_ON';\nexport const ANALYTICS_TRACKS_OPT_OUT = 'ANALYTICS_TRACKS_OPT_OUT';\nexport const APP_BANNER_TOGGLE_VISIBILITY = 'APP_BANNER_TOGGLE_VISIBILITY';\nexport const APP_BANNER_DISMISSED = 'APP_BANNER_DISMISSED';\nexport const APPLY_STORED_STATE = 'APPLY_STORED_STATE';\nexport const ATOMIC_TRANSFER_REQUEST = 'ATOMIC_TRANSFER_REQUEST';\nexport const ATOMIC_TRANSFER_SET = 'ATOMIC_TRANSFER_SET';\nexport const ATOMIC_TRANSFER_INITIATE_TRANSFER = 'ATOMIC_TRANSFER_INITIATE_TRANSFER';\nexport const ATOMIC_TRANSFER_REQUEST_LATEST = 'ATOMIC_TRANSFER_REQUEST_LATEST';\nexport const ATOMIC_TRANSFER_SET_LATEST = 'ATOMIC_TRANSFER_SET_LATEST';\nexport const ATOMIC_SOFTWARE_INITIATE_INSTALL = 'ATOMIC_SOFTWARE_INITIATE_INSTALL';\nexport const ATOMIC_SOFTWARE_REQUEST_STATUS = 'ATOMIC_SOFTWARE_REQUEST_STATUS';\nexport const ATOMIC_SOFTWARE_SET_STATUS = 'ATOMIC_SOFTWARE_SET_STATUS';\nexport const ATOMIC_SOFTWARE_SET_ERROR = 'ATOMIC_SOFTWARE_SET_ERROR';\nexport const AUTOMATED_TRANSFER_ELIGIBILITY_REQUEST = 'AUTOMATED_TRANSFER_ELIGIBILITY_REQUEST';\nexport const AUTOMATED_TRANSFER_ELIGIBILITY_UPDATE = 'AUTOMATED_TRANSFER_ELIGIBILITY_UPDATE';\nexport const AUTOMATED_TRANSFER_INITIATE_WITH_PLUGIN_ZIP =\n\t'AUTOMATED_TRANSFER_INITIATE_WITH_PLUGIN_ZIP';\nexport const AUTOMATED_TRANSFER_STATUS_REQUEST = 'AUTOMATED_TRANSFER_STATUS_REQUEST';\nexport const AUTOMATED_TRANSFER_STATUS_REQUEST_FAILURE =\n\t'AUTOMATED_TRANSFER_STATUS_REQUEST_FAILURE';\nexport const AUTOMATED_TRANSFER_STATUS_SET = 'AUTOMATED_TRANSFER_STATUS_SET';\nexport const BILLING_RECEIPT_EMAIL_SEND = 'BILLING_RECEIPT_EMAIL_SEND';\nexport const BILLING_RECEIPT_EMAIL_SEND_FAILURE = 'BILLING_RECEIPT_EMAIL_SEND_FAILURE';\nexport const BILLING_RECEIPT_EMAIL_SEND_SUCCESS = 'BILLING_RECEIPT_EMAIL_SEND_SUCCESS';\nexport const BILLING_TRANSACTION_ERROR_CLEAR = 'BILLING_TRANSACTION_ERROR_CLEAR';\nexport const BILLING_TRANSACTION_RECEIVE = 'BILLING_TRANSACTION_RECEIVE';\nexport const BILLING_TRANSACTION_REQUEST = 'BILLING_TRANSACTION_REQUEST';\nexport const BILLING_TRANSACTION_REQUEST_FAILURE = 'BILLING_TRANSACTION_REQUEST_FAILURE';\nexport const BILLING_TRANSACTION_REQUEST_SUCCESS = 'BILLING_TRANSACTION_REQUEST_SUCCESS';\nexport const BILLING_TRANSACTIONS_FILTER_SET_APP = 'BILLING_TRANSACTIONS_FILTER_SET_APP';\nexport const BILLING_TRANSACTIONS_FILTER_SET_MONTH = 'BILLING_TRANSACTIONS_FILTER_SET_MONTH';\nexport const BILLING_TRANSACTIONS_FILTER_SET_PAGE = 'BILLING_TRANSACTIONS_FILTER_SET_PAGE';\nexport const BILLING_TRANSACTIONS_FILTER_SET_QUERY = 'BILLING_TRANSACTIONS_FILTER_SET_QUERY';\nexport const BILLING_TRANSACTIONS_RECEIVE = 'BILLING_TRANSACTIONS_RECEIVE';\nexport const BILLING_TRANSACTIONS_REQUEST = 'BILLING_TRANSACTIONS_REQUEST';\nexport const BILLING_TRANSACTIONS_REQUEST_FAILURE = 'BILLING_TRANSACTIONS_REQUEST_FAILURE';\nexport const BILLING_TRANSACTIONS_REQUEST_SUCCESS = 'BILLING_TRANSACTIONS_REQUEST_SUCCESS';\nexport const BREADCRUMB_RESET_LIST = 'BREADCRUMB_RESET_LIST';\nexport const BREADCRUMB_UPDATE_LIST = 'BREADCRUMB_UPDATE_LIST';\nexport const BREADCRUMB_APPEND_ITEM = 'BREADCRUMB_APPEND_ITEM';\nexport const COMMENT_COUNTS_REQUEST = 'COMMENT_COUNTS_REQUEST';\nexport const COMMENT_COUNTS_UPDATE = 'COMMENT_COUNTS_UPDATE';\nexport const COMMENT_REQUEST = 'COMMENT_REQUEST';\nexport const COMMENTS_CHANGE_STATUS = 'COMMENTS_CHANGE_STATUS';\nexport const COMMENTS_COUNT_INCREMENT = 'COMMENTS_COUNT_INCREMENT';\nexport const COMMENTS_COUNT_RECEIVE = 'COMMENTS_COUNT_RECEIVE';\nexport const COMMENTS_DELETE = 'COMMENTS_DELETE';\nexport const COMMENTS_EDIT = 'COMMENTS_EDIT';\nexport const COMMENTS_LIKE = 'COMMENTS_LIKE';\nexport const COMMENTS_LIST_REQUEST = 'COMMENTS_LIST_REQUEST';\nexport const COMMENTS_QUERY_UPDATE = 'COMMENTS_QUERY_UPDATE';\nexport const COMMENTS_RECEIVE = 'COMMENTS_RECEIVE';\nexport const COMMENTS_RECEIVE_ERROR = 'COMMENTS_RECEIVE_ERROR';\nexport const COMMENTS_REPLY_WRITE = 'COMMENTS_REPLY_WRITE';\nexport const COMMENTS_REQUEST = 'COMMENTS_REQUEST';\nexport const COMMENTS_SET_ACTIVE_REPLY = 'COMMENTS_SET_ACTIVE_REPLY';\nexport const COMMENTS_UNLIKE = 'COMMENTS_UNLIKE';\nexport const COMMENTS_UPDATES_RECEIVE = 'COMMENTS_UPDATES_RECEIVE';\nexport const COMMENTS_WRITE = 'COMMENTS_WRITE';\nexport const COMMENTS_WRITE_ERROR = 'COMMENTS_WRITE_ERROR';\nexport const CONCIERGE_APPOINTMENT_CANCEL = 'CONCIERGE_APPOINTMENT_CANCEL';\nexport const CONCIERGE_APPOINTMENT_CREATE = 'CONCIERGE_APPOINTMENT_CREATE';\nexport const CONCIERGE_APPOINTMENT_DETAILS_REQUEST = 'CONCIERGE_APPOINTMENT_DETAILS_REQUEST';\nexport const CONCIERGE_APPOINTMENT_DETAILS_UPDATE = 'CONCIERGE_APPOINTMENT_DETAILS_UPDATE';\nexport const CONCIERGE_APPOINTMENT_RESCHEDULE = 'CONCIERGE_APPOINTMENT_RESCHEDULE';\nexport const CONCIERGE_INITIAL_REQUEST = 'CONCIERGE_INITIAL_REQUEST';\nexport const CONCIERGE_INITIAL_UPDATE = 'CONCIERGE_INITIAL_UPDATE';\nexport const CONCIERGE_SIGNUP_FORM_UPDATE = 'CONCIERGE_SIGNUP_FORM_UPDATE';\nexport const CONCIERGE_UPDATE_BOOKING_STATUS = 'CONCIERGE_UPDATE_BOOKING_STATUS';\nexport const CONNECTED_APPLICATION_DELETE = 'CONNECTED_APPLICATION_DELETE';\nexport const CONNECTED_APPLICATION_DELETE_SUCCESS = 'CONNECTED_APPLICATION_DELETE_SUCCESS';\nexport const CONNECTED_APPLICATIONS_RECEIVE = 'CONNECTED_APPLICATIONS_RECEIVE';\nexport const CONNECTED_APPLICATIONS_REQUEST = 'CONNECTED_APPLICATIONS_REQUEST';\nexport const CONNECTION_LOST = 'CONNECTION_LOST';\nexport const CONNECTION_RESTORED = 'CONNECTION_RESTORED';\nexport const CONNECTIONS_SET_EXPANDED_SERVICE = 'CONNECTIONS_SET_EXPANDED_SERVICE';\nexport const COUNTRIES_DOMAINS_FETCH = 'COUNTRIES_DOMAINS_FETCH';\nexport const COUNTRIES_DOMAINS_UPDATED = 'COUNTRIES_DOMAINS_UPDATED';\nexport const COUNTRIES_PAYMENTS_FETCH = 'COUNTRIES_PAYMENTS_FETCH';\nexport const COUNTRIES_PAYMENTS_UPDATED = 'COUNTRIES_PAYMENTS_UPDATED';\nexport const COUNTRIES_SMS_FETCH = 'COUNTRIES_SMS_FETCH';\nexport const COUNTRIES_SMS_UPDATED = 'COUNTRIES_SMS_UPDATED';\nexport const COUNTRIES_WOOCOMMERCE_FETCH = 'COUNTRIES_WOOCOMMERCE_FETCH';\nexport const COUNTRIES_WOOCOMMERCE_UPDATED = 'COUNTRIES_WOOCOMMERCE_UPDATED';\nexport const COUNTRY_STATES_RECEIVE = 'COUNTRY_STATES_RECEIVE';\nexport const COUNTRY_STATES_REQUEST = 'COUNTRY_STATES_REQUEST';\nexport const COUNTRY_STATES_REQUEST_FAILURE = 'COUNTRY_STATES_REQUEST_FAILURE';\nexport const COUNTRY_STATES_REQUEST_SUCCESS = 'COUNTRY_STATES_REQUEST_SUCCESS';\nexport const CURRENT_USER_FETCH = 'CURRENT_USER_FETCH';\nexport const CURRENT_USER_RECEIVE = 'CURRENT_USER_RECEIVE';\nexport const CURRENT_USER_SET_EMAIL_VERIFIED = 'CURRENT_USER_SET_EMAIL_VERIFIED';\nexport const DIRECTLY_ASK_QUESTION = 'DIRECTLY_ASK_QUESTION';\nexport const DIRECTLY_INITIALIZATION_ERROR = 'DIRECTLY_INITIALIZATION_ERROR';\nexport const DIRECTLY_INITIALIZATION_START = 'DIRECTLY_INITIALIZATION_START';\nexport const DIRECTLY_INITIALIZATION_SUCCESS = 'DIRECTLY_INITIALIZATION_SUCCESS';\nexport const DOCUMENT_HEAD_LINK_SET = 'DOCUMENT_HEAD_LINK_SET';\nexport const DOCUMENT_HEAD_META_SET = 'DOCUMENT_HEAD_META_SET';\nexport const DOCUMENT_HEAD_TITLE_SET = 'DOCUMENT_HEAD_TITLE_SET';\nexport const DOCUMENT_HEAD_UNREAD_COUNT_SET = 'DOCUMENT_HEAD_UNREAD_COUNT_SET';\nexport const DOMAIN_CONTACT_INFO_DISCLOSE = 'DOMAIN_CONTACT_INFO_DISCLOSE';\nexport const DOMAIN_CONTACT_INFO_DISCLOSE_FAILURE = 'DOMAIN_CONTACT_INFO_DISCLOSE_FAILURE';\nexport const DOMAIN_CONTACT_INFO_DISCLOSE_SUCCESS = 'DOMAIN_CONTACT_INFO_DISCLOSE_SUCCESS';\nexport const DOMAIN_CONTACT_INFO_REDACT = 'DOMAIN_CONTACT_INFO_REDACT';\nexport const DOMAIN_CONTACT_INFO_REDACT_FAILURE = 'DOMAIN_CONTACT_INFO_REDACT_FAILURE';\nexport const DOMAIN_CONTACT_INFO_REDACT_SUCCESS = 'DOMAIN_CONTACT_INFO_REDACT_SUCCESS';\nexport const DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_RECEIVE =\n\t'DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_RECEIVE';\nexport const DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST =\n\t'DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST';\nexport const DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST_FAILURE =\n\t'DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST_FAILURE';\nexport const DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST_SUCCESS =\n\t'DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST_SUCCESS';\nexport const DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_UPDATE =\n\t'DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_UPDATE';\nexport const DOMAIN_MANAGEMENT_WHOIS_RECEIVE = 'DOMAIN_MANAGEMENT_WHOIS_RECEIVE';\nexport const DOMAIN_MANAGEMENT_WHOIS_REQUEST = 'DOMAIN_MANAGEMENT_WHOIS_REQUEST';\nexport const DOMAIN_MANAGEMENT_WHOIS_REQUEST_FAILURE = 'DOMAIN_MANAGEMENT_WHOIS_REQUEST_FAILURE';\nexport const DOMAIN_MANAGEMENT_WHOIS_REQUEST_SUCCESS = 'DOMAIN_MANAGEMENT_WHOIS_REQUEST_SUCCESS';\nexport const DOMAIN_MANAGEMENT_WHOIS_SAVE = 'DOMAIN_MANAGEMENT_WHOIS_SAVE';\nexport const DOMAIN_MANAGEMENT_WHOIS_SAVE_FAILURE = 'DOMAIN_MANAGEMENT_WHOIS_SAVE_FAILURE';\nexport const DOMAIN_MANAGEMENT_WHOIS_SAVE_SUCCESS = 'DOMAIN_MANAGEMENT_WHOIS_SAVE_SUCCESS';\nexport const DOMAIN_MANAGEMENT_WHOIS_UPDATE = 'DOMAIN_MANAGEMENT_WHOIS_UPDATE';\nexport const DOMAIN_PRIVACY_DISABLE = 'DOMAIN_PRIVACY_DISABLE';\nexport const DOMAIN_PRIVACY_DISABLE_FAILURE = 'DOMAIN_PRIVACY_DISABLE_FAILURE';\nexport const DOMAIN_PRIVACY_DISABLE_SUCCESS = 'DOMAIN_PRIVACY_DISABLE_SUCCESS';\nexport const DOMAIN_PRIVACY_ENABLE = 'DOMAIN_PRIVACY_ENABLE';\nexport const DOMAIN_PRIVACY_ENABLE_FAILURE = 'DOMAIN_PRIVACY_ENABLE_FAILURE';\nexport const DOMAIN_PRIVACY_ENABLE_SUCCESS = 'DOMAIN_PRIVACY_ENABLE_SUCCESS';\nexport const DOMAIN_TRANSFER_ACCEPT = 'DOMAIN_TRANSFER_ACCEPT';\nexport const DOMAIN_TRANSFER_ACCEPT_COMPLETED = 'DOMAIN_TRANSFER_ACCEPT_COMPLETED';\nexport const DOMAIN_TRANSFER_CANCEL_REQUEST = 'DOMAIN_TRANSFER_CANCEL_REQUEST';\nexport const DOMAIN_TRANSFER_CANCEL_REQUEST_COMPLETED = 'DOMAIN_TRANSFER_CANCEL_REQUEST_COMPLETED';\nexport const DOMAIN_TRANSFER_CANCEL_REQUEST_FAILED = 'DOMAIN_TRANSFER_CANCEL_REQUEST_FAILED';\nexport const DOMAIN_TRANSFER_CODE_REQUEST = 'DOMAIN_TRANSFER_CODE_REQUEST';\nexport const DOMAIN_TRANSFER_CODE_REQUEST_COMPLETED = 'DOMAIN_TRANSFER_CODE_REQUEST_COMPLETED';\nexport const DOMAIN_TRANSFER_CODE_REQUEST_FAILED = 'DOMAIN_TRANSFER_CODE_REQUEST_FAILED';\nexport const DOMAIN_TRANSFER_DECLINE = 'DOMAIN_TRANSFER_DECLINE';\nexport const DOMAIN_TRANSFER_DECLINE_COMPLETED = 'DOMAIN_TRANSFER_DECLINE_COMPLETED';\nexport const DOMAIN_TRANSFER_IPS_TAG_SAVE = 'DOMAIN_TRANSFER_IPS_TAG_SAVE';\nexport const DOMAIN_TRANSFER_UPDATE = 'DOMAIN_TRANSFER_UPDATE';\nexport const DOMAIN_TRANSFER_UPDATE_LOCK = 'DOMAIN_TRANSFER_UPDATE_LOCK';\nexport const DOMAIN_WAPI_INFO_FETCH = 'DOMAIN_WAPI_INFO_FETCH';\nexport const DOMAIN_WAPI_INFO_FETCH_FAILURE = 'DOMAIN_WAPI_INFO_FETCH_FAILURE';\nexport const DOMAIN_WAPI_INFO_FETCH_SUCCESS = 'DOMAIN_WAPI_INFO_FETCH_SUCCESS';\nexport const DOMAINS_DNS_ADD = 'DOMAINS_DNS_ADD';\nexport const DOMAINS_DNS_ADD_COMPLETED = 'DOMAINS_DNS_ADD_COMPLETED';\nexport const DOMAINS_DNS_ADD_FAILED = 'DOMAINS_DNS_ADD_FAILED';\nexport const DOMAINS_DNS_APPLY_TEMPLATE_COMPLETED = 'DOMAINS_DNS_APPLY_TEMPLATE_COMPLETED';\nexport const DOMAINS_DNS_DELETE = 'DOMAINS_DNS_DELETE';\nexport const DOMAINS_DNS_DELETE_COMPLETED = 'DOMAINS_DNS_DELETE_COMPLETED';\nexport const DOMAINS_DNS_DELETE_FAILED = 'DOMAINS_DNS_DELETE_FAILED';\nexport const DOMAINS_DNS_FETCH = 'DOMAINS_DNS_FETCH';\nexport const DOMAINS_DNS_FETCH_COMPLETED = 'DOMAINS_DNS_FETCH_COMPLETED';\nexport const DOMAINS_DNS_FETCH_FAILED = 'DOMAINS_DNS_FETCH_FAILED';\nexport const DOMAINS_DNS_UPDATE = 'DOMAINS_DNS_UPDATE';\nexport const DOMAINS_DNS_UPDATE_COMPLETED = 'DOMAINS_DNS_UPDATE_COMPLETED';\nexport const DOMAINS_DNS_UPDATE_FAILED = 'DOMAINS_DNS_UPDATE_FAILED';\nexport const DOMAINS_SITE_REDIRECT_FETCH = 'DOMAINS_SITE_REDIRECT_FETCH';\nexport const DOMAINS_SITE_REDIRECT_FETCH_COMPLETED = 'DOMAINS_SITE_REDIRECT_FETCH_COMPLETED';\nexport const DOMAINS_SITE_REDIRECT_FETCH_FAILED = 'DOMAINS_SITE_REDIRECT_FETCH_FAILED';\nexport const DOMAINS_SITE_REDIRECT_NOTICE_CLOSE = 'DOMAINS_SITE_REDIRECT_NOTICE_CLOSE';\nexport const DOMAINS_SITE_REDIRECT_UPDATE = 'DOMAINS_SITE_REDIRECT_UPDATE';\nexport const DOMAINS_SITE_REDIRECT_UPDATE_COMPLETED = 'DOMAINS_SITE_REDIRECT_UPDATE_COMPLETED';\nexport const DOMAINS_SITE_REDIRECT_UPDATE_FAILED = 'DOMAINS_SITE_REDIRECT_UPDATE_FAILED';\nexport const DOMAINS_SUGGESTIONS_RECEIVE = 'DOMAINS_SUGGESTIONS_RECEIVE';\nexport const DOMAINS_SUGGESTIONS_REQUEST = 'DOMAINS_SUGGESTIONS_REQUEST';\nexport const DOMAINS_SUGGESTIONS_REQUEST_FAILURE = 'DOMAINS_SUGGESTIONS_REQUEST_FAILURE';\nexport const DOMAINS_SUGGESTIONS_REQUEST_SUCCESS = 'DOMAINS_SUGGESTIONS_REQUEST_SUCCESS';\nexport const EDITOR_IFRAME_LOADED = 'EDITOR_IFRAME_LOADED';\nexport const EDITOR_START = 'EDITOR_START';\nexport const EDITOR_STOP = 'EDITOR_STOP';\nexport const EDITOR_TYPE_REQUEST = 'EDITOR_TYPE_REQUEST';\nexport const EDITOR_TYPE_SET = 'EDITOR_TYPE_SET';\nexport const EMAIL_ACCOUNTS_REQUEST = 'EMAIL_ACCOUNTS_REQUEST';\nexport const EMAIL_ACCOUNTS_REQUEST_FAILURE = 'EMAIL_ACCOUNTS_REQUEST_FAILURE';\nexport const EMAIL_ACCOUNTS_REQUEST_SUCCESS = 'EMAIL_ACCOUNTS_REQUEST_SUCCESS';\nexport const EMAIL_FORWARDING_ADD_REQUEST = 'EMAIL_FORWARDING_ADD_REQUEST';\nexport const EMAIL_FORWARDING_ADD_REQUEST_FAILURE = 'EMAIL_FORWARDING_ADD_REQUEST_FAILURE';\nexport const EMAIL_FORWARDING_ADD_REQUEST_SUCCESS = 'EMAIL_FORWARDING_ADD_REQUEST_SUCCESS';\nexport const EMAIL_FORWARDING_REMOVE_REQUEST = 'EMAIL_FORWARDING_REMOVE_REQUEST';\nexport const EMAIL_FORWARDING_REMOVE_REQUEST_FAILURE = 'EMAIL_FORWARDING_REMOVE_REQUEST_FAILURE';\nexport const EMAIL_FORWARDING_REMOVE_REQUEST_SUCCESS = 'EMAIL_FORWARDING_REMOVE_REQUEST_SUCCESS';\nexport const EMAIL_FORWARDING_REQUEST = 'EMAIL_FORWARDING_REQUEST';\nexport const EMAIL_FORWARDING_REQUEST_FAILURE = 'EMAIL_FORWARDING_REQUEST_FAILURE';\nexport const EMAIL_FORWARDING_REQUEST_SUCCESS = 'EMAIL_FORWARDING_REQUEST_SUCCESS';\nexport const EMAIL_FORWARDING_RESEND_VERIFICATION_REQUEST =\n\t'EMAIL_FORWARDING_RESEND_VERIFICATION_REQUEST';\nexport const EMAIL_FORWARDING_RESEND_VERIFICATION_REQUEST_FAILURE =\n\t'EMAIL_FORWARDING_RESEND_VERIFICATION_REQUEST_FAILURE';\nexport const EMAIL_FORWARDING_RESEND_VERIFICATION_REQUEST_SUCCESS =\n\t'EMAIL_FORWARDING_RESEND_VERIFICATION_REQUEST_SUCCESS';\nexport const EMAIL_VERIFY_REQUEST = 'EMAIL_VERIFY_REQUEST';\nexport const EMAIL_VERIFY_REQUEST_FAILURE = 'EMAIL_VERIFY_REQUEST_FAILURE';\nexport const EMAIL_VERIFY_REQUEST_SUCCESS = 'EMAIL_VERIFY_REQUEST_SUCCESS';\nexport const EMAIL_VERIFY_STATE_RESET = 'EMAIL_VERIFY_STATE_RESET';\nexport const EXPORT_ADVANCED_SETTINGS_FETCH = 'EXPORT_ADVANCED_SETTINGS_FETCH';\nexport const EXPORT_ADVANCED_SETTINGS_FETCH_FAIL = 'EXPORT_ADVANCED_SETTINGS_FETCH_FAIL';\nexport const EXPORT_ADVANCED_SETTINGS_RECEIVE = 'EXPORT_ADVANCED_SETTINGS_RECEIVE';\nexport const EXPORT_CLEAR = 'EXPORT_CLEAR';\nexport const EXPORT_COMPLETE = 'EXPORT_COMPLETE';\nexport const EXPORT_FAILURE = 'EXPORT_FAILURE';\nexport const EXPORT_MEDIA_REQUEST = 'EXPORT_MEDIA_REQUEST';\nexport const EXPORT_POST_TYPE_FIELD_SET = 'EXPORT_POST_TYPE_FIELD_SET';\nexport const EXPORT_POST_TYPE_SET = 'EXPORT_POST_TYPE_SET';\nexport const EXPORT_START_REQUEST = 'EXPORT_START_REQUEST';\nexport const EXPORT_STARTED = 'EXPORT_STARTED';\nexport const EXPORT_STATUS_FETCH = 'EXPORT_STATUS_FETCH';\nexport const GOOGLE_MY_BUSINESS_STATS_CHANGE_INTERVAL = 'GOOGLE_MY_BUSINESS_STATS_CHANGE_INTERVAL';\nexport const GOOGLE_MY_BUSINESS_STATS_FAILURE = 'GOOGLE_MY_BUSINESS_STATS_FAILURE';\nexport const GOOGLE_MY_BUSINESS_STATS_RECEIVE = 'GOOGLE_MY_BUSINESS_STATS_RECEIVE';\nexport const GOOGLE_MY_BUSINESS_STATS_REQUEST = 'GOOGLE_MY_BUSINESS_STATS_REQUEST';\nexport const GRAVATAR_RECEIVE_IMAGE_FAILURE = 'GRAVATAR_RECEIVE_IMAGE_FAILURE';\nexport const GRAVATAR_UPLOAD_RECEIVE = 'GRAVATAR_UPLOAD_RECEIVE';\nexport const GRAVATAR_UPLOAD_REQUEST = 'GRAVATAR_UPLOAD_REQUEST';\nexport const GRAVATAR_UPLOAD_REQUEST_FAILURE = 'GRAVATAR_UPLOAD_REQUEST_FAILURE';\nexport const GRAVATAR_UPLOAD_REQUEST_SUCCESS = 'GRAVATAR_UPLOAD_REQUEST_SUCCESS';\nexport const GSUITE_USERS_REQUEST = 'GSUITE_USERS_REQUEST';\nexport const GSUITE_USERS_REQUEST_FAILURE = 'GSUITE_USERS_REQUEST_FAILURE';\nexport const GSUITE_USERS_REQUEST_SUCCESS = 'GSUITE_USERS_REQUEST_SUCCESS';\nexport const GUIDED_TOUR_PAUSE = 'GUIDED_TOUR_PAUSE';\nexport const GUIDED_TOUR_RESUME = 'GUIDED_TOUR_RESUME';\nexport const GUIDED_TOUR_UPDATE = 'GUIDED_TOUR_UPDATE';\nexport const GUTENBERG_IFRAME_ELIGIBLE_SET = 'GUTENBERG_IFRAME_ELIGIBLE_SET';\nexport const HAPPYCHAT_BLUR = 'HAPPYCHAT_BLUR';\nexport const HAPPYCHAT_FOCUS = 'HAPPYCHAT_FOCUS';\nexport const HAPPYCHAT_IO_INIT = 'HAPPYCHAT_IO_INIT';\nexport const HAPPYCHAT_IO_RECEIVE_ACCEPT = 'HAPPYCHAT_IO_RECEIVE_ACCEPT';\nexport const HAPPYCHAT_IO_RECEIVE_CONNECT = 'HAPPYCHAT_IO_RECEIVE_CONNECT';\nexport const HAPPYCHAT_IO_RECEIVE_DISCONNECT = 'HAPPYCHAT_IO_RECEIVE_DISCONNECT';\nexport const HAPPYCHAT_IO_RECEIVE_ERROR = 'HAPPYCHAT_IO_RECEIVE_ERROR';\nexport const HAPPYCHAT_IO_RECEIVE_INIT = 'HAPPYCHAT_IO_RECEIVE_INIT';\nexport const HAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT = 'HAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT';\nexport const HAPPYCHAT_IO_RECEIVE_MESSAGE = 'HAPPYCHAT_IO_RECEIVE_MESSAGE';\nexport const HAPPYCHAT_IO_RECEIVE_MESSAGE_OPTIMISTIC = 'HAPPYCHAT_IO_RECEIVE_MESSAGE_OPTIMISTIC';\nexport const HAPPYCHAT_IO_RECEIVE_MESSAGE_UPDATE = 'HAPPYCHAT_IO_RECEIVE_MESSAGE_UPDATE';\nexport const HAPPYCHAT_IO_RECEIVE_RECONNECTING = 'HAPPYCHAT_IO_RECEIVE_RECONNECTING';\nexport const HAPPYCHAT_IO_RECEIVE_STATUS = 'HAPPYCHAT_IO_RECEIVE_STATUS';\nexport const HAPPYCHAT_IO_RECEIVE_TOKEN = 'HAPPYCHAT_IO_RECEIVE_TOKEN';\nexport const HAPPYCHAT_IO_RECEIVE_UNAUTHORIZED = 'HAPPYCHAT_IO_RECEIVE_UNAUTHORIZED';\nexport const HAPPYCHAT_IO_REQUEST_TRANSCRIPT = 'HAPPYCHAT_IO_REQUEST_TRANSCRIPT';\nexport const HAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE = 'HAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE';\nexport const HAPPYCHAT_IO_SEND_MESSAGE_EVENT = 'HAPPYCHAT_IO_SEND_MESSAGE_EVENT';\nexport const HAPPYCHAT_IO_SEND_MESSAGE_LOG = 'HAPPYCHAT_IO_SEND_MESSAGE_LOG';\nexport const HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE = 'HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE';\nexport const HAPPYCHAT_IO_SEND_MESSAGE_USERINFO = 'HAPPYCHAT_IO_SEND_MESSAGE_USERINFO';\nexport const HAPPYCHAT_IO_SEND_PREFERENCES = 'HAPPYCHAT_IO_SEND_PREFERENCES';\nexport const HAPPYCHAT_IO_SEND_TYPING = 'HAPPYCHAT_IO_SEND_TYPING';\nexport const HAPPYCHAT_IO_SET_CUSTOM_FIELDS = 'HAPPYCHAT_IO_SET_CUSTOM_FIELDS';\nexport const HAPPYCHAT_MINIMIZING = 'HAPPYCHAT_MINIMIZING';\nexport const HAPPYCHAT_OPEN = 'HAPPYCHAT_OPEN';\nexport const HAPPYCHAT_SET_CURRENT_MESSAGE = 'HAPPYCHAT_SET_CURRENT_MESSAGE';\nexport const HAPPYCHAT_SET_USER_CONFIG = 'HAPPYCHAT_SET_USER_CONFIG';\nexport const HELP_CENTER_VISIBLE = 'HELP_CENTER_VISIBLE';\nexport const HELP_CONTACT_FORM_SITE_SELECT = 'HELP_CONTACT_FORM_SITE_SELECT';\nexport const HELP_TICKET_CONFIGURATION_REQUEST = 'HELP_TICKET_CONFIGURATION_REQUEST';\nexport const HELP_TICKET_CONFIGURATION_REQUEST_FAILURE =\n\t'HELP_TICKET_CONFIGURATION_REQUEST_FAILURE';\nexport const HELP_TICKET_CONFIGURATION_REQUEST_SUCCESS =\n\t'HELP_TICKET_CONFIGURATION_REQUEST_SUCCESS';\nexport const HOSTING_CLEAR_CACHE_REQUEST = 'HOSTING_CLEAR_CACHE_REQUEST';\nexport const HOSTING_PHP_VERSION_REQUEST = 'HOSTING_PHP_VERSION_REQUEST';\nexport const HOSTING_PHP_VERSION_SET = 'HOSTING_PHP_VERSION_SET';\nexport const HOSTING_PHP_VERSION_SET_REQUEST = 'HOSTING_PHP_VERSION_SET_REQUEST';\nexport const HOSTING_RESTORE_DATABASE_PASSWORD = 'HOSTING_RESTORE_DATABASE_PASSWORD';\nexport const HOSTING_SFTP_PASSWORD_RESET = 'HOSTING_SFTP_PASSWORD_RESET';\nexport const HOSTING_SFTP_USER_CREATE = 'HOSTING_SFTP_USER_CREATE';\nexport const HOSTING_SFTP_USER_UPDATE = 'HOSTING_SFTP_USER_UPDATE';\nexport const HOSTING_SFTP_USERS_REQUEST = 'HOSTING_SFTP_USERS_REQUEST';\nexport const HOSTING_SFTP_USERS_SET = 'HOSTING_SFTP_USERS_SET';\nexport const I18N_LANGUAGE_NAMES_ADD = 'I18N_LANGUAGE_NAMES_ADD';\nexport const I18N_LANGUAGE_NAMES_REQUEST = 'I18N_LANGUAGE_NAMES_REQUEST';\nexport const I18N_LOCALE_SUGGESTIONS_ADD = 'I18N_LOCALE_SUGGESTIONS_ADD';\nexport const I18N_LOCALE_SUGGESTIONS_REQUEST = 'I18N_LOCALE_SUGGESTIONS_REQUEST';\nexport const IMAGE_EDITOR_COMPUTED_CROP = 'IMAGE_EDITOR_COMPUTED_CROP';\nexport const IMAGE_EDITOR_CROP = 'IMAGE_EDITOR_CROP';\nexport const IMAGE_EDITOR_FLIP = 'IMAGE_EDITOR_FLIP';\nexport const IMAGE_EDITOR_IMAGE_HAS_LOADED = 'IMAGE_EDITOR_IMAGE_HAS_LOADED';\nexport const IMAGE_EDITOR_ROTATE_COUNTERCLOCKWISE = 'IMAGE_EDITOR_ROTATE_COUNTERCLOCKWISE';\nexport const IMAGE_EDITOR_SET_ASPECT_RATIO = 'IMAGE_EDITOR_SET_ASPECT_RATIO';\nexport const IMAGE_EDITOR_SET_CROP_BOUNDS = 'IMAGE_EDITOR_SET_CROP_BOUNDS';\nexport const IMAGE_EDITOR_SET_DEFAULT_ASPECT_RATIO = 'IMAGE_EDITOR_SET_DEFAULT_ASPECT_RATIO';\nexport const IMAGE_EDITOR_SET_FILE_INFO = 'IMAGE_EDITOR_SET_FILE_INFO';\nexport const IMAGE_EDITOR_STATE_RESET = 'IMAGE_EDITOR_STATE_RESET';\nexport const IMAGE_EDITOR_STATE_RESET_ALL = 'IMAGE_EDITOR_STATE_RESET_ALL';\nexport const IMMEDIATE_LOGIN_SAVE_INFO = 'IMMEDIATE_LOGIN_SAVE_INFO';\nexport const IMPORTS_AUTHORS_SET_MAPPING = 'IMPORTS_AUTHORS_SET_MAPPING';\nexport const IMPORTS_AUTHORS_START_MAPPING = 'IMPORTS_AUTHORS_START_MAPPING';\nexport const IMPORTS_IMPORT_CANCEL = 'IMPORTS_IMPORT_CANCEL';\nexport const IMPORTS_IMPORT_LOCK = 'IMPORTS_IMPORT_LOCK';\nexport const IMPORTS_IMPORT_RECEIVE = 'IMPORTS_IMPORT_RECEIVE';\nexport const IMPORTS_IMPORT_RESET = 'IMPORTS_IMPORT_RESET';\nexport const IMPORTS_IMPORT_START = 'IMPORTS_IMPORT_START';\nexport const IMPORTS_IMPORT_UNLOCK = 'IMPORTS_IMPORT_UNLOCK';\nexport const IMPORTS_START_IMPORTING = 'IMPORTS_START_IMPORTING';\nexport const IMPORTS_UPLOAD_COMPLETED = 'IMPORTS_UPLOAD_COMPLETED';\nexport const IMPORTS_UPLOAD_FAILED = 'IMPORTS_UPDLOAD_FAILED';\nexport const IMPORTS_UPLOAD_SET_PROGRESS = 'IMPORTS_UPLOAD_SET_PROGRESS';\nexport const IMPORTS_UPLOAD_START = 'IMPORTS_UPLOAD_START';\nexport const INLINE_HELP_POPOVER_HIDE = 'INLINE_HELP_POPOVER_HIDE';\nexport const INLINE_HELP_POPOVER_SHOW = 'INLINE_HELP_POPOVER_SHOW';\nexport const INVITE_ACCEPTED = 'INVITE_ACCEPTED';\nexport const INVITE_RESEND_REQUEST = 'INVITE_RESEND_REQUEST';\nexport const INVITE_RESEND_REQUEST_FAILURE = 'INVITE_RESEND_REQUEST_FAILURE';\nexport const INVITE_RESEND_REQUEST_SUCCESS = 'INVITE_RESEND_REQUEST_SUCCESS';\nexport const INVITES_DELETE_REQUEST = 'INVITES_DELETE_REQUEST';\nexport const INVITES_DELETE_REQUEST_FAILURE = 'INVITES_DELETE_REQUEST_FAILURE';\nexport const INVITES_DELETE_REQUEST_SUCCESS = 'INVITES_DELETE_REQUEST_SUCCESS';\nexport const INVITES_REQUEST = 'INVITES_REQUEST';\nexport const INVITES_REQUEST_FAILURE = 'INVITES_REQUEST_FAILURE';\nexport const INVITES_REQUEST_SUCCESS = 'INVITES_REQUEST_SUCCESS';\nexport const JETPACK_CHECKOUT_UPDATE_SUPPORT_TICKET_RECEIVE =\n\t'JETPACK_CHECKOUT_UPDATE_SUPPORT_TICKET_RECEIVE';\nexport const JETPACK_CHECKOUT_UPDATE_SUPPORT_TICKET_REQUEST =\n\t'JETPACK_CHECKOUT_UPDATE_SUPPORT_TICKET_REQUEST';\nexport const JETPACK_CHECKOUT_UPDATE_SUPPORT_TICKET_REQUEST_FAILURE =\n\t'JETPACK_CHECKOUT_UPDATE_SUPPORT_TICKET_REQUEST_FAILURE';\nexport const JETPACK_CHECKOUT_UPDATE_SUPPORT_TICKET_REQUEST_SUCCESS =\n\t'JETPACK_CHECKOUT_UPDATE_SUPPORT_TICKET_REQUEST_SUCCESS';\nexport const JETPACK_CONNECTION_STATUS_RECEIVE = 'JETPACK_CONNECTION_STATUS_RECEIVE';\nexport const JETPACK_CONNECTION_STATUS_REQUEST = 'JETPACK_CONNECTION_STATUS_REQUEST';\nexport const JETPACK_CONNECTION_STATUS_REQUEST_FAILURE =\n\t'JETPACK_CONNECTION_STATUS_REQUEST_FAILURE';\nexport const JETPACK_CONNECTION_STATUS_REQUEST_SUCCESS =\n\t'JETPACK_CONNECTION_STATUS_REQUEST_SUCCESS';\nexport const JETPACK_CREDENTIALS_AUTOCONFIGURE = 'JETPACK_CREDENTIALS_AUTOCONFIGURE';\nexport const JETPACK_CREDENTIALS_DELETE = 'JETPACK_CREDENTIALS_DELETE';\nexport const JETPACK_CREDENTIALS_GET = 'JETPACK_CREDENTIALS_GET';\nexport const JETPACK_CREDENTIALS_GET_FAILURE = 'JETPACK_CREDENTIALS_GET_FAILURE';\nexport const JETPACK_CREDENTIALS_GET_SUCCESS = 'JETPACK_CREDENTIALS_GET_SUCCESS';\nexport const JETPACK_CREDENTIALS_STORE = 'JETPACK_CREDENTIALS_STORE';\nexport const JETPACK_CREDENTIALS_UPDATE = 'JETPACK_CREDENTIALS_UPDATE';\nexport const JETPACK_CREDENTIALS_UPDATE_FAILURE = 'JETPACK_CREDENTIALS_UPDATE_FAILURE';\nexport const JETPACK_CREDENTIALS_UPDATE_PROGRESS_START =\n\t'JETPACK_CREDENTIALS_UPDATE_PROGRESS_START';\nexport const JETPACK_CREDENTIALS_UPDATE_PROGRESS_UPDATE =\n\t'JETPACK_CREDENTIALS_UPDATE_PROGRESS_UPDATE';\nexport const JETPACK_CREDENTIALS_UPDATE_RESET = 'JETPACK_CREDENTIALS_UPDATE_RESET';\nexport const JETPACK_CREDENTIALS_UPDATE_SUCCESS = 'JETPACK_CREDENTIALS_UPDATE_SUCCESS';\nexport const JETPACK_DISCONNECT_RECEIVE = 'JETPACK_DISCONNECT_RECEIVE';\nexport const JETPACK_MODULE_ACTIVATE = 'JETPACK_MODULE_ACTIVATE';\nexport const JETPACK_MODULE_ACTIVATE_FAILURE = 'JETPACK_MODULE_ACTIVATE_FAILURE';\nexport const JETPACK_MODULE_ACTIVATE_SUCCESS = 'JETPACK_MODULE_ACTIVATE_SUCCESS';\nexport const JETPACK_MODULE_DEACTIVATE = 'JETPACK_MODULE_DEACTIVATE';\nexport const JETPACK_MODULE_DEACTIVATE_FAILURE = 'JETPACK_MODULE_DEACTIVATE_FAILURE';\nexport const JETPACK_MODULE_DEACTIVATE_SUCCESS = 'JETPACK_MODULE_DEACTIVATE_SUCCESS';\nexport const JETPACK_MODULES_RECEIVE = 'JETPACK_MODULES_RECEIVE';\nexport const JETPACK_MODULES_REQUEST = 'JETPACK_MODULES_REQUEST';\nexport const JETPACK_MODULES_REQUEST_FAILURE = 'JETPACK_MODULES_REQUEST_FAILURE';\nexport const JETPACK_MODULES_REQUEST_SUCCESS = 'JETPACK_MODULES_REQUEST_SUCCESS';\nexport const JETPACK_PARTNER_PORTAL_LICENSE_COUNTS_RECEIVE =\n\t'JETPACK_PARTNER_PORTAL_LICENSE_COUNTS_RECEIVE';\nexport const JETPACK_PARTNER_PORTAL_LICENSE_COUNTS_REQUEST =\n\t'JETPACK_PARTNER_PORTAL_LICENSE_COUNTS_REQUEST';\nexport const JETPACK_PARTNER_PORTAL_LICENSES_RECEIVE = 'JETPACK_PARTNER_PORTAL_LICENSES_RECEIVE';\nexport const JETPACK_PARTNER_PORTAL_LICENSES_REQUEST = 'JETPACK_PARTNER_PORTAL_LICENSES_REQUEST';\nexport const JETPACK_PARTNER_PORTAL_PARTNER_ACTIVE_PARTNER_KEY_UPDATE =\n\t'JETPACK_PARTNER_PORTAL_PARTNER_ACTIVE_PARTNER_KEY_UPDATE';\nexport const JETPACK_PARTNER_PORTAL_PARTNER_RECEIVE = 'JETPACK_PARTNER_PORTAL_PARTNER_RECEIVE';\nexport const JETPACK_PARTNER_PORTAL_PARTNER_RECEIVE_ERROR =\n\t'JETPACK_PARTNER_PORTAL_PARTNER_RECEIVE_ERROR';\nexport const JETPACK_PARTNER_PORTAL_PARTNER_REQUEST = 'JETPACK_PARTNER_PORTAL_PARTNER_REQUEST';\nexport const JETPACK_PRODUCT_INSTALL_REQUEST = 'JETPACK_PRODUCT_INSTALL_REQUEST';\nexport const JETPACK_PRODUCT_INSTALL_STATUS_RECEIVE = 'JETPACK_PRODUCT_INSTALL_STATUS_RECEIVE';\nexport const JETPACK_PRODUCT_INSTALL_STATUS_REQUEST = 'JETPACK_PRODUCT_INSTALL_STATUS_REQUEST';\nexport const JETPACK_REMOTE_INSTALL = 'JETPACK_REMOTE_INSTALL';\nexport const JETPACK_REMOTE_INSTALL_FAILURE = 'JETPACK_REMOTE_INSTALL_FAILURE';\nexport const JETPACK_REMOTE_INSTALL_SUCCESS = 'JETPACK_REMOTE_INSTALL_SUCCESS';\nexport const JETPACK_SCAN_ENQUEUE_REQUEST = 'JETPACK_SCAN_ENQUEUE_REQUEST';\nexport const JETPACK_SCAN_ENQUEUE_REQUEST_FAILURE = 'JETPACK_SCAN_ENQUEUE_REQUEST_FAILURE';\nexport const JETPACK_SCAN_ENQUEUE_REQUEST_SUCCESS = 'JETPACK_SCAN_ENQUEUE_REQUEST_SUCCESS';\nexport const JETPACK_SCAN_ENQUEUE_UPDATE = 'JETPACK_SCAN_ENQUEUE_UPDATE';\nexport const JETPACK_SCAN_HISTORY_REQUEST = 'JETPACK_SCAN_HISTORY_REQUEST';\nexport const JETPACK_SCAN_HISTORY_REQUEST_FAILURE = 'JETPACK_SCAN_HISTORY_REQUEST_FAILURE';\nexport const JETPACK_SCAN_HISTORY_REQUEST_SUCCESS = 'JETPACK_SCAN_HISTORY_REQUEST_SUCCESS';\nexport const JETPACK_SCAN_HISTORY_UPDATE = 'JETPACK_SCAN_HISTORY_UPDATE';\nexport const JETPACK_SCAN_REQUEST = 'JETPACK_SCAN_REQUEST';\nexport const JETPACK_SCAN_REQUEST_FAILURE = 'JETPACK_SCAN_REQUEST_FAILURE';\nexport const JETPACK_SCAN_REQUEST_SUCCESS = 'JETPACK_SCAN_REQUEST_SUCCESS';\nexport const JETPACK_SCAN_THREAT_COUNTS_REQUEST = 'JETPACK_SCAN_THREAT_COUNTS_REQUEST';\nexport const JETPACK_SCAN_THREAT_COUNTS_REQUEST_FAILURE =\n\t'JETPACK_SCAN_THREAT_COUNTS_REQUEST_FAILURE';\nexport const JETPACK_SCAN_THREAT_COUNTS_REQUEST_SUCCESS =\n\t'JETPACK_SCAN_THREAT_COUNTS_REQUEST_SUCCESS';\nexport const JETPACK_SCAN_THREAT_COUNTS_UPDATE = 'JETPACK_SCAN_THREAT_COUNTS_UPDATE';\nexport const JETPACK_SCAN_THREAT_FIX = 'JETPACK_SCAN_THREAT_FIX';\nexport const JETPACK_SCAN_THREAT_IGNORE = 'JETPACK_SCAN_THREAT_IGNORE';\nexport const JETPACK_SCAN_THREATS_FIX_ALL = 'JETPACK_SCAN_THREATS_FIX_ALL';\nexport const JETPACK_SCAN_THREATS_GET_FIX_STATUS = 'JETPACK_SCAN_THREATS_GET_FIX_STATUS';\nexport const JETPACK_SCAN_UPDATE = 'JETPACK_SCAN_UPDATE';\nexport const JETPACK_SCAN_UPDATE_THREAT = 'JETPACK_SCAN_UPDATE_THREAT';\nexport const JETPACK_SCAN_UPDATE_THREAT_COMPLETED = 'JETPACK_SCAN_UPDATE_THREAT_COMPLETED';\nexport const JETPACK_SETTINGS_REQUEST = 'JETPACK_SETTINGS_REQUEST';\nexport const JETPACK_SETTINGS_SAVE = 'JETPACK_SETTINGS_SAVE';\nexport const JETPACK_SETTINGS_SAVE_SUCCESS = 'JETPACK_SETTINGS_SAVE_SUCCESS';\nexport const JETPACK_SETTINGS_UPDATE = 'JETPACK_SETTINGS_UPDATE';\nexport const JETPACK_SITE_ALERT_THREAT_FIX = 'JETPACK_SITE_ALERT_THREAT_FIX';\nexport const JETPACK_SITE_ALERT_THREAT_IGNORE = 'JETPACK_SITE_ALERT_THREAT_IGNORE';\nexport const JETPACK_SYNC_START_ERROR = 'JETPACK_SYNC_START_ERROR';\nexport const JETPACK_SYNC_START_REQUEST = 'JETPACK_SYNC_START_REQUEST';\nexport const JETPACK_SYNC_START_SUCCESS = 'JETPACK_SYNC_START_SUCCESS';\nexport const JETPACK_SYNC_STATUS_ERROR = 'JETPACK_SYNC_STATUS_ERROR';\nexport const JETPACK_SYNC_STATUS_REQUEST = 'JETPACK_SYNC_STATUS_REQUEST';\nexport const JETPACK_SYNC_STATUS_SUCCESS = 'JETPACK_SYNC_STATUS_SUCCESS';\nexport const JETPACK_USER_CONNECTION_CHANGE_OWNER = 'JETPACK_USER_CONNECTION_CHANGE_OWNER';\nexport const JETPACK_USER_CONNECTION_DATA_RECEIVE = 'JETPACK_USER_CONNECTION_DATA_RECEIVE';\nexport const JETPACK_USER_CONNECTION_DATA_REQUEST = 'JETPACK_USER_CONNECTION_DATA_REQUEST';\nexport const JETPACK_USER_CONNECTION_DATA_REQUEST_FAILURE =\n\t'JETPACK_USER_CONNECTION_DATA_REQUEST_FAILURE';\nexport const JETPACK_USER_CONNECTION_DATA_REQUEST_SUCCESS =\n\t'JETPACK_USER_CONNECTION_DATA_REQUEST_SUCCESS';\nexport const JITM_DISMISS = 'JITM_DISMISS';\nexport const JITM_FETCH = 'JITM_FETCH';\nexport const JITM_SET = 'JITM_SET';\nexport const KEYRING_CONNECTION_DELETE = 'KEYRING_CONNECTION_DELETE';\nexport const KEYRING_CONNECTION_DELETE_FAILURE = 'KEYRING_CONNECTION_DELETE_FAILURE';\nexport const KEYRING_CONNECTIONS_RECEIVE = 'KEYRING_CONNECTIONS_RECEIVE';\nexport const KEYRING_CONNECTIONS_REQUEST = 'KEYRING_CONNECTIONS_REQUEST';\nexport const KEYRING_CONNECTIONS_REQUEST_FAILURE = 'KEYRING_CONNECTIONS_REQUEST_FAILURE';\nexport const KEYRING_CONNECTIONS_REQUEST_SUCCESS = 'KEYRING_CONNECTIONS_REQUEST_SUCCESS';\nexport const KEYRING_SERVICES_RECEIVE = 'KEYRING_SERVICES_RECEIVE';\nexport const KEYRING_SERVICES_REQUEST = 'KEYRING_SERVICES_REQUEST';\nexport const KEYRING_SERVICES_REQUEST_FAILURE = 'KEYRING_SERVICES_REQUEST_FAILURE';\nexport const KEYRING_SERVICES_REQUEST_SUCCESS = 'KEYRING_SERVICES_REQUEST_SUCCESS';\nexport const LASAGNA_SOCKET_CONNECTED = 'LASAGNA_SOCKET_CONNECTED';\nexport const LASAGNA_SOCKET_DISCONNECTED = 'LASAGNA_SOCKET_DISCONNECTED';\nexport const LAYOUT_FOCUS_SET = 'LAYOUT_FOCUS_SET';\nexport const LAYOUT_NEXT_FOCUS_ACTIVATE = 'LAYOUT_NEXT_FOCUS_ACTIVATE';\nexport const LAYOUT_NEXT_FOCUS_SET = 'LAYOUT_NEXT_FOCUS_SET';\nexport const LEGAL_REQUEST = 'LEGAL_REQUEST';\nexport const LEGAL_SET = 'LEGAL_SET';\nexport const LOCALE_SET = 'LOCALE_SET';\nexport const LOGIN_AUTH_ACCOUNT_TYPE_REQUEST = 'LOGIN_AUTH_ACCOUNT_TYPE_REQUEST';\nexport const LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE = 'LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE';\nexport const LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS = 'LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS';\nexport const LOGIN_AUTH_ACCOUNT_TYPE_REQUESTING = 'LOGIN_AUTH_ACCOUNT_TYPE_REQUESTING';\nexport const LOGIN_AUTH_ACCOUNT_TYPE_RESET = 'LOGIN_AUTH_ACCOUNT_TYPE_RESET';\nexport const LOGIN_EMAIL_SEND = 'LOGIN_EMAIL_SEND';\nexport const LOGIN_FORM_UPDATE = 'LOGIN_FORM_UPDATE';\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\nexport const LOGIN_REQUEST_FAILURE = 'LOGIN_REQUEST_FAILURE';\nexport const LOGIN_REQUEST_SUCCESS = 'LOGIN_REQUEST_SUCCESS';\nexport const MAGIC_LOGIN_HIDE_REQUEST_FORM = 'MAGIC_LOGIN_HIDE_REQUEST_FORM';\nexport const MAGIC_LOGIN_HIDE_REQUEST_NOTICE = 'MAGIC_LOGIN_HIDE_REQUEST_NOTICE';\nexport const MAGIC_LOGIN_REQUEST_AUTH_ERROR = 'MAGIC_LOGIN_REQUEST_AUTH_ERROR';\nexport const MAGIC_LOGIN_REQUEST_AUTH_FETCH = 'MAGIC_LOGIN_REQUEST_AUTH_FETCH';\nexport const MAGIC_LOGIN_REQUEST_AUTH_SUCCESS = 'MAGIC_LOGIN_REQUEST_AUTH_SUCCESS';\nexport const MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_ERROR = 'MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_ERROR';\nexport const MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_FETCH = 'MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_FETCH';\nexport const MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_SUCCESS = 'MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_SUCCESS';\nexport const MAGIC_LOGIN_RESET_REQUEST_FORM = 'MAGIC_LOGIN_RESET_REQUEST_FORM';\nexport const MAGIC_LOGIN_SHOW_CHECK_YOUR_EMAIL_PAGE = 'MAGIC_LOGIN_SHOW_CHECK_YOUR_EMAIL_PAGE';\nexport const MAGIC_LOGIN_SHOW_INTERSTITIAL_PAGE = 'MAGIC_LOGIN_SHOW_INTERSTITIAL_PAGE';\nexport const MAGIC_LOGIN_SHOW_LINK_EXPIRED = 'MAGIC_LOGIN_SHOW_LINK_EXPIRED';\nexport const MAILCHIMP_LISTS_LIST = 'MAILCHIMP_LISTS_LIST';\nexport const MAILCHIMP_LISTS_RECEIVE = 'MAILCHIMP_LISTS_RECEIVE';\nexport const MAILCHIMP_SETTINGS_LIST = 'MAILCHIMP_SETTINGS_LIST';\nexport const MAILCHIMP_SETTINGS_RECEIVE = 'MAILCHIMP_SETTINGS_RECEIVE';\nexport const MAILCHIMP_SETTINGS_UPDATE = 'MAILCHIMP_SETTINGS_UPDATE';\nexport const MAILCHIMP_SETTINGS_UPDATE_FAILURE = 'MAILCHIMP_SETTINGS_UPDATE_FAILURE';\nexport const MAILCHIMP_SETTINGS_UPDATE_SUCCESS = 'MAILCHIMP_SETTINGS_UPDATE_SUCCESS';\nexport const MARKETING_CLICK_UPGRADE_NUDGE = 'MARKETING_CLICK_UPGRADE_NUDGE';\nexport const MARKETING_JETPACK_SALE_COUPON_FETCH_FAILURE =\n\t'MARKETING_JETPACK_SALE_COUPON_FETCH_FAILURE';\nexport const MARKETING_JETPACK_SALE_COUPON_FETCH = 'MARKETING_JETPACK_SALE_COUPON_FETCH';\nexport const MARKETING_JETPACK_SALE_COUPON_RECEIVE = 'MARKETING_JETPACK_SALE_COUPON_RECEIVE';\nexport const MARKETPLACE_BILLING_INTERVAL_SELECT = 'MARKETPLACE_BILLING_INTERVAL_SELECT';\nexport const MARKETPLACE_PLUGIN_INSTALLATION_STATE_CHANGE =\n\t'MARKETPLACE_PLUGIN_INSTALLATION_STATE_CHANGE';\nexport const MARKETPLACE_PRIMARY_DOMAIN_SELECT = 'MARKETPLACE_PRIMARY_DOMAIN_SELECT';\nexport const MARKETPLACE_QUEUE_PRODUCT_INSTALL = 'MARKETPLACE_QUEUE_PRODUCT_INSTALL';\nexport const MASTERBAR_TOGGLE_VISIBILITY = 'MASTERBAR_TOGGLE_VISIBILITY';\nexport const MEDIA_CLEAR_SITE = 'MEDIA_CLEAR_SITE';\nexport const MEDIA_DELETE = 'MEDIA_DELETE';\nexport const MEDIA_ERRORS_CLEAR = 'MEDIA_ERRORS_CLEAR';\nexport const MEDIA_ITEM_CREATE = 'MEDIA_ITEM_CREATE';\nexport const MEDIA_ITEM_EDIT = 'MEDIA_ITEM_EDIT';\nexport const MEDIA_ITEM_ERRORS_CLEAR = 'MEDIA_ITEM_ERRORS_CLEAR';\nexport const MEDIA_ITEM_ERRORS_SET = 'MEDIA_ITEM_ERRORS_SET';\nexport const MEDIA_ITEM_REQUEST = 'MEDIA_ITEM_REQUEST';\nexport const MEDIA_ITEM_REQUEST_FAILURE = 'MEDIA_ITEM_REQUEST_FAILURE';\nexport const MEDIA_ITEM_REQUEST_SUCCESS = 'MEDIA_ITEM_REQUEST_SUCCESS';\nexport const MEDIA_LIBRARY_SELECTED_ITEMS_UPDATE = 'MEDIA_LIBRARY_SELECTED_ITEMS_UPDATE';\nexport const MEDIA_MODAL_VIEW_SET = 'MEDIA_MODAL_VIEW_SET';\nexport const MEDIA_RECEIVE = 'MEDIA_RECEIVE';\nexport const MEDIA_REQUEST = 'MEDIA_REQUEST';\nexport const MEDIA_REQUEST_FAILURE = 'MEDIA_REQUEST_FAILURE';\nexport const MEDIA_REQUEST_SUCCESS = 'MEDIA_REQUEST_SUCCESS';\nexport const MEDIA_SET_NEXT_PAGE_HANDLE = 'MEDIA_SET_NEXT_PAGE_HANDLE';\nexport const MEDIA_SET_QUERY = 'MEDIA_SET_QUERY';\nexport const MEDIA_SOURCE_CHANGE = 'MEDIA_SOURCE_CHANGE';\nexport const MEMBERSHIPS_EARNINGS_GET = 'MEMBERSHIPS_EARNINGS_GET';\nexport const MEMBERSHIPS_EARNINGS_RECEIVE = 'MEMBERSHIPS_EARNINGS_RECEIVE';\nexport const MEMBERSHIPS_PRODUCT_ADD = 'MEMBERSHIPS_PRODUCT_ADD';\nexport const MEMBERSHIPS_PRODUCT_ADD_FAILURE = 'MEMBERSHIPS_PRODUCT_ADD_FAILURE';\nexport const MEMBERSHIPS_PRODUCT_DELETE = 'MEMBERSHIPS_PRODUCT_DELETE';\nexport const MEMBERSHIPS_PRODUCT_DELETE_FAILURE = 'MEMBERSHIPS_PRODUCT_DELETE_FAILURE';\nexport const MEMBERSHIPS_PRODUCT_RECEIVE = 'MEMBERSHIPS_PRODUCT_RECEIVE';\nexport const MEMBERSHIPS_PRODUCT_UPDATE = 'MEMBERSHIPS_PRODUCT_UPDATE';\nexport const MEMBERSHIPS_PRODUCT_UPDATE_FAILURE = 'MEMBERSHIPS_PRODUCT_UPDATE_FAILURE';\nexport const MEMBERSHIPS_PRODUCTS_LIST = 'MEMBERSHIPS_PRODUCTS_LIST';\nexport const MEMBERSHIPS_PRODUCTS_RECEIVE = 'MEMBERSHIPS_PRODUCTS_RECEIVE';\nexport const MEMBERSHIPS_SETTINGS = 'MEMBERSHIPS_SETTINGS';\nexport const MEMBERSHIPS_SETTINGS_RECEIVE = 'MEMBERSHIPS_SETTINGS_RECEIVE';\nexport const MEMBERSHIPS_SUBSCRIBERS_LIST = 'MEMBERSHIPS_SUBSCRIBERS_LIST';\nexport const MEMBERSHIPS_SUBSCRIBERS_RECEIVE = 'MEMBERSHIPS_SUBSCRIBERS_RECEIVE';\nexport const MEMBERSHIPS_SUBSCRIPTION_STOP = 'MEMBERSHIPS_SUBSCRIPTION_STOP';\nexport const MEMBERSHIPS_SUBSCRIPTION_STOP_FAILURE = 'MEMBERSHIPS_SUBSCRIPTION_STOP_FAILURE';\nexport const MEMBERSHIPS_SUBSCRIPTION_STOP_SUCCESS = 'MEMBERSHIPS_SUBSCRIPTION_STOP_SUCCESS';\nexport const MEMBERSHIPS_SUBSCRIPTIONS_LIST_REQUEST = 'MEMBERSHIPS_SUBSCRIPTIONS_LIST_REQUEST';\nexport const MEMBERSHIPS_SUBSCRIPTIONS_RECEIVE = 'MEMBERSHIPS_SUBSCRIPTIONS_RECEIVE';\nexport const MY_SITES_SIDEBAR_SECTION_COLLAPSE = 'MY_SITES_SIDEBAR_SECTION_COLLAPSE';\nexport const MY_SITES_SIDEBAR_SECTION_EXPAND = 'MY_SITES_SIDEBAR_SECTION_EXPAND';\nexport const MY_SITES_SIDEBAR_SECTION_TOGGLE = 'MY_SITES_SIDEBAR_SECTION_TOGGLE';\nexport const MY_SITES_SIDEBAR_SECTIONS_COLLAPSE_ALL = 'MY_SITES_SIDEBAR_SECTIONS_COLLAPSE_ALL';\nexport const NOTICE_CREATE = 'NOTICE_CREATE';\nexport const NOTICE_REMOVE = 'NOTICE_REMOVE';\nexport const NOTIFICATION_SETTINGS_FETCH = 'NOTIFICATION_SETTINGS_FETCH';\nexport const NOTIFICATION_SETTINGS_FETCH_COMPLETE = 'NOTIFICATION_SETTINGS_FETCH_COMPLETE';\nexport const NOTIFICATION_SETTINGS_FETCH_FAILED = 'NOTIFICATION_SETTINGS_FETCH_FAILED';\nexport const NOTIFICATION_SETTINGS_REQUEST = 'NOTIFICATION_SETTINGS_REQUEST';\nexport const NOTIFICATION_SETTINGS_SAVE = 'NOTIFICATION_SETTINGS_SAVE';\nexport const NOTIFICATION_SETTINGS_SAVE_COMPLETE = 'NOTIFICATION_SETTINGS_SAVE_COMPLETE';\nexport const NOTIFICATION_SETTINGS_SAVE_FAILED = 'NOTIFICATION_SETTINGS_SAVE_FAILED';\nexport const NOTIFICATION_SETTINGS_TOGGLE_SETTING = 'NOTIFICATION_SETTINGS_TOGGLE_SETTING';\nexport const NOTIFICATION_SETTINGS_UPDATE = 'NOTIFICATION_SETTINGS_UPDATE';\nexport const NOTIFICATIONS_FORCE_REFRESH = 'NOTIFICATIONS_FORCE_REFRESH';\nexport const NOTIFICATIONS_PANEL_TOGGLE = 'NOTIFICATIONS_PANEL_TOGGLE';\nexport const NOTIFICATIONS_UNSEEN_COUNT_SET = 'NOTIFICATIONS_UNSEEN_COUNT_SET';\nexport const OAUTH2_CLIENT_DATA_RECEIVE = 'OAUTH2_CLIENT_DATA_RECEIVE';\nexport const ORDER_TRANSACTION_FETCH = 'ORDER_TRANSACTION_FETCH';\nexport const ORDER_TRANSACTION_FETCH_ERROR = 'ORDER_TRANSACTION_FETCH_ERROR';\nexport const ORDER_TRANSACTION_SET = 'ORDER_TRANSACTION_SET';\nexport const P2_CONNECTION_DELETE = 'P2_CONNECTION_DELETE';\nexport const P2_CONNECTION_DELETE_FAILURE = 'P2_CONNECTION_DELETE_FAILURE';\nexport const P2_CONNECTIONS_RECEIVE = 'P2_CONNECTIONS_RECEIVE';\nexport const P2_CONNECTIONS_REQUEST = 'P2_CONNECTIONS_REQUEST';\nexport const P2_CONNECTIONS_REQUEST_FAILURE = 'P2_CONNECTIONS_REQUEST_FAILURE';\nexport const P2_CONNECTIONS_REQUEST_SUCCESS = 'P2_CONNECTIONS_REQUEST_SUCCESS';\nexport const PLANS_RECEIVE = 'PLANS_RECEIVE';\nexport const PLANS_REQUEST = 'PLANS_REQUEST';\nexport const PLANS_REQUEST_FAILURE = 'PLANS_REQUEST_FAILURE';\nexport const PLANS_REQUEST_SUCCESS = 'PLANS_REQUEST_SUCCESS';\nexport const PLUGIN_ACTIVATE_REQUEST = 'PLUGINS_ACTIVATE_REQUEST';\nexport const PLUGIN_ACTIVATE_REQUEST_FAILURE = 'PLUGINS_ACTIVATE_REQUEST_FAILURE';\nexport const PLUGIN_ACTIVATE_REQUEST_SUCCESS = 'PLUGINS_ACTIVATE_REQUEST_SUCCESS';\nexport const PLUGIN_AUTOUPDATE_DISABLE_REQUEST = 'PLUGIN_AUTOUPDATE_DISABLE_REQUEST';\nexport const PLUGIN_AUTOUPDATE_DISABLE_REQUEST_FAILURE =\n\t'PLUGIN_AUTOUPDATE_DISABLE_REQUEST_FAILURE';\nexport const PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS =\n\t'PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS';\nexport const PLUGIN_AUTOUPDATE_ENABLE_REQUEST = 'PLUGIN_AUTOUPDATE_ENABLE_REQUEST';\nexport const PLUGIN_AUTOUPDATE_ENABLE_REQUEST_FAILURE = 'PLUGIN_AUTOUPDATE_ENABLE_REQUEST_FAILURE';\nexport const PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS = 'PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS';\nexport const PLUGIN_DEACTIVATE_REQUEST = 'PLUGIN_DEACTIVATE_REQUEST';\nexport const PLUGIN_DEACTIVATE_REQUEST_FAILURE = 'PLUGIN_DEACTIVATE_REQUEST_FAILURE';\nexport const PLUGIN_DEACTIVATE_REQUEST_SUCCESS = 'PLUGIN_DEACTIVATE_REQUEST_SUCCESS';\nexport const PLUGIN_INSTALL_REQUEST = 'PLUGIN_INSTALL_REQUEST';\nexport const PLUGIN_INSTALL_REQUEST_FAILURE = 'PLUGIN_INSTALL_REQUEST_FAILURE';\nexport const PLUGIN_INSTALL_REQUEST_SUCCESS = 'PLUGIN_INSTALL_REQUEST_SUCCESS';\nexport const PLUGIN_NOTICES_REMOVE = 'PLUGIN_NOTICES_REMOVE';\nexport const PLUGIN_REMOVE_REQUEST = 'PLUGIN_REMOVE_REQUEST';\nexport const PLUGIN_REMOVE_REQUEST_FAILURE = 'PLUGIN_REMOVE_REQUEST_FAILURE';\nexport const PLUGIN_REMOVE_REQUEST_SUCCESS = 'PLUGIN_REMOVE_REQUEST_SUCCESS';\nexport const PLUGIN_SETUP_ACTIVATE = 'PLUGIN_SETUP_ACTIVATE';\nexport const PLUGIN_SETUP_CONFIGURE = 'PLUGIN_SETUP_CONFIGURE';\nexport const PLUGIN_SETUP_ERROR = 'PLUGIN_SETUP_ERROR';\nexport const PLUGIN_SETUP_FINISH = 'PLUGIN_SETUP_FINISH';\nexport const PLUGIN_SETUP_INSTALL = 'PLUGIN_SETUP_INSTALL';\nexport const PLUGIN_SETUP_INSTRUCTIONS_FETCH = 'PLUGIN_SETUP_INSTRUCTIONS_FETCH';\nexport const PLUGIN_SETUP_INSTRUCTIONS_RECEIVE = 'PLUGIN_SETUP_INSTRUCTIONS_RECEIVE';\nexport const PLUGIN_UPDATE_REQUEST = 'PLUGINS_UPDATE_REQUEST';\nexport const PLUGIN_UPDATE_REQUEST_FAILURE = 'PLUGIN_UPDATE_REQUEST_FAILURE';\nexport const PLUGIN_UPDATE_REQUEST_SUCCESS = 'PLUGIN_UPDATE_REQUEST_SUCCESS';\nexport const PLUGIN_UPLOAD = 'PLUGIN_UPLOAD';\nexport const PLUGIN_UPLOAD_CLEAR = 'PLUGIN_UPLOAD_CLEAR';\nexport const PLUGIN_UPLOAD_COMPLETE = 'PLUGIN_UPLOAD_COMPLETE';\nexport const PLUGIN_UPLOAD_ERROR = 'PLUGIN_UPLOAD_ERROR';\nexport const PLUGIN_UPLOAD_PROGRESS = 'PLUGIN_UPLOAD_PROGRESS';\nexport const PLUGINS_RECEIVE = 'PLUGINS_RECEIVE';\nexport const PLUGINS_REQUEST = 'PLUGINS_REQUEST';\nexport const PLUGINS_REQUEST_FAILURE = 'PLUGINS_REQUEST_FAILURE';\nexport const PLUGINS_REQUEST_SUCCESS = 'PLUGINS_REQUEST_SUCCESS';\nexport const PLUGINS_WPORG_LIST_RECEIVE = 'PLUGINS_WPORG_LIST_RECEIVE';\nexport const PLUGINS_WPORG_LIST_REQUEST = 'PLUGINS_WPORG_LIST_REQUEST';\nexport const PLUGINS_WPORG_PLUGIN_RECEIVE = 'PLUGINS_WPORG_PLUGIN_RECEIVE';\nexport const PLUGINS_WPORG_PLUGIN_REQUEST = 'PLUGINS_WPORG_PLUGIN_REQUEST';\nexport const POST_COUNTS_RECEIVE = 'POST_COUNTS_RECEIVE';\nexport const POST_COUNTS_REQUEST = 'POST_COUNTS_REQUEST';\nexport const POST_COUNTS_REQUEST_FAILURE = 'POST_COUNTS_REQUEST_FAILURE';\nexport const POST_COUNTS_REQUEST_SUCCESS = 'POST_COUNTS_REQUEST_SUCCESS';\nexport const POST_COUNTS_RESET_INTERNAL_STATE = 'POST_COUNTS_RESET_INTERNAL_STATE';\nexport const POST_DELETE = 'POST_DELETE';\nexport const POST_DELETE_FAILURE = 'POST_DELETE_FAILURE';\nexport const POST_DELETE_SUCCESS = 'POST_DELETE_SUCCESS';\nexport const POST_EDIT = 'POST_EDIT';\nexport const POST_LIKE = 'POST_LIKE';\nexport const POST_LIKES_ADD_LIKER = 'POST_LIKES_ADD_LIKER';\nexport const POST_LIKES_RECEIVE = 'POST_LIKES_RECEIVE';\nexport const POST_LIKES_REMOVE_LIKER = 'POST_LIKES_REMOVE_LIKER';\nexport const POST_LIKES_REQUEST = 'POST_LIKES_REQUEST';\nexport const POST_REQUEST = 'POST_REQUEST';\nexport const POST_REQUEST_FAILURE = 'POST_REQUEST_FAILURE';\nexport const POST_REQUEST_SUCCESS = 'POST_REQUEST_SUCCESS';\nexport const POST_RESTORE = 'POST_RESTORE';\nexport const POST_RESTORE_FAILURE = 'POST_RESTORE_FAILURE';\nexport const POST_RESTORE_SUCCESS = 'POST_RESTORE_SUCCESS';\nexport const POST_REVISION_AUTHORS_RECEIVE = 'POST_REVISION_AUTHORS_RECEIVE';\nexport const POST_REVISIONS_AUTHORS_REQUEST = 'POST_REVISIONS_AUTHORS_REQUEST';\nexport const POST_REVISIONS_DIALOG_CLOSE = 'POST_REVISIONS_DIALOG_CLOSE';\nexport const POST_REVISIONS_DIALOG_OPEN = 'POST_REVISIONS_DIALOG_OPEN';\nexport const POST_REVISIONS_DIFF_SPLIT_VIEW = 'POST_REVISIONS_DIFF_SPLIT_VIEW';\nexport const POST_REVISIONS_DIFF_UNIFY_VIEW = 'POST_REVISIONS_DIFF_UNIFY_VIEW';\nexport const POST_REVISIONS_RECEIVE = 'POST_REVISIONS_RECEIVE';\nexport const POST_REVISIONS_REQUEST = 'POST_REVISIONS_REQUEST';\nexport const POST_REVISIONS_SELECT = 'POST_REVISIONS_SELECT';\nexport const POST_SAVE = 'POST_SAVE';\nexport const POST_SAVE_FAILURE = 'POST_SAVE_FAILURE';\nexport const POST_SAVE_SUCCESS = 'POST_SAVE_SUCCESS';\nexport const POST_STATS_RECEIVE = 'POST_STATS_RECEIVE';\nexport const POST_STATS_REQUEST = 'POST_STATS_REQUEST';\nexport const POST_STATS_REQUEST_FAILURE = 'POST_STATS_REQUEST_FAILURE';\nexport const POST_STATS_REQUEST_SUCCESS = 'POST_STATS_REQUEST_SUCCESS';\nexport const POST_TYPE_LIST_SHARE_PANEL_HIDE = 'POST_TYPE_LIST_SHARE_PANEL_HIDE';\nexport const POST_TYPE_LIST_SHARE_PANEL_TOGGLE = 'POST_TYPE_LIST_SHARE_PANEL_TOGGLE';\nexport const POST_TYPES_RECEIVE = 'POST_TYPES_RECEIVE';\nexport const POST_TYPES_REQUEST = 'POST_TYPES_REQUEST';\nexport const POST_TYPES_TAXONOMIES_RECEIVE = 'POST_TYPES_TAXONOMIES_RECEIVE';\nexport const POST_TYPES_TAXONOMIES_REQUEST = 'POST_TYPES_TAXONOMIES_REQUEST';\nexport const POST_TYPES_TAXONOMIES_REQUEST_FAILURE = 'POST_TYPES_TAXONOMIES_REQUEST_FAILURE';\nexport const POST_TYPES_TAXONOMIES_REQUEST_SUCCESS = 'POST_TYPES_TAXONOMIES_REQUEST_SUCCESS';\nexport const POST_UNLIKE = 'POST_UNLIKE';\nexport const POSTS_RECEIVE = 'POSTS_RECEIVE';\nexport const POSTS_REQUEST = 'POSTS_REQUEST';\nexport const POSTS_REQUEST_FAILURE = 'POSTS_REQUEST_FAILURE';\nexport const POSTS_REQUEST_SUCCESS = 'POSTS_REQUEST_SUCCESS';\nexport const PREFERENCES_FETCH = 'PREFERENCES_FETCH';\nexport const PREFERENCES_FETCH_FAILURE = 'PREFERENCES_FETCH_FAILURE';\nexport const PREFERENCES_FETCH_SUCCESS = 'PREFERENCES_FETCH_SUCCESS';\nexport const PREFERENCES_RECEIVE = 'PREFERENCES_RECEIVE';\nexport const PREFERENCES_SAVE_SUCCESS = 'PREFERENCES_SAVE_SUCCESS';\nexport const PREFERENCES_SET = 'PREFERENCES_SET';\nexport const PREVIEW_URL_CLEAR = 'PREVIEW_URL_CLEAR';\nexport const PREVIEW_URL_SET = 'PREVIEW_URL_SET';\nexport const PRODUCTS_LIST_RECEIVE = 'PRODUCTS_LIST_RECEIVE';\nexport const PRODUCTS_LIST_REQUEST = 'PRODUCTS_LIST_REQUEST';\nexport const PRODUCTS_LIST_REQUEST_FAILURE = 'PRODUCTS_LIST_REQUEST_FAILURE';\nexport const PUBLICIZE_CONNECTION_CREATE = 'PUBLICIZE_CONNECTION_CREATE';\nexport const PUBLICIZE_CONNECTION_CREATE_FAILURE = 'PUBLICIZE_CONNECTION_CREATE_FAILURE';\nexport const PUBLICIZE_CONNECTION_DELETE = 'PUBLICIZE_CONNECTION_DELETE';\nexport const PUBLICIZE_CONNECTION_DELETE_FAILURE = 'PUBLICIZE_CONNECTION_DELETE_FAILURE';\nexport const PUBLICIZE_CONNECTION_RECEIVE = 'PUBLICIZE_CONNECTION_RECEIVE';\nexport const PUBLICIZE_CONNECTION_UPDATE = 'PUBLICIZE_CONNECTION_UPDATE';\nexport const PUBLICIZE_CONNECTION_UPDATE_FAILURE = 'PUBLICIZE_CONNECTION_UPDATE_FAILURE';\nexport const PUBLICIZE_CONNECTIONS_RECEIVE = 'PUBLICIZE_CONNECTIONS_RECEIVE';\nexport const PUBLICIZE_CONNECTIONS_REQUEST = 'PUBLICIZE_CONNECTIONS_REQUEST';\nexport const PUBLICIZE_CONNECTIONS_REQUEST_FAILURE = 'PUBLICIZE_CONNECTIONS_REQUEST_FAILURE';\nexport const PUBLICIZE_CONNECTIONS_REQUEST_SUCCESS = 'PUBLICIZE_CONNECTIONS_REQUEST_SUCCESS';\nexport const PUBLICIZE_SHARE = 'PUBLICIZE_SHARE';\nexport const PUBLICIZE_SHARE_ACTION_DELETE = 'PUBLICIZE_SHARE_ACTION_DELETE';\nexport const PUBLICIZE_SHARE_ACTION_DELETE_FAILURE = 'PUBLICIZE_SHARE_ACTION_DELETE_FAILURE';\nexport const PUBLICIZE_SHARE_ACTION_DELETE_SUCCESS = 'PUBLICIZE_SHARE_ACTION_DELETE_SUCCESS';\nexport const PUBLICIZE_SHARE_ACTION_SCHEDULE = 'PUBLICIZE_SHARE_ACTION_SCHEDULE';\nexport const PUBLICIZE_SHARE_ACTION_SCHEDULE_FAILURE = 'PUBLICIZE_SHARE_ACTION_SCHEDULE_FAILURE';\nexport const PUBLICIZE_SHARE_ACTION_SCHEDULE_SUCCESS = 'PUBLICIZE_SHARE_ACTION_SCHEDULE_SUCCESS';\nexport const PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST =\n\t'PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST';\nexport const PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_FAILURE =\n\t'PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_FAILURE';\nexport const PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_SUCCESS =\n\t'PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_SUCCESS';\nexport const PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST =\n\t'PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST';\nexport const PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_FAILURE =\n\t'PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_FAILURE';\nexport const PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_SUCCESS =\n\t'PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_SUCCESS';\nexport const PUBLICIZE_SHARE_DISMISS = 'PUBLICIZE_SHARE_DISMISS';\nexport const PUBLICIZE_SHARE_FAILURE = 'PUBLICIZE_SHARE_FAILURE';\nexport const PUBLICIZE_SHARE_SUCCESS = 'PUBLICIZE_SHARE_SUCCESS';\nexport const PURCHASE_REMOVE_COMPLETED = 'PURCHASE_REMOVE_COMPLETED';\nexport const PURCHASE_REMOVE_FAILED = 'PURCHASE_REMOVE_FAILED';\nexport const PURCHASES_REMOVE = 'PURCHASES_REMOVE';\nexport const PURCHASES_SITE_FETCH = 'PURCHASES_SITE_FETCH';\nexport const PURCHASES_SITE_FETCH_COMPLETED = 'PURCHASES_SITE_FETCH_COMPLETED';\nexport const PURCHASES_SITE_FETCH_FAILED = 'PURCHASES_SITE_FETCH_FAILED';\nexport const PURCHASES_SITE_RESET_STATE = 'PURCHASES_SITE_RESET_STATE';\nexport const PURCHASES_USER_FETCH = 'PURCHASES_USER_FETCH';\nexport const PURCHASES_USER_FETCH_COMPLETED = 'PURCHASES_USER_FETCH_COMPLETED';\nexport const PURCHASES_USER_FETCH_FAILED = 'PURCHASES_USER_FETCH_FAILED';\nexport const PUSH_NOTIFICATIONS_API_NOT_READY = 'PUSH_NOTIFICATIONS_API_NOT_READY';\nexport const PUSH_NOTIFICATIONS_API_READY = 'PUSH_NOTIFICATIONS_API_READY';\nexport const PUSH_NOTIFICATIONS_AUTHORIZE = 'PUSH_NOTIFICATIONS_AUTHORIZE';\nexport const PUSH_NOTIFICATIONS_BLOCK = 'PUSH_NOTIFICATIONS_BLOCK';\nexport const PUSH_NOTIFICATIONS_MUST_PROMPT = 'PUSH_NOTIFICATIONS_MUST_PROMPT';\nexport const PUSH_NOTIFICATIONS_RECEIVE_REGISTER_DEVICE =\n\t'PUSH_NOTIFICATIONS_RECEIVE_REGISTER_DEVICE';\nexport const PUSH_NOTIFICATIONS_RECEIVE_UNREGISTER_DEVICE =\n\t'PUSH_NOTIFICATIONS_RECEIVE_UNREGISTER_DEVICE';\nexport const PUSH_NOTIFICATIONS_TOGGLE_ENABLED = 'PUSH_NOTIFICATIONS_TOGGLE_ENABLED';\nexport const PUSH_NOTIFICATIONS_TOGGLE_UNBLOCK_INSTRUCTIONS =\n\t'PUSH_NOTIFICATIONS_TOGGLE_UNBLOCK_INSTRUCTIONS';\nexport const RECEIPT_FETCH = 'RECEIPT_FETCH';\nexport const RECEIPT_FETCH_COMPLETED = 'RECEIPT_FETCH_COMPLETED';\nexport const RECEIPT_FETCH_FAILED = 'RECEIPT_FETCH_FAILED';\nexport const REWIND_ACTIVATE_FAILURE = 'REWIND_ACTIVATE_FAILURE';\nexport const REWIND_ACTIVATE_REQUEST = 'REWIND_ACTIVATE_REQUEST';\nexport const REWIND_ACTIVATE_SUCCESS = 'REWIND_ACTIVATE_SUCCESS';\nexport const REWIND_ACTIVITY_SHARE_REQUEST = 'REWIND_ACTIVITY_SHARE_REQUEST';\nexport const REWIND_BACKUP = 'REWIND_BACKUP';\nexport const REWIND_BACKUP_DISMISS = 'REWIND_BACKUP_DISMISS';\nexport const REWIND_BACKUP_DISMISS_PROGRESS = 'REWIND_BACKUP_DISMISS_PROGRESS';\nexport const REWIND_BACKUP_PROGRESS_REQUEST = 'REWIND_BACKUP_PROGRESS_REQUEST';\nexport const REWIND_BACKUP_REQUEST = 'REWIND_BACKUP_REQUEST';\nexport const REWIND_BACKUP_UPDATE_ERROR = 'REWIND_BACKUP_UPDATE_ERROR';\nexport const REWIND_BACKUP_UPDATE_PROGRESS = 'REWIND_BACKUP_UPDATE_PROGRESS';\nexport const REWIND_BACKUPS_REQUEST = 'REWIND_BACKUPS_REQUEST';\nexport const REWIND_BACKUPS_SET = 'REWIND_BACKUPS_SET';\nexport const REWIND_CAPABILITIES_REQUEST = 'REWIND_CAPABILITIES_REQUEST';\nexport const REWIND_CAPABILITIES_UPDATE = 'REWIND_CAPABILITIES_UPDATE';\nexport const REWIND_CLONE = 'REWIND_CLONE';\nexport const REWIND_DEACTIVATE_FAILURE = 'REWIND_DEACTIVATE_FAILURE';\nexport const REWIND_DEACTIVATE_REQUEST = 'REWIND_DEACTIVATE_REQUEST';\nexport const REWIND_DEACTIVATE_SUCCESS = 'REWIND_DEACTIVATE_SUCCESS';\nexport const REWIND_POLICIES_REQUEST = 'REWIND_POLICIES_REQUEST';\nexport const REWIND_POLICIES_REQUEST_FAILURE = 'REWIND_POLICIES_REQUEST_FAILURE';\nexport const REWIND_POLICIES_REQUEST_SUCCESS = 'REWIND_POLICIES_REQUEST_SUCCESS';\nexport const REWIND_POLICIES_SET = 'REWIND_POLICIES_SET';\nexport const REWIND_RESTORE = 'REWIND_RESTORE';\nexport const REWIND_RESTORE_DISMISS = 'REWIND_RESTORE_DISMISS';\nexport const REWIND_RESTORE_DISMISS_PROGRESS = 'REWIND_RESTORE_DISMISS_PROGRESS';\nexport const REWIND_RESTORE_PROGRESS_REQUEST = 'REWIND_RESTORE_PROGRESS_REQUEST';\nexport const REWIND_RESTORE_REQUEST = 'REWIND_RESTORE_REQUEST';\nexport const REWIND_RESTORE_UPDATE_PROGRESS = 'REWIND_RESTORE_UPDATE_PROGRESS';\nexport const REWIND_SIZE_REQUEST = 'REWIND_SIZE_REQUEST';\nexport const REWIND_SIZE_REQUEST_FAILURE = 'REWIND_SIZE_REQUEST_FAILURE';\nexport const REWIND_SIZE_REQUEST_SUCCESS = 'REWIND_SIZE_REQUEST_SUCCESS';\nexport const REWIND_SIZE_SET = 'REWIND_SIZE_SET';\nexport const REWIND_STATE_REQUEST = 'REWIND_STATE_REQUEST';\nexport const REWIND_STATE_UPDATE = 'REWIND_STATE_UPDATE';\nexport const ROUTE_CLEAR_LAST_NON_EDITOR = 'ROUTE_CLEAR_LAST_NON_EDITOR';\nexport const ROUTE_SET = 'ROUTE_SET';\nexport const SECTION_LOADING_SET = 'SECTION_LOADING_SET';\nexport const SECTION_SET = 'SECTION_SET';\nexport const SELECTED_SITE_SET = 'SELECTED_SITE_SET';\nexport const SET_MEDIA_EXPORT_DATA = 'SET_MEDIA_EXPORT_DATA';\nexport const SIGNUP_COMPLETE_RESET = 'SIGNUP_COMPLETE_RESET';\nexport const SIGNUP_CURRENT_FLOW_NAME_SET = 'SIGNUP_CURRENT_FLOW_NAME_SET';\nexport const SIGNUP_DEPENDENCY_STORE_REMOVE_SITE_SLUG = 'SIGNUP_DEPENDENCY_STORE_REMOVE_SITE_SLUG';\nexport const SIGNUP_DEPENDENCY_STORE_UPDATE = 'SIGNUP_DEPENDENCY_STORE_UPDATE';\nexport const SIGNUP_OPTIONAL_DEPENDENCY_SUGGESTED_USERNAME_SET =\n\t'SIGNUP_OPTIONAL_DEPENDENCY_SUGGESTED_USERNAME_SET';\nexport const SIGNUP_PREVIOUS_FLOW_NAME_SET = 'SIGNUP_PREVIOUS_FLOW_NAME_SET';\nexport const SIGNUP_FLOW_ADD_EXCLUDED_STEPS = 'SIGNUP_FLOW_ADD_EXCLUDED_STEPS';\nexport const SIGNUP_FLOW_REMOVE_EXCLUDED_STEPS = 'SIGNUP_FLOW_REMOVE_EXCLUDED_STEPS';\nexport const SIGNUP_FLOW_RESET_EXCLUDED_STEPS = 'SIGNUP_FLOW_RESET_EXCLUDED_STEPS';\nexport const SIGNUP_PROGRESS_ADD_STEP = 'SIGNUP_PROGRESS_ADD_STEP';\nexport const SIGNUP_PROGRESS_COMPLETE_STEP = 'SIGNUP_PROGRESS_COMPLETE_STEP';\nexport const SIGNUP_PROGRESS_INVALIDATE_STEP = 'SIGNUP_PROGRESS_INVALIDATE_STEP';\nexport const SIGNUP_PROGRESS_PROCESS_STEP = 'SIGNUP_PROGRESS_PROCESS_STEP';\nexport const SIGNUP_PROGRESS_REMOVE_STEP = 'SIGNUP_PROGRESS_REMOVE_STEP';\nexport const SIGNUP_PROGRESS_SAVE_STEP = 'SIGNUP_PROGRESS_SAVE_STEP';\nexport const SIGNUP_PROGRESS_SUBMIT_STEP = 'SIGNUP_PROGRESS_SUBMIT_STEP';\nexport const SIGNUP_STEPS_DESIGN_TYPE_SET = 'SIGNUP_STEPS_DESIGN_TYPE_SET';\nexport const SIGNUP_STEPS_SITE_GOALS_SET = 'SIGNUP_STEPS_SITE_GOALS_SET';\nexport const SIGNUP_STEPS_SITE_TITLE_SET = 'SIGNUP_STEPS_SITE_TITLE_SET';\nexport const SIGNUP_STEPS_SITE_TYPE_SET = 'SIGNUP_STEPS_SITE_TYPE_SET';\nexport const SIGNUP_STEPS_SITE_VERTICAL_SET = 'SIGNUP_STEPS_SITE_VERTICAL_SET';\nexport const SIGNUP_STEPS_SURVEY_SET = 'SIGNUP_STEPS_SURVEY_SET';\n\n// Signup DIFM Actions\nexport const SIGNUP_STEPS_SITE_INFO_COLLECTION_UPDATE = 'SIGNUP_STEPS_SITE_INFO_COLLECTION_UPDATE';\nexport const SIGNUP_STEPS_SITE_INFO_UPDATE_CURRENT_INDEX =\n\t'SIGNUP_STEPS_SITE_INFO_UPDATE_CURRENT_INDEX';\n\nexport const SIGNUP_STEPS_WEBSITE_CONTENT_INITIALIZE_PAGES =\n\t'SIGNUP_STEPS_WEBSITE_CONTENT_INITIALIZE_PAGES';\nexport const SIGNUP_STEPS_WEBSITE_CONTENT_UPDATE_CURRENT_INDEX =\n\t'SIGNUP_STEPS_WEBSITE_CONTENT_UPDATE_CURRENT_INDEX';\nexport const SIGNUP_STEPS_WEBSITE_CONTENT_IMAGE_UPLOAD_STARTED =\n\t'SIGNUP_STEPS_WEBSITE_CONTENT_IMAGE_UPLOAD_STARTED';\nexport const SIGNUP_STEPS_WEBSITE_CONTENT_IMAGE_UPLOAD_COMPLETED =\n\t'SIGNUP_STEPS_WEBSITE_CONTENT_IMAGE_UPLOAD_COMPLETED';\nexport const SIGNUP_STEPS_WEBSITE_FIELD_CHANGED = 'SIGNUP_STEPS_WEBSITE_FIELD_CHANGED';\nexport const SIGNUP_STEPS_WEBSITE_CONTENT_IMAGE_UPLOAD_FAILED =\n\t'SIGNUP_STEPS_WEBSITE_CONTENT_IMAGE_UPLOAD_FAILED';\nexport const SIGNUP_STEPS_WEBSITE_CONTENT_IMAGE_REMOVED =\n\t'SIGNUP_STEPS_WEBSITE_CONTENT_IMAGE_REMOVED';\nexport const SIGNUP_STEPS_WEBSITE_CONTENT_LOGO_UPLOAD_STARTED =\n\t'SIGNUP_STEPS_WEBSITE_CONTENT_LOGO_UPLOAD_STARTED';\nexport const SIGNUP_STEPS_WEBSITE_CONTENT_LOGO_UPLOAD_COMPLETED =\n\t'SIGNUP_STEPS_WEBSITE_CONTENT_LOGO_UPLOAD_COMPLETED';\nexport const SIGNUP_STEPS_WEBSITE_CONTENT_LOGO_UPLOAD_FAILED =\n\t'SIGNUP_STEPS_WEBSITE_CONTENT_LOGO_UPLOAD_FAILED';\nexport const SIGNUP_STEPS_SOCIAL_PROFILES_UPDATE = 'SIGNUP_STEPS_SOCIAL_PROFILES_UPDATE';\nexport const SIGNUP_STEPS_SOCIAL_PROFILES_RESET = 'SIGNUP_STEPS_SOCIAL_PROFILES_RESET';\nexport const SIGNUP_STEPS_WEBSITE_CONTENT_REMOVE_LOGO_URL =\n\t'SIGNUP_STEPS_WEBSITE_CONTENT_REMOVE_LOGO_URL';\n\nexport const SIGNUP_STEPS_USER_EXPERIENCE_SET = 'SIGNUP_STEPS_USER_EXPERIENCE_SET';\nexport const SIGNUP_VERTICALS_REQUEST = 'SIGNUP_VERTICALS_REQUEST';\nexport const SIGNUP_VERTICALS_SET = 'SIGNUP_VERTICALS_SET';\nexport const SITE_ADDRESS_AVAILABILITY_ERROR = 'SITE_ADDRESS_AVAILABILITY_ERROR';\nexport const SITE_ADDRESS_AVAILABILITY_ERROR_CLEAR = 'SITE_ADDRESS_AVAILABILITY_ERROR_CLEAR';\nexport const SITE_ADDRESS_AVAILABILITY_REQUEST = 'SITE_ADDRESS_AVAILABILITY_REQUEST';\nexport const SITE_ADDRESS_AVAILABILITY_SUCCESS = 'SITE_ADDRESS_AVAILABILITY_SUCCESS';\nexport const SITE_ADDRESS_CHANGE_REQUEST = 'SITE_ADDRESS_CHANGE_REQUEST';\nexport const SITE_ADDRESS_CHANGE_REQUEST_FAILURE = 'SITE_ADDRESS_CHANGE_REQUEST_FAILURE';\nexport const SITE_ADDRESS_CHANGE_REQUEST_SUCCESS = 'SITE_ADDRESS_CHANGE_REQUEST_SUCCESS';\nexport const SITE_CHECKLIST_RECEIVE = 'SITE_CHECKLIST_RECEIVE';\nexport const SITE_CHECKLIST_REQUEST = 'SITE_CHECKLIST_REQUEST';\nexport const SITE_CHECKLIST_TASK_UPDATE = 'SITE_CHECKLIST_TASK_UPDATE';\nexport const SITE_CONNECTION_STATUS_RECEIVE = 'SITE_CONNECTION_STATUS_RECEIVE';\nexport const SITE_CONNECTION_STATUS_REQUEST = 'SITE_CONNECTION_STATUS_REQUEST';\nexport const SITE_CONNECTION_STATUS_REQUEST_FAILURE = 'SITE_CONNECTION_STATUS_REQUEST_FAILURE';\nexport const SITE_CONNECTION_STATUS_REQUEST_SUCCESS = 'SITE_CONNECTION_STATUS_REQUEST_SUCCESS';\nexport const SITE_DELETE_RECEIVE = 'SITE_DELETE_RECEIVE';\nexport const SITE_DOMAINS_RECEIVE = 'SITE_DOMAINS_RECEIVE';\nexport const SITE_DOMAINS_REQUEST = 'SITE_DOMAINS_REQUEST';\nexport const SITE_DOMAINS_REQUEST_FAILURE = 'SITE_DOMAINS_REQUEST_FAILURE';\nexport const SITE_DOMAINS_REQUEST_SUCCESS = 'SITE_DOMAINS_REQUEST_SUCCESS';\nexport const SITE_FEATURES_FETCH = 'SITE_FEATURES_FETCH';\nexport const SITE_FEATURES_FETCH_COMPLETED = 'SITE_FEATURES_FETCH_COMPLETED';\nexport const SITE_FEATURES_FETCH_FAILED = 'SITE_FEATURES_FETCH_FAILED';\nexport const SITE_FRONT_PAGE_UPDATE = 'SITE_FRONT_PAGE_UPDATE';\nexport const SITE_INTRO_OFFER_RECEIVE = 'SITE_INTRO_OFFER_RECEIVE';\nexport const SITE_INTRO_OFFER_REQUEST = 'SITE_INTRO_OFFER_REQUEST';\nexport const SITE_INTRO_OFFER_REQUEST_FAILURE = 'SITE_INTRO_OFFER_REQUEST_FAILURE';\nexport const SITE_INTRO_OFFER_REQUEST_SUCCESS = 'SITE_INTRO_OFFER_REQUEST_SUCCESS';\nexport const SITE_IMPORTER_IMPORT_FAILURE = 'SITE_IMPORTER_IMPORT_FAILURE';\nexport const SITE_IMPORTER_IMPORT_RESET = 'SITE_IMPORTER_IMPORT_RESET';\nexport const SITE_IMPORTER_IMPORT_START = 'SITE_IMPORTER_IMPORT_START';\nexport const SITE_IMPORTER_IMPORT_SUCCESS = 'SITE_IMPORTER_IMPORT_SUCCESS';\nexport const SITE_IMPORTER_IS_SITE_IMPORTABLE_FAILURE = 'SITE_IMPORTER_IS_SITE_IMPORTABLE_FAILURE';\nexport const SITE_IMPORTER_IS_SITE_IMPORTABLE_START = 'SITE_IMPORTER_IS_SITE_IMPORTABLE_START';\nexport const SITE_IMPORTER_IS_SITE_IMPORTABLE_SUCCESS = 'SITE_IMPORTER_IS_SITE_IMPORTABLE_SUCCESS';\nexport const SITE_IMPORTER_VALIDATION_ERROR_SET = 'SITE_IMPORTER_VALIDATION_ERROR_SET';\nexport const SITE_KEYRINGS_DELETE = 'SITE_KEYRINGS_DELETE';\nexport const SITE_KEYRINGS_DELETE_FAILURE = 'SITE_KEYRINGS_DELETE_FAILURE';\nexport const SITE_KEYRINGS_DELETE_SUCCESS = 'SITE_KEYRINGS_DELETE_SUCCESS';\nexport const SITE_KEYRINGS_REQUEST = 'SITE_KEYRINGS_REQUEST';\nexport const SITE_KEYRINGS_REQUEST_FAILURE = 'SITE_KEYRINGS_REQUEST_FAILURE';\nexport const SITE_KEYRINGS_REQUEST_SUCCESS = 'SITE_KEYRINGS_REQUEST_SUCCESS';\nexport const SITE_KEYRINGS_SAVE_SUCCESS = 'SITE_KEYRINGS_SAVE_SUCCESS';\nexport const SITE_KEYRINGS_UPDATE = 'SITE_KEYRINGS_UPDATE';\nexport const SITE_KEYRINGS_UPDATE_FAILURE = 'SITE_KEYRINGS_UPDATE_FAILURE';\nexport const SITE_KEYRINGS_UPDATE_SUCCESS = 'SITE_KEYRINGS_UPDATE_SUCCESS';\nexport const SITE_LAUNCH = 'SITE_LAUNCH';\nexport const SITE_MIGRATION_STATUS_UPDATE = 'SITE_MIGRATION_STATUS_UPDATE';\nexport const SITE_PLAN_OWNERSHIP_TRANSFER = 'SITE_PLAN_OWNERSHIP_TRANSFER';\nexport const SITE_PLANS_FETCH = 'SITE_PLANS_FETCH';\nexport const SITE_PLANS_FETCH_COMPLETED = 'SITE_PLANS_FETCH_COMPLETED';\nexport const SITE_PLANS_FETCH_FAILED = 'SITE_PLANS_FETCH_FAILED';\nexport const SITE_PLANS_REMOVE = 'SITE_PLANS_REMOVE';\nexport const SITE_PLUGIN_UPDATED = 'SITE_PLUGIN_UPDATED';\nexport const SITE_PRODUCTS_FETCH = 'SITE_PRODUCTS_FETCH';\nexport const SITE_PRODUCTS_FETCH_COMPLETED = 'SITE_PRODUCTS_FETCH_COMPLETED';\nexport const SITE_PRODUCTS_FETCH_FAILED = 'SITE_PRODUCTS_FETCH_FAILED';\nexport const SITE_RECEIVE = 'SITE_RECEIVE';\nexport const SITE_REQUEST = 'SITE_REQUEST';\nexport const SITE_REQUEST_FAILURE = 'SITE_REQUEST_FAILURE';\nexport const SITE_REQUEST_SUCCESS = 'SITE_REQUEST_SUCCESS';\nexport const SITE_SETTINGS_RECEIVE = 'SITE_SETTINGS_RECEIVE';\nexport const SITE_SETTINGS_REQUEST = 'SITE_SETTINGS_REQUEST';\nexport const SITE_SETTINGS_REQUEST_FAILURE = 'SITE_SETTINGS_REQUEST_FAILURE';\nexport const SITE_SETTINGS_REQUEST_SUCCESS = 'SITE_SETTINGS_REQUEST_SUCCESS';\nexport const SITE_SETTINGS_SAVE = 'SITE_SETTINGS_SAVE';\nexport const SITE_SETTINGS_SAVE_FAILURE = 'SITE_SETTINGS_SAVE_FAILURE';\nexport const SITE_SETTINGS_SAVE_SUCCESS = 'SITE_SETTINGS_SAVE_SUCCESS';\nexport const SITE_SETTINGS_UPDATE = 'SITE_SETTINGS_UPDATE';\nexport const SITE_STATS_RECEIVE = 'SITE_STATS_RECEIVE';\nexport const SITE_STATS_REQUEST = 'SITE_STATS_REQUEST';\nexport const SITE_STATS_REQUEST_FAILURE = 'SITE_STATS_REQUEST_FAILURE';\nexport const SITES_BLOG_STICKER_ADD = 'SITES_BLOG_STICKER_ADD';\nexport const SITES_BLOG_STICKER_LIST = 'SITES_BLOG_STICKER_LIST';\nexport const SITES_BLOG_STICKER_LIST_RECEIVE = 'SITES_BLOG_STICKER_LIST_RECEIVE';\nexport const SITES_BLOG_STICKER_REMOVE = 'SITES_BLOG_STICKER_REMOVE';\nexport const SITES_RECEIVE = 'SITES_RECEIVE';\nexport const SITES_REQUEST = 'SITES_REQUEST';\nexport const SITES_REQUEST_FAILURE = 'SITES_REQUEST_FAILURE';\nexport const SITES_REQUEST_SUCCESS = 'SITES_REQUEST_SUCCESS';\nexport const SOCIAL_CONNECT_ACCOUNT_REQUEST = 'SOCIAL_CONNECT_ACCOUNT_REQUEST';\nexport const SOCIAL_CONNECT_ACCOUNT_REQUEST_FAILURE = 'SOCIAL_CONNECT_ACCOUNT_REQUEST_FAILURE';\nexport const SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS = 'SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS';\nexport const SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE = 'SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE';\nexport const SOCIAL_DISCONNECT_ACCOUNT_REQUEST = 'SOCIAL_DISCONNECT_ACCOUNT_REQUEST';\nexport const SOCIAL_DISCONNECT_ACCOUNT_REQUEST_FAILURE =\n\t'SOCIAL_DISCONNECT_ACCOUNT_REQUEST_FAILURE';\nexport const SOCIAL_DISCONNECT_ACCOUNT_REQUEST_SUCCESS =\n\t'SOCIAL_DISCONNECT_ACCOUNT_REQUEST_SUCCESS';\nexport const SOCIAL_LOGIN_REQUEST = 'SOCIAL_LOGIN_REQUEST';\nexport const SOCIAL_LOGIN_REQUEST_FAILURE = 'SOCIAL_LOGIN_REQUEST_FAILURE';\nexport const SOCIAL_LOGIN_REQUEST_SUCCESS = 'SOCIAL_LOGIN_REQUEST_SUCCESS';\nexport const STATS_CHART_COUNTS_RECEIVE = 'STATS_CHART_COUNTS_RECEIVE';\nexport const STATS_CHART_COUNTS_REQUEST = 'STATS_CHART_COUNTS_REQUEST';\nexport const STATS_RECENT_POST_VIEWS_RECEIVE = 'STATS_RECENT_POST_VIEWS_RECEIVE';\nexport const STATS_RECENT_POST_VIEWS_REQUEST = 'STATS_RECENT_POST_VIEWS_REQUEST';\nexport const STORED_CARDS_ADD_COMPLETED = 'STORED_CARDS_ADD_COMPLETED';\nexport const STORED_CARDS_DELETE = 'STORED_CARDS_DELETE';\nexport const STORED_CARDS_DELETE_COMPLETED = 'STORED_CARDS_DELETE_COMPLETED';\nexport const STORED_CARDS_DELETE_FAILED = 'STORED_CARDS_DELETE_FAILED';\nexport const STORED_CARDS_UPDATE_IS_BACKUP_COMPLETED = 'STORED_CARDS_UPDATE_IS_BACKUP_COMPLETED';\nexport const STORED_CARDS_FETCH = 'STORED_CARDS_FETCH';\nexport const STORED_CARDS_FETCH_COMPLETED = 'STORED_CARDS_FETCH_COMPLETED';\nexport const STORED_CARDS_FETCH_FAILED = 'STORED_CARDS_FETCH_FAILED';\nexport const SUPPORT_ARTICLE_DIALOG_CLOSE = 'SUPPORT_ARTICLE_DIALOG_CLOSE';\nexport const SUPPORT_ARTICLE_DIALOG_OPEN = 'SUPPORT_ARTICLE_DIALOG_OPEN';\nexport const SUPPORT_SESSION_TRANSITION = 'SUPPORT_SESSION_TRANSITION';\nexport const TERM_REMOVE = 'TERM_REMOVE';\nexport const TERMS_RECEIVE = 'TERMS_RECEIVE';\nexport const TERMS_REQUEST = 'TERMS_REQUEST';\nexport const TERMS_REQUEST_FAILURE = 'TERMS_REQUEST_FAILURE';\nexport const TERMS_REQUEST_SUCCESS = 'TERMS_REQUEST_SUCCESS';\nexport const TIMEZONES_RECEIVE = 'TIMEZONES_RECEIVE';\nexport const TIMEZONES_REQUEST = 'TIMEZONES_REQUEST';\nexport const TOS_ACCEPT = 'TOS_ACCEPT';\nexport const TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST = 'TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST';\nexport const TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_FAILURE =\n\t'TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_FAILURE';\nexport const TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_SUCCESS =\n\t'TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_SUCCESS';\nexport const TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST =\n\t'TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST';\nexport const TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_FAILURE =\n\t'TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_FAILURE';\nexport const TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_SUCCESS =\n\t'TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_SUCCESS';\nexport const TWO_FACTOR_AUTHENTICATION_UPDATE_NONCE = 'TWO_FACTOR_AUTHENTICATION_UPDATE_NONCE';\nexport const URL_ANALYZER_ANALYZE = 'URL_ANALYZER_ANALYZE';\nexport const URL_ANALYZER_ANALYZE_DONE = 'URL_ANALYZER_ANALYZE_DONE';\nexport const URL_ANALYZER_ANALYZE_SUCCESS = 'URL_ANALYZER_ANALYZE_SUCCESS';\nexport const URL_ANALYZER_ANALYZE_ERROR = 'URL_ANALYZER_ANALYZE_ERROR';\nexport const URL_ANALYZER_RESET_ERROR = 'URL_ANALYZER_RESET_ERROR';\nexport const URL_ANALYZER_URL_DATA_UPDATE = 'URL_ANALYZER_URL_DATA_UPDATE';\nexport const USER_DEVICES_ADD = 'USER_DEVICES_ADD';\nexport const USER_DEVICES_REQUEST = 'USER_DEVICES_REQUEST';\nexport const USER_LICENSES_RECEIVE = 'USER_LICENSES_RECEIVE';\nexport const USER_LICENSES_REQUEST = 'USER_LICENSES_REQUEST';\nexport const USER_LICENSES_REQUEST_SUCCESS = 'USER_LICENSES_REQUEST_SUCCESS';\nexport const USER_LICENSES_REQUEST_FAILURE = 'USER_LICENSES_REQUEST_FAILURE';\nexport const USER_LICENSES_COUNTS_RECEIVE = 'USER_LICENSES_COUNTS_RECEIVE';\nexport const USER_LICENSES_COUNTS_REQUEST = 'USER_LICENSES_COUNTS_REQUEST';\nexport const USER_LICENSES_COUNTS_REQUEST_SUCCESS = 'USER_LICENSES_COUNTS_REQUEST_SUCCESS';\nexport const USER_LICENSES_COUNTS_REQUEST_FAILURE = 'USER_LICENSES_COUNTS_REQUEST_FAILURE';\nexport const USER_PROFILE_LINKS_ADD = 'USER_PROFILE_LINKS_ADD';\nexport const USER_PROFILE_LINKS_ADD_DUPLICATE = 'USER_PROFILE_LINKS_ADD_DUPLICATE';\nexport const USER_PROFILE_LINKS_ADD_FAILURE = 'USER_PROFILE_LINKS_ADD_FAILURE';\nexport const USER_PROFILE_LINKS_ADD_MALFORMED = 'USER_PROFILE_LINKS_ADD_MALFORMED';\nexport const USER_PROFILE_LINKS_ADD_SUCCESS = 'USER_PROFILE_LINKS_ADD_SUCCESS';\nexport const USER_PROFILE_LINKS_DELETE = 'USER_PROFILE_LINKS_DELETE';\nexport const USER_PROFILE_LINKS_DELETE_FAILURE = 'USER_PROFILE_LINKS_DELETE_FAILURE';\nexport const USER_PROFILE_LINKS_DELETE_SUCCESS = 'USER_PROFILE_LINKS_DELETE_SUCCESS';\nexport const USER_PROFILE_LINKS_RECEIVE = 'USER_PROFILE_LINKS_RECEIVE';\nexport const USER_PROFILE_LINKS_REQUEST = 'USER_PROFILE_LINKS_REQUEST';\nexport const USER_PROFILE_LINKS_RESET_ERRORS = 'USER_PROFILE_LINKS_RESET_ERRORS';\nexport const USER_SETTINGS_REQUEST = 'USER_SETTINGS_REQUEST';\nexport const USER_SETTINGS_REQUEST_FAILURE = 'USER_SETTINGS_REQUEST_FAILURE';\nexport const USER_SETTINGS_REQUEST_SUCCESS = 'USER_SETTINGS_REQUEST_SUCCESS ';\nexport const USER_SETTINGS_SAVE = 'USER_SETTINGS_SAVE';\nexport const USER_SETTINGS_SAVE_FAILURE = 'USER_SETTINGS_SAVE_FAILURE';\nexport const USER_SETTINGS_SAVE_SUCCESS = 'USER_SETTINGS_SAVE_SUCCESS';\nexport const USER_SETTINGS_UNSAVED_CLEAR = 'USER_SETTINGS_UNSAVED_CLEAR';\nexport const USER_SETTINGS_UNSAVED_REMOVE = 'USER_SETTINGS_UNSAVED_REMOVE';\nexport const USER_SETTINGS_UNSAVED_SET = 'USER_SETTINGS_UNSAVED_SET';\nexport const USER_SUGGESTIONS_RECEIVE = 'USER_SUGGESTIONS_RECEIVE';\nexport const USER_SUGGESTIONS_REQUEST = 'USER_SUGGESTIONS_REQUEST';\nexport const USER_SUGGESTIONS_REQUEST_FAILURE = 'USER_SUGGESTIONS_REQUEST_FAILURE';\nexport const USER_SUGGESTIONS_REQUEST_SUCCESS = 'USER_SUGGESTIONS_REQUEST_SUCCESS';\nexport const VIDEO_EDITOR_SET_POSTER_URL = 'VIDEO_EDITOR_SET_POSTER_URL';\nexport const VIDEO_EDITOR_SHOW_ERROR = 'VIDEO_EDITOR_SHOW_ERROR';\nexport const VIDEO_EDITOR_SHOW_UPLOAD_PROGRESS = 'VIDEO_EDITOR_SHOW_UPLOAD_PROGRESS';\nexport const VIDEO_EDITOR_UPDATE_POSTER = 'VIDEO_EDITOR_UPDATE_POSTER';\nexport const VIDEO_EDITOR_REFRESH_POSTER = 'VIDEO_EDITOR_REFRESH_POSTER';\nexport const WORDADS_EARNINGS_RECEIVE = 'WORDADS_EARNINGS_RECEIVE';\nexport const WORDADS_EARNINGS_REQUEST = 'WORDADS_EARNINGS_REQUEST';\nexport const WORDADS_SETTINGS_RECEIVE = 'WORDADS_SETTINGS_RECEIVE';\nexport const WORDADS_SETTINGS_REQUEST = 'WORDADS_SETTINGS_REQUEST';\nexport const WORDADS_SETTINGS_SAVE = 'WORDADS_SETTINGS_SAVE';\nexport const WORDADS_SETTINGS_SAVE_FAILURE = 'WORDADS_SETTINGS_SAVE_FAILURE';\nexport const WORDADS_SETTINGS_SAVE_SUCCESS = 'WORDADS_SETTINGS_SAVE_SUCCESS';\nexport const WORDADS_SETTINGS_UPDATE = 'WORDADS_SETTINGS_UPDATE';\nexport const WORDADS_PAYMENTS_RECEIVE = 'WORDADS_PAYMENTS_RECEIVE';\nexport const WORDADS_PAYMENTS_REQUEST = 'WORDADS_PAYMENTS_REQUEST';\nexport const WORDADS_SITE_APPROVE_REQUEST = 'WORDADS_SITE_APPROVE_REQUEST';\nexport const WORDADS_SITE_APPROVE_REQUEST_DISMISS_ERROR =\n\t'WORDADS_SITE_APPROVE_REQUEST_DISMISS_ERROR';\nexport const WORDADS_SITE_APPROVE_REQUEST_DISMISS_SUCCESS =\n\t'WORDADS_SITE_APPROVE_REQUEST_DISMISS_SUCCESS';\nexport const WORDADS_SITE_APPROVE_REQUEST_FAILURE = 'WORDADS_SITE_APPROVE_REQUEST_FAILURE';\nexport const WORDADS_SITE_APPROVE_REQUEST_SUCCESS = 'WORDADS_SITE_APPROVE_REQUEST_SUCCESS';\nexport const WORDADS_STATUS_RECEIVE = 'WORDADS_STATUS_RECEIVE';\nexport const WORDADS_STATUS_REQUEST = 'WORDADS_STATUS_REQUEST';\nexport const WPCOM_HTTP_REQUEST = 'WPCOM_HTTP_REQUEST';\n","import { mergeWith } from 'lodash';\n\n/**\n * Merge handler for lodash.mergeWith\n *\n * Note that a return value of `undefined`\n * indicates to lodash that it should use\n * its normal merge algorithm.\n *\n * In this case, we want to merge keys if\n * they don't exists but when they do, we\n * prefer to concatenate lists instead of\n * overwriting them.\n *\n * @param {?Array<Function>} left existing handlers\n * @param {Array<Function>} right new handlers to add\n * @returns {Array<Function>} combined handlers\n */\nconst concatHandlers = ( left, right ) =>\n\tArray.isArray( left ) ? left.concat( right ) : undefined;\n\nexport const mergeHandlers = ( ...handlers ) =>\n\thandlers.length > 1\n\t\t? mergeWith( Object.create( null ), ...handlers, concatHandlers )\n\t\t: handlers[ 0 ];\n","import { Reducer, Store } from 'redux';\nimport { APPLY_STORED_STATE } from 'calypso/state/action-types';\n\nconst initializations = new Map< string, boolean >();\nconst reducers = new Map< string, Reducer >();\n\nfunction normalizeKey( key: string[] ): string {\n\treturn key.join( '.' );\n}\n\ninterface OptionalStorageKey {\n\tstorageKey?: string;\n}\n\nexport interface WithAddReducer {\n\taddReducer: ( keys: string[], subReducer: Reducer & OptionalStorageKey ) => void;\n}\n\nexport type GetStoredState = ( reducer: Reducer, storageKey: string ) => unknown;\n\nexport function clear(): void {\n\tinitializations.clear();\n\treducers.clear();\n}\n\n// For a given store, creates a function that adds a new reducer to the store,\n// and loads (asynchronously) and applies the persisted state for it.\nexport const addReducerToStore =\n\t< T extends Reducer & OptionalStorageKey >(\n\t\tstore: Store & WithAddReducer,\n\t\tgetStoredState?: GetStoredState\n\t) =>\n\t( key: string[], reducer: T ): void => {\n\t\tconst storageKey: string | undefined = reducer.storageKey;\n\t\tconst normalizedKey = normalizeKey( key );\n\n\t\tconst previousReducer = reducers.get( normalizedKey );\n\t\tconst init = initializations.get( normalizedKey );\n\n\t\tif ( previousReducer && reducer !== previousReducer ) {\n\t\t\tthrow new Error(\n\t\t\t\t`Different reducers on multiple calls to \\`addReducerToStore\\` for key: ${ normalizedKey }`\n\t\t\t);\n\t\t}\n\n\t\tif ( ! init ) {\n\t\t\tstore.addReducer( key, reducer );\n\n\t\t\tif ( storageKey && getStoredState ) {\n\t\t\t\tconst storedState = getStoredState( reducer, storageKey );\n\t\t\t\tif ( storedState ) {\n\t\t\t\t\tstore.dispatch( { type: APPLY_STORED_STATE, storageKey, storedState } );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinitializations.set( normalizedKey, true );\n\t\t\treducers.set( normalizedKey, reducer );\n\t\t}\n\t};\n","import { ANALYTICS_EVENT_RECORD, ANALYTICS_PAGE_VIEW_RECORD } from 'calypso/state/action-types';\n\nexport const recordEvent = ( service, args ) => ( {\n\ttype: ANALYTICS_EVENT_RECORD,\n\tmeta: {\n\t\tanalytics: [\n\t\t\t{\n\t\t\t\ttype: ANALYTICS_EVENT_RECORD,\n\t\t\t\tpayload: Object.assign( {}, { service }, args ),\n\t\t\t},\n\t\t],\n\t},\n} );\n\nexport const recordGoogleEvent = ( category, action, label, value ) =>\n\trecordEvent( 'ga', { category, action, label, value } );\n\nexport const recordTracksEvent = ( name, properties ) =>\n\trecordEvent( 'tracks', { name, properties } );\n\nexport const recordCustomFacebookConversionEvent = ( name, properties ) =>\n\trecordEvent( 'fb', { name, properties } );\n\nexport const recordCustomAdWordsRemarketingEvent = ( properties ) =>\n\trecordEvent( 'adwords', { properties } );\n\nexport const recordPageView = ( url, title, service, properties = {}, options = {} ) => ( {\n\ttype: ANALYTICS_PAGE_VIEW_RECORD,\n\tmeta: {\n\t\tanalytics: [\n\t\t\t{\n\t\t\t\ttype: ANALYTICS_PAGE_VIEW_RECORD,\n\t\t\t\tpayload: {\n\t\t\t\t\tservice,\n\t\t\t\t\turl,\n\t\t\t\t\ttitle,\n\t\t\t\t\toptions,\n\t\t\t\t\t...properties,\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n} );\n\nexport const recordGooglePageView = ( url, title ) => recordPageView( url, title, 'ga' );\n","import {\n\ttrackCustomAdWordsRemarketingEvent,\n\ttrackCustomFacebookConversionEvent,\n} from 'calypso/lib/analytics/ad-tracking';\nimport { gaRecordEvent, gaRecordPageView } from 'calypso/lib/analytics/ga';\nimport { addHotJarScript } from 'calypso/lib/analytics/hotjar';\nimport { bumpStat } from 'calypso/lib/analytics/mc';\nimport { recordPageView } from 'calypso/lib/analytics/page-view';\nimport { recordTracksEvent, setTracksOptOut } from 'calypso/lib/analytics/tracks';\nimport {\n\tANALYTICS_EVENT_RECORD,\n\tANALYTICS_PAGE_VIEW_RECORD,\n\tANALYTICS_STAT_BUMP,\n\tANALYTICS_TRACKING_ON,\n\tANALYTICS_TRACKS_OPT_OUT,\n} from 'calypso/state/action-types';\n\nconst eventServices = {\n\tga: ( { category, action, label, value } ) => gaRecordEvent( category, action, label, value ),\n\ttracks: ( { name, properties } ) => recordTracksEvent( name, properties ),\n\tfb: ( { name, properties } ) => trackCustomFacebookConversionEvent( name, properties ),\n\tadwords: ( { properties } ) => trackCustomAdWordsRemarketingEvent( properties ),\n};\n\nconst pageViewServices = {\n\tga: ( { url, title } ) => gaRecordPageView( url, title ),\n\tdefault: ( { url, title, options, ...params } ) => recordPageView( url, title, params, options ),\n};\n\nconst loadTrackingTool = ( trackingTool ) => {\n\tif ( trackingTool === 'HotJar' ) {\n\t\taddHotJarScript();\n\t}\n};\n\nconst statBump = ( { group, name } ) => bumpStat( group, name );\n\nconst dispatcher = ( action ) => {\n\tconst analyticsMeta = action.meta.analytics;\n\tanalyticsMeta.forEach( ( { type, payload } ) => {\n\t\tconst { service = 'default', ...params } = payload;\n\n\t\tswitch ( type ) {\n\t\t\tcase ANALYTICS_EVENT_RECORD:\n\t\t\t\treturn eventServices[ service ]?.( params );\n\n\t\t\tcase ANALYTICS_PAGE_VIEW_RECORD:\n\t\t\t\treturn pageViewServices[ service ]?.( params );\n\n\t\t\tcase ANALYTICS_STAT_BUMP:\n\t\t\t\treturn statBump( params );\n\t\t}\n\t} );\n};\n\nexport const analyticsMiddleware = () => ( next ) => ( action ) => {\n\tswitch ( action.type ) {\n\t\tcase ANALYTICS_TRACKING_ON:\n\t\t\tloadTrackingTool( action.trackingTool );\n\t\t\treturn;\n\n\t\tcase ANALYTICS_TRACKS_OPT_OUT:\n\t\t\tsetTracksOptOut( action.isOptingOut );\n\t\t\treturn;\n\n\t\tdefault:\n\t\t\tif ( action.meta?.analytics ) {\n\t\t\t\tdispatcher( action );\n\t\t\t}\n\t}\n\n\treturn next( action );\n};\n\nexport default analyticsMiddleware;\n","/**\n * Console dispatcher Redux store enhancer\n *\n * Inject at the top of the `createStore` enhancer chain\n * to provide access to actionTypes and store methods directly\n * from the console.\n *\n * Will only attach if the `window` variable is available\n * globally. If not it will simply be an empty link in the\n * chain, passing straight through.\n *\n * @param {Function} next next store enhancer in chain\n * @returns {Function} console dispatcher store enhancer\n */\nexport const consoleDispatcher =\n\t( next ) =>\n\t( ...args ) => {\n\t\tconst store = next( ...args );\n\n\t\tif ( 'undefined' !== typeof window ) {\n\t\t\tObject.assign( window, store );\n\n\t\t\tObject.defineProperty( window, 'state', {\n\t\t\t\tenumerable: true,\n\t\t\t\tget: store.getState,\n\t\t\t} );\n\t\t}\n\n\t\treturn store;\n\t};\n\nexport default consoleDispatcher;\n","import { filterUserObject, getLogoutUrl, rawCurrentUserFetch } from 'calypso/lib/user/shared-utils';\nimport {\n\tclearStore,\n\tdisablePersistence,\n\tgetStoredUserId,\n\tsetStoredUserId,\n} from 'calypso/lib/user/store';\nimport {\n\tCURRENT_USER_FETCH,\n\tCURRENT_USER_RECEIVE,\n\tCURRENT_USER_SET_EMAIL_VERIFIED,\n} from 'calypso/state/action-types';\nimport { getCurrentUser } from 'calypso/state/current-user/selectors';\n\n/**\n * Returns an action object that sets the current user object on the store\n *\n * @param  {object} user user object\n * @returns {object}        Action object\n */\nexport function setCurrentUser( user ) {\n\treturn {\n\t\ttype: CURRENT_USER_RECEIVE,\n\t\tuser,\n\t};\n}\n\nlet fetchingUser = null;\n\nexport function fetchCurrentUser() {\n\treturn ( dispatch ) => {\n\t\tif ( fetchingUser ) {\n\t\t\treturn fetchingUser;\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: CURRENT_USER_FETCH,\n\t\t} );\n\n\t\tfetchingUser = rawCurrentUserFetch()\n\t\t\t.then( async ( user ) => {\n\t\t\t\tconst userData = filterUserObject( user );\n\n\t\t\t\tconst storedUserId = getStoredUserId();\n\t\t\t\tif ( storedUserId != null && storedUserId !== userData.ID ) {\n\t\t\t\t\tawait clearStore();\n\t\t\t\t}\n\n\t\t\t\tsetStoredUserId( userData.ID );\n\t\t\t\tdispatch( setCurrentUser( userData ) );\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\t// @TODO: Improve error handling\n\t\t\t} )\n\t\t\t.finally( () => {\n\t\t\t\tfetchingUser = null;\n\t\t\t} );\n\n\t\treturn fetchingUser;\n\t};\n}\n\nexport function redirectToLogout( postLogoutRedirectUrl ) {\n\treturn async ( dispatch, getState ) => {\n\t\tconst userData = getCurrentUser( getState() );\n\t\tconst logoutUrl = getLogoutUrl( userData, postLogoutRedirectUrl );\n\n\t\t// Clear any data stored locally within the user data module or localStorage\n\t\tdisablePersistence();\n\t\tawait clearStore();\n\n\t\twindow.location.href = logoutUrl;\n\t};\n}\n\nexport function setUserEmailVerified( verified ) {\n\treturn {\n\t\ttype: CURRENT_USER_SET_EMAIL_VERIFIED,\n\t\tverified,\n\t};\n}\n","import {\n\tEMAIL_VERIFY_REQUEST,\n\tEMAIL_VERIFY_REQUEST_SUCCESS,\n\tEMAIL_VERIFY_REQUEST_FAILURE,\n\tEMAIL_VERIFY_STATE_RESET,\n} from 'calypso/state/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\nexport const status = ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase EMAIL_VERIFY_REQUEST:\n\t\t\treturn 'requesting';\n\t\tcase EMAIL_VERIFY_REQUEST_SUCCESS:\n\t\t\treturn 'sent';\n\t\tcase EMAIL_VERIFY_REQUEST_FAILURE:\n\t\t\treturn 'error';\n\t\tcase EMAIL_VERIFY_STATE_RESET:\n\t\t\treturn null;\n\t}\n\n\treturn state;\n};\n\nexport const errorMessage = ( state = '', action ) => {\n\tswitch ( action.type ) {\n\t\tcase EMAIL_VERIFY_REQUEST:\n\t\t\treturn '';\n\t\tcase EMAIL_VERIFY_REQUEST_SUCCESS:\n\t\t\treturn '';\n\t\tcase EMAIL_VERIFY_REQUEST_FAILURE: {\n\t\t\tconst { message } = action;\n\t\t\treturn message;\n\t\t}\n\t\tcase EMAIL_VERIFY_STATE_RESET:\n\t\t\treturn '';\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\tstatus,\n\terrorMessage,\n} );\n","import {\n\tCURRENT_USER_RECEIVE,\n\tCURRENT_USER_SET_EMAIL_VERIFIED,\n\tSITE_RECEIVE,\n\tSITES_RECEIVE,\n} from 'calypso/state/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\nimport emailVerification from './email-verification/reducer';\nimport { capabilitiesSchema, flagsSchema, idSchema, lasagnaSchema } from './schema';\n\n/**\n * Tracks the current user ID.\n *\n * In development, if you are receiving Redux errors like this:\n *\n *     Error: Given action \"CURRENT_USER_RECEIVE\", reducer \"id\" returned undefined.\n *\n * This is likely caused by a server-side error or stored state corruption/auth token expiry.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const id = withSchemaValidation( idSchema, ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase CURRENT_USER_RECEIVE:\n\t\t\treturn action.user.ID;\n\t}\n\n\treturn state;\n} );\n\nexport const user = ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase CURRENT_USER_RECEIVE:\n\t\t\treturn action.user;\n\t\tcase CURRENT_USER_SET_EMAIL_VERIFIED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\temail_verified: action.verified,\n\t\t\t};\n\t}\n\n\treturn state;\n};\n\nexport const flags = withSchemaValidation( flagsSchema, ( state = [], action ) => {\n\tswitch ( action.type ) {\n\t\tcase CURRENT_USER_RECEIVE:\n\t\t\treturn action.user.meta?.data?.flags?.active_flags ?? [];\n\t}\n\n\treturn state;\n} );\n\n/**\n * Compare if two sets of capabilities are equal.\n *\n * Capability sets are simple objects with boolean flags,\n * so comparison is as simple as comparing objects at the first level.\n *\n * @param  {object} capA First set of capabilities\n * @param  {object} capB Second set of capabilities\n * @returns {boolean} True if capability sets are the same, false otherwise.\n */\nfunction areCapabilitiesEqual( capA, capB ) {\n\tif ( ! capA || ! capB ) {\n\t\treturn false;\n\t}\n\n\tconst keysA = Object.keys( capA );\n\tconst keysB = Object.keys( capB );\n\treturn keysA.length === keysB.length && keysA.every( ( key ) => capB[ key ] === capA[ key ] );\n}\n\n/**\n * Returns the updated capabilities state after an action has been dispatched.\n * The state maps site ID keys to an object of current user capabilities for\n * that site.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const capabilities = withSchemaValidation( capabilitiesSchema, ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase SITE_RECEIVE:\n\t\tcase SITES_RECEIVE: {\n\t\t\tconst sites = action.site ? [ action.site ] : action.sites;\n\t\t\treturn sites.reduce( ( memo, site ) => {\n\t\t\t\tif ( ! site.capabilities || areCapabilitiesEqual( site.capabilities, memo[ site.ID ] ) ) {\n\t\t\t\t\treturn memo;\n\t\t\t\t}\n\n\t\t\t\tif ( memo === state ) {\n\t\t\t\t\tmemo = { ...state };\n\t\t\t\t}\n\n\t\t\t\tmemo[ site.ID ] = site.capabilities;\n\t\t\t\treturn memo;\n\t\t\t}, state );\n\t\t}\n\t}\n\n\treturn state;\n} );\n\nexport const lasagnaJwt = withSchemaValidation( lasagnaSchema, ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase CURRENT_USER_RECEIVE:\n\t\t\treturn action.user.lasagna_jwt || null;\n\t}\n\n\treturn state;\n} );\n\nexport default combineReducers( {\n\tid,\n\tuser,\n\tcapabilities,\n\tflags,\n\temailVerification,\n\tlasagnaJwt,\n} );\n","export const idSchema = {\n\ttype: [ 'integer', 'null' ],\n\tminimum: 0,\n};\n\nexport const capabilitiesSchema = {\n\ttype: 'object',\n\tadditionalProperties: false,\n\tpatternProperties: {\n\t\t'^\\\\d+$': {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\tedit_pages: { type: 'boolean' },\n\t\t\t\tedit_posts: { type: 'boolean' },\n\t\t\t\tedit_others_posts: { type: 'boolean' },\n\t\t\t\tedit_others_pages: { type: 'boolean' },\n\t\t\t\tdelete_posts: { type: 'boolean' },\n\t\t\t\tdelete_others_posts: { type: 'boolean' },\n\t\t\t\tedit_theme_options: { type: 'boolean' },\n\t\t\t\tedit_users: { type: 'boolean' },\n\t\t\t\tlist_users: { type: 'boolean' },\n\t\t\t\tmanage_categories: { type: 'boolean' },\n\t\t\t\tmanage_options: { type: 'boolean' },\n\t\t\t\tpromote_users: { type: 'boolean' },\n\t\t\t\tpublish_posts: { type: 'boolean' },\n\t\t\t\tupload_files: { type: 'boolean' },\n\t\t\t\tdelete_users: { type: 'boolean' },\n\t\t\t\tremove_users: { type: 'boolean' },\n\t\t\t\tview_stats: { type: 'boolean' },\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport const flagsSchema = {\n\ttype: 'array',\n};\n\nexport const lasagnaSchema = {\n\ttype: [ 'string', 'null' ],\n};\n","/**\n * Returns the current user ID\n *\n * @param  {object}  state  Global state tree\n * @returns {?number}        Current user ID\n */\nexport function getCurrentUserId( state ) {\n\treturn state.currentUser?.id;\n}\n\n/**\n * Is the current user logged in?\n *\n * @param {object} state Global state tree\n * @returns {boolean}\tTrue if logged in, False if not\n */\nexport function isUserLoggedIn( state ) {\n\treturn getCurrentUserId( state ) !== null;\n}\n\n/**\n * Returns the user object for the current user.\n *\n * @param  {object}  state  Global state tree\n * @returns {import('calypso/lib/user/user').UserData|null}        Current user\n */\nexport function getCurrentUser( state ) {\n\treturn state?.currentUser?.user ?? null;\n}\n\n/**\n * Returns a selector that fetches a property from the current user object\n *\n * @template S,T\n * @param {string} path Path to the property in the user object\n * @param {?T} otherwise A default value that is returned if no user or property is found\n * @returns {(state: S) => T} A selector which takes the state as a parameter\n */\nexport const createCurrentUserSelector =\n\t( path, otherwise = null ) =>\n\t( state ) => {\n\t\tconst user = getCurrentUser( state );\n\t\treturn user?.[ path ] ?? otherwise;\n\t};\n\n/**\n * Returns the locale slug for the current user.\n *\n * @param  {object}  state  Global state tree\n * @returns {?string}        Current user locale\n */\nexport const getCurrentUserLocale = createCurrentUserSelector( 'localeSlug' );\n\n/**\n * Returns the country code for the current user.\n *\n * @param  {object}  state  Global state tree\n * @returns {?string}        Current user country code\n */\nexport const getCurrentUserCountryCode = createCurrentUserSelector( 'user_ip_country_code' );\n\n/**\n * Returns the number of sites for the current user.\n *\n * @param  {object}  state  Global state tree\n * @returns {?number}        Current user site count\n */\nexport function getCurrentUserSiteCount( state ) {\n\tconst user = getCurrentUser( state );\n\tif ( ! user ) {\n\t\treturn null;\n\t}\n\n\treturn user.site_count || 0;\n}\n\n/**\n * Returns the number of visible sites for the current user.\n *\n * @param  {object}  state  Global state tree\n * @returns {?number}        Current user visible site count\n */\nexport function getCurrentUserVisibleSiteCount( state ) {\n\tconst user = getCurrentUser( state );\n\tif ( ! user ) {\n\t\treturn null;\n\t}\n\n\treturn user.visible_site_count || 0;\n}\n\n/**\n * Returns the date (of registration) for the current user.\n *\n * @param  {object}  state  Global state tree\n * @returns {?string}        Date of registration for user\n */\nexport const getCurrentUserDate = createCurrentUserSelector( 'date' );\n\n/**\n *  Returns the username of the current user.\n *\n *  @param {object} state Global state tree\n *  @returns {?string} The username of the current user.\n */\nexport const getCurrentUserName = createCurrentUserSelector( 'username' );\n\n/**\n *  Returns the primary email of the current user.\n *\n *  @param {object} state Global state tree\n *  @returns {?string} The primary email of the current user.\n */\nexport const getCurrentUserEmail = createCurrentUserSelector( 'email' );\n\n/**\n *  Returns the primary email of the current user.\n *\n *  @param {object} state Global state tree\n *  @returns {?string} The primary email of the current user.\n */\nexport const getCurrentUserDisplayName = createCurrentUserSelector( 'display_name' );\n\n/**\n * Returns true if the specified flag is enabled for the user\n *\n * @param  {object}   state      Global state tree\n * @param {string}    flagName   Flag name\n * @returns {boolean}            Whether the flag is enabled for the user\n */\nexport function currentUserHasFlag( state, flagName ) {\n\treturn state.currentUser.flags.indexOf( flagName ) !== -1;\n}\n\n/**\n * Returns true if the current user is email-verified.\n *\n * @param   {object } state Global state tree\n * @returns {boolean}       Whether the current user is email-verified.\n */\nexport const isCurrentUserEmailVerified = createCurrentUserSelector( 'email_verified', false );\n\n/**\n * Returns the Lasagna JWT for the current user.\n *\n * @param  {object}  state  Global state tree\n * @returns {?string}       Lasagna JWT\n */\nexport function getCurrentUserLasagnaJwt( state ) {\n\treturn state.currentUser.lasagnaJwt;\n}\n\n/**\n * Returns true if the user was bootstrapped (i.e. user data was fetched by the server\n * and hydrated using window.currentUser)\n *\n * @returns {boolean} Whether the current user is bootstrapped\n */\nexport const isCurrentUserBootstrapped = createCurrentUserSelector( 'bootstrapped', false );\n","import { mergeHandlers } from 'calypso/state/action-watchers/utils';\n\n/** Stores lists of handlers by action type */\nlet registeredHandlers = {};\n\n/** Stores names of already-included handler sets */\nconst registeredNames = new Set();\n\n/**\n * Loads action handlers into the data layer\n *\n * @param {string} id name of handler set\n * @param {object<string, Array<Function>>} handlers set of handlers to inject\n */\nexport const registerHandlers = ( id, handlers ) => {\n\tif ( registeredNames.has( id ) ) {\n\t\treturn;\n\t}\n\n\tregisteredNames.add( id );\n\tregisteredHandlers = mergeHandlers( registeredHandlers, handlers );\n};\n\n/**\n * Returns list of handlers for given action type else undefined\n *\n * @param {string} actionType requested action type\n * @returns {?Array<Function>} list of handlers for type\n */\nexport const getHandlers = ( actionType ) => registeredHandlers[ actionType ];\n\n/**\n * For testing only: reset handlers\n */\nexport const testReset = () => {\n\tif ( 'test' === process.env.NODE_ENV ) {\n\t\tregisteredHandlers = {};\n\t\tregisteredNames.clear();\n\t}\n};\n","import { extendAction } from '@automattic/state-utils';\nimport { camelCase, isPlainObject, map, reduce, set, snakeCase } from 'lodash';\n\nconst doBypassDataLayer = {\n\tmeta: {\n\t\tdataLayer: {\n\t\t\tdoBypass: true,\n\t\t},\n\t},\n};\n\nexport const bypassDataLayer = ( action ) => extendAction( action, doBypassDataLayer );\n\n/**\n * Deeply converts keys of an object using provided function.\n *\n * @param {object} obj object to convert\n * @param  {Function} fn function to apply to each key of the object\n * @returns {object} a new object with all keys converted\n */\nexport function convertKeysBy( obj, fn ) {\n\tif ( Array.isArray( obj ) ) {\n\t\treturn map( obj, ( v ) => convertKeysBy( v, fn ) );\n\t}\n\n\tif ( isPlainObject( obj ) ) {\n\t\treturn reduce(\n\t\t\tobj,\n\t\t\t( result, value, key ) => {\n\t\t\t\tconst newKey = fn( key );\n\t\t\t\tconst newValue = convertKeysBy( value, fn );\n\t\t\t\treturn set( result, [ newKey ], newValue );\n\t\t\t},\n\t\t\t{}\n\t\t);\n\t}\n\n\treturn obj;\n}\n\n/**\n * Deeply converts keys from the specified object to camelCase notation.\n *\n * @param {object} obj object to convert\n * @returns {object} a new object with all keys converted\n */\nexport const convertToCamelCase = ( obj ) => convertKeysBy( obj, camelCase );\n\n/**\n * Deeply convert keys of an object to snake_case.\n *\n * @param {object} obj Object to convert\n * @returns {object} a new object with snake_cased keys\n */\nexport const convertToSnakeCase = ( obj ) => convertKeysBy( obj, snakeCase );\n","import { WPCOM_HTTP_REQUEST } from 'calypso/state/action-types';\n\n/**\n * @typedef {object} RequestDescription\n * @property {string}   [apiVersion] specific API version for request\n * @property {string}   [apiNamespace] specific API namespace for request (preferred over version)\n * @property {object}   [body] JSON-serializable body for POST requests\n * @property {string}   method name of HTTP method to use\n * @property {string}   path WordPress.com API path with %s and %d placeholders, e.g. /sites/%s\n * @property {object}   [query] key/value pairs for query string\n * @property {FormData} [formData] key/value pairs for POST body, encoded as \"multipart/form-data\"\n * @property {object}   [onSuccess] Redux action to call when request succeeds\n * @property {object}   [onFailure] Redux action to call when request fails\n * @property {object}   [onProgress] Redux action to call on progress events from an upload\n * @property {object}   [onStreamRecord] callback for each record of a streamed response\n * @property {object}   [options] extra options to send to the middleware, e.g. retry policy or offline policy\n */\n\n/**\n * Returns a valid WordPress.com API HTTP Request action object\n *\n * @param {RequestDescription} HTTP request description\n * @param {?object} action default action to call on HTTP events\n * @returns {import('redux').Action} Redux action describing WordPress.com API HTTP request\n */\nexport const http = (\n\t{\n\t\tapiVersion,\n\t\tapiNamespace,\n\t\tbody,\n\t\tmethod,\n\t\tpath,\n\t\tquery = {},\n\t\tformData,\n\t\tonSuccess,\n\t\tonFailure,\n\t\tonProgress,\n\t\tonStreamRecord,\n\t\t...options\n\t},\n\taction = null\n) => {\n\tconst version = apiNamespace ? { apiNamespace } : { apiVersion };\n\n\tif ( process.env.NODE_ENV === 'development' ) {\n\t\tif ( ! ( action || onSuccess ) ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.warn(\n\t\t\t\t'No success handler or default action supplied to the http action. You probably want one or the other. Path: %s',\n\t\t\t\tpath\n\t\t\t);\n\t\t}\n\t}\n\n\treturn {\n\t\ttype: WPCOM_HTTP_REQUEST,\n\t\tbody,\n\t\tmethod,\n\t\tpath,\n\t\tquery: { ...query, ...version },\n\t\tformData,\n\t\tonSuccess: onSuccess || action,\n\t\tonFailure: onFailure || action,\n\t\tonProgress: onProgress || action,\n\t\tonStreamRecord: onStreamRecord || action,\n\t\toptions,\n\t};\n};\n","export const exponentialBackoff = ( { delay = 1000, maxAttempts = 3 } = {} ) => ( {\n\tname: 'EXPONENTIAL_BACKOFF',\n\tdelay: Math.max( 500, delay ),\n\tmaxAttempts: Math.min( 5, maxAttempts ),\n} );\n\nexport const noRetry = () => ( {\n\tname: 'NO_RETRY',\n} );\n\nexport default exponentialBackoff();\n","import warn from '@wordpress/warning';\nimport deterministicStringify from 'fast-json-stable-stringify';\nimport { get, merge } from 'lodash';\nimport { keyedReducer } from 'calypso/state/utils';\n\nconst noop = () => {};\nconst identity = ( data ) => data;\n\n/**\n * Returns response data from an HTTP request success action if available\n *\n * @param {object} action may contain HTTP response data\n * @returns {*|undefined} response data if available\n */\nexport const getData = ( action ) => get( action, 'meta.dataLayer.data', undefined );\n\n/**\n * Returns error data from an HTTP request failure action if available\n *\n * @param {object} action may contain HTTP response error data\n * @returns {*|undefined} error data if available\n */\nexport const getError = ( action ) => get( action, 'meta.dataLayer.error', undefined );\n\n/**\n * Returns (response) headers data from an HTTP request action if available\n *\n * @param   {object}      action Request action for which to retrieve HTTP response headers\n * @returns {*|undefined}        Headers data if available\n */\nexport const getHeaders = ( action ) => get( action, 'meta.dataLayer.headers', undefined );\n\n/**\n * @typedef {object} ProgressData\n * @property {number} loaded Number of bytes already transferred\n * @property {number} total  Total number of bytes to transfer\n */\n\n/**\n * Returns progress data from an HTTP request progress action if available\n *\n * @param  {object} action          may contain HTTP progress data\n * @returns {ProgressData|undefined} Progress data if available\n */\nexport const getProgress = ( action ) => get( action, 'meta.dataLayer.progress', undefined );\n\n/**\n * Returns stream record from an HTTP request action if available\n *\n * @param {object} action may contain stream record\n * @returns {*|undefined} response data if available\n */\nexport const getStreamRecord = ( action ) =>\n\tget( action, 'meta.dataLayer.streamRecord', undefined );\n\nconst getRequestStatus = ( action ) => {\n\tif ( undefined !== getError( action ) ) {\n\t\treturn 'failure';\n\t}\n\n\tif ( undefined !== getData( action ) ) {\n\t\treturn 'success';\n\t}\n\n\treturn 'pending';\n};\n\nexport const getRequestKey = ( fullAction ) => {\n\tconst { meta, ...action } = fullAction;\n\tconst requestKey = get( meta, 'dataLayer.requestKey' );\n\n\treturn requestKey ? requestKey : deterministicStringify( action );\n};\n\nexport const requestsReducerItem = (\n\tstate = null,\n\t{ meta: { dataLayer: { lastUpdated, pendingSince, status } = {} } = {} }\n) => {\n\tif ( status === undefined ) {\n\t\treturn state;\n\t}\n\treturn Object.assign(\n\t\t{ ...state },\n\t\t{ status },\n\t\tlastUpdated && { lastUpdated },\n\t\tpendingSince && { pendingSince }\n\t);\n};\n\nexport const reducer = keyedReducer( 'meta.dataLayer.requestKey', requestsReducerItem );\n\n/**\n * Tracks the state of network activity for a given request type\n *\n * When we issue _REQUEST type actions they usually create some\n * associated network activity by means of an HTTP request.\n * We may want to know what the status of those requests are, if\n * they have completed or if they have failed.\n *\n * This tracker stores the meta data for those requests which\n * can then be independently polled by React components which\n * need to know about those data requests.\n *\n * Note that this is meta data about remote data requests and\n * _not_ about network activity, which is why this is code is\n * here operating on the _REQUEST actions and not in the HTTP\n * pipeline as a processor on HTTP_REQUEST actions.\n *\n * @param {Function} next next link in HTTP middleware chain\n * @returns {Function} middleware function to track requests\n */\nexport const trackRequests = ( next ) => ( store, action ) => {\n\t// progress events don't affect\n\t// any tracking meta at the moment\n\tif ( true !== get( action, 'meta.dataLayer.trackRequest' ) || getProgress( action ) ) {\n\t\treturn next( store, action );\n\t}\n\n\tconst requestKey = getRequestKey( action );\n\tconst status = getRequestStatus( action );\n\tconst dataLayer = Object.assign(\n\t\t{ requestKey, status },\n\t\tstatus === 'pending' ? { pendingSince: Date.now() } : { lastUpdated: Date.now() }\n\t);\n\n\tconst dispatch = ( response ) => store.dispatch( merge( response, { meta: { dataLayer } } ) );\n\n\tnext( { ...store, dispatch }, action );\n};\n\n/**\n * Dispatches to appropriate function based on HTTP request meta\n *\n * @see state/data-layer/wpcom-http/actions#fetch creates HTTP requests\n *\n * When the WPCOM HTTP data layer handles requests it will add\n * response data and errors to a meta property on the given success\n * error, and progress handling actions.\n *\n * This function accepts several functions as the fetch, success, error and\n * progress handlers for actions and it will call the appropriate\n * one based on the stored meta.\n *\n * These handlers are action creators: based on the input data coming from the HTTP request,\n * it will return an action (or an action thunk) to be executed as a response to the given\n * HTTP event.\n *\n * If both error and response data is available this will call the\n * error handler in preference over the success handler, but the\n * response data will also still be available through the action meta.\n *\n * The functions should conform to the following type signatures:\n *   fetch  :: Action -> Action (action creator with one Action parameter)\n *   onSuccess  :: Action -> ResponseData -> Action (action creator with two params)\n *   onError    :: Action -> ErrorData -> Action\n *   onProgress :: Action -> ProgressData -> Action\n *   fromApi    :: ResponseData -> TransformedData throws TransformerError|SchemaError\n * @param {Function} middleware intercepts requests moving through the system\n * object - options object with named parameters:\n * function - options.fetch called if action lacks response meta; should create HTTP request\n * function - options.onSuccess called if the action meta includes response data\n * function - options.onError called if the action meta includes error data\n * function - options.onProgress called on progress events when uploading\n * function - options.fromApi maps between API data and Calypso data\n * @returns {(options: {fetch?: any; onSuccess?: any; onError?: any; onProgress?: any; fromApi?: any}) => any} action or action thunk to be executed in response to HTTP event\n */\nexport const requestDispatcher = ( middleware ) => ( options ) => {\n\tif ( ! options.fetch ) {\n\t\twarn( 'fetch handler is not defined: no request will ever be issued' );\n\t}\n\n\tif ( ! options.onSuccess ) {\n\t\twarn( 'onSuccess handler is not defined: response to the request is being ignored' );\n\t}\n\n\tif ( ! options.onError ) {\n\t\twarn( 'onError handler is not defined: error during the request is being ignored' );\n\t}\n\n\treturn middleware( ( store, action ) => {\n\t\t// create the low-level action we want to dispatch\n\t\tconst requestAction = createRequestAction( options, action );\n\n\t\t// dispatch the low level action (if any was created) and return the result\n\t\tif ( ! requestAction ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( Array.isArray( requestAction ) ) {\n\t\t\treturn requestAction.map( store.dispatch );\n\t\t}\n\n\t\treturn store.dispatch( requestAction );\n\t} );\n};\nexport const dispatchRequest = requestDispatcher( trackRequests );\n\n/*\n * Converts an application-level Calypso action that's handled by the data-layer middleware\n * into a low-level action. For example, HTTP request that's being initiated, or a response\n * action with a `meta.dataLayer` property.\n */\nfunction createRequestAction( options, action ) {\n\tconst {\n\t\tfetch = noop,\n\t\tonSuccess = noop,\n\t\tonError = noop,\n\t\tonProgress = noop,\n\t\tonStreamRecord = noop,\n\t\tfromApi = identity,\n\t} = options;\n\n\tconst error = getError( action );\n\tif ( error ) {\n\t\treturn onError( action, error );\n\t}\n\n\tconst data = getData( action );\n\tif ( data ) {\n\t\ttry {\n\t\t\treturn onSuccess( action, fromApi( data ) );\n\t\t} catch ( err ) {\n\t\t\treturn onError( action, err );\n\t\t}\n\t}\n\n\tconst progress = getProgress( action );\n\tif ( progress ) {\n\t\treturn onProgress( action, progress );\n\t}\n\n\tconst record = getStreamRecord( action );\n\tif ( record ) {\n\t\treturn onStreamRecord( action, record );\n\t}\n\n\treturn fetch( action );\n}\n","import { registerHandlers } from 'calypso/state/data-layer/handler-registry';\nimport { bypassDataLayer } from 'calypso/state/data-layer/utils';\nimport { http } from 'calypso/state/data-layer/wpcom-http/actions';\nimport { noRetry } from 'calypso/state/data-layer/wpcom-http/pipeline/retry-on-failure/policies';\nimport { dispatchRequest } from 'calypso/state/data-layer/wpcom-http/utils';\nimport { READER_SITE_REQUEST } from 'calypso/state/reader/action-types';\nimport {\n\treceiveReaderSiteRequestSuccess,\n\treceiveReaderSiteRequestFailure,\n} from 'calypso/state/reader/sites/actions';\nimport { fields } from 'calypso/state/reader/sites/fields';\n\nexport function requestReadSite( action ) {\n\treturn http(\n\t\t{\n\t\t\tapiVersion: '1.1',\n\t\t\tmethod: 'GET',\n\t\t\tpath: `/read/sites/${ action.payload.ID }`,\n\t\t\tquery: {\n\t\t\t\tfields: fields.join( ',' ),\n\t\t\t\toptions: [ 'is_mapped_domain', 'unmapped_url', 'is_redirect' ].join( ',' ),\n\t\t\t},\n\t\t\tretryPolicy: noRetry(),\n\t\t},\n\t\taction\n\t);\n}\n\nexport function receiveReadSiteSuccess( action, response ) {\n\treturn bypassDataLayer( receiveReaderSiteRequestSuccess( response ) );\n}\n\nexport function receiveReadSiteError( action, response ) {\n\treturn bypassDataLayer( receiveReaderSiteRequestFailure( action, response ) );\n}\n\nregisterHandlers( 'state/data-layer/wpcom/read/sites/index.js', {\n\t[ READER_SITE_REQUEST ]: [\n\t\tdispatchRequest( {\n\t\t\tfetch: requestReadSite,\n\t\t\tonSuccess: receiveReadSiteSuccess,\n\t\t\tonError: receiveReadSiteError,\n\t\t} ),\n\t],\n} );\n","import { POST_LIKES_REQUEST } from 'calypso/state/action-types';\nimport { mergeHandlers } from 'calypso/state/action-watchers/utils';\nimport { registerHandlers } from 'calypso/state/data-layer/handler-registry';\nimport { http } from 'calypso/state/data-layer/wpcom-http/actions';\nimport { dispatchRequest } from 'calypso/state/data-layer/wpcom-http/utils';\nimport { receiveLikes } from 'calypso/state/posts/likes/actions';\nimport mine from './mine';\nimport newLike from './new';\n\nexport const fetch = ( action ) =>\n\thttp(\n\t\t{\n\t\t\tmethod: 'GET',\n\t\t\tpath: `/sites/${ action.siteId }/posts/${ action.postId }/likes`,\n\t\t\tapiVersion: '1.1',\n\t\t},\n\t\taction\n\t);\n\nexport const fromApi = ( data ) => ( {\n\tfound: +data.found,\n\tiLike: !! data.i_like,\n\tlikes: data.likes,\n} );\n\nexport const onSuccess = ( { siteId, postId }, data ) => receiveLikes( siteId, postId, data );\n\nregisterHandlers(\n\t'state/data-layer/wpcom/sites/posts/likes/index.js',\n\tmergeHandlers( newLike, mine, {\n\t\t[ POST_LIKES_REQUEST ]: [\n\t\t\tdispatchRequest( {\n\t\t\t\tfetch,\n\t\t\t\tfromApi,\n\t\t\t\tonSuccess,\n\t\t\t\tonError: () => {},\n\t\t\t} ),\n\t\t],\n\t} )\n);\n","import { POST_UNLIKE } from 'calypso/state/action-types';\nimport { registerHandlers } from 'calypso/state/data-layer/handler-registry';\nimport { bypassDataLayer } from 'calypso/state/data-layer/utils';\nimport { http } from 'calypso/state/data-layer/wpcom-http/actions';\nimport { dispatchRequest } from 'calypso/state/data-layer/wpcom-http/utils';\nimport { like, removeLiker } from 'calypso/state/posts/likes/actions';\n\nexport function fromApi( response ) {\n\tif ( ! response.success ) {\n\t\tthrow new Error( 'Unsuccessful unlike API request' );\n\t}\n\treturn {\n\t\tlikeCount: +response.like_count,\n\t\tliker: response.liker,\n\t};\n}\n\nexport const fetch = ( action ) => {\n\tconst query = {};\n\tif ( action.source ) {\n\t\tquery.source = action.source;\n\t}\n\n\treturn http(\n\t\t{\n\t\t\tmethod: 'POST',\n\t\t\tpath: `/sites/${ action.siteId }/posts/${ action.postId }/likes/mine/delete`,\n\t\t\tapiVersion: '1.1',\n\t\t\tbody: {},\n\t\t\tquery,\n\t\t},\n\t\taction\n\t);\n};\n\nexport const onSuccess = ( { siteId, postId }, { likeCount, liker } ) =>\n\tremoveLiker( siteId, postId, likeCount, liker );\n\nexport const onError = ( { siteId, postId } ) => bypassDataLayer( like( siteId, postId ) );\n\nregisterHandlers( 'state/data-layer/wpcom/sites/posts/likes/mine/delete/index.js', {\n\t[ POST_UNLIKE ]: [\n\t\tdispatchRequest( {\n\t\t\tfetch,\n\t\t\tonSuccess,\n\t\t\tonError,\n\t\t\tfromApi,\n\t\t} ),\n\t],\n} );\n\nexport default {};\n","import deleteMine from './delete';\n\nexport default deleteMine;\n","import { POST_LIKE } from 'calypso/state/action-types';\nimport { registerHandlers } from 'calypso/state/data-layer/handler-registry';\nimport { bypassDataLayer } from 'calypso/state/data-layer/utils';\nimport { http } from 'calypso/state/data-layer/wpcom-http/actions';\nimport { dispatchRequest } from 'calypso/state/data-layer/wpcom-http/utils';\nimport { unlike, addLiker } from 'calypso/state/posts/likes/actions';\n\nexport const fetch = ( action ) => {\n\tconst query = {};\n\tif ( action.source ) {\n\t\tquery.source = action.source;\n\t}\n\n\treturn http(\n\t\t{\n\t\t\tmethod: 'POST',\n\t\t\tpath: `/sites/${ action.siteId }/posts/${ action.postId }/likes/new`,\n\t\t\tbody: {},\n\t\t\tapiVersion: '1.1',\n\t\t\tquery,\n\t\t},\n\t\taction\n\t);\n};\n\nexport const onSuccess = ( { siteId, postId }, { likeCount, liker } ) =>\n\taddLiker( siteId, postId, likeCount, liker );\n\nexport const onError = ( { siteId, postId } ) => bypassDataLayer( unlike( siteId, postId ) );\n\nexport function fromApi( response ) {\n\tif ( ! response.success ) {\n\t\tthrow new Error( 'Unsuccessful like API call' );\n\t}\n\treturn {\n\t\tlikeCount: +response.like_count,\n\t\tliker: response.liker,\n\t};\n}\n\nregisterHandlers( 'state/data-layer/wpcom/sites/posts/likes/new/index.js', {\n\t[ POST_LIKE ]: [\n\t\tdispatchRequest( {\n\t\t\tfetch,\n\t\t\tonSuccess,\n\t\t\tonError,\n\t\t\tfromApi,\n\t\t} ),\n\t],\n} );\n\nexport default {};\n","import {\n\tHAPPYCHAT_IO_RECEIVE_MESSAGE,\n\tHAPPYCHAT_IO_RECEIVE_MESSAGE_OPTIMISTIC,\n\tHAPPYCHAT_IO_RECEIVE_MESSAGE_UPDATE,\n\tHAPPYCHAT_IO_RECEIVE_STATUS,\n\tHAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE,\n\tHAPPYCHAT_IO_SEND_MESSAGE_MESSAGE,\n} from 'calypso/state/action-types';\nimport {\n\tHAPPYCHAT_CHAT_STATUS_DEFAULT,\n\tHAPPYCHAT_MAX_STORED_MESSAGES,\n} from 'calypso/state/happychat/constants';\nimport { combineReducers, withSchemaValidation, withPersistence } from 'calypso/state/utils';\nimport { timelineSchema } from './schema';\n\n// We compare incoming timestamps against a known future Unix time in seconds date\n// to determine if the timestamp is in seconds or milliseconds resolution. If the former,\n// we \"upgrade\" it by multiplying by 1000.\n//\n// This will all be removed once the server-side is fully converted.\nconst UNIX_TIMESTAMP_2023_IN_SECONDS = 1700000000;\nexport const maybeUpscaleTimePrecision = ( time ) =>\n\ttime < UNIX_TIMESTAMP_2023_IN_SECONDS ? time * 1000 : time;\n\nconst lastActivityTimestampSchema = { type: 'number' };\nexport const lastActivityTimestamp = withSchemaValidation(\n\tlastActivityTimestampSchema,\n\t( state = null, action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE:\n\t\t\tcase HAPPYCHAT_IO_RECEIVE_MESSAGE:\n\t\t\t\treturn Date.now();\n\t\t}\n\t\treturn state;\n\t}\n);\n\n/**\n * Tracks the state of the happychat chat. Valid states are:\n *\n *  - HAPPYCHAT_CHAT_STATUS_DEFAULT : no chat has been started\n *  - HAPPYCHAT_CHAT_STATUS_PENDING : chat has been started but no operator assigned\n *  - HAPPYCHAT_CHAT_STATUS_ASSIGNING : system is assigning to an operator\n *  - HAPPYCHAT_CHAT_STATUS_ASSIGNED : operator has been connected to the chat\n *  - HAPPYCHAT_CHAT_STATUS_MISSED : no operator could be assigned\n *  - HAPPYCHAT_CHAT_STATUS_ABANDONED : operator was disconnected\n *  - HAPPYCHAT_CHAT_STATUS_CLOSED : chat was closed\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const status = ( state = HAPPYCHAT_CHAT_STATUS_DEFAULT, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_IO_RECEIVE_STATUS:\n\t\t\treturn action.status;\n\t}\n\treturn state;\n};\n\n/**\n * Returns a timeline event from the redux action\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nconst timelineEvent = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_IO_RECEIVE_MESSAGE:\n\t\tcase HAPPYCHAT_IO_RECEIVE_MESSAGE_OPTIMISTIC:\n\t\tcase HAPPYCHAT_IO_RECEIVE_MESSAGE_UPDATE: {\n\t\t\tconst { message } = action;\n\t\t\treturn {\n\t\t\t\tid: message.id,\n\t\t\t\tsource: message.source,\n\t\t\t\tmessage: message.text,\n\t\t\t\tname: message.user.name,\n\t\t\t\timage: message.user.avatarURL,\n\t\t\t\tisEdited: !! message.revisions,\n\t\t\t\tisOptimistic: message.isOptimistic,\n\t\t\t\tfiles: message.files,\n\t\t\t\ttimestamp: maybeUpscaleTimePrecision( message.timestamp ),\n\t\t\t\tuser_id: message.user.id,\n\t\t\t\ttype: message.type ?? 'message',\n\t\t\t\tlinks: message.meta?.links,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n};\n\nconst getEventTimestamp = ( event ) => parseInt( event.timestamp, 10 );\nconst timelineSortCmp = ( a, b ) => getEventTimestamp( a ) - getEventTimestamp( b );\nconst sortTimeline = ( timeline ) => timeline.slice().sort( timelineSortCmp );\n\n/**\n * Adds timeline events for happychat\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nconst timelineReducer = ( state = [], action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_IO_RECEIVE_MESSAGE:\n\t\tcase HAPPYCHAT_IO_RECEIVE_MESSAGE_OPTIMISTIC: {\n\t\t\t// if meta.forOperator is set, skip so won't show to user\n\t\t\tif ( action.message.meta?.forOperator ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\tconst event = timelineEvent( {}, action );\n\n\t\t\t// If the message already exists in the timeline, replace it\n\t\t\tconst idx = state.findIndex( ( { id } ) => event.id === id );\n\t\t\tif ( idx >= 0 ) {\n\t\t\t\treturn [ ...state.slice( 0, idx ), event, ...state.slice( idx + 1 ) ];\n\t\t\t}\n\n\t\t\t// This is a new message  append it!\n\t\t\treturn state.concat( [ event ] );\n\t\t}\n\t\tcase HAPPYCHAT_IO_RECEIVE_MESSAGE_UPDATE: {\n\t\t\tconst index = state.findIndex( ( { id } ) => action.message.id === id );\n\t\t\treturn index === -1\n\t\t\t\t? state\n\t\t\t\t: [ ...state.slice( 0, index ), timelineEvent( {}, action ), ...state.slice( index + 1 ) ];\n\t\t}\n\t\tcase HAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE: {\n\t\t\tconst messages =\n\t\t\t\taction.messages?.filter( ( message ) => {\n\t\t\t\t\tif ( ! message.id ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// if meta.forOperator is set, skip so won't show to user\n\t\t\t\t\tif ( message.meta?.forOperator ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ! state.some( ( event ) => event.id === message.id );\n\t\t\t\t} ) ?? [];\n\t\t\treturn sortTimeline(\n\t\t\t\tstate.concat(\n\t\t\t\t\tmessages.map( ( message ) => ( {\n\t\t\t\t\t\tid: message.id,\n\t\t\t\t\t\tsource: message.source,\n\t\t\t\t\t\tmessage: message.text,\n\t\t\t\t\t\tname: message.user.name,\n\t\t\t\t\t\timage: message.user.picture,\n\t\t\t\t\t\tisEdited: !! message.revisions,\n\t\t\t\t\t\tfiles: message.files,\n\t\t\t\t\t\ttimestamp: maybeUpscaleTimePrecision( message.timestamp ),\n\t\t\t\t\t\tuser_id: message.user.id,\n\t\t\t\t\t\ttype: message.type ?? 'message',\n\t\t\t\t\t\tlinks: message.meta?.links,\n\t\t\t\t\t} ) )\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\treturn state;\n};\n\nexport const timeline = withSchemaValidation(\n\ttimelineSchema,\n\twithPersistence( timelineReducer, {\n\t\tserialize: ( state ) => state.slice( -1 * HAPPYCHAT_MAX_STORED_MESSAGES ),\n\t} )\n);\n\nexport default combineReducers( {\n\tstatus,\n\ttimeline,\n\tlastActivityTimestamp,\n} );\n","export const eventSchema = {\n\ttype: 'object',\n\tadditionalProperties: false,\n\trequired: [ 'id', 'source', 'message', 'timestamp', 'user_id', 'type' ],\n\tproperties: {\n\t\tid: { type: 'string' },\n\t\tsource: { type: 'string' },\n\t\tmessage: { type: 'string' },\n\t\tname: { type: 'string' },\n\t\timage: { type: 'string' },\n\t\ttimestamp: { type: [ 'number', 'string' ] },\n\t\tuser_id: { type: [ 'number', 'string' ] },\n\t\ttype: { type: 'string' },\n\t\tlinks: { type: 'array' },\n\t},\n};\n\nexport const timelineSchema = {\n\ttype: 'array',\n\tadditionalProperties: false,\n\titems: eventSchema,\n};\n","import { v4 as uuid } from 'uuid';\nimport {\n\tHAPPYCHAT_IO_INIT,\n\tHAPPYCHAT_IO_RECEIVE_ACCEPT,\n\tHAPPYCHAT_IO_RECEIVE_CONNECT,\n\tHAPPYCHAT_IO_RECEIVE_DISCONNECT,\n\tHAPPYCHAT_IO_RECEIVE_ERROR,\n\tHAPPYCHAT_IO_RECEIVE_INIT,\n\tHAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT,\n\tHAPPYCHAT_IO_RECEIVE_MESSAGE,\n\tHAPPYCHAT_IO_RECEIVE_MESSAGE_OPTIMISTIC,\n\tHAPPYCHAT_IO_RECEIVE_MESSAGE_UPDATE,\n\tHAPPYCHAT_IO_RECEIVE_RECONNECTING,\n\tHAPPYCHAT_IO_RECEIVE_STATUS,\n\tHAPPYCHAT_IO_RECEIVE_TOKEN,\n\tHAPPYCHAT_IO_RECEIVE_UNAUTHORIZED,\n\tHAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE,\n\tHAPPYCHAT_IO_REQUEST_TRANSCRIPT,\n\tHAPPYCHAT_IO_SEND_MESSAGE_EVENT,\n\tHAPPYCHAT_IO_SEND_MESSAGE_LOG,\n\tHAPPYCHAT_IO_SEND_MESSAGE_MESSAGE,\n\tHAPPYCHAT_IO_SEND_MESSAGE_USERINFO,\n\tHAPPYCHAT_IO_SEND_PREFERENCES,\n\tHAPPYCHAT_IO_SEND_TYPING,\n\tHAPPYCHAT_IO_SET_CUSTOM_FIELDS,\n} from 'calypso/state/action-types';\nimport { HAPPYCHAT_MESSAGE_TYPES } from 'calypso/state/happychat/constants';\n\nimport 'calypso/state/happychat/init';\n\n/**\n * Returns an action object indicating that the connection is being stablished.\n *\n * @param { Promise } auth Authentication promise, will return the user info upon fulfillment\n * @returns {object} Action object\n */\nexport const initConnection = ( auth ) => ( { type: HAPPYCHAT_IO_INIT, auth } );\n\n/**\n * Returns an action object for the connect event,\n * as it was received from Happychat.\n *\n * @returns {object} Action object\n */\nexport const receiveConnect = () => ( { type: HAPPYCHAT_IO_RECEIVE_CONNECT } );\n\n/**\n * Returns an action object for the disconnect event,\n * as it was received from Happychat.\n *\n * @param {string} error The error\n * @returns {object} Action object\n */\nexport const receiveDisconnect = ( error ) => ( {\n\ttype: HAPPYCHAT_IO_RECEIVE_DISCONNECT,\n\terror,\n} );\n\n/**\n * Returns an action object for the token event,\n * as it was received from Happychat.\n *\n * @returns {object} Action object\n */\nexport const receiveToken = () => ( { type: HAPPYCHAT_IO_RECEIVE_TOKEN } );\n\n/**\n * Returns an action object for the init event, as received from Happychat.\n * Indicates that the connection is ready to be used.\n *\n * @param {object} user User object received\n * @returns {object} Action object\n */\nexport const receiveInit = ( user ) => ( { type: HAPPYCHAT_IO_RECEIVE_INIT, user } );\n\n/**\n * Returns an action object for the unauthorized event,\n * as it was received from Happychat\n *\n * @param {string} error Error reported\n * @returns {object} Action object\n */\nexport const receiveUnauthorized = ( error ) => ( {\n\ttype: HAPPYCHAT_IO_RECEIVE_UNAUTHORIZED,\n\terror,\n} );\n\n/**\n * Returns an action object for the reconnecting event,\n * as it was received from Happychat.\n *\n * @returns {object} Action object\n */\nexport const receiveReconnecting = () => ( { type: HAPPYCHAT_IO_RECEIVE_RECONNECTING } );\n\n/**\n * Returns an action object for the accept event indicating the system availability,\n * as it was received from Happychat.\n *\n * @param  {object} isAvailable Whether Happychat is available\n * @returns {object} Action object\n */\nexport const receiveAccept = ( isAvailable ) => ( {\n\ttype: HAPPYCHAT_IO_RECEIVE_ACCEPT,\n\tisAvailable,\n} );\n\n/**\n * Returns an action object for the accept event indicating the system availability,\n * as it was received from Happychat.\n *\n * @param  {object} isAvailable Whether Happychat is available\n * @returns {object} Action object\n */\nexport const receiveLocalizedSupport = ( isAvailable ) => ( {\n\ttype: HAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT,\n\tisAvailable,\n} );\n\n/**\n * Returns an action object for the message event,\n * as it was received from Happychat.\n *\n * @param  {object} message Message received\n * @returns {object} Action object\n */\nexport const receiveMessage = ( message ) => ( { type: HAPPYCHAT_IO_RECEIVE_MESSAGE, message } );\n\n/**\n * Returns an action object for the optimistic message event,\n * as it was received from Happychat.\n *\n * @param  {object} message Message received\n * @returns {object} Action object\n */\nexport const receiveMessageOptimistic = ( message ) => ( {\n\ttype: HAPPYCHAT_IO_RECEIVE_MESSAGE_OPTIMISTIC,\n\tmessage: { ...message, isOptimistic: true },\n} );\n\n/**\n * Returns an action object for the message update event,\n * as it was received from Happychat.\n *\n * @param  {object} message Updated message\n * @returns {object} Action object\n */\nexport const receiveMessageUpdate = ( message ) => ( {\n\ttype: HAPPYCHAT_IO_RECEIVE_MESSAGE_UPDATE,\n\tmessage,\n} );\n\n/**\n * Returns an action object for the status event,\n * as it was received from Happychat.\n *\n * @param  {string} status New chat status\n * @returns {object} Action object\n */\nexport const receiveStatus = ( status ) => ( {\n\ttype: HAPPYCHAT_IO_RECEIVE_STATUS,\n\tstatus,\n} );\n\n/**\n * Returns an action object with the error received from Happychat\n * upon trying to send an event.\n *\n * @param  {object} error Error received\n * @returns {object} Action object\n */\nexport const receiveError = ( error ) => ( { type: HAPPYCHAT_IO_RECEIVE_ERROR, error } );\n\n/**\n * Returns an action object for the transcript reception.\n *\n * @param {object} result           An object with {messages, timestamp} props\n * @param {Array}  result.messages  An array of message objects\n * @param {number} result.timestamp The transcript reception timestamp\n * @returns {object} Action object\n */\nexport const receiveTranscript = ( { messages, timestamp } ) => ( {\n\ttype: HAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE,\n\tmessages,\n\ttimestamp,\n} );\n\n/**\n * Returns an action object that prepares the transcript request\n * to be send to happychat as a SocketIO event.\n *\n * @param {string} timestamp Latest transcript timestamp\n * @param {number} timeout The number of milliseconds to wait for server response.\n * @returns {object} Action object\n */\nexport const requestTranscript = ( timestamp, timeout = 10000 ) => ( {\n\ttype: HAPPYCHAT_IO_REQUEST_TRANSCRIPT,\n\tevent: 'transcript',\n\tpayload: timestamp,\n\ttimeout: timeout,\n\tcallback: receiveTranscript,\n} );\n\n/**\n * Returns an action object that prepares the chat message\n * to be send to Happychat as a SocketIO event.\n *\n * @param  {object} message Message to be sent\n * @param  {object} meta meta info to be sent along the message\n * @returns {object} Action object\n */\nexport const sendMessage = ( message, meta = {} ) => ( {\n\ttype: HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE,\n\tevent: 'message',\n\tpayload: { id: uuid(), text: message, meta },\n} );\n\n/**\n * Returns an action object that prepares the event message\n * to be send to Happychat as a SocketIO event.\n *\n * @param  {object} message Message to be sent\n * @returns {object} Action object\n */\nexport const sendEvent = ( message ) => ( {\n\ttype: HAPPYCHAT_IO_SEND_MESSAGE_EVENT,\n\tevent: 'message',\n\tpayload: {\n\t\tid: uuid(),\n\t\ttext: message,\n\t\ttype: HAPPYCHAT_MESSAGE_TYPES.CUSTOMER_EVENT,\n\t\tmeta: { forOperator: true, event_type: HAPPYCHAT_MESSAGE_TYPES.CUSTOMER_EVENT },\n\t},\n} );\n\n/**\n * Returns an action object that prepares the log message\n * to be send to Happychat as a SocketIO event.\n *\n * @param  {object} message Message to be sent\n * @returns {object} Action object\n */\nexport const sendLog = ( message ) => ( {\n\ttype: HAPPYCHAT_IO_SEND_MESSAGE_LOG,\n\tevent: 'message',\n\tpayload: {\n\t\tid: uuid(),\n\t\ttext: message,\n\t\ttype: HAPPYCHAT_MESSAGE_TYPES.LOG,\n\t\tmeta: { forOperator: true, event_type: HAPPYCHAT_MESSAGE_TYPES.LOG },\n\t},\n} );\n\n/**\n * Returns an action object that prepares the user information\n * to be send to Happychat as a SocketIO event.\n *\n * @param  {object} info Selected user info\n * @returns {object} Action object\n */\nexport const sendUserInfo = ( info ) => ( {\n\ttype: HAPPYCHAT_IO_SEND_MESSAGE_USERINFO,\n\tevent: 'message',\n\tpayload: {\n\t\tid: uuid(),\n\t\ttype: HAPPYCHAT_MESSAGE_TYPES.CUSTOMER_INFO,\n\t\tmeta: {\n\t\t\tforOperator: true,\n\t\t\t...info,\n\t\t},\n\t},\n} );\n\n/**\n * Returns an action object that prepares the typing info\n * to be sent to Happychat as a SocketIO event.\n *\n * @param  {object} message What the user is typing\n * @returns {object} Action object\n */\nexport const sendTyping = ( message ) => ( {\n\ttype: HAPPYCHAT_IO_SEND_TYPING,\n\tevent: 'typing',\n\tpayload: {\n\t\tmessage,\n\t},\n} );\n\n/**\n * Returns an action object that prepares typing info (the user stopped typing)\n * to be sent to Happychat as a SocketIO event.\n *\n * @returns {object} Action object\n */\nexport const sendNotTyping = () => sendTyping( false );\n\n/**\n * Returns an action object that prepares the user routing preferences (locale and groups)\n * to be send to happychat as a SocketIO event.\n *\n * @param {string} locale representing the user selected locale\n * @param { Array } groups of string happychat groups (wp.com, jpop) based on the site selected\n * @param {object} skills object based on product and language ( formerly group and locale )\n *\n * @returns {object} Action object\n */\nexport const sendPreferences = ( locale, groups, skills ) => ( {\n\ttype: HAPPYCHAT_IO_SEND_PREFERENCES,\n\tevent: 'preferences',\n\tpayload: {\n\t\tlocale,\n\t\tgroups,\n\t\tskills,\n\t},\n} );\n\n/**\n * Returns an action object that will send the given Custom Field key/values to be\n * set on the current chat.\n *\n * @param {object} fieldData Key/values of Custom Fields to be set\n *\n * @returns {object} Action object\n */\nexport const setChatCustomFields = ( fieldData ) => ( {\n\ttype: HAPPYCHAT_IO_SET_CUSTOM_FIELDS,\n\tevent: 'chat.setFields',\n\tpayload: fieldData,\n} );\n","import {\n\tHAPPYCHAT_IO_INIT,\n\tHAPPYCHAT_IO_RECEIVE_ACCEPT,\n\tHAPPYCHAT_IO_RECEIVE_DISCONNECT,\n\tHAPPYCHAT_IO_RECEIVE_INIT,\n\tHAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT,\n\tHAPPYCHAT_IO_RECEIVE_RECONNECTING,\n} from 'calypso/state/action-types';\nimport {\n\tHAPPYCHAT_CONNECTION_STATUS_CONNECTED,\n\tHAPPYCHAT_CONNECTION_STATUS_CONNECTING,\n\tHAPPYCHAT_CONNECTION_STATUS_DISCONNECTED,\n\tHAPPYCHAT_CONNECTION_STATUS_RECONNECTING,\n\tHAPPYCHAT_CONNECTION_STATUS_UNINITIALIZED,\n} from 'calypso/state/happychat/constants';\nimport { combineReducers } from 'calypso/state/utils';\n\nconst error = ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_IO_RECEIVE_INIT:\n\t\t\treturn null;\n\t\tcase HAPPYCHAT_IO_RECEIVE_DISCONNECT:\n\t\t\treturn action.error;\n\t}\n\treturn state;\n};\n\n/**\n * Tracks the state of the happychat client connection\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n *\n */\nconst status = ( state = HAPPYCHAT_CONNECTION_STATUS_UNINITIALIZED, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_IO_INIT:\n\t\t\treturn HAPPYCHAT_CONNECTION_STATUS_CONNECTING;\n\t\tcase HAPPYCHAT_IO_RECEIVE_INIT:\n\t\t\treturn HAPPYCHAT_CONNECTION_STATUS_CONNECTED;\n\t\tcase HAPPYCHAT_IO_RECEIVE_DISCONNECT:\n\t\t\treturn HAPPYCHAT_CONNECTION_STATUS_DISCONNECTED;\n\t\tcase HAPPYCHAT_IO_RECEIVE_RECONNECTING:\n\t\t\treturn HAPPYCHAT_CONNECTION_STATUS_RECONNECTING;\n\t}\n\treturn state;\n};\n\n/**\n * Tracks whether happychat.io is accepting new chats.\n *\n * @param  {boolean} state  Current happychat status\n * @param  {object}  action Action playload\n * @returns {boolean}        Updated happychat status\n */\nconst isAvailable = ( state = false, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_IO_RECEIVE_ACCEPT:\n\t\t\treturn action.isAvailable;\n\t}\n\treturn state;\n};\n\n/**\n * Tracks whether happychat.io is accepting fully localized chats.\n * Customers locale and HE locale should be an exact match ( doesn't default routing to english speaker HEs )\n *\n * @param  {boolean} state  Current happychat status\n * @param  {object}  action Action playload\n * @returns {boolean}        Updated happychat status\n */\nexport const localizedSupport = ( state = false, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT:\n\t\t\treturn action.isAvailable;\n\t}\n\treturn state;\n};\n\nexport default combineReducers( {\n\terror,\n\tisAvailable,\n\tlocalizedSupport,\n\tstatus,\n} );\n","// These CONNECTION_ERROR constants come directly from the Socket.IO client library.\n// These are the possible reasons for a connection disconnect.\nexport const HAPPYCHAT_CONNECTION_ERROR_FORCED_CLOSE = 'forced close';\nexport const HAPPYCHAT_CONNECTION_ERROR_PING_TIMEOUT = 'ping timeout';\nexport const HAPPYCHAT_CONNECTION_ERROR_TRANSPORT_CLOSE = 'transport close';\nexport const HAPPYCHAT_CONNECTION_ERROR_TRANSPORT_ERROR = 'transport error';\n\n// connection status\nexport const HAPPYCHAT_CONNECTION_STATUS_UNINITIALIZED = 'uninitialized';\nexport const HAPPYCHAT_CONNECTION_STATUS_CONNECTING = 'connecting';\nexport const HAPPYCHAT_CONNECTION_STATUS_CONNECTED = 'connected';\nexport const HAPPYCHAT_CONNECTION_STATUS_DISCONNECTED = 'disconnected';\nexport const HAPPYCHAT_CONNECTION_STATUS_RECONNECTING = 'reconnecting';\nexport const HAPPYCHAT_CONNECTION_STATUS_UNAUTHORIZED = 'unauthorized';\n\n// Max number of messages to save between refreshes\nexport const HAPPYCHAT_MAX_STORED_MESSAGES = 30;\n\n// Skills\nexport const HAPPYCHAT_SKILL_PRODUCT = 'product';\nexport const HAPPYCHAT_SKILL_LANGUAGE = 'language';\n\n// Groups\nexport const HAPPYCHAT_GROUP_JPOP = 'jpop';\nexport const HAPPYCHAT_GROUP_WOO = 'woo';\nexport const HAPPYCHAT_GROUP_JPPHP = 'jpphp';\nexport const HAPPYCHAT_GROUP_WPCOM = 'WP.com';\n\n// Message types\nexport const HAPPYCHAT_MESSAGE_TYPES = {\n\tCUSTOMER_EVENT: 'customer-event',\n\tCUSTOMER_INFO: 'customer-info',\n\tLOG: 'log',\n};\n\n// Chat status\nexport const HAPPYCHAT_CHAT_STATUS_ABANDONED = 'abandoned';\nexport const HAPPYCHAT_CHAT_STATUS_ASSIGNED = 'assigned';\nexport const HAPPYCHAT_CHAT_STATUS_ASSIGNING = 'assigning';\nexport const HAPPYCHAT_CHAT_STATUS_BLOCKED = 'blocked';\nexport const HAPPYCHAT_CHAT_STATUS_CLOSED = 'closed';\nexport const HAPPYCHAT_CHAT_STATUS_DEFAULT = 'default';\nexport const HAPPYCHAT_CHAT_STATUS_NEW = 'new';\nexport const HAPPYCHAT_CHAT_STATUS_MISSED = 'missed';\nexport const HAPPYCHAT_CHAT_STATUS_PENDING = 'pending';\n","import { registerReducer } from 'calypso/state/redux-store';\nimport reducer from './reducer';\n\nregisterReducer( [ 'happychat' ], reducer );\n","import { get } from 'lodash';\nimport buildConnection from 'calypso/lib/happychat/connection-async';\nimport {\n\tHAPPYCHAT_BLUR,\n\tHAPPYCHAT_FOCUS,\n\tHAPPYCHAT_IO_INIT,\n\tHAPPYCHAT_IO_REQUEST_TRANSCRIPT,\n\tHAPPYCHAT_IO_SEND_MESSAGE_EVENT,\n\tHAPPYCHAT_IO_SEND_MESSAGE_LOG,\n\tHAPPYCHAT_IO_SEND_MESSAGE_MESSAGE,\n\tHAPPYCHAT_IO_SEND_MESSAGE_USERINFO,\n\tHAPPYCHAT_IO_SEND_PREFERENCES,\n\tHAPPYCHAT_IO_SEND_TYPING,\n\tHAPPYCHAT_IO_SET_CUSTOM_FIELDS,\n} from 'calypso/state/action-types';\nimport { sendEvent, setChatCustomFields } from 'calypso/state/happychat/connection/actions';\nimport isHappychatChatAssigned from 'calypso/state/happychat/selectors/is-happychat-chat-assigned';\nimport isHappychatClientConnected from 'calypso/state/happychat/selectors/is-happychat-client-connected';\n\nconst noop = () => {};\nconst eventMessage = {\n\tHAPPYCHAT_BLUR: 'Stopped looking at Happychat',\n\tHAPPYCHAT_FOCUS: 'Started looking at Happychat',\n};\n\nexport const socketMiddleware = ( connection = null ) => {\n\t// Allow a connection object to be specified for\n\t// testing. If blank, use a real connection.\n\tif ( connection == null ) {\n\t\tconnection = buildConnection();\n\t}\n\n\treturn ( store ) => ( next ) => ( action ) => {\n\t\tconst state = store.getState();\n\n\t\tswitch ( action.type ) {\n\t\t\tcase HAPPYCHAT_IO_INIT:\n\t\t\t\tconnection.init( store.dispatch, action.auth );\n\t\t\t\tbreak;\n\n\t\t\tcase HAPPYCHAT_IO_REQUEST_TRANSCRIPT:\n\t\t\t\tconnection.request( action, action.timeout );\n\t\t\t\tbreak;\n\n\t\t\tcase HAPPYCHAT_IO_SEND_MESSAGE_USERINFO:\n\t\t\t\t// When user info is sent, pass it through in a message...\n\t\t\t\tconnection.send( action );\n\t\t\t\t// ... and also set a few of the values in Custom Fields\n\t\t\t\tstore.dispatch(\n\t\t\t\t\tsetChatCustomFields( {\n\t\t\t\t\t\thowCanWeHelp: get( action, 'payload.meta.howCanWeHelp', null ),\n\t\t\t\t\t\thowYouFeel: get( action, 'payload.meta.howYouFeel', null ),\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase HAPPYCHAT_IO_SEND_MESSAGE_EVENT:\n\t\t\tcase HAPPYCHAT_IO_SEND_MESSAGE_LOG:\n\t\t\tcase HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE:\n\t\t\tcase HAPPYCHAT_IO_SEND_PREFERENCES:\n\t\t\tcase HAPPYCHAT_IO_SEND_TYPING:\n\t\t\tcase HAPPYCHAT_IO_SET_CUSTOM_FIELDS:\n\t\t\t\tconnection.send( action );\n\t\t\t\tbreak;\n\n\t\t\tcase HAPPYCHAT_BLUR:\n\t\t\tcase HAPPYCHAT_FOCUS:\n\t\t\t\tisHappychatClientConnected( state ) &&\n\t\t\t\tisHappychatChatAssigned( state ) &&\n\t\t\t\teventMessage[ action.type ]\n\t\t\t\t\t? store.dispatch( sendEvent( eventMessage[ action.type ] ) )\n\t\t\t\t\t: noop;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn next( action );\n\t};\n};\n\nexport default socketMiddleware();\n","import { withStorageKey } from '@automattic/state-utils';\nimport { combineReducers } from 'calypso/state/utils';\nimport chat from './chat/reducer';\nimport connection from './connection/reducer';\nimport ui from './ui/reducer';\nimport user from './user/reducer';\n\nconst combinedReducer = combineReducers( {\n\tchat,\n\tconnection,\n\tui,\n\tuser,\n} );\n\nexport default withStorageKey( 'happychat', combinedReducer );\n","import { get } from 'lodash';\n\nimport 'calypso/state/happychat/init';\n\n/**\n * Gets the current happychat connection status\n *\n * @param {object} state - global redux state\n * @returns {string} current state value\n */\nexport default function ( state ) {\n\treturn get( state, 'happychat.connection.status' );\n}\n","import { get } from 'lodash';\nimport { HAPPYCHAT_CHAT_STATUS_ASSIGNED } from 'calypso/state/happychat/constants';\n\nimport 'calypso/state/happychat/init';\n\nexport default ( state ) =>\n\tget( state, 'happychat.chat.status' ) === HAPPYCHAT_CHAT_STATUS_ASSIGNED;\n","import { HAPPYCHAT_CONNECTION_STATUS_CONNECTED } from 'calypso/state/happychat/constants';\nimport getHappychatConnectionStatus from 'calypso/state/happychat/selectors/get-happychat-connection-status';\n\n/**\n * Returns true if connection status is connected\n *\n * @param {object} state - global redux state\n * @returns {boolean} Whether Happychat connection status is connected\n */\nexport default function ( state ) {\n\treturn getHappychatConnectionStatus( state ) === HAPPYCHAT_CONNECTION_STATUS_CONNECTED;\n}\n","import {\n\tHAPPYCHAT_OPEN,\n\tHAPPYCHAT_MINIMIZING,\n\tHAPPYCHAT_BLUR,\n\tHAPPYCHAT_FOCUS,\n\tHAPPYCHAT_IO_SEND_MESSAGE_MESSAGE,\n\tHAPPYCHAT_SET_CURRENT_MESSAGE,\n} from 'calypso/state/action-types';\nimport { combineReducers, withSchemaValidation, withPersistence } from 'calypso/state/utils';\n\n/**\n * Tracks the current message the user has typed into the happychat client\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n *\n */\nexport const currentMessage = ( state = '', action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE:\n\t\t\treturn '';\n\t\tcase HAPPYCHAT_SET_CURRENT_MESSAGE:\n\t\t\treturn action.message;\n\t}\n\treturn state;\n};\n\nconst lostFocusAtSchema = { type: 'number' };\n/**\n * Tracks the last time Happychat had focus. This lets us determine things like\n * whether the user has unread messages. A numerical value is the timestamp where focus\n * was lost, and `null` means HC currently has focus.\n *\n * @param {object} state Current state\n * @param {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const lostFocusAt = withSchemaValidation(\n\tlostFocusAtSchema,\n\twithPersistence(\n\t\t( state = null, action ) => {\n\t\t\tswitch ( action.type ) {\n\t\t\t\tcase HAPPYCHAT_BLUR:\n\t\t\t\t\treturn Date.now();\n\t\t\t\tcase HAPPYCHAT_FOCUS:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn state;\n\t\t},\n\t\t{\n\t\t\tserialize: ( state ) => {\n\t\t\t\t// If there's already a timestamp set, use that. Otherwise treat serialization as a\n\t\t\t\t// \"loss of focus\" since it represents the state when the browser (and HC) closed.\n\t\t\t\tif ( state === null ) {\n\t\t\t\t\treturn Date.now();\n\t\t\t\t}\n\t\t\t\treturn state;\n\t\t\t},\n\t\t}\n\t)\n);\n\nconst isOpen = ( state = false, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_OPEN:\n\t\t\treturn !! action.isOpen;\n\t}\n\treturn state;\n};\n\n/**\n * Tracks the state of the happychat minimizing process\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n *\n */\nconst isMinimizing = ( state = false, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_MINIMIZING:\n\t\t\treturn action.isMinimizing ? true : false;\n\t}\n\treturn state;\n};\n\nexport default combineReducers( { currentMessage, isMinimizing, isOpen, lostFocusAt } );\n","import { logToLogstash } from 'calypso/lib/logstash';\nimport wpcom from 'calypso/lib/wp';\nimport { HAPPYCHAT_SET_USER_CONFIG } from 'calypso/state/action-types';\nimport { errorNotice } from 'calypso/state/notices/actions';\n\nimport 'calypso/state/happychat/init';\n\nexport const setHappychatUserConfig = ( config ) => ( {\n\ttype: HAPPYCHAT_SET_USER_CONFIG,\n\tconfig,\n} );\n\nexport const requestHappychatEligibility = () => ( dispatch ) => {\n\twpcom.req\n\t\t.get( '/help/olark/mine' )\n\t\t.then( ( configuration ) => {\n\t\t\tdispatch( setHappychatUserConfig( configuration ) );\n\t\t} )\n\t\t.catch( ( error ) => {\n\t\t\t// Hides notices for authorization errors as they should be legitimate (e.g. we use this error code to check\n\t\t\t// whether the user is logged in when fetching the user profile)\n\t\t\tif ( error && error.message && error.error !== 'authorization_required' ) {\n\t\t\t\tdispatch( errorNotice( error.message ) );\n\t\t\t\t// Log this failure to logstash. This is debug info for https://github.com/Automattic/wp-calypso/issues/51517\n\t\t\t\t// and can probably be removed once that's closed.\n\t\t\t\tlogToLogstash( {\n\t\t\t\t\tfeature: 'calypso_client',\n\t\t\t\t\tmessage: 'Olark configuration request failed',\n\t\t\t\t\tseverity: 'error',\n\t\t\t\t\textra: {\n\t\t\t\t\t\terror: error.name,\n\t\t\t\t\t\tstatus: error.status,\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n};\n","import { HAPPYCHAT_IO_RECEIVE_INIT, HAPPYCHAT_SET_USER_CONFIG } from 'calypso/state/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\nimport {\n\tgeoLocationSchema,\n\tisEligibleSchema,\n\tavailabilitySchema,\n\tsupportLevelSchema,\n} from './schema';\n\n/**\n * Tracks the current user geo location.\n *\n *\n * @param {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const geoLocation = withSchemaValidation( geoLocationSchema, ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_IO_RECEIVE_INIT: {\n\t\t\tconst location = action.user.geoLocation;\n\t\t\tif ( location && location.country_long && location.city ) {\n\t\t\t\treturn location;\n\t\t\t}\n\t\t\treturn state;\n\t\t}\n\t}\n\n\treturn state;\n} );\n\nexport const isEligible = withSchemaValidation( isEligibleSchema, ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_SET_USER_CONFIG:\n\t\t\treturn action.config.isUserEligible;\n\t}\n\n\treturn state;\n} );\n\nexport const availability = withSchemaValidation( availabilitySchema, ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_SET_USER_CONFIG:\n\t\t\treturn action.config.availability;\n\t}\n\n\treturn state;\n} );\n\n/**\n * The level of support we're offering to this user (represents their highest paid plan).\n */\nexport const supportLevel = withSchemaValidation( supportLevelSchema, ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase HAPPYCHAT_SET_USER_CONFIG:\n\t\t\treturn action.config.supportLevel;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n} );\n\nexport default combineReducers( {\n\tgeoLocation,\n\tisEligible,\n\tavailability,\n\tsupportLevel,\n} );\n","export const geoLocationSchema = {\n\ttype: [ 'object', 'null' ],\n\tproperties: {\n\t\tcity: { type: 'string' },\n\t\tcountry_long: { type: 'string' },\n\t\tcountry_short: { type: 'string' },\n\t\tregion: { type: 'string' },\n\t},\n};\n\nexport const isEligibleSchema = {\n\ttype: [ 'boolean', 'null' ],\n};\n\nexport const availabilitySchema = {\n\ttype: [ 'object', 'null' ],\n\tproperties: {\n\t\tprecancellation: { type: 'boolean' },\n\t\tpresale: { type: 'boolean' },\n\t},\n};\n\nexport const supportLevelSchema = {\n\ttype: [ 'string', 'null' ],\n};\n","import { createSelector } from '@automattic/state-utils';\nimport {\n\tgetAdminSections,\n\tfilterListBySearchTerm,\n} from 'calypso/blocks/inline-help/admin-sections';\nimport { getSelectedSiteId } from 'calypso/state/ui/selectors';\n\n/**\n * Returns a filtered site admin collection using the memoized getAdminSections.\n *\n * Note that the first argument `state` is not used,\n * because the admin sections are store in the admin-sections.js,\n * in the inline-block component.\n *\n * @param   {object} state      Global state tree\n * @param   {string} searchTerm The search term\n * @param   {number} limit      The maximum number of results to show\n * @returns {Array}             A filtered (or empty) array\n */\nconst getAdminHelpResults = createSelector(\n\t( state, searchTerm = '', limit ) => {\n\t\tif ( ! searchTerm ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst siteId = getSelectedSiteId( state );\n\n\t\treturn filterListBySearchTerm( searchTerm, getAdminSections( state, siteId ), limit );\n\t},\n\t( state ) => [ getSelectedSiteId( state ) ]\n);\n\nexport default getAdminHelpResults;\n","import { v4 as uuid } from 'uuid';\nimport { NOTICE_CREATE, NOTICE_REMOVE } from 'calypso/state/action-types';\nimport type {\n\tNoticeActionCreator,\n\tNoticeActionCreatorWithStatus,\n\tNoticeRemovalActionCreator,\n} from 'calypso/state/notices/types';\n\nimport 'calypso/state/notices/init';\n\nexport const removeNotice: NoticeRemovalActionCreator = ( noticeId ) => {\n\treturn {\n\t\tnoticeId,\n\t\ttype: NOTICE_REMOVE,\n\t};\n};\n\nexport const createNotice: NoticeActionCreatorWithStatus = (\n\tstatus,\n\ttext,\n\t{ id, ...noticeOptions } = {}\n) => {\n\treturn {\n\t\ttype: NOTICE_CREATE,\n\t\tnotice: Object.assign( { showDismiss: true }, noticeOptions, {\n\t\t\tnoticeId: id || uuid(),\n\t\t\tstatus,\n\t\t\ttext,\n\t\t} ),\n\t};\n};\n\nexport const successNotice: NoticeActionCreator = ( text, noticeOptions ) =>\n\tcreateNotice( 'is-success', text, noticeOptions );\nexport const errorNotice: NoticeActionCreator = ( text, noticeOptions ) =>\n\tcreateNotice( 'is-error', text, noticeOptions );\nexport const infoNotice: NoticeActionCreator = ( text, noticeOptions ) =>\n\tcreateNotice( 'is-info', text, noticeOptions );\nexport const warningNotice: NoticeActionCreator = ( text, noticeOptions ) =>\n\tcreateNotice( 'is-warning', text, noticeOptions );\nexport const plainNotice: NoticeActionCreator = ( text, noticeOptions ) =>\n\tcreateNotice( 'is-plain', text, noticeOptions );\n","import { registerReducer } from 'calypso/state/redux-store';\nimport reducer from './reducer';\n\nregisterReducer( [ 'notices' ], reducer );\n","import { withStorageKey } from '@automattic/state-utils';\nimport { omit, reduce } from 'lodash';\nimport { NOTICE_CREATE, NOTICE_REMOVE, ROUTE_SET } from 'calypso/state/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\nexport const items = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase NOTICE_CREATE: {\n\t\t\tconst { notice } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ notice.noticeId ]: notice,\n\t\t\t};\n\t\t}\n\t\tcase NOTICE_REMOVE: {\n\t\t\tconst { noticeId } = action;\n\t\t\tif ( ! state.hasOwnProperty( noticeId ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn omit( state, noticeId );\n\t\t}\n\t\tcase ROUTE_SET: {\n\t\t\treturn reduce(\n\t\t\t\tstate,\n\t\t\t\t( memo, notice, noticeId ) => {\n\t\t\t\t\tif ( ! notice.isPersistent && ! notice.displayOnNextPage ) {\n\t\t\t\t\t\treturn memo;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nextNotice = notice;\n\t\t\t\t\tif ( nextNotice.displayOnNextPage ) {\n\t\t\t\t\t\tnextNotice = {\n\t\t\t\t\t\t\t...nextNotice,\n\t\t\t\t\t\t\tdisplayOnNextPage: false,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tmemo[ noticeId ] = nextNotice;\n\t\t\t\t\treturn memo;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport const lastTimeShown = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase NOTICE_CREATE: {\n\t\t\tconst { notice } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ notice.noticeId ]: Date.now(),\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n};\n\nconst combinedReducer = combineReducers( {\n\titems,\n\tlastTimeShown,\n} );\n\nexport default withStorageKey( 'notices', combinedReducer );\n","export const DEFAULT_POST_QUERY = {\n\tcontext: 'display',\n\thttp_envelope: false,\n\tpretty: false,\n\tnumber: 20,\n\toffset: 0,\n\tpage: 1,\n\torder: 'DESC',\n\torder_by: 'date',\n\ttype: 'post',\n\tstatus: 'publish',\n\tsticky: 'include',\n\tsearch: '',\n};\n\n// All post statuses displayed in Calypso.\nexport const POST_STATUSES = [ 'publish', 'draft', 'pending', 'private', 'future', 'trash' ];\n","import { get, merge, omit, pick } from 'lodash';\nimport {\n\tCURRENT_USER_RECEIVE,\n\tPOST_COUNTS_RECEIVE,\n\tPOST_COUNTS_REQUEST,\n\tPOST_COUNTS_REQUEST_SUCCESS,\n\tPOST_COUNTS_REQUEST_FAILURE,\n\tPOST_COUNTS_RESET_INTERNAL_STATE,\n\tPOST_DELETE,\n\tPOST_SAVE,\n\tPOSTS_RECEIVE,\n} from 'calypso/state/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\nimport { countsSchema } from './schema';\n\n/**\n * Returns the updated post types requesting state after an action has been\n * dispatched. The state reflects a mapping of site ID, post type pairing to a\n * boolean reflecting whether a request for the post types is in progress.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport function requesting( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase POST_COUNTS_REQUEST:\n\t\tcase POST_COUNTS_REQUEST_SUCCESS:\n\t\tcase POST_COUNTS_REQUEST_FAILURE:\n\t\t\treturn merge( {}, state, {\n\t\t\t\t[ action.siteId ]: {\n\t\t\t\t\t[ action.postType ]: POST_COUNTS_REQUEST === action.type,\n\t\t\t\t},\n\t\t\t} );\n\t}\n\n\treturn state;\n}\n\n/**\n * Returns the updated post count state after an action has been dispatched.\n * The state reflects a mapping of site ID, post type, [all/mine], post status\n * to the number of posts.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const counts = ( () => {\n\tlet currentUserId;\n\tlet postStatuses = {};\n\n\t/**\n\t * Returns a serialized key to be used in tracking post status properties\n\t *\n\t * @param  {number} siteId Site ID\n\t * @param  {number} postId Post ID\n\t * @returns {string}        Serialized key\n\t */\n\tfunction getPostStatusKey( siteId, postId ) {\n\t\treturn [ siteId, postId ].join();\n\t}\n\n\t/**\n\t * Returns the updated post count state after transitioning a post to a new\n\t * status.\n\t *\n\t * @param  {object} state  Current state\n\t * @param  {number} siteId Site ID\n\t * @param  {number} postId Post ID\n\t * @param  {string} status Post status\n\t * @returns {object}        Updated state\n\t */\n\tfunction transitionPostStateToStatus( state, siteId, postId, status ) {\n\t\tconst postStatusKey = getPostStatusKey( siteId, postId );\n\t\tconst postStatus = postStatuses[ postStatusKey ];\n\t\tif ( ! postStatus ) {\n\t\t\treturn state;\n\t\t}\n\n\t\t// Determine which count subkeys need to be updated, depending on\n\t\t// whether the current user authored the post\n\t\tconst subKeys = [ 'all' ];\n\t\tif ( postStatus.authorId === currentUserId ) {\n\t\t\tsubKeys.push( 'mine' );\n\t\t}\n\n\t\tconst revisions = subKeys.reduce( ( memo, subKey ) => {\n\t\t\tconst subKeyCounts = get( state, [ siteId, postStatus.type, subKey ], {} );\n\n\t\t\tmemo[ subKey ] = {};\n\n\t\t\t// Decrement count from the current status before transitioning\n\t\t\tmemo[ subKey ][ postStatus.status ] = Math.max(\n\t\t\t\t( subKeyCounts[ postStatus.status ] || 0 ) - 1,\n\t\t\t\t0\n\t\t\t);\n\n\t\t\t// So long as we're not trashing an already trashed post or page,\n\t\t\t// increment the count for the transitioned status\n\t\t\tif ( 'deleted' !== status ) {\n\t\t\t\tmemo[ subKey ][ status ] = ( subKeyCounts[ status ] || 0 ) + 1;\n\t\t\t}\n\n\t\t\treturn memo;\n\t\t}, {} );\n\n\t\tif ( 'deleted' === status ) {\n\t\t\t// If post is permanently deleted, omit from tracked statuses\n\t\t\tpostStatuses = omit( postStatuses, postStatusKey );\n\t\t} else {\n\t\t\t// Otherwise, update object to reflect new status\n\t\t\tpostStatus.status = status;\n\t\t}\n\n\t\t// Ensure that `all` and `mine` keys are always present\n\t\tmerge( revisions, {\n\t\t\tall: {},\n\t\t\tmine: {},\n\t\t} );\n\n\t\treturn merge( {}, state, {\n\t\t\t[ siteId ]: {\n\t\t\t\t[ postStatus.type ]: revisions,\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn withSchemaValidation( countsSchema, ( state = {}, action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase POST_COUNTS_RESET_INTERNAL_STATE: {\n\t\t\t\tcurrentUserId = undefined;\n\t\t\t\tpostStatuses = {};\n\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\tcase CURRENT_USER_RECEIVE: {\n\t\t\t\tcurrentUserId = action.user.ID;\n\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\tcase POSTS_RECEIVE: {\n\t\t\t\taction.posts.forEach( ( post ) => {\n\t\t\t\t\tconst postStatusKey = getPostStatusKey( post.site_ID, post.ID );\n\t\t\t\t\tconst postStatus = postStatuses[ postStatusKey ];\n\n\t\t\t\t\t// If the post is known to us and the status has changed,\n\t\t\t\t\t// update state to reflect change\n\t\t\t\t\tif ( postStatus && post.status !== postStatus.status ) {\n\t\t\t\t\t\tstate = transitionPostStateToStatus( state, post.site_ID, post.ID, post.status );\n\t\t\t\t\t}\n\n\t\t\t\t\tpostStatuses[ postStatusKey ] = pick( post, 'type', 'status' );\n\t\t\t\t\tpostStatuses[ postStatusKey ].authorId = get( post.author, 'ID' );\n\t\t\t\t} );\n\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\tcase POST_SAVE: {\n\t\t\t\tconst { siteId, postId, post } = action;\n\t\t\t\tif ( ! post.status ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn transitionPostStateToStatus( state, siteId, postId, post.status );\n\t\t\t}\n\t\t\tcase POST_DELETE: {\n\t\t\t\treturn transitionPostStateToStatus( state, action.siteId, action.postId, 'deleted' );\n\t\t\t}\n\t\t\tcase POST_COUNTS_RECEIVE: {\n\t\t\t\treturn merge( {}, state, {\n\t\t\t\t\t[ action.siteId ]: {\n\t\t\t\t\t\t[ action.postType ]: action.counts,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t} );\n} )();\n\nexport default combineReducers( {\n\trequesting,\n\tcounts,\n} );\n","export const countsSchema = {\n\ttype: 'object',\n\tpatternProperties: {\n\t\t'^[0-9]+$': {\n\t\t\ttype: 'object',\n\t\t\tpatternProperties: {\n\t\t\t\t'^[\\\\w-]+$': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tpatternProperties: {\n\t\t\t\t\t\t'^(all|mine)$': {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tpatternProperties: {\n\t\t\t\t\t\t\t\t'^\\\\w+$': {\n\t\t\t\t\t\t\t\t\ttype: 'integer',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tadditionalProperties: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tadditionalProperties: false,\n\t\t\t\t},\n\t\t\t},\n\t\t\tadditionalProperties: false,\n\t\t},\n\t},\n\tadditionalProperties: false,\n};\n","import { registerReducer } from 'calypso/state/redux-store';\nimport postsReducer from './reducer';\n\nregisterReducer( [ 'posts' ], postsReducer );\n","import {\n\tPOST_LIKES_RECEIVE,\n\tPOST_LIKES_REQUEST,\n\tPOST_LIKE,\n\tPOST_LIKES_ADD_LIKER,\n\tPOST_LIKES_REMOVE_LIKER,\n\tPOST_UNLIKE,\n} from 'calypso/state/action-types';\n\nimport 'calypso/state/data-layer/wpcom/sites/posts/likes';\n\nimport 'calypso/state/posts/init';\n\n/**\n * Returns an action thunk which, when invoked, triggers a network request to\n * retrieve post likes for a post.\n *\n * @param  {number}   siteId Site ID\n * @param  {number}   postId Post ID\n * @returns {object}        Action\n */\nexport function requestPostLikes( siteId, postId ) {\n\treturn {\n\t\ttype: POST_LIKES_REQUEST,\n\t\tsiteId,\n\t\tpostId,\n\t};\n}\n\n/**\n * Create a like action for a given site and post\n *\n * @param {number} siteId Site ID\n * @param {number} postId Post ID\n * @returns {object} The like action\n */\nexport const like = ( siteId, postId, { source } = {} ) => ( {\n\ttype: POST_LIKE,\n\tsiteId,\n\tpostId,\n\tsource,\n} );\n\n/**\n * Create an unlike action for a given site and post\n *\n * @param {number} siteId Site ID\n * @param {number} postId Post ID\n * @returns {object} The unlike action\n */\nexport const unlike = ( siteId, postId, { source } = {} ) => ( {\n\ttype: POST_UNLIKE,\n\tsiteId,\n\tpostId,\n\tsource,\n} );\n\nexport const receiveLikes = ( siteId, postId, { likes, iLike, found } ) => ( {\n\ttype: POST_LIKES_RECEIVE,\n\tsiteId,\n\tpostId,\n\tlikes,\n\tiLike,\n\tfound,\n} );\n\nexport const addLiker = ( siteId, postId, likeCount, liker ) => ( {\n\ttype: POST_LIKES_ADD_LIKER,\n\tsiteId,\n\tpostId,\n\tlikeCount,\n\tliker,\n} );\n\nexport const removeLiker = ( siteId, postId, likeCount, liker ) => ( {\n\ttype: POST_LIKES_REMOVE_LIKER,\n\tsiteId,\n\tpostId,\n\tlikeCount,\n\tliker,\n} );\n","import { some } from 'lodash';\nimport {\n\tPOST_LIKES_ADD_LIKER,\n\tPOST_LIKES_RECEIVE,\n\tPOST_LIKES_REMOVE_LIKER,\n\tPOST_LIKE,\n\tPOST_UNLIKE,\n} from 'calypso/state/action-types';\nimport { combineReducers, keyedReducer, withSchemaValidation } from 'calypso/state/utils';\nimport itemSchema from './schema';\n\n/**\n * Returns the updated items state after an action has been dispatched. The\n * state maps site ID, post ID keys to the post's likes.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const itemReducer = withSchemaValidation(\n\titemSchema,\n\t( state = { likes: undefined, iLike: false, found: 0, lastUpdated: undefined }, action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase POST_LIKES_RECEIVE: {\n\t\t\t\tconst { likes, iLike, found } = action;\n\t\t\t\treturn {\n\t\t\t\t\tlikes: Array.isArray( likes )\n\t\t\t\t\t\t? likes.map( ( like ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tID: like.ID,\n\t\t\t\t\t\t\t\t\tavatar_URL: like.avatar_URL,\n\t\t\t\t\t\t\t\t\tlogin: like.login,\n\t\t\t\t\t\t\t\t\tname: like.name,\n\t\t\t\t\t\t\t\t\tsite_ID: like.site_ID,\n\t\t\t\t\t\t\t\t\tsite_visible: like.site_visible,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t  } )\n\t\t\t\t\t\t: state.likes,\n\t\t\t\t\tiLike,\n\t\t\t\t\tfound,\n\t\t\t\t\tlastUpdated: Date.now(),\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase POST_LIKE: {\n\t\t\t\tif ( state.iLike ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tlikes: state.likes,\n\t\t\t\t\tiLike: true,\n\t\t\t\t\tfound: state.found + 1,\n\t\t\t\t\tlastUpdated: state.lastUpdated,\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase POST_UNLIKE: {\n\t\t\t\tif ( ! state.iLike ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tlikes: state.likes,\n\t\t\t\t\tiLike: false,\n\t\t\t\t\tfound: Math.max( 0, state.found - 1 ),\n\t\t\t\t\tlastUpdated: state.lastUpdated,\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase POST_LIKES_ADD_LIKER: {\n\t\t\t\tconst { likeCount, liker } = action;\n\t\t\t\tconst hasLiker = some( state.likes, ( like ) => like.ID === liker.ID );\n\n\t\t\t\tif ( state.found === likeCount && hasLiker ) {\n\t\t\t\t\t// if the like count matches and we already have this liker, bail\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tlet likes = state.likes;\n\t\t\t\tif ( ! hasLiker ) {\n\t\t\t\t\tlikes = [ liker, ...( state.likes || [] ) ];\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tlikes,\n\t\t\t\t\tiLike: state.iLike,\n\t\t\t\t\tfound: likeCount,\n\t\t\t\t\tlastUpdated: state.lastUpdated,\n\t\t\t\t};\n\t\t\t}\n\t\t\tcase POST_LIKES_REMOVE_LIKER: {\n\t\t\t\tconst { likeCount, liker } = action;\n\t\t\t\tconst hasLiker = some( state.likes, ( like ) => like.ID === liker.ID );\n\n\t\t\t\tif ( state.found === likeCount && ! hasLiker ) {\n\t\t\t\t\t// if the like count matches and we don't have this liker, bail\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tlet likes = state.likes;\n\t\t\t\tif ( hasLiker ) {\n\t\t\t\t\tlikes = state.likes.filter( ( l ) => liker.ID !== l.ID );\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tlikes,\n\t\t\t\t\tiLike: state.iLike,\n\t\t\t\t\tfound: likeCount,\n\t\t\t\t\tlastUpdated: state.lastUpdated,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t}\n);\n\nexport const items = keyedReducer( 'siteId', keyedReducer( 'postId', itemReducer ) );\n\nexport default combineReducers( {\n\titems,\n} );\n","export default {\n\ttype: 'object',\n\tadditionalProperties: false,\n\trequired: [ 'iLike', 'found' ],\n\tproperties: {\n\t\tlikes: {\n\t\t\ttype: 'array',\n\t\t\tdescription: 'List of post likes',\n\t\t},\n\t\tiLike: {\n\t\t\ttype: 'boolean',\n\t\t\tdescription: 'Whether the current authenticated user likes the post or not',\n\t\t},\n\t\tfound: {\n\t\t\ttype: 'number',\n\t\t\tdescription: 'The total of post likes',\n\t\t},\n\t\tlastUpdated: {\n\t\t\ttype: 'number',\n\t\t\tdescription: 'When we last updated the liker info',\n\t\t},\n\t},\n};\n","/* eslint-disable no-case-declarations */\n\nimport {\n\tget,\n\tset,\n\tomit,\n\tomitBy,\n\tisEmpty,\n\tisEqual,\n\treduce,\n\tmerge,\n\tfindKey,\n\tmapValues,\n\tmapKeys,\n} from 'lodash';\nimport PostQueryManager from 'calypso/lib/query-manager/post';\nimport withQueryManager from 'calypso/lib/query-manager/with-query-manager';\nimport {\n\tEDITOR_START,\n\tEDITOR_STOP,\n\tPOST_DELETE,\n\tPOST_DELETE_SUCCESS,\n\tPOST_DELETE_FAILURE,\n\tPOST_EDIT,\n\tPOST_REQUEST,\n\tPOST_REQUEST_SUCCESS,\n\tPOST_REQUEST_FAILURE,\n\tPOST_RESTORE,\n\tPOST_RESTORE_FAILURE,\n\tPOST_SAVE,\n\tPOST_SAVE_SUCCESS,\n\tPOSTS_RECEIVE,\n\tPOSTS_REQUEST,\n\tPOSTS_REQUEST_SUCCESS,\n\tPOSTS_REQUEST_FAILURE,\n} from 'calypso/state/action-types';\nimport { getFeaturedImageId } from 'calypso/state/posts/utils';\nimport { combineReducers, withSchemaValidation, withPersistence } from 'calypso/state/utils';\nimport counts from './counts/reducer';\nimport likes from './likes/reducer';\nimport revisions from './revisions/reducer';\nimport { itemsSchema, queriesSchema, allSitesQueriesSchema } from './schema';\nimport {\n\tappendToPostEditsLog,\n\tgetSerializedPostsQuery,\n\tgetUnappliedMetadataEdits,\n\tisAuthorEqual,\n\tisDateEqual,\n\tisDiscussionEqual,\n\tisStatusEqual,\n\tisTermsEqual,\n\tmergePostEdits,\n\tnormalizePostForState,\n} from './utils';\n\n/**\n * Tracks all known post objects, indexed by post global ID.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const items = withSchemaValidation( itemsSchema, ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase POSTS_RECEIVE: {\n\t\t\treturn reduce(\n\t\t\t\taction.posts,\n\t\t\t\t( memo, post ) => {\n\t\t\t\t\tconst { site_ID: siteId, ID: postId, global_ID: globalId } = post;\n\t\t\t\t\tif ( memo[ globalId ] ) {\n\t\t\t\t\t\t// We're making an assumption here that the site ID and post ID\n\t\t\t\t\t\t// corresponding with a global ID will never change\n\t\t\t\t\t\treturn memo;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( memo === state ) {\n\t\t\t\t\t\tmemo = { ...memo };\n\t\t\t\t\t}\n\n\t\t\t\t\tmemo[ globalId ] = [ siteId, postId ];\n\t\t\t\t\treturn memo;\n\t\t\t\t},\n\t\t\t\tstate\n\t\t\t);\n\t\t}\n\t\tcase POST_DELETE_SUCCESS: {\n\t\t\tconst globalId = findKey( state, ( [ siteId, postId ] ) => {\n\t\t\t\treturn siteId === action.siteId && postId === action.postId;\n\t\t\t} );\n\n\t\t\tif ( ! globalId ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn omit( state, globalId );\n\t\t}\n\t}\n\n\treturn state;\n} );\n\n/**\n * Returns the updated site post requests state after an action has been\n * dispatched. The state reflects a mapping of site ID, post ID pairing to a\n * boolean reflecting whether a request for the post is in progress.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport function siteRequests( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase POST_REQUEST:\n\t\tcase POST_REQUEST_SUCCESS:\n\t\tcase POST_REQUEST_FAILURE:\n\t\t\treturn Object.assign( {}, state, {\n\t\t\t\t[ action.siteId ]: Object.assign( {}, state[ action.siteId ], {\n\t\t\t\t\t[ action.postId ]: POST_REQUEST === action.type,\n\t\t\t\t} ),\n\t\t\t} );\n\t}\n\n\treturn state;\n}\n\n/**\n * Returns the updated post query requesting state after an action has been\n * dispatched. The state reflects a mapping of serialized query to whether a\n * network request is in-progress for that query.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport function queryRequests( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase POSTS_REQUEST:\n\t\tcase POSTS_REQUEST_SUCCESS:\n\t\tcase POSTS_REQUEST_FAILURE:\n\t\t\tconst serializedQuery = getSerializedPostsQuery( action.query, action.siteId );\n\t\t\treturn Object.assign( {}, state, {\n\t\t\t\t[ serializedQuery ]: POSTS_REQUEST === action.type,\n\t\t\t} );\n\t}\n\n\treturn state;\n}\n\n/**\n * Returns the updated post query state after an action has been dispatched.\n * The state reflects a mapping by site ID of serialized query key to an array\n * of post IDs for the query, if a query response was successfully received.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nconst queriesReducer = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase POSTS_REQUEST_SUCCESS: {\n\t\t\tconst { siteId, query, posts, found } = action;\n\t\t\tif ( ! siteId ) {\n\t\t\t\t// Handle site-specific queries only\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\tconst normalizedPosts = posts.map( normalizePostForState );\n\t\t\treturn withQueryManager(\n\t\t\t\tstate,\n\t\t\t\tsiteId,\n\t\t\t\t( m ) => m.receive( normalizedPosts, { query, found } ),\n\t\t\t\t() => new PostQueryManager()\n\t\t\t);\n\t\t}\n\t\tcase POSTS_RECEIVE: {\n\t\t\tconst { posts } = action;\n\t\t\tconst postsBySiteId = reduce(\n\t\t\t\tposts,\n\t\t\t\t( memo, post ) => {\n\t\t\t\t\treturn Object.assign( memo, {\n\t\t\t\t\t\t[ post.site_ID ]: [ ...( memo[ post.site_ID ] || [] ), normalizePostForState( post ) ],\n\t\t\t\t\t} );\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\n\t\t\treturn reduce(\n\t\t\t\tpostsBySiteId,\n\t\t\t\t( memo, sitePosts, siteId ) =>\n\t\t\t\t\twithQueryManager(\n\t\t\t\t\t\tmemo,\n\t\t\t\t\t\tsiteId,\n\t\t\t\t\t\t( m ) => m.receive( sitePosts ),\n\t\t\t\t\t\t() => new PostQueryManager()\n\t\t\t\t\t),\n\t\t\t\tstate\n\t\t\t);\n\t\t}\n\t\tcase POST_RESTORE: {\n\t\t\tconst { siteId, postId } = action;\n\t\t\treturn withQueryManager( state, siteId, ( m ) =>\n\t\t\t\tm.receive( { ID: postId, status: '__RESTORE_PENDING' }, { patch: true } )\n\t\t\t);\n\t\t}\n\t\tcase POST_RESTORE_FAILURE: {\n\t\t\tconst { siteId, postId } = action;\n\t\t\treturn withQueryManager( state, siteId, ( m ) =>\n\t\t\t\tm.receive( { ID: postId, status: 'trash' }, { patch: true } )\n\t\t\t);\n\t\t}\n\t\tcase POST_SAVE: {\n\t\t\tconst { siteId, postId, post } = action;\n\t\t\treturn withQueryManager( state, siteId, ( m ) =>\n\t\t\t\tm.receive( { ID: postId, ...post }, { patch: true } )\n\t\t\t);\n\t\t}\n\t\tcase POST_DELETE: {\n\t\t\tconst { siteId, postId } = action;\n\t\t\treturn withQueryManager( state, siteId, ( m ) =>\n\t\t\t\tm.receive( { ID: postId, status: '__DELETE_PENDING' }, { patch: true } )\n\t\t\t);\n\t\t}\n\t\tcase POST_DELETE_FAILURE: {\n\t\t\tconst { siteId, postId } = action;\n\t\t\treturn withQueryManager( state, siteId, ( m ) =>\n\t\t\t\tm.receive( { ID: postId, status: 'trash' }, { patch: true } )\n\t\t\t);\n\t\t}\n\t\tcase POST_DELETE_SUCCESS: {\n\t\t\tconst { siteId, postId } = action;\n\t\t\treturn withQueryManager( state, siteId, ( m ) => m.removeItem( postId ) );\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport const queries = withSchemaValidation(\n\tqueriesSchema,\n\twithPersistence( queriesReducer, {\n\t\tserialize: ( state ) => mapValues( state, ( { data, options } ) => ( { data, options } ) ),\n\t\tdeserialize: ( persisted ) =>\n\t\t\tmapValues( persisted, ( { data, options } ) => new PostQueryManager( data, options ) ),\n\t} )\n);\n\nfunction findItemKey( state, siteId, postId ) {\n\treturn (\n\t\tfindKey( state.data.items, ( post ) => {\n\t\t\treturn post.site_ID === siteId && post.ID === postId;\n\t\t} ) || null\n\t);\n}\n\n/**\n * Returns the updated post query state for queries of all sites at once after\n * an action has been dispatched.  The state reflects a mapping of serialized\n * query key to an array of post global IDs for the query, if a query response\n * was successfully received.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nconst allSitesQueriesReducer = (\n\tstate = new PostQueryManager( {}, { itemKey: 'global_ID' } ),\n\taction\n) => {\n\tswitch ( action.type ) {\n\t\tcase POSTS_REQUEST_SUCCESS: {\n\t\t\tconst { siteId, query, posts, found } = action;\n\t\t\tif ( siteId ) {\n\t\t\t\t// Handle all-sites queries only.\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn state.receive( posts.map( normalizePostForState ), { query, found } );\n\t\t}\n\t\tcase POSTS_RECEIVE: {\n\t\t\tconst { posts } = action;\n\t\t\treturn state.receive( posts );\n\t\t}\n\t\tcase POST_RESTORE: {\n\t\t\tconst { siteId, postId } = action;\n\t\t\tconst globalId = findItemKey( state, siteId, postId );\n\t\t\treturn state.receive( { global_ID: globalId, status: '__RESTORE_PENDING' }, { patch: true } );\n\t\t}\n\t\tcase POST_RESTORE_FAILURE: {\n\t\t\tconst { siteId, postId } = action;\n\t\t\tconst globalId = findItemKey( state, siteId, postId );\n\t\t\treturn state.receive( { global_ID: globalId, status: 'trash' }, { patch: true } );\n\t\t}\n\t\tcase POST_SAVE: {\n\t\t\tconst { siteId, postId, post } = action;\n\t\t\tconst globalId = findItemKey( state, siteId, postId );\n\t\t\treturn state.receive( { global_ID: globalId, ...post }, { patch: true } );\n\t\t}\n\t\tcase POST_DELETE: {\n\t\t\tconst { siteId, postId } = action;\n\t\t\tconst globalId = findItemKey( state, siteId, postId );\n\t\t\treturn state.receive( { global_ID: globalId, status: '__DELETE_PENDING' }, { patch: true } );\n\t\t}\n\t\tcase POST_DELETE_FAILURE: {\n\t\t\tconst { siteId, postId } = action;\n\t\t\tconst globalId = findItemKey( state, siteId, postId );\n\t\t\treturn state.receive( { global_ID: globalId, status: 'trash' }, { patch: true } );\n\t\t}\n\t\tcase POST_DELETE_SUCCESS: {\n\t\t\tconst { siteId, postId } = action;\n\t\t\tconst globalId = findItemKey( state, siteId, postId );\n\t\t\treturn state.removeItem( globalId );\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport const allSitesQueries = withSchemaValidation(\n\tallSitesQueriesSchema,\n\twithPersistence( allSitesQueriesReducer, {\n\t\tserialize: ( { data, options } ) => ( { data, options } ),\n\t\tdeserialize: ( { data, options } ) => new PostQueryManager( data, options ),\n\t} )\n);\n\n/**\n * Returns the updated editor posts state after an action has been dispatched.\n * The state maps site ID, post ID pairing to an object containing revisions\n * for the post.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport function edits( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase POSTS_RECEIVE:\n\t\t\treturn reduce(\n\t\t\t\taction.posts,\n\t\t\t\t( memoState, post ) => {\n\t\t\t\t\t// Receive a new version of a post object, in most cases returned in the POST\n\t\t\t\t\t// response after a successful save. Removes the edits that have been applied\n\t\t\t\t\t// and leaves only the ones that are not noops.\n\t\t\t\t\tlet postEditsLog = get( memoState, [ post.site_ID, post.ID ] );\n\n\t\t\t\t\tif ( ! postEditsLog ) {\n\t\t\t\t\t\treturn memoState;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( memoState === state ) {\n\t\t\t\t\t\tmemoState = merge( {}, state );\n\t\t\t\t\t}\n\n\t\t\t\t\t// if the action has a save marker, remove the edits before that marker\n\t\t\t\t\tif ( action.saveMarker ) {\n\t\t\t\t\t\tconst markerIndex = postEditsLog.indexOf( action.saveMarker );\n\t\t\t\t\t\tif ( markerIndex !== -1 ) {\n\t\t\t\t\t\t\tpostEditsLog = postEditsLog.slice( markerIndex + 1 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// merge the array of remaining edits into one object\n\t\t\t\t\tconst postEdits = mergePostEdits( ...postEditsLog );\n\t\t\t\t\tlet newEditsLog = null;\n\n\t\t\t\t\tif ( postEdits ) {\n\t\t\t\t\t\t// remove the edits that try to set an attribute to a value it already has.\n\t\t\t\t\t\t// For most attributes, it's a simple `isEqual` deep comparison, but a few\n\t\t\t\t\t\t// properties are more complicated than that.\n\t\t\t\t\t\tconst unappliedPostEdits = omitBy( postEdits, ( value, key ) => {\n\t\t\t\t\t\t\tswitch ( key ) {\n\t\t\t\t\t\t\t\tcase 'author':\n\t\t\t\t\t\t\t\t\treturn isAuthorEqual( value, post[ key ] );\n\t\t\t\t\t\t\t\tcase 'date':\n\t\t\t\t\t\t\t\t\treturn isDateEqual( value, post[ key ] );\n\t\t\t\t\t\t\t\tcase 'discussion':\n\t\t\t\t\t\t\t\t\treturn isDiscussionEqual( value, post[ key ] );\n\t\t\t\t\t\t\t\tcase 'featured_image':\n\t\t\t\t\t\t\t\t\treturn value === getFeaturedImageId( post );\n\t\t\t\t\t\t\t\tcase 'metadata':\n\t\t\t\t\t\t\t\t\t// omit from unappliedPostEdits, metadata edits will be merged\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\tcase 'status':\n\t\t\t\t\t\t\t\t\treturn isStatusEqual( value, post[ key ] );\n\t\t\t\t\t\t\t\tcase 'terms':\n\t\t\t\t\t\t\t\t\treturn isTermsEqual( value, post[ key ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn isEqual( post[ key ], value );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t// remove edits that are already applied in the incoming metadata values and\n\t\t\t\t\t\t// leave only the unapplied ones.\n\t\t\t\t\t\tif ( postEdits.metadata ) {\n\t\t\t\t\t\t\tconst unappliedMetadataEdits = getUnappliedMetadataEdits(\n\t\t\t\t\t\t\t\tpostEdits.metadata,\n\t\t\t\t\t\t\t\tpost.metadata\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( unappliedMetadataEdits.length > 0 ) {\n\t\t\t\t\t\t\t\tunappliedPostEdits.metadata = unappliedMetadataEdits;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( ! isEmpty( unappliedPostEdits ) ) {\n\t\t\t\t\t\t\tnewEditsLog = [ unappliedPostEdits ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn set( memoState, [ post.site_ID, post.ID ], newEditsLog );\n\t\t\t\t},\n\t\t\t\tstate\n\t\t\t);\n\n\t\tcase POST_EDIT: {\n\t\t\t// process new edit for a post: merge it into the existing edits\n\t\t\tconst siteId = action.siteId;\n\t\t\tconst postId = action.postId || '';\n\t\t\tconst postEditsLog = get( state, [ siteId, postId ] );\n\t\t\tconst newEditsLog = appendToPostEditsLog( postEditsLog, action.post );\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ siteId ]: {\n\t\t\t\t\t...state[ siteId ],\n\t\t\t\t\t[ postId ]: newEditsLog,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase EDITOR_START:\n\t\t\treturn Object.assign( {}, state, {\n\t\t\t\t[ action.siteId ]: {\n\t\t\t\t\t...state[ action.siteId ],\n\t\t\t\t\t[ action.postId || '' ]: null,\n\t\t\t\t},\n\t\t\t} );\n\n\t\tcase EDITOR_STOP:\n\t\t\tif ( ! state.hasOwnProperty( action.siteId ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn Object.assign( {}, state, {\n\t\t\t\t[ action.siteId ]: omit( state[ action.siteId ], action.postId || '' ),\n\t\t\t} );\n\n\t\tcase POST_SAVE_SUCCESS: {\n\t\t\tconst siteId = action.siteId;\n\t\t\tconst postId = action.postId || '';\n\n\t\t\t// if new post (edited with a transient postId of '') has been just saved and assigned\n\t\t\t// a real numeric ID, rewrite the state key with the new postId.\n\t\t\tif ( postId === '' && action.savedPost ) {\n\t\t\t\tconst newPostId = action.savedPost.ID;\n\t\t\t\tstate = {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ siteId ]: mapKeys( state[ siteId ], ( value, key ) =>\n\t\t\t\t\t\tkey === '' ? newPostId : key\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn state;\n\t\t}\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tcounts,\n\titems,\n\tsiteRequests,\n\tqueryRequests,\n\tqueries,\n\tallSitesQueries,\n\tedits,\n\tlikes,\n\trevisions,\n} );\n","import { reduce } from 'lodash';\nimport { POST_REVISION_AUTHORS_RECEIVE } from 'calypso/state/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\n/**\n * Tracks all known user objects, indexed by user ID.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport function items( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase POST_REVISION_AUTHORS_RECEIVE:\n\t\t\treturn reduce(\n\t\t\t\taction.users,\n\t\t\t\t( newState, user ) => {\n\t\t\t\t\tif ( newState === state ) {\n\t\t\t\t\t\tnewState = { ...state };\n\t\t\t\t\t}\n\t\t\t\t\tnewState[ user.ID ] = user;\n\t\t\t\t\treturn newState;\n\t\t\t\t},\n\t\t\t\tstate\n\t\t\t);\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\titems,\n} );\n","import { filter, get, isEmpty, keyBy, omit } from 'lodash';\nimport {\n\tPOST_EDIT,\n\tPOST_REVISIONS_RECEIVE,\n\tPOST_REVISIONS_SELECT,\n\tPOST_REVISIONS_DIALOG_CLOSE,\n\tPOST_REVISIONS_DIALOG_OPEN,\n\tPOST_REVISIONS_DIFF_SPLIT_VIEW,\n\tPOST_REVISIONS_DIFF_UNIFY_VIEW,\n\tSELECTED_SITE_SET,\n} from 'calypso/state/action-types';\nimport { combineReducers } from 'calypso/state/utils';\nimport authors from './authors/reducer';\n\nexport function diffs( state = {}, { diffs: diffsFromServer, postId, revisions, siteId, type } ) {\n\tif ( type !== POST_REVISIONS_RECEIVE ) {\n\t\treturn state;\n\t}\n\tif ( ! Number.isInteger( siteId ) || siteId <= 0 ) {\n\t\treturn state;\n\t}\n\n\tconst sitePostState = get( state, [ siteId, postId ], {} );\n\tconst mergedRevisions = {\n\t\t...get( sitePostState, 'revisions', {} ),\n\t\t...revisions,\n\t};\n\n\tconst filteredDiffs = filter( diffsFromServer, ( { diff, from, to } ) => {\n\t\tif ( ! Number.isInteger( from ) || from < 0 ) {\n\t\t\t// `from` can be zero\n\t\t\treturn false;\n\t\t}\n\t\tif ( ! Number.isInteger( to ) || to < 1 ) {\n\t\t\t// `to` cannot be zero\n\t\t\treturn false;\n\t\t}\n\n\t\t// Ensure fresh revisions were provided for `from` and `to` in the payload\n\t\tif ( from !== 0 && isEmpty( mergedRevisions[ from ] ) ) {\n\t\t\t// if `from` is `0`, there won't be a revision to validate\n\t\t\treturn false;\n\t\t}\n\t\tif ( isEmpty( mergedRevisions[ to ] ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ! isEmpty( diff );\n\t} );\n\n\tif ( isEmpty( filteredDiffs ) ) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\t...state,\n\t\t[ siteId ]: {\n\t\t\t...state[ siteId ],\n\t\t\t[ postId ]: {\n\t\t\t\t...{\n\t\t\t\t\t...omit( sitePostState, 'revisions' ),\n\t\t\t\t\t...keyBy( filteredDiffs, ( d ) => `${ d.from }:${ d.to }` ),\n\t\t\t\t},\n\t\t\t\trevisions: mergedRevisions,\n\t\t\t},\n\t\t},\n\t};\n}\n\nexport function selection( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase POST_REVISIONS_SELECT: {\n\t\t\treturn { ...state, revisionId: action.revisionId };\n\t\t}\n\t\tcase POST_EDIT:\n\t\tcase SELECTED_SITE_SET: {\n\t\t\treturn { ...state, revisionId: null };\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport function ui( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase POST_REVISIONS_DIALOG_CLOSE:\n\t\t\treturn { ...state, isDialogVisible: false };\n\t\tcase POST_REVISIONS_DIALOG_OPEN:\n\t\t\treturn { ...state, isDialogVisible: true };\n\t\tcase POST_REVISIONS_DIFF_SPLIT_VIEW:\n\t\t\treturn { ...state, diffView: 'split' };\n\t\tcase POST_REVISIONS_DIFF_UNIFY_VIEW:\n\t\t\treturn { ...state, diffView: 'unified' };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default combineReducers( {\n\tdiffs,\n\tselection,\n\tui,\n\tauthors,\n} );\n","import queryManagerSchema from 'calypso/lib/query-manager/schema';\n\nexport const itemsSchema = {\n\ttype: 'object',\n\tpatternProperties: {\n\t\t'^\\\\w+$': {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\tminItems: 2,\n\t\t\tmaxItems: 2,\n\t\t},\n\t},\n\tadditionalProperties: false,\n};\n\nexport const queriesSchema = {\n\ttype: 'object',\n\tpatternProperties: {\n\t\t// Site ID\n\t\t'^\\\\d+$': queryManagerSchema,\n\t},\n\tadditionalProperties: false,\n};\n\nexport { queryManagerSchema as allSitesQueriesSchema };\n","import { isEmpty, last } from 'lodash';\nimport { mergePostEdits } from 'calypso/state/posts/utils/merge-post-edits';\n\n/**\n * Appends a new edits object to existing edits log. If the last one is\n * an edits object, they will be merged. If the last one is a save marker,\n * the save marker will be left intact and a new edits object will be appended\n * at the end. This helps to keep the edits log as compact as possible.\n *\n * @param {?Array<object>} postEditsLog Existing edits log to be appended to\n * @param {object} newPostEdits New edits to be appended to the log\n * @returns {Array<object>} Merged edits log\n */\nexport function appendToPostEditsLog( postEditsLog, newPostEdits ) {\n\tif ( isEmpty( postEditsLog ) ) {\n\t\treturn [ newPostEdits ];\n\t}\n\n\tconst lastEdits = last( postEditsLog );\n\n\tif ( typeof lastEdits === 'string' ) {\n\t\treturn [ ...postEditsLog, newPostEdits ];\n\t}\n\n\tconst newEditsLog = postEditsLog.slice( 0, -1 );\n\tnewEditsLog.push( mergePostEdits( lastEdits, newPostEdits ) );\n\treturn newEditsLog;\n}\n","/**\n * Returns the ID of the featured image assigned to the specified post, or\n * `undefined` otherwise. A utility function is useful because the format\n * of a post varies between the retrieve and update endpoints. When\n * retrieving a post, the thumbnail ID is assigned in `post_thumbnail`, but\n * in creating a post, the thumbnail ID is assigned to `featured_image`.\n *\n * @param  {object} post Post object\n * @returns {*} featured image id or undefined\n */\nexport function getFeaturedImageId( post ) {\n\tif ( ! post ) {\n\t\treturn;\n\t}\n\n\tif ( 'featured_image' in post && ! /^https?:\\/\\//.test( post.featured_image ) ) {\n\t\t// Return the `featured_image` property if it does not appear to be\n\t\t// formatted as a URL\n\t\treturn post.featured_image;\n\t}\n\n\tif ( post.post_thumbnail ) {\n\t\t// After the initial load from the REST API, pull the numeric ID\n\t\t// from the thumbnail object if one exists\n\t\treturn post.post_thumbnail.ID;\n\t}\n}\n","import { omitBy } from 'lodash';\nimport { DEFAULT_POST_QUERY } from 'calypso/state/posts/constants';\n\n/**\n * Returns a normalized posts query, excluding any values which match the\n * default post query.\n *\n * @param  {object} query Posts query\n * @returns {object}       Normalized posts query\n */\nexport function getNormalizedPostsQuery( query ) {\n\treturn omitBy( query, ( value, key ) => DEFAULT_POST_QUERY[ key ] === value );\n}\n","import { getNormalizedPostsQuery } from 'calypso/state/posts/utils/get-normalized-posts-query';\n\n/**\n * Returns a serialized posts query\n *\n * @param  {object} query  Posts query\n * @param  {number} siteId Optional site ID\n * @returns {string}        Serialized posts query\n */\nexport function getSerializedPostsQuery( query = {}, siteId ) {\n\tconst normalizedQuery = getNormalizedPostsQuery( query );\n\tconst serializedQuery = JSON.stringify( normalizedQuery );\n\n\tif ( siteId ) {\n\t\treturn [ siteId, serializedQuery ].join( ':' );\n\t}\n\n\treturn serializedQuery;\n}\n","import { get } from 'lodash';\n\n/**\n * Returns true if the locally edited author ID is equal to the saved post author's ID. Other\n * properties of the `author` object are irrelevant.\n *\n * @param  {object}  localAuthorEdit locally edited author object\n * @param  {object}  savedAuthor     author property returned from API POST\n * @returns {boolean}                 are the locally edited and saved values equal?\n */\nexport function isAuthorEqual( localAuthorEdit, savedAuthor ) {\n\treturn get( localAuthorEdit, 'ID' ) === get( savedAuthor, 'ID' );\n}\n","export function isDateEqual( localDateEdit, savedDate ) {\n\t// if the local date edit is false, it means we are asking the server to reset\n\t// the scheduled date to \"now\". In that case, we accept the date value returned\n\t// by the server and consider the edit saved.\n\tif ( localDateEdit === false ) {\n\t\treturn true;\n\t}\n\n\treturn localDateEdit && new Date( localDateEdit ).getTime() === new Date( savedDate ).getTime();\n}\n","import { get } from 'lodash';\n\n/**\n * Returns true if the modified properties in the local edit of the `discussion` object (the edited\n * properties are a subset of the full object) are equal to the values in the saved post.\n *\n * @param  {object}  localDiscussionEdits local state of discussion edits\n * @param  {object}  savedDiscussion      discussion property returned from API POST\n * @returns {boolean}                      are there differences in local edits vs saved values?\n */\nexport function isDiscussionEqual( localDiscussionEdits, savedDiscussion ) {\n\treturn Object.entries( localDiscussionEdits ).every(\n\t\t( [ key, value ] ) => get( savedDiscussion, [ key ] ) === value\n\t);\n}\n","export function isStatusEqual( localStatusEdit, savedStatus ) {\n\t// When receiving a request to change the `status` attribute, the server\n\t// treats `publish` and `future` as synonyms. It's really the post's `date`\n\t// that determines the resulting status, not the requested value.\n\t// Therefore, the `status` edit is considered saved and removed from the\n\t// local edits even if the value returned by server is different.\n\tif ( [ 'publish', 'future' ].includes( localStatusEdit ) ) {\n\t\treturn [ 'publish', 'future' ].includes( savedStatus );\n\t}\n\n\t// All other statuses (draft, private, pending) are 1:1. The only possible\n\t// exception is requesting `publish` and not having rights to publish new\n\t// posts. Then the server sets a `pending` status. But we check for this case\n\t// in the UI and request `pending` instead of `publish` if the user doesn't\n\t// have the rights.\n\treturn localStatusEdit === savedStatus;\n}\n","import { isPlainObject, map, xor } from 'lodash';\n\n/**\n * Returns truthy if local terms object is the same as the API response\n *\n * @param  {object}  localTermEdits local state of term edits\n * @param  {object}  savedTerms     term object returned from API POST\n * @returns {boolean}                are there differences in local edits vs saved terms\n */\nexport function isTermsEqual( localTermEdits, savedTerms ) {\n\treturn Object.entries( localTermEdits ).every( ( [ taxonomy, terms ] ) => {\n\t\tconst termsArray = Object.values( terms );\n\t\tconst isHierarchical = isPlainObject( termsArray[ 0 ] );\n\t\tconst normalizedEditedTerms = isHierarchical ? map( termsArray, 'ID' ) : termsArray;\n\t\tconst normalizedKey = isHierarchical ? 'ID' : 'name';\n\t\tconst normalizedSavedTerms = map( savedTerms[ taxonomy ], normalizedKey );\n\t\treturn ! xor( normalizedEditedTerms, normalizedSavedTerms ).length;\n\t} );\n}\n","import { cloneDeep, concat, find, mergeWith, reduce, reject } from 'lodash';\n\nfunction mergeMetadataEdits( edits, nextEdits ) {\n\t// remove existing edits that get updated in `nextEdits`\n\tconst newEdits = reject( edits, ( edit ) => find( nextEdits, { key: edit.key } ) );\n\t// append the new edits at the end\n\treturn concat( newEdits, nextEdits );\n}\n\n/**\n * Merges an array of post edits (called 'edits log') into one object. Essentially performs\n * a repeated deep merge of two objects, except:\n * - arrays are treated as atomic values and overwritten rather than merged.\n *   That's important especially for term removals.\n * - metadata edits, which are also arrays, are merged with a special algorithm.\n *\n * @param  {Array<object>} postEditsLog Edits objects to be merged\n * @returns {object?}                    Merged edits object with changes from all sources\n */\nexport const mergePostEdits = ( ...postEditsLog ) =>\n\treduce(\n\t\tpostEditsLog,\n\t\t( mergedEdits, nextEdits ) => {\n\t\t\t// filter out save markers\n\t\t\tif ( typeof nextEdits === 'string' ) {\n\t\t\t\treturn mergedEdits;\n\t\t\t}\n\n\t\t\t// return the input object if it's the first one to merge (optimization that avoids cloning)\n\t\t\tif ( mergedEdits === null ) {\n\t\t\t\treturn nextEdits;\n\t\t\t}\n\n\t\t\t// proceed to do the merge\n\t\t\treturn mergeWith(\n\t\t\t\tcloneDeep( mergedEdits ),\n\t\t\t\tnextEdits,\n\t\t\t\t( objValue, srcValue, key, obj, src, stack ) => {\n\t\t\t\t\tif ( key === 'metadata' && stack.size === 0 ) {\n\t\t\t\t\t\t// merge metadata specially\n\t\t\t\t\t\treturn mergeMetadataEdits( objValue, srcValue );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( Array.isArray( srcValue ) ) {\n\t\t\t\t\t\treturn srcValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tnull\n\t);\n","import { filter, find } from 'lodash';\n\nfunction isUnappliedMetadataEdit( edit, savedMetadata ) {\n\tconst savedRecord = find( savedMetadata, { key: edit.key } );\n\n\t// is an update already performed?\n\tif ( edit.operation === 'update' ) {\n\t\treturn ! savedRecord || savedRecord.value !== edit.value;\n\t}\n\n\t// is a property already deleted?\n\tif ( edit.operation === 'delete' ) {\n\t\treturn !! savedRecord;\n\t}\n\n\treturn false;\n}\n\n/*\n * Returns edits that are not yet applied, i.e.:\n * - when updating, the property doesn't already have the desired value in `savedMetadata`\n * - when deleting, the property is still present in `savedMetadata`\n */\nexport function getUnappliedMetadataEdits( edits, savedMetadata ) {\n\treturn filter( edits, ( edit ) => isUnappliedMetadataEdit( edit, savedMetadata ) );\n}\n","import { cloneDeep, map, reduce } from 'lodash';\n\n/**\n * Recursively unset a value in an object by its path, represented by an array.\n * Intentionally mutates `object` to mirror native `delete` operator's behavior.\n *\n * @param {object} object Object to remove a property from\n * @param {Array}  path   Path to the property to remove\n */\nconst recursiveUnset = ( object, path ) => {\n\tif ( path.length > 1 ) {\n\t\tconst [ , ...remainingPath ] = path;\n\t\trecursiveUnset( object[ path[ 0 ] ], remainingPath );\n\t\treturn;\n\t}\n\n\tif ( object && object.hasOwnProperty( path[ 0 ] ) ) {\n\t\tdelete object[ path[ 0 ] ];\n\t}\n};\n\n/**\n * Given a post object, returns a normalized post object prepared for storing\n * in the global state object.\n *\n * @param  {object} post Raw post object\n * @returns {object}      Normalized post object\n */\nexport function normalizePostForState( post ) {\n\tconst normalizedPost = cloneDeep( post );\n\treturn reduce(\n\t\t[\n\t\t\t[],\n\t\t\t...reduce(\n\t\t\t\tpost.terms,\n\t\t\t\t( memo, terms, taxonomy ) =>\n\t\t\t\t\tmemo.concat( map( terms, ( term, slug ) => [ 'terms', taxonomy, slug ] ) ),\n\t\t\t\t[]\n\t\t\t),\n\t\t\t...map( post.categories, ( category, slug ) => [ 'categories', slug ] ),\n\t\t\t...map( post.tags, ( tag, slug ) => [ 'tags', slug ] ),\n\t\t\t...map( post.attachments, ( attachment, id ) => [ 'attachments', id ] ),\n\t\t],\n\t\t( memo, path ) => {\n\t\t\trecursiveUnset( memo, path.concat( 'meta', 'links' ) );\n\t\t\treturn memo;\n\t\t},\n\t\tnormalizedPost\n\t);\n}\n","export const USER_SETTING_KEY = 'calypso_preferences';\n\nexport const DEFAULT_PREFERENCE_VALUES = {\n\t'guided-tours-history': [],\n\trecentSites: [],\n\tmediaScale: 0.157,\n\tcolorScheme: 'default',\n\thomeQuickLinksToggleStatus: 'expanded',\n};\n","import { registerReducer } from 'calypso/state/redux-store';\nimport preferencesReducer from './reducer';\n\nregisterReducer( [ 'preferences' ], preferencesReducer );\n","import { withStorageKey } from '@automattic/state-utils';\nimport {\n\tPREFERENCES_SET,\n\tPREFERENCES_RECEIVE,\n\tPREFERENCES_FETCH,\n\tPREFERENCES_FETCH_SUCCESS,\n\tPREFERENCES_FETCH_FAILURE,\n\tPREFERENCES_SAVE_SUCCESS,\n} from 'calypso/state/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\nimport { remoteValuesSchema } from './schema';\n\n/**\n * Returns the updated local values state after an action has been dispatched.\n * The local values state reflects preferences which are not saved to the\n * remote endpoint. If a local value is set and then later saved to the remote,\n * it will be removed from state.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const localValues = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase PREFERENCES_SET: {\n\t\t\tconst { key, value } = action;\n\t\t\tif ( state[ key ] === value ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn { ...state, [ key ]: value };\n\t\t}\n\t\tcase PREFERENCES_SAVE_SUCCESS: {\n\t\t\tconst { [ action.key ]: removed, ...rest } = state;\n\t\t\treturn rest;\n\t\t}\n\t}\n\n\treturn state;\n};\n\n/**\n * Returns the updated remote values state after an action has been dispatched.\n * The remote values state reflects preferences which are persisted to the REST\n * API current user settings endpoint.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const remoteValues = withSchemaValidation( remoteValuesSchema, ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase PREFERENCES_RECEIVE: {\n\t\t\tconst { values } = action;\n\t\t\treturn values;\n\t\t}\n\t}\n\n\treturn state;\n} );\n\nexport const fetching = ( state = false, action ) => {\n\tswitch ( action.type ) {\n\t\tcase PREFERENCES_FETCH_SUCCESS:\n\t\t\treturn false;\n\t\tcase PREFERENCES_FETCH_FAILURE:\n\t\t\treturn false;\n\t\tcase PREFERENCES_FETCH:\n\t\t\treturn true;\n\t}\n\n\treturn state;\n};\n\nconst lastFetchedTimestamp = ( state = false, action ) => {\n\tswitch ( action.type ) {\n\t\tcase PREFERENCES_FETCH_SUCCESS:\n\t\t\treturn Date.now();\n\t}\n\n\treturn state;\n};\n\nconst combinedReducer = combineReducers( {\n\tlocalValues,\n\tremoteValues,\n\tfetching,\n\tlastFetchedTimestamp,\n} );\nconst preferencesReducer = withStorageKey( 'preferences', combinedReducer );\nexport default preferencesReducer;\n","export const remoteValuesSchema = {\n\ttype: [ 'null', 'object' ],\n\tpatternProperties: {\n\t\t'^dismissible-card-.+$': {\n\t\t\ttype: [ 'boolean', 'object' ],\n\t\t},\n\t\t'^time-mismatch-warning-\\\\d+$': {\n\t\t\ttype: [ 'boolean', 'number' ],\n\t\t},\n\t},\n\tproperties: {\n\t\t'guided-tours-history': {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\ttourName: { type: 'string' },\n\t\t\t\t\ttimestamp: { type: 'number', minimum: 0 },\n\t\t\t\t\tfinished: { type: 'boolean' },\n\t\t\t\t},\n\t\t\t\trequired: [ 'tourName', 'timestamp', 'finished' ],\n\t\t\t\tadditionalProperties: false,\n\t\t\t},\n\t\t},\n\t\trecentSites: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t},\n\t\tmediaScale: {\n\t\t\ttype: 'number',\n\t\t\tminimum: 0,\n\t\t\tmaximum: 1,\n\t\t},\n\t\tcolorScheme: {\n\t\t\ttype: 'string',\n\t\t\tenum: [\n\t\t\t\t'aquatic',\n\t\t\t\t'blue',\n\t\t\t\t'classic-blue',\n\t\t\t\t'classic-bright',\n\t\t\t\t'classic-dark',\n\t\t\t\t'coffee',\n\t\t\t\t'contrast',\n\t\t\t\t'ectoplasm',\n\t\t\t\t'light',\n\t\t\t\t'midnight',\n\t\t\t\t'modern',\n\t\t\t\t'nightfall',\n\t\t\t\t'ocean',\n\t\t\t\t'powder-snow',\n\t\t\t\t'sakura',\n\t\t\t\t'sunrise',\n\t\t\t\t'sunset',\n\t\t\t],\n\t\t},\n\t\t'upwork-dismissible-banner': {\n\t\t\ttype: 'object',\n\t\t\t'^[a-z-]+$': {\n\t\t\t\ttype: 'array',\n\t\t\t\titems: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tdismissedAt: { type: 'number', minimum: 0 },\n\t\t\t\t\t\ttype: { type: 'string', enum: [ 'dismiss' ] },\n\t\t\t\t\t},\n\t\t\t\t\trequired: [ 'dismissedAt', 'type' ],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t'jetpack-review-prompt': {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\tscan: { $ref: '#/definitions/dismissiblePrompt' },\n\t\t\t\trestore: { $ref: '#/definitions/dismissiblePrompt' },\n\t\t\t},\n\t\t},\n\t\thomeQuickLinksToggleStatus: {\n\t\t\ttype: 'string',\n\t\t\tenum: [ 'collapsed', 'expanded' ],\n\t\t},\n\t\t'persistent-counter': {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\t// counter-name (possibly suffixed with siteId)\n\t\t\t\t'^[a-z0-9-]+$': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tcount: { type: 'number', minimum: 0 },\n\t\t\t\t\t\tlastCountDate: { type: [ 'number', 'null' ] },\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\tdefinitions: {\n\t\tdismissiblePrompt: {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\tdismissedAt: { type: [ 'number', 'null' ] },\n\t\t\t\tdismissedCount: { type: 'number', minimum: 0 },\n\t\t\t\treviewed: { type: 'number' },\n\t\t\t\tvalidFrom: { type: [ 'number', 'null' ] },\n\t\t\t},\n\t\t\trequired: [ 'dismissedAt', 'dismissedCount', 'reviewed', 'validFrom' ],\n\t\t},\n\t},\n};\n","import { DEFAULT_PREFERENCE_VALUES } from './constants';\n\nimport 'calypso/state/preferences/init';\n\nexport const isFetchingPreferences = ( state ) => !! state.preferences.fetching;\n\n/**\n * Returns the preference value associated with the specified key. Attempts to\n * find in local and remote preferences, then any applicable default value,\n * otherwise returning null.\n *\n * @param  {object} state Global state tree\n * @param  {string} key   Preference key\n * @returns {*}            Preference value\n */\nexport function getPreference( state, key ) {\n\tfor ( const source of [\n\t\tstate.preferences?.localValues,\n\t\tstate.preferences?.remoteValues,\n\t\tDEFAULT_PREFERENCE_VALUES,\n\t] ) {\n\t\tif ( source && source.hasOwnProperty( key ) ) {\n\t\t\treturn source[ key ] ?? null;\n\t\t}\n\t}\n\treturn null;\n}\n\n/**\n * Returns the a key value store of all current remote preferences. The keys\n * of the object are each preference key and the values are the preference\n * values.\n *\n * @param  {object} state Global state tree\n * @returns {object}       Preference value\n */\nexport function getAllRemotePreferences( state ) {\n\treturn state.preferences.remoteValues;\n}\n\nexport const preferencesLastFetchedTimestamp = ( state ) => state.preferences.lastFetchedTimestamp;\n\n/**\n * Returns true if preferences have been received from the remote source, or\n * false otherwise.\n *\n * @param  {object}  state Global state tree\n * @returns {boolean}       Whether preferences have been received\n */\nexport function hasReceivedRemotePreferences( state ) {\n\treturn !! state.preferences.remoteValues;\n}\n","import i18n from 'i18n-calypso';\nimport wpcom from 'calypso/lib/wp';\nimport {\n\tPURCHASES_REMOVE,\n\tPURCHASES_SITE_FETCH,\n\tPURCHASES_SITE_FETCH_COMPLETED,\n\tPURCHASES_SITE_FETCH_FAILED,\n\tPURCHASES_SITE_RESET_STATE,\n\tPURCHASES_USER_FETCH,\n\tPURCHASES_USER_FETCH_COMPLETED,\n\tPURCHASES_USER_FETCH_FAILED,\n\tPURCHASE_REMOVE_COMPLETED,\n\tPURCHASE_REMOVE_FAILED,\n} from 'calypso/state/action-types';\nimport { requestAdminMenu } from 'calypso/state/admin-menu/actions';\nimport { requestHappychatEligibility } from 'calypso/state/happychat/user/actions';\nimport { getSelectedSiteId } from 'calypso/state/ui/selectors';\nimport 'calypso/state/purchases/init';\n\nconst PURCHASES_FETCH_ERROR_MESSAGE = i18n.translate( 'There was an error retrieving purchases.' );\nconst PURCHASE_REMOVE_ERROR_MESSAGE = i18n.translate( 'There was an error removing the purchase.' );\n\nexport const clearPurchases = () => ( dispatch, getState ) => {\n\tconst siteId = getSelectedSiteId( getState() );\n\n\tdispatch( { type: PURCHASES_REMOVE } );\n\tdispatch( requestHappychatEligibility() );\n\tif ( siteId ) {\n\t\tdispatch( requestAdminMenu( siteId ) );\n\t}\n};\n\nexport const fetchSitePurchases = ( siteId ) => ( dispatch ) => {\n\tdispatch( {\n\t\ttype: PURCHASES_SITE_FETCH,\n\t\tsiteId,\n\t} );\n\n\treturn wpcom.req\n\t\t.get( `/sites/${ siteId }/purchases` )\n\t\t.then( ( data ) => {\n\t\t\tdispatch( {\n\t\t\t\ttype: PURCHASES_SITE_FETCH_COMPLETED,\n\t\t\t\tsiteId,\n\t\t\t\tpurchases: data,\n\t\t\t} );\n\t\t} )\n\t\t.catch( () => {\n\t\t\tdispatch( {\n\t\t\t\ttype: PURCHASES_SITE_FETCH_FAILED,\n\t\t\t\terror: PURCHASES_FETCH_ERROR_MESSAGE,\n\t\t\t} );\n\t\t} );\n};\n\nexport const fetchUserPurchases = ( userId ) => ( dispatch ) => {\n\tdispatch( {\n\t\ttype: PURCHASES_USER_FETCH,\n\t} );\n\n\treturn wpcom.req\n\t\t.get( '/me/purchases' )\n\t\t.then( ( data ) => {\n\t\t\tdispatch( {\n\t\t\t\ttype: PURCHASES_USER_FETCH_COMPLETED,\n\t\t\t\tpurchases: data,\n\t\t\t\tuserId,\n\t\t\t} );\n\t\t} )\n\t\t.catch( () => {\n\t\t\tdispatch( {\n\t\t\t\ttype: PURCHASES_USER_FETCH_FAILED,\n\t\t\t\terror: PURCHASES_FETCH_ERROR_MESSAGE,\n\t\t\t} );\n\t\t} );\n};\n\nexport const removePurchase = ( purchaseId, userId ) => ( dispatch, getState ) => {\n\tconst siteId = getSelectedSiteId( getState() );\n\n\treturn new Promise( ( resolve ) =>\n\t\twpcom.req\n\t\t\t.post( {\n\t\t\t\tpath: `/purchases/${ purchaseId }/delete`,\n\t\t\t\tapiNamespace: 'wpcom/v2',\n\t\t\t} )\n\t\t\t.then( ( data ) => {\n\t\t\t\tdispatch( {\n\t\t\t\t\ttype: PURCHASE_REMOVE_COMPLETED,\n\t\t\t\t\tpurchases: data.purchases,\n\t\t\t\t\tuserId,\n\t\t\t\t} );\n\n\t\t\t\tdispatch( requestHappychatEligibility() );\n\t\t\t\tif ( siteId ) {\n\t\t\t\t\tdispatch( requestAdminMenu( siteId ) );\n\t\t\t\t}\n\n\t\t\t\tresolve( data );\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tdispatch( {\n\t\t\t\t\ttype: PURCHASE_REMOVE_FAILED,\n\t\t\t\t\terror: error.message || PURCHASE_REMOVE_ERROR_MESSAGE,\n\t\t\t\t} );\n\n\t\t\t\tresolve( error );\n\t\t\t} )\n\t);\n};\n\nexport const resetSiteState = () => ( dispatch ) =>\n\tdispatch( { type: PURCHASES_SITE_RESET_STATE } );\n","import { registerReducer } from 'calypso/state/redux-store';\nimport purchasesReducer from './reducer';\n\nregisterReducer( [ 'purchases' ], purchasesReducer );\n","import { withStorageKey } from '@automattic/state-utils';\nimport { find, matches } from 'lodash';\nimport {\n\tPURCHASES_REMOVE,\n\tPURCHASES_SITE_FETCH,\n\tPURCHASES_USER_FETCH,\n\tPURCHASE_REMOVE_COMPLETED,\n\tPURCHASES_SITE_FETCH_COMPLETED,\n\tPURCHASES_USER_FETCH_COMPLETED,\n\tPURCHASE_REMOVE_FAILED,\n\tPURCHASES_SITE_FETCH_FAILED,\n\tPURCHASES_USER_FETCH_FAILED,\n\tPURCHASES_SITE_RESET_STATE,\n} from 'calypso/state/action-types';\n\n/**\n * Constants\n */\nconst initialState = {\n\tdata: [],\n\terror: null,\n\tisFetchingSitePurchases: false,\n\tisFetchingUserPurchases: false,\n\thasLoadedSitePurchasesFromServer: false,\n\thasLoadedUserPurchasesFromServer: false,\n};\n\n/**\n * Overwrites the purchases in the store with the purchases from the new purchases array\n * that share the same `id` value.\n *\n * @param {Array} existingPurchases - an array of purchases in the store\n * @param {Array} newPurchases - an array of purchases fetched from the API\n * @returns {Array} An array of purchases\n */\nfunction overwriteExistingPurchases( existingPurchases, newPurchases ) {\n\tlet purchases = newPurchases;\n\n\texistingPurchases.forEach( ( purchase ) => {\n\t\tif ( ! find( purchases, { ID: purchase.ID } ) ) {\n\t\t\tpurchases = purchases.concat( purchase );\n\t\t}\n\t} );\n\n\treturn purchases;\n}\n\n/**\n * Removes purchases that are missing from the new purchases array and match the given predicate.\n *\n * @param {Array} existingPurchases - an array of purchases in the store\n * @param {Array} newPurchases - an array of purchases fetched from the API\n * @param {object} predicate - the predicate to check before removing the item from the array.\n * @returns {Array} An array of purchases\n */\nfunction removeMissingPurchasesByPredicate( existingPurchases, newPurchases, predicate ) {\n\treturn existingPurchases.filter(\n\t\t( purchase ) => ! matches( predicate )( purchase ) || find( newPurchases, { ID: purchase.ID } )\n\t);\n}\n\nfunction updatePurchases( existingPurchases, action ) {\n\tlet purchases;\n\tlet predicate;\n\n\tif ( PURCHASES_SITE_FETCH_COMPLETED === action.type ) {\n\t\tpredicate = { blog_id: String( action.siteId ) };\n\t}\n\n\tif (\n\t\tPURCHASES_USER_FETCH_COMPLETED === action.type ||\n\t\tPURCHASE_REMOVE_COMPLETED === action.type\n\t) {\n\t\tpredicate = { user_id: String( action.userId ) };\n\t}\n\n\tpurchases = removeMissingPurchasesByPredicate( existingPurchases, action.purchases, predicate );\n\tpurchases = overwriteExistingPurchases( purchases, action.purchases );\n\n\treturn purchases;\n}\n\nconst reducer = ( state = initialState, action ) => {\n\tswitch ( action.type ) {\n\t\tcase PURCHASES_REMOVE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdata: [],\n\t\t\t\thasLoadedSitePurchasesFromServer: false,\n\t\t\t\thasLoadedUserPurchasesFromServer: false,\n\t\t\t};\n\t\tcase PURCHASES_SITE_FETCH:\n\t\t\treturn { ...state, isFetchingSitePurchases: true };\n\t\tcase PURCHASES_USER_FETCH:\n\t\t\treturn { ...state, isFetchingUserPurchases: true };\n\t\tcase PURCHASE_REMOVE_COMPLETED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdata: updatePurchases( state.data, action ),\n\t\t\t\terror: null,\n\t\t\t\tisFetchingSitePurchases: false,\n\t\t\t\tisFetchingUserPurchases: false,\n\t\t\t\thasLoadedSitePurchasesFromServer: true,\n\t\t\t\thasLoadedUserPurchasesFromServer: true,\n\t\t\t};\n\t\tcase PURCHASES_SITE_FETCH_COMPLETED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdata: updatePurchases( state.data, action ),\n\t\t\t\terror: null,\n\t\t\t\tisFetchingSitePurchases: false,\n\t\t\t\thasLoadedSitePurchasesFromServer: true,\n\t\t\t};\n\t\tcase PURCHASES_USER_FETCH_COMPLETED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdata: updatePurchases( state.data, action ),\n\t\t\t\terror: null,\n\t\t\t\tisFetchingUserPurchases: false,\n\t\t\t\thasLoadedUserPurchasesFromServer: true,\n\t\t\t};\n\t\tcase PURCHASE_REMOVE_FAILED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: action.error,\n\t\t\t\thasLoadedSitePurchasesFromServer: true,\n\t\t\t\thasLoadedUserPurchasesFromServer: true,\n\t\t\t};\n\t\tcase PURCHASES_SITE_FETCH_FAILED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: action.error,\n\t\t\t\thasLoadedSitePurchasesFromServer: true,\n\t\t\t\tisFetchingSitePurchases: false,\n\t\t\t};\n\t\tcase PURCHASES_USER_FETCH_FAILED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: action.error,\n\t\t\t\thasLoadedUserPurchasesFromServer: true,\n\t\t\t\tisFetchingUserPurchases: false,\n\t\t\t};\n\t\tcase PURCHASES_SITE_RESET_STATE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thasLoadedSitePurchasesFromServer: false,\n\t\t\t\tisFetchingSitePurchases: false,\n\t\t\t};\n\t}\n\n\treturn state;\n};\n\nexport { reducer };\n\nexport default withStorageKey( 'purchases', reducer );\n","import 'calypso/state/purchases/init';\n\nexport const isFetchingUserPurchases = ( state ) => state.purchases.isFetchingUserPurchases;\nexport const isFetchingSitePurchases = ( state ) => state.purchases.isFetchingSitePurchases;\nexport const hasLoadedUserPurchasesFromServer = ( state ) =>\n\tstate.purchases.hasLoadedUserPurchasesFromServer;\nexport const hasLoadedSitePurchasesFromServer = ( state ) =>\n\tstate.purchases.hasLoadedSitePurchasesFromServer;\n","import { createSelector } from '@automattic/state-utils';\nimport { createPurchasesArray } from 'calypso/lib/purchases/assembler';\n\nimport 'calypso/state/purchases/init';\n\n/**\n * Return the list of purchases from state object\n *\n * @param   {object} state - current state object\n * @returns {Array} Purchases\n */\nexport const getPurchases = createSelector(\n\t( state ) => createPurchasesArray( state.purchases.data ),\n\t( state ) => [ state.purchases.data ]\n);\n","import { createSelector } from '@automattic/state-utils';\nimport { getCurrentUserId } from 'calypso/state/current-user/selectors';\nimport { hasLoadedUserPurchasesFromServer } from './fetching';\nimport { getPurchases } from './get-purchases';\nimport 'calypso/state/purchases/init';\n\n/**\n * Returns a list of purchases associated with the current user\n *\n * @param {object} state Redux state\n * @returns {Array|null} array of the matching purchases or `null` if the list hasn't been loaded from server yet\n */\nexport const getUserPurchases = createSelector(\n\t( state ) => {\n\t\tif ( ! hasLoadedUserPurchasesFromServer( state ) ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst userId = getCurrentUserId( state );\n\t\treturn getPurchases( state ).filter( ( purchase ) => purchase.userId === userId );\n\t},\n\t( state ) => [\n\t\thasLoadedUserPurchasesFromServer( state ),\n\t\tgetCurrentUserId( state ),\n\t\tgetPurchases( state ),\n\t]\n);\n","/**\n * Please keep this list alphabetized!\n */\nexport const READER_CONVERSATION_FOLLOW = 'READER_CONVERSATION_FOLLOW';\nexport const READER_CONVERSATION_MUTE = 'READER_CONVERSATION_MUTE';\nexport const READER_CONVERSATION_UPDATE_FOLLOW_STATUS = 'READER_CONVERSATION_UPDATE_FOLLOW_STATUS';\nexport const READER_DISMISS_POST = 'READER_DISMISS_POST';\nexport const READER_DISMISS_SITE = 'READER_DISMISS_SITE';\nexport const READER_EXPAND_COMMENTS = 'READER_EXPAND_COMMENTS';\nexport const READER_FEED_REQUEST = 'READER_FEED_REQUEST';\nexport const READER_FEED_REQUEST_FAILURE = 'READER_FEED_REQUEST_FAILURE';\nexport const READER_FEED_REQUEST_SUCCESS = 'READER_FEED_REQUEST_SUCCESS';\nexport const READER_FEED_SEARCH_RECEIVE = 'READER_FEED_SEARCH_RECEIVE';\nexport const READER_FEED_SEARCH_REQUEST = 'READER_FEED_SEARCH_REQUEST';\nexport const READER_FOLLOW = 'READER_FOLLOW';\nexport const READER_FOLLOW_ERROR = 'READER_FOLLOW_ERROR';\nexport const READER_FOLLOW_TAG_REQUEST = 'READER_FOLLOW_TAG_REQUEST';\nexport const READER_FOLLOWS_RECEIVE = 'READER_FOLLOWS_RECEIVE';\nexport const READER_FOLLOWS_SYNC_COMPLETE = 'READER_FOLLOWS_SYNC_COMPLETE';\nexport const READER_FOLLOWS_SYNC_PAGE = 'READER_FOLLOWS_SYNC_PAGE';\nexport const READER_FOLLOWS_SYNC_START = 'READER_FOLLOWS_SYNC_START';\nexport const READER_LIST_CREATE = 'READER_LIST_CREATE';\nexport const READER_LIST_DELETE = 'READER_LIST_DELETE';\nexport const READER_LIST_FOLLOW = 'READER_LIST_FOLLOW';\nexport const READER_LIST_FOLLOW_RECEIVE = 'READER_LIST_FOLLOW_RECEIVE';\nexport const READER_LIST_ITEM_ADD_FEED = 'READER_LIST_ITEM_ADD_FEED';\nexport const READER_LIST_ITEM_ADD_FEED_RECEIVE = 'READER_LIST_ITEM_ADD_FEED_RECEIVE';\nexport const READER_LIST_ITEM_ADD_TAG = 'READER_LIST_ITEM_ADD_TAG';\nexport const READER_LIST_ITEM_ADD_TAG_RECEIVE = 'READER_LIST_ITEM_ADD_TAG_RECEIVE';\nexport const READER_LIST_ITEM_DELETE_FEED = 'READER_LIST_ITEM_DELETE_FEED';\nexport const READER_LIST_ITEM_DELETE_SITE = 'READER_LIST_ITEM_DELETE_SITE';\nexport const READER_LIST_ITEM_DELETE_TAG = 'READER_LIST_ITEM_DELETE_TAG';\nexport const READER_LIST_ITEMS_RECEIVE = 'READER_LIST_ITEMS_RECEIVE';\nexport const READER_LIST_ITEMS_REQUEST = 'READER_LIST_ITEMS_REQUEST';\nexport const READER_LIST_REQUEST = 'READER_LIST_REQUEST';\nexport const READER_LIST_REQUEST_FAILURE = 'READER_LIST_REQUEST_FAILURE';\nexport const READER_LIST_REQUEST_SUCCESS = 'READER_LIST_REQUEST_SUCCESS';\nexport const READER_LIST_UNFOLLOW = 'READER_LIST_UNFOLLOW';\nexport const READER_LIST_UNFOLLOW_RECEIVE = 'READER_LIST_UNFOLLOW_RECEIVE';\nexport const READER_LIST_UPDATE = 'READER_LIST_UPDATE';\nexport const READER_LIST_UPDATE_FAILURE = 'READER_LIST_UPDATE_FAILURE';\nexport const READER_LIST_UPDATE_SUCCESS = 'READER_LIST_UPDATE_SUCCESS';\nexport const READER_LISTS_RECEIVE = 'READER_LISTS_RECEIVE';\nexport const READER_LISTS_REQUEST = 'READER_LISTS_REQUEST';\nexport const READER_ORGANIZATIONS_RECEIVE = 'READER_ORGANIZATIONS_RECEIVE';\nexport const READER_ORGANIZATIONS_REQUEST = 'READER_ORGANIZATIONS_REQUEST';\nexport const READER_POST_SEEN = 'READER_POST_SEEN';\nexport const READER_POSTS_RECEIVE = 'READER_POSTS_RECEIVE';\nexport const READER_RECOMMENDED_SITES_RECEIVE = 'READER_RECOMMENDED_SITES_RECEIVE';\nexport const READER_RECOMMENDED_SITES_REQUEST = 'READER_RECOMMENDED_SITES_REQUEST';\nexport const READER_RELATED_POSTS_RECEIVE = 'READER_RELATED_POSTS_RECEIVE';\nexport const READER_RELATED_POSTS_REQUEST = 'READER_RELATED_POSTS_REQUEST';\nexport const READER_RELATED_POSTS_REQUEST_FAILURE = 'READER_RELATED_POSTS_REQUEST_FAILURE';\nexport const READER_RELATED_POSTS_REQUEST_SUCCESS = 'READER_RELATED_POSTS_REQUEST_SUCCESS';\nexport const READER_SEEN_MARK_ALL_AS_SEEN_RECEIVE = 'READER_SEEN_MARK_ALL_AS_SEEN_RECEIVE';\nexport const READER_SEEN_MARK_ALL_AS_SEEN_REQUEST = 'READER_SEEN_MARK_ALL_AS_SEEN_REQUEST';\nexport const READER_SEEN_MARK_AS_SEEN_BLOG_REQUEST = 'READER_SEEN_MARK_AS_SEEN_BLOG_REQUEST';\nexport const READER_SEEN_MARK_AS_SEEN_RECEIVE = 'READER_SEEN_MARK_AS_SEEN_RECEIVE';\nexport const READER_SEEN_MARK_AS_SEEN_REQUEST = 'READER_SEEN_MARK_AS_SEEN_REQUEST';\nexport const READER_SEEN_MARK_AS_UNSEEN_BLOG_REQUEST = 'READER_SEEN_MARK_AS_UNSEEN_BLOG_REQUEST';\nexport const READER_SEEN_MARK_AS_UNSEEN_RECEIVE = 'READER_SEEN_MARK_AS_UNSEEN_RECEIVE';\nexport const READER_SEEN_MARK_AS_UNSEEN_REQUEST = 'READER_SEEN_MARK_AS_UNSEEN_REQUEST';\nexport const READER_SITE_BLOCK = 'READER_SITE_BLOCK';\nexport const READER_SITE_BLOCKS_RECEIVE = 'READER_SITE_BLOCKS_RECEIVE';\nexport const READER_SITE_BLOCKS_REQUEST = 'READER_SITE_BLOCKS_REQUEST';\nexport const READER_SITE_REQUEST = 'READER_SITE_REQUEST';\nexport const READER_SITE_REQUEST_FAILURE = 'READER_SITE_REQUEST_FAILURE';\nexport const READER_SITE_REQUEST_SUCCESS = 'READER_SITE_REQUEST_SUCCESS';\nexport const READER_SITE_UNBLOCK = 'READER_SITE_UNBLOCK';\nexport const READER_STREAMS_PAGE_RECEIVE = 'READER_STREAMS_PAGE_RECEIVE';\nexport const READER_STREAMS_PAGE_REQUEST = 'READER_STREAMS_PAGE_REQUEST';\nexport const READER_STREAMS_SELECT_ITEM = 'READER_STREAMS_SELECT_ITEM';\nexport const READER_STREAMS_SELECT_NEXT_ITEM = 'READER_STREAMS_SELECT_NEXT_ITEM';\nexport const READER_STREAMS_SELECT_PREV_ITEM = 'READER_STREAMS_SELECT_PREV_ITEM';\nexport const READER_STREAMS_SHOW_UPDATES = 'READER_STREAMS_SHOW_UPDATES';\nexport const READER_STREAMS_UPDATES_RECEIVE = 'READER_STREAMS_UPDATES_RECEIVE';\nexport const READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL = 'READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL';\nexport const READER_SUBSCRIBE_TO_NEW_POST_EMAIL = 'READER_SUBSCRIBE_TO_NEW_POST_EMAIL';\nexport const READER_SUBSCRIBE_TO_NEW_POST_NOTIFICATIONS =\n\t'READER_SUBSCRIBE_TO_NEW_POST_NOTIFICATIONS';\nexport const READER_TAG_IMAGES_RECEIVE = 'READER_TAG_IMAGES_RECEIVE';\nexport const READER_TAG_IMAGES_REQUEST = 'READER_TAG_IMAGES_REQUEST';\nexport const READER_TAG_IMAGES_REQUEST_FAILURE = 'READER_TAG_IMAGES_REQUEST_FAILURE';\nexport const READER_TAG_IMAGES_REQUEST_SUCCESS = 'READER_TAG_IMAGES_REQUEST_SUCCESS';\nexport const READER_TAGS_RECEIVE = 'READER_TAGS_RECEIVE';\nexport const READER_TAGS_REQUEST = 'READER_TAGS_REQUEST';\nexport const READER_THUMBNAIL_RECEIVE = 'READER_THUMBNAIL_RECEIVE';\nexport const READER_UNFOLLOW = 'READER_UNFOLLOW';\nexport const READER_UNFOLLOW_TAG_RECEIVE = 'READER_UNFOLLOW_TAG_RECEIVE';\nexport const READER_UNFOLLOW_TAG_REQUEST = 'READER_UNFOLLOW_TAG_REQUEST';\nexport const READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL = 'READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL';\nexport const READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL = 'READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL';\nexport const READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS =\n\t'READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS';\nexport const READER_UPDATE_NEW_POST_EMAIL_SUBSCRIPTION =\n\t'READER_UPDATE_NEW_POST_EMAIL_SUBSCRIPTION';\nexport const READER_VIEWING_FULL_POST_SET = 'READER_VIEWING_FULL_POST_SET';\nexport const READER_VIEWING_FULL_POST_UNSET = 'READER_VIEWING_FULL_POST_UNSET';\n","/**\n * Follow status constants\n */\nexport const CONVERSATION_FOLLOW_STATUS = Object.freeze( {\n\tfollowing: 'F',\n\tnot_following: null,\n\tmuting: 'M',\n} );\n","import { forEach, omit, size } from 'lodash';\nimport {\n\tREADER_CONVERSATION_FOLLOW,\n\tREADER_CONVERSATION_MUTE,\n\tREADER_CONVERSATION_UPDATE_FOLLOW_STATUS,\n\tREADER_POSTS_RECEIVE,\n} from 'calypso/state/reader/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\nimport { CONVERSATION_FOLLOW_STATUS } from './follow-status';\nimport { itemsSchema } from './schema';\nimport { key } from './utils';\n\n/**\n * Tracks all known conversation following statuses.\n */\nexport const items = withSchemaValidation( itemsSchema, ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_CONVERSATION_FOLLOW: {\n\t\t\tconst newState = {\n\t\t\t\t...state,\n\t\t\t\t[ key( action.payload.siteId, action.payload.postId ) ]:\n\t\t\t\t\tCONVERSATION_FOLLOW_STATUS.following,\n\t\t\t};\n\t\t\treturn newState;\n\t\t}\n\t\tcase READER_CONVERSATION_MUTE: {\n\t\t\tconst newState = {\n\t\t\t\t...state,\n\t\t\t\t[ key( action.payload.siteId, action.payload.postId ) ]: CONVERSATION_FOLLOW_STATUS.muting,\n\t\t\t};\n\t\t\treturn newState;\n\t\t}\n\t\tcase READER_CONVERSATION_UPDATE_FOLLOW_STATUS: {\n\t\t\tconst stateKey = key( action.payload.siteId, action.payload.postId );\n\n\t\t\t// If followStatus is null, remove the key from the state map entirely\n\t\t\tif ( action.payload.followStatus === CONVERSATION_FOLLOW_STATUS.not_following ) {\n\t\t\t\treturn omit( state, stateKey );\n\t\t\t}\n\n\t\t\tconst newState = {\n\t\t\t\t...state,\n\t\t\t\t[ stateKey ]: action.payload.followStatus,\n\t\t\t};\n\n\t\t\treturn newState;\n\t\t}\n\t\tcase READER_POSTS_RECEIVE: {\n\t\t\tif ( ! action.posts ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst newState = {};\n\n\t\t\tforEach( action.posts, ( post ) => {\n\t\t\t\tif ( post.is_following_conversation ) {\n\t\t\t\t\tnewState[ key( post.site_ID, post.ID ) ] = CONVERSATION_FOLLOW_STATUS.following;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tif ( size( newState ) === 0 ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn { ...state, ...newState };\n\t\t}\n\t}\n\n\treturn state;\n} );\n\nexport default combineReducers( {\n\titems,\n} );\n","import { CONVERSATION_FOLLOW_STATUS } from './follow-status';\n\n/* eslint-disable quote-props */\nexport const itemsSchema = {\n\ttype: 'object',\n\tpatternProperties: {\n\t\t'^[0-9]+-[0-9]+$': {\n\t\t\tenum: Object.values( CONVERSATION_FOLLOW_STATUS ),\n\t\t},\n\t},\n\tadditionalProperties: false,\n};\n/* eslint-enable quote-props */\n","export function key( siteId, postId ) {\n\treturn `${ siteId }-${ postId }`;\n}\n","import { uniqBy } from 'lodash';\nimport { READER_FEED_SEARCH_RECEIVE } from 'calypso/state/reader/action-types';\nimport { combineReducers, keyedReducer } from 'calypso/state/utils';\n\n/**\n * Tracks mappings between queries --> feed results\n *\n * A map of query to results, keyed by query key.\n * The query key is supplied by the action, making it opaque to the reducer.\n * Here is what the state tree may look like:\n * feedSearches: {\n\t\titems: {\n\t\t\t'wordpress tavern-X': [ feed1, feed2, ],\n\t\t\t...\n\t\t},\n\t}\n *\n * @param  {Array} state  Current state\n * @param  {object} action Action payload\n * @returns {Array}        Updated state\n */\nexport const items = keyedReducer( 'queryKey', ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_FEED_SEARCH_RECEIVE:\n\t\t\treturn uniqBy( ( state || [] ).concat( action.payload.feeds ), 'feed_URL' );\n\t}\n\n\treturn state;\n} );\n\n/**\n * Tracks mappings between queries --> num results\n *\n * A of query counts to results, keyed by query key.\n * The query key is supplied by the action, making it opaque to the reducer.\n * Here is what the state tree may look like:\n * feedSearches: {\n\t\ttotal: {\n\t\t\t'wordpress tavern-X': 4,\n\t\t\t'thingsldkjflskjfsdf-A': 0,\n\t\t\t'chickens-A': 4000,\n\t\t\t...\n\t\t},\n\t}\n *\n * @param  {Array}  state  Current state\n * @param  {object} action Action payload\n * @returns {Array}         Updated state\n */\nexport const total = keyedReducer( 'queryKey', ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_FEED_SEARCH_RECEIVE:\n\t\t\treturn action.payload.total;\n\t}\n\n\treturn state;\n} );\n\nexport default combineReducers( {\n\titems,\n\ttotal,\n} );\n","import { omit, omitBy, merge, forEach } from 'lodash';\nimport { decodeEntities, stripHTML } from 'calypso/lib/formatting';\nimport { safeLink } from 'calypso/lib/post-normalizer/utils';\nimport {\n\tREADER_FEED_REQUEST,\n\tREADER_FEED_REQUEST_SUCCESS,\n\tREADER_FEED_REQUEST_FAILURE,\n\tREADER_SEEN_MARK_AS_SEEN_RECEIVE,\n\tREADER_SEEN_MARK_AS_UNSEEN_RECEIVE,\n\tREADER_SEEN_MARK_ALL_AS_SEEN_RECEIVE,\n} from 'calypso/state/reader/action-types';\nimport { combineReducers, withSchemaValidation, withPersistence } from 'calypso/state/utils';\nimport { itemsSchema } from './schema';\n\nfunction handleRequestFailure( state, action ) {\n\t// new object precedes current state to prevent new errors from overwriting existing values\n\treturn {\n\t\t[ action.payload.feed_ID ]: {\n\t\t\tfeed_ID: action.payload.feed_ID,\n\t\t\tis_error: true,\n\t\t},\n\t\t...state,\n\t};\n}\n\nfunction adaptFeed( feed ) {\n\treturn {\n\t\tfeed_ID: +feed.feed_ID,\n\t\tblog_ID: +feed.blog_ID,\n\t\tname: feed.name && decodeEntities( feed.name ),\n\t\tURL: safeLink( feed.URL ),\n\t\tfeed_URL: safeLink( feed.feed_URL ),\n\t\tis_following: feed.is_following,\n\t\tsubscribers_count: feed.subscribers_count,\n\t\tdescription: feed.description && decodeEntities( stripHTML( feed.description ) ),\n\t\tlast_update: feed.last_update,\n\t\timage: feed.image,\n\t\torganization_id: feed.organization_id,\n\t\tunseen_count: feed.unseen_count,\n\t};\n}\n\nfunction handleRequestSuccess( state, action ) {\n\tconst feed = adaptFeed( action.payload );\n\treturn {\n\t\t...state,\n\t\t[ feed.feed_ID ]: feed,\n\t};\n}\n\nconst itemsReducer = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_FEED_REQUEST_SUCCESS:\n\t\t\treturn handleRequestSuccess( state, action );\n\t\tcase READER_FEED_REQUEST_FAILURE:\n\t\t\treturn handleRequestFailure( state, action );\n\n\t\tcase READER_SEEN_MARK_AS_SEEN_RECEIVE: {\n\t\t\tconst existingEntry = state[ action.feedId ];\n\t\t\tif ( ! existingEntry ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.feedId ]: merge( {}, existingEntry, {\n\t\t\t\t\tunseen_count: Math.max( existingEntry.unseen_count - action.globalIds.length, 0 ),\n\t\t\t\t} ),\n\t\t\t};\n\t\t}\n\n\t\tcase READER_SEEN_MARK_AS_UNSEEN_RECEIVE: {\n\t\t\tconst existingEntry = state[ action.feedId ];\n\t\t\tif ( ! existingEntry ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.feedId ]: merge( {}, existingEntry, {\n\t\t\t\t\tunseen_count: Math.max( existingEntry.unseen_count + action.globalIds.length, 0 ),\n\t\t\t\t} ),\n\t\t\t};\n\t\t}\n\n\t\tcase READER_SEEN_MARK_ALL_AS_SEEN_RECEIVE: {\n\t\t\tforEach( action.feedIds, ( feedId ) => {\n\t\t\t\tstate[ feedId ] = { ...state[ feedId ], unseen_count: 0 };\n\t\t\t} );\n\t\t\treturn { ...state };\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport const items = withSchemaValidation(\n\titemsSchema,\n\twithPersistence( itemsReducer, {\n\t\t// remove errors from the serialized state\n\t\tserialize: ( state ) => omitBy( state, 'is_error' ),\n\t} )\n);\n\nexport function queuedRequests( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase READER_FEED_REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.payload.feed_ID ]: true,\n\t\t\t};\n\n\t\tcase READER_FEED_REQUEST_SUCCESS:\n\t\tcase READER_FEED_REQUEST_FAILURE:\n\t\t\treturn omit( state, action.payload.feed_ID );\n\t}\n\treturn state;\n}\n\nexport const lastFetched = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_FEED_REQUEST_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.payload.feed_ID ]: Date.now(),\n\t\t\t};\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\titems,\n\tlastFetched,\n\tqueuedRequests,\n} );\n","export const itemsSchema = {\n\ttype: 'object',\n\tpatternProperties: {\n\t\t//be careful to escape regexes properly\n\t\t'^[0-9a-z]+$': {\n\t\t\ttype: 'object',\n\t\t\trequired: [ 'feed_ID', 'blog_ID' ],\n\t\t\tproperties: {\n\t\t\t\tfeed_ID: { type: 'integer' },\n\t\t\t\tblog_ID: { type: 'integer' },\n\t\t\t\tname: { type: [ 'string', 'null' ] },\n\t\t\t\tURL: { type: [ 'string', 'null' ] },\n\t\t\t\tfeed_URL: { type: [ 'string', 'null' ] },\n\t\t\t\tis_following: { type: [ 'boolean', 'null' ] },\n\t\t\t\tsubscribers_count: { type: [ 'integer', 'null' ] },\n\t\t\t\tdescription: { type: [ 'string', 'null' ] },\n\t\t\t\tlast_update: { type: [ 'string', 'null' ] },\n\t\t\t\timage: { type: [ 'string', 'null' ] },\n\t\t\t\torganization_id: { type: [ 'integer', 'null' ] },\n\t\t\t\tunseen_count: { type: [ 'integer', 'null' ] },\n\t\t\t},\n\t\t},\n\t},\n\tadditionalProperties: false,\n};\n","import { find, forEach, get, isEqual, merge, omitBy, pickBy, reduce } from 'lodash';\nimport {\n\tREADER_FOLLOW,\n\tREADER_UNFOLLOW,\n\tREADER_FOLLOW_ERROR,\n\tREADER_FOLLOWS_SYNC_START,\n\tREADER_FOLLOWS_SYNC_COMPLETE,\n\tREADER_FOLLOWS_RECEIVE,\n\tREADER_SITE_REQUEST_SUCCESS,\n\tREADER_SUBSCRIBE_TO_NEW_POST_EMAIL,\n\tREADER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL,\n\tREADER_UPDATE_NEW_POST_EMAIL_SUBSCRIPTION,\n\tREADER_UNSUBSCRIBE_TO_NEW_POST_EMAIL,\n\tREADER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL,\n\tREADER_SUBSCRIBE_TO_NEW_POST_NOTIFICATIONS,\n\tREADER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS,\n\tREADER_SEEN_MARK_AS_SEEN_RECEIVE,\n\tREADER_SEEN_MARK_AS_UNSEEN_RECEIVE,\n\tREADER_SEEN_MARK_ALL_AS_SEEN_RECEIVE,\n} from 'calypso/state/reader/action-types';\nimport { combineReducers, withSchemaValidation, withPersistence } from 'calypso/state/utils';\nimport { items as itemsSchema } from './schema';\nimport { prepareComparableUrl } from './utils';\n\nfunction updateEmailSubscription( state, { payload, type } ) {\n\tconst follow = find( state, { blog_ID: +payload.blogId } );\n\tif ( ! follow ) {\n\t\treturn state;\n\t}\n\n\tconst currentFollowState = get( follow, [ 'delivery_methods', 'email' ], {} );\n\n\tconst newProps = {};\n\tswitch ( type ) {\n\t\tcase READER_SUBSCRIBE_TO_NEW_POST_EMAIL:\n\t\tcase READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL:\n\t\t\tnewProps.send_posts = ! ( type === READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL );\n\t\t\tbreak;\n\t\tcase READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL:\n\t\tcase READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL:\n\t\t\tnewProps.send_comments = ! ( type === READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL );\n\t\t\tbreak;\n\t}\n\n\tif ( payload.deliveryFrequency ) {\n\t\tnewProps.post_delivery_frequency = payload.deliveryFrequency;\n\t}\n\n\tconst newFollowState = {\n\t\t...currentFollowState,\n\t\t...newProps,\n\t};\n\n\tif ( isEqual( currentFollowState, newFollowState ) ) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\t...state,\n\t\t[ prepareComparableUrl( follow.URL ) ]: {\n\t\t\t...follow,\n\t\t\tdelivery_methods: {\n\t\t\t\temail: newFollowState,\n\t\t\t\tnotification: get( follow, [ 'delivery_methods', 'notification' ], {} ),\n\t\t\t},\n\t\t},\n\t};\n}\n\nfunction updateNotificationSubscription( state, { payload, type } ) {\n\tconst follow = find( state, { blog_ID: +payload.blogId } );\n\tif ( ! follow ) {\n\t\treturn state;\n\t}\n\n\tconst currentFollowState = get(\n\t\tfollow,\n\t\t[ 'delivery_methods', 'notification', 'send_posts' ],\n\t\tfalse\n\t);\n\n\tconst newFollowState = ! ( type === READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS );\n\n\tif ( currentFollowState === newFollowState ) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\t...state,\n\t\t[ prepareComparableUrl( follow.URL ) ]: {\n\t\t\t...follow,\n\t\t\tdelivery_methods: {\n\t\t\t\temail: get( follow, [ 'delivery_methods', 'email' ], {} ),\n\t\t\t\tnotification: {\n\t\t\t\t\tsend_posts: newFollowState,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n}\n\nconst itemsReducer = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_FOLLOW_ERROR: {\n\t\t\tconst urlKey = prepareComparableUrl( action.payload.feedUrl );\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ urlKey ]: merge( {}, state[ urlKey ], { error: action.payload.error } ),\n\t\t\t};\n\t\t}\n\t\tcase READER_FOLLOW: {\n\t\t\tlet urlKey = prepareComparableUrl( action.payload.feedUrl );\n\t\t\tconst newValues = { is_following: true };\n\n\t\t\tconst actualFeedUrl = get( action.payload, [ 'follow', 'feed_URL' ], action.payload.feedUrl );\n\n\t\t\tconst newState = { ...state };\n\t\t\t// for the case where a user entered an exact url to follow something, sometimes the\n\t\t\t// correct feed_URL is slightly different from what they typed in.\n\t\t\t// e.g. example.com --> example.com/rss.\n\t\t\t// Since we are keying this reducer by url,\n\t\t\t// we need delete the old key and move it to the new one.\n\t\t\t// also keep what was typed in as an alias.  pretty edge casey but ideally we should retain aliases to\n\t\t\t// display correct followByUrl follow button status\n\t\t\tif ( actualFeedUrl !== action.payload.feedUrl ) {\n\t\t\t\tnewValues.alias_feed_URLs = [\n\t\t\t\t\t...( state[ urlKey ].alias_feed_URLs || [] ),\n\t\t\t\t\tprepareComparableUrl( action.payload.feedUrl ),\n\t\t\t\t];\n\t\t\t\tdelete newState[ urlKey ];\n\t\t\t\turlKey = prepareComparableUrl( actualFeedUrl );\n\t\t\t} else if ( state[ urlKey ] && state[ urlKey ].error ) {\n\t\t\t\t// Reset follow error state\n\t\t\t\tnewValues.error = null;\n\t\t\t}\n\n\t\t\t// Respect the existing state of the new post notification toggle.\n\t\t\t// User may have toggled it on immediately after subscribing and\n\t\t\t// action.payload.follow may overwrite it with the old value\n\t\t\tconst existingNotificationState = get( state[ urlKey ], [\n\t\t\t\t'delivery_methods',\n\t\t\t\t'notification',\n\t\t\t] );\n\t\t\tif ( existingNotificationState ) {\n\t\t\t\tnewValues.delivery_methods = {\n\t\t\t\t\tnotification: existingNotificationState,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn Object.assign( newState, {\n\t\t\t\t[ urlKey ]: merge(\n\t\t\t\t\t{ feed_URL: actualFeedUrl },\n\t\t\t\t\tstate[ urlKey ],\n\t\t\t\t\taction.payload.follow,\n\t\t\t\t\tnewValues\n\t\t\t\t),\n\t\t\t} );\n\t\t}\n\t\tcase READER_UNFOLLOW: {\n\t\t\tconst urlKey = prepareComparableUrl( action.payload.feedUrl );\n\t\t\tconst currentFollow = state[ urlKey ];\n\t\t\tif ( ! ( currentFollow && currentFollow.is_following ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ urlKey ]: merge( {}, currentFollow, {\n\t\t\t\t\tis_following: false,\n\t\t\t\t\tdelivery_methods: {\n\t\t\t\t\t\tnotification: { send_posts: false },\n\t\t\t\t\t},\n\t\t\t\t} ),\n\t\t\t};\n\t\t}\n\t\tcase READER_FOLLOWS_RECEIVE: {\n\t\t\tconst follows = action.payload.follows;\n\t\t\tconst keyedNewFollows = reduce(\n\t\t\t\tfollows,\n\t\t\t\t( hash, follow ) => {\n\t\t\t\t\tconst urlKey = prepareComparableUrl( follow.URL );\n\t\t\t\t\tconst newFollow = {\n\t\t\t\t\t\t...follow,\n\t\t\t\t\t\tis_following: true,\n\t\t\t\t\t};\n\t\t\t\t\thash[ urlKey ] = newFollow;\n\t\t\t\t\treturn hash;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t\treturn merge( {}, state, keyedNewFollows );\n\t\t}\n\t\tcase READER_SITE_REQUEST_SUCCESS: {\n\t\t\tconst incomingSite = action.payload;\n\t\t\tif ( ! incomingSite || ! incomingSite.feed_URL || ! incomingSite.is_following ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\tconst urlKey = prepareComparableUrl( incomingSite.feed_URL );\n\t\t\tconst currentFollow = state[ urlKey ];\n\t\t\tconst newFollow = {\n\t\t\t\tdelivery_methods: get( incomingSite, 'subscription.delivery_methods' ),\n\t\t\t\tis_following: true,\n\t\t\t\tURL: incomingSite.URL,\n\t\t\t\tfeed_URL: incomingSite.feed_URL,\n\t\t\t\tblog_ID: incomingSite.ID,\n\t\t\t};\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ urlKey ]: merge( {}, currentFollow, newFollow ),\n\t\t\t};\n\t\t}\n\t\tcase READER_SUBSCRIBE_TO_NEW_POST_EMAIL:\n\t\t\treturn updateEmailSubscription( state, action );\n\t\tcase READER_UPDATE_NEW_POST_EMAIL_SUBSCRIPTION:\n\t\t\treturn updateEmailSubscription( state, action );\n\t\tcase READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL:\n\t\t\treturn updateEmailSubscription( state, action );\n\t\tcase READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL:\n\t\t\treturn updateEmailSubscription( state, action );\n\t\tcase READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL:\n\t\t\treturn updateEmailSubscription( state, action );\n\t\tcase READER_SUBSCRIBE_TO_NEW_POST_NOTIFICATIONS:\n\t\t\treturn updateNotificationSubscription( state, action );\n\t\tcase READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS:\n\t\t\treturn updateNotificationSubscription( state, action );\n\t\tcase READER_FOLLOWS_SYNC_COMPLETE: {\n\t\t\tconst seenSubscriptions = new Set( action.payload );\n\n\t\t\t// diff what we saw vs. what's in state and remove anything extra\n\t\t\t// extra would be active subscriptions that were not seen in the sync\n\t\t\t//\n\t\t\t// Only check items with an ID (the subscription ID) because those are what\n\t\t\t// we show on the manage listing. Items without an ID are either inflight follows\n\t\t\t// or follows that we picked up from a feed, site, or post object.\n\t\t\treturn omitBy( state, ( follow ) => follow.ID && ! seenSubscriptions.has( follow.feed_URL ) );\n\t\t}\n\n\t\tcase READER_SEEN_MARK_AS_SEEN_RECEIVE: {\n\t\t\tconst urlKey = prepareComparableUrl( action.feedUrl );\n\t\t\tconst existingEntry = state[ urlKey ];\n\t\t\tif ( ! existingEntry ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ urlKey ]: merge( {}, existingEntry, {\n\t\t\t\t\tunseen_count: existingEntry.unseen_count - action.globalIds.length,\n\t\t\t\t} ),\n\t\t\t};\n\t\t}\n\n\t\tcase READER_SEEN_MARK_AS_UNSEEN_RECEIVE: {\n\t\t\tconst urlKey = prepareComparableUrl( action.feedUrl );\n\t\t\tconst existingEntry = state[ urlKey ];\n\t\t\tif ( ! existingEntry ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ urlKey ]: merge( {}, existingEntry, {\n\t\t\t\t\tunseen_count: existingEntry.unseen_count + action.globalIds.length,\n\t\t\t\t} ),\n\t\t\t};\n\t\t}\n\n\t\tcase READER_SEEN_MARK_ALL_AS_SEEN_RECEIVE: {\n\t\t\tforEach( action.feedUrls, ( feedUrl ) => {\n\t\t\t\tconst urlKey = prepareComparableUrl( feedUrl );\n\t\t\t\tstate[ urlKey ] = { ...state[ urlKey ], unseen_count: 0 };\n\t\t\t} );\n\t\t\treturn { ...state };\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport const items = withSchemaValidation(\n\titemsSchema,\n\twithPersistence( itemsReducer, {\n\t\tserialize: ( state ) => pickBy( state, ( item ) => item.ID && item.is_following ),\n\t} )\n);\n\nexport const itemsCount = ( state = 0, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_FOLLOWS_RECEIVE: {\n\t\t\treturn action.payload.totalCount ? action.payload.totalCount : state;\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport const lastSyncTime = ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_FOLLOWS_SYNC_START: {\n\t\t\treturn Date.now();\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\titems,\n\titemsCount,\n\tlastSyncTime,\n} );\n","export const items = {\n\ttype: 'object',\n\tpatternProperties: {\n\t\t//be careful to escape regexes properly\n\t\t'.+': {\n\t\t\ttype: 'object',\n\t\t\trequired: [ 'feed_URL', 'URL', 'is_following' ],\n\t\t\tproperties: {\n\t\t\t\tURL: { type: 'string' },\n\t\t\t\tfeed_URL: { type: 'string' },\n\t\t\t\tis_following: { type: 'boolean' },\n\t\t\t\tID: { type: [ 'integer', 'null' ] },\n\t\t\t\tblog_ID: { type: [ 'integer', 'null' ] },\n\t\t\t\tfeed_ID: { type: [ 'integer', 'null' ] },\n\t\t\t\tdate_subscribed: { type: [ 'integer', 'null' ] },\n\t\t\t\tlast_updated: { type: [ 'integer', 'null' ] },\n\t\t\t\tdelivery_methods: { type: [ 'object', 'null' ] },\n\t\t\t\tis_owner: { type: [ 'boolean', 'null' ] },\n\t\t\t\torganization_id: { type: [ 'integer', 'null' ] },\n\t\t\t\tname: { type: [ 'string', 'null' ] },\n\t\t\t\tunseen_count: { type: [ 'integer', 'null' ] },\n\t\t\t\tsite_icon: { type: [ 'string', 'null' ] },\n\t\t\t},\n\t\t},\n\t},\n\tadditionalProperties: false,\n};\n","import { untrailingslashit } from 'calypso/lib/route';\n\nexport function prepareComparableUrl( url ) {\n\tconst preparedUrl = url && untrailingslashit( url );\n\treturn preparedUrl && preparedUrl.replace( /^https?:\\/\\//, '' ).toLowerCase();\n}\n","import { registerReducer } from 'calypso/state/redux-store';\nimport readerReducer from './reducer';\n\nregisterReducer( [ 'reader' ], readerReducer );\n","/* eslint-disable no-case-declarations */\n\nimport { filter, some, includes, keyBy, map, omit, reject } from 'lodash';\nimport {\n\tREADER_LIST_CREATE,\n\tREADER_LIST_DELETE,\n\tREADER_LIST_FOLLOW_RECEIVE,\n\tREADER_LIST_REQUEST,\n\tREADER_LIST_REQUEST_SUCCESS,\n\tREADER_LIST_REQUEST_FAILURE,\n\tREADER_LIST_UNFOLLOW_RECEIVE,\n\tREADER_LIST_UPDATE,\n\tREADER_LIST_UPDATE_SUCCESS,\n\tREADER_LIST_UPDATE_FAILURE,\n\tREADER_LISTS_RECEIVE,\n\tREADER_LISTS_REQUEST,\n\tREADER_LIST_ITEMS_RECEIVE,\n\tREADER_LIST_ITEM_DELETE_FEED,\n\tREADER_LIST_ITEM_DELETE_SITE,\n\tREADER_LIST_ITEM_DELETE_TAG,\n\tREADER_LIST_ITEM_ADD_FEED_RECEIVE,\n} from 'calypso/state/reader/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\nimport { itemsSchema, subscriptionsSchema } from './schema';\n\n/**\n * Tracks all known list objects, indexed by list ID.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const items = withSchemaValidation( itemsSchema, ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_LISTS_RECEIVE:\n\t\t\treturn Object.assign( {}, state, keyBy( action.lists, 'ID' ) );\n\t\tcase READER_LIST_REQUEST_SUCCESS:\n\t\tcase READER_LIST_UPDATE_SUCCESS:\n\t\t\treturn Object.assign( {}, state, keyBy( [ action.data.list ], 'ID' ) );\n\t\tcase READER_LIST_DELETE:\n\t\t\tif ( ! ( action.listId in state ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn omit( state, action.listId );\n\t}\n\treturn state;\n} );\n\nfunction removeItemBy( state, action, predicate ) {\n\tif ( ! ( action.listId in state ) ) {\n\t\treturn state;\n\t}\n\tconst list = state[ action.listId ];\n\n\tconst newList = reject( list, predicate );\n\treturn {\n\t\t...state,\n\t\t[ action.listId ]: newList,\n\t};\n}\n\nexport const listItems = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_LIST_ITEMS_RECEIVE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.listId ]: action.listItems,\n\t\t\t};\n\t\tcase READER_LIST_ITEM_ADD_FEED_RECEIVE: {\n\t\t\tconst currentItems = state[ action.listId ] || [];\n\t\t\tif ( some( currentItems, { feed_ID: action.feedId } ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.listId ]: [ ...currentItems, { feed_ID: action.feedId } ],\n\t\t\t};\n\t\t}\n\t\tcase READER_LIST_ITEM_DELETE_FEED:\n\t\t\treturn removeItemBy( state, action, ( item ) => item.feed_ID === action.feedId );\n\t\tcase READER_LIST_ITEM_DELETE_TAG:\n\t\t\treturn removeItemBy( state, action, ( item ) => item.tag_ID === action.tagId );\n\t\tcase READER_LIST_ITEM_DELETE_SITE:\n\t\t\treturn removeItemBy( state, action, ( item ) => item.site_ID === action.siteId );\n\t\tcase READER_LIST_DELETE:\n\t\t\tif ( ! ( action.listId in state ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn omit( state, action.listId );\n\t}\n\treturn state;\n};\n\n/**\n * Tracks which list IDs the current user is subscribed to.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const subscribedLists = withSchemaValidation(\n\tsubscriptionsSchema,\n\t( state = [], action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase READER_LISTS_RECEIVE:\n\t\t\t\treturn map( action.lists, 'ID' );\n\t\t\tcase READER_LIST_FOLLOW_RECEIVE:\n\t\t\t\tconst followedListId = action.list?.ID;\n\t\t\t\tif ( ! followedListId || includes( state, followedListId ) ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\t\t\t\treturn [ ...state, followedListId ];\n\t\t\tcase READER_LIST_UNFOLLOW_RECEIVE:\n\t\t\t\t// Remove the unfollowed list ID from subscribedLists\n\t\t\t\tconst unfollowedListId = action.list?.ID;\n\t\t\t\tif ( ! unfollowedListId ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\t\t\t\treturn filter( state, ( listId ) => {\n\t\t\t\t\treturn listId !== unfollowedListId;\n\t\t\t\t} );\n\t\t\tcase READER_LIST_DELETE:\n\t\t\t\treturn filter( state, ( listId ) => {\n\t\t\t\t\treturn listId !== action.listId;\n\t\t\t\t} );\n\t\t\tcase READER_LIST_REQUEST_SUCCESS:\n\t\t\t\tif ( ! state.includes( action.data.list.ID ) ) {\n\t\t\t\t\treturn [ ...state, action.data.list.ID ];\n\t\t\t\t}\n\t\t\t\treturn state;\n\t\t}\n\t\treturn state;\n\t}\n);\n\n/**\n * Returns the updated requests state after an action has been dispatched.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport function isRequestingList( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase READER_LIST_REQUEST:\n\t\tcase READER_LIST_REQUEST_SUCCESS:\n\t\tcase READER_LIST_REQUEST_FAILURE:\n\t\t\treturn READER_LIST_REQUEST === action.type;\n\t}\n\n\treturn state;\n}\n\n/**\n * Records if there is a pending list creation request.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport function isCreatingList( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase READER_LIST_CREATE:\n\t\tcase READER_LIST_REQUEST_SUCCESS:\n\t\tcase READER_LIST_REQUEST_FAILURE:\n\t\t\treturn READER_LIST_CREATE === action.type;\n\t}\n\n\treturn state;\n}\n\n/**\n * Records if there is a pending list update request.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport function isUpdatingList( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase READER_LIST_UPDATE:\n\t\tcase READER_LIST_UPDATE_SUCCESS:\n\t\tcase READER_LIST_UPDATE_FAILURE:\n\t\t\treturn READER_LIST_UPDATE === action.type;\n\t}\n\n\treturn state;\n}\n\n/**\n * Returns the updated requests state after an action has been dispatched.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport function isRequestingLists( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase READER_LISTS_REQUEST:\n\t\tcase READER_LISTS_RECEIVE:\n\t\t\treturn READER_LISTS_REQUEST === action.type;\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\titems,\n\tlistItems,\n\tsubscribedLists,\n\tisCreatingList,\n\tisRequestingList,\n\tisRequestingLists,\n\tisUpdatingList,\n} );\n","export const itemsSchema = {\n\ttype: 'object',\n\tpatternProperties: {\n\t\t//be careful to escape regexes properly\n\t\t'^[0-9]+$': {\n\t\t\ttype: 'object',\n\t\t\trequired: [ 'ID' ],\n\t\t\tproperties: {\n\t\t\t\tID: { type: 'integer' },\n\t\t\t\ttitle: { type: 'string' },\n\t\t\t\tslug: { type: 'string' },\n\t\t\t\tdescription: { type: 'string' },\n\t\t\t\towner: { type: 'string' },\n\t\t\t\tis_owner: { type: 'boolean' },\n\t\t\t\tis_public: { type: 'boolean' },\n\t\t\t},\n\t\t},\n\t},\n\tadditionalProperties: false,\n};\n\nexport const subscriptionsSchema = {\n\ttype: 'array',\n};\n","import { get } from 'lodash';\nimport {\n\tREADER_ORGANIZATIONS_REQUEST,\n\tREADER_ORGANIZATIONS_RECEIVE,\n} from 'calypso/state/reader/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\nimport { itemsSchema } from './schema';\n\nexport const items = withSchemaValidation( itemsSchema, ( state = [], action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_ORGANIZATIONS_RECEIVE: {\n\t\t\tif ( action.error ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn get( action, [ 'payload', 'organizations' ], state );\n\t\t}\n\t}\n\n\treturn state;\n} );\n\nexport const isRequesting = ( state = false, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_ORGANIZATIONS_REQUEST:\n\t\t\treturn true;\n\t\tcase READER_ORGANIZATIONS_RECEIVE:\n\t\t\treturn false;\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\titems,\n\tisRequesting,\n} );\n","export const itemsSchema = {\n\ttype: 'array',\n\titems: {\n\t\ttype: 'object',\n\t\tproperties: {\n\t\t\tid: { type: 'integer' },\n\t\t\ttitle: { type: 'string' },\n\t\t\tslug: { type: 'string' },\n\t\t\tsites_count: { type: 'integer' },\n\t\t},\n\t},\n};\n","import { filter, forEach, compact, partition, get } from 'lodash';\nimport { v4 as uuid } from 'uuid';\nimport { bumpStat } from 'calypso/lib/analytics/mc';\nimport wpcom from 'calypso/lib/wp';\nimport readerContentWidth from 'calypso/reader/lib/content-width';\nimport { keyForPost, keyToString } from 'calypso/reader/post-key';\nimport { receiveLikes } from 'calypso/state/posts/likes/actions';\nimport { READER_POSTS_RECEIVE, READER_POST_SEEN } from 'calypso/state/reader/action-types';\nimport { runFastRules, runSlowRules } from './normalization-rules';\nimport { hasPostBeenSeen } from './selectors';\n\nimport 'calypso/state/reader/init';\n\n// TODO: make underlying lib/analytics/tracks and reader/stats capable of existing in test code without mocks\n// OR switch to analytics middleware\nlet tracks = { recordEvent: () => {} };\nlet pageViewForPost = () => {};\nif ( process.env.NODE_ENV !== 'test' ) {\n\tpageViewForPost = require( 'calypso/reader/stats' ).pageViewForPost;\n\ttracks = require( 'calypso/lib/analytics/tracks' );\n}\n\nfunction trackRailcarRender( post ) {\n\ttracks.recordTracksEvent( 'calypso_traintracks_render', post.railcar );\n}\n\nfunction fetchForKey( postKey ) {\n\tconst query = {};\n\n\tconst contentWidth = readerContentWidth();\n\tif ( contentWidth ) {\n\t\tquery.content_width = contentWidth;\n\t}\n\n\tif ( postKey.blogId ) {\n\t\treturn wpcom.req.get( `/read/sites/${ postKey.blogId }/posts/${ postKey.postId }`, query );\n\t}\n\tconst { postId, feedId, ...params } = postKey;\n\treturn wpcom.req.get(\n\t\t`/read/feed/${ encodeURIComponent( feedId ) }/posts/${ encodeURIComponent( postId ) }`,\n\t\t{\n\t\t\tapiVersion: '1.2',\n\t\t\t...params,\n\t\t\t...query,\n\t\t}\n\t);\n}\n\n// helper that hides promise rejections so they return successfully with null instead of rejecting\n// this is so that a failure within a slow run of normalization doesn't stop successful posts\n// from being dispatched\nconst hideRejections = ( promise ) => promise.catch( () => null );\n\n/**\n * Returns an action object to signal that post objects have been received.\n *\n * @param  {Array}  posts Posts received\n * @returns {object} Action object\n */\nexport const receivePosts = ( posts ) => ( dispatch ) => {\n\tif ( ! posts ) {\n\t\treturn Promise.resolve( [] );\n\t}\n\n\tconst [ toReload, toProcess ] = partition( posts, '_should_reload' );\n\ttoReload.forEach( ( post ) => dispatch( reloadPost( post ) ) );\n\n\tconst normalizedPosts = compact( toProcess ).map( runFastRules );\n\n\t// dispatch post like additions before the posts. Cuts down on rerenders a bit.\n\tforEach( normalizedPosts, ( post ) => {\n\t\tif ( ! post.is_external ) {\n\t\t\tdispatch(\n\t\t\t\treceiveLikes( post.site_ID, post.ID, {\n\t\t\t\t\tiLike: Boolean( post.i_like ),\n\t\t\t\t\tfound: +post.like_count,\n\t\t\t\t} )\n\t\t\t);\n\t\t}\n\t} );\n\n\t// save the posts after running the fast rules\n\tdispatch( {\n\t\ttype: READER_POSTS_RECEIVE,\n\t\tposts: normalizedPosts,\n\t} );\n\n\t// also save them after running the slow rules\n\tPromise.all( normalizedPosts.map( runSlowRules ).map( hideRejections ) ).then(\n\t\t( processedPosts ) =>\n\t\t\tdispatch( {\n\t\t\t\ttype: READER_POSTS_RECEIVE,\n\t\t\t\tposts: compact( processedPosts ), // prune out the \"null\" rejections\n\t\t\t} )\n\t);\n\n\tforEach( filter( normalizedPosts, 'railcar' ), trackRailcarRender );\n\n\t// TODO: resolve weird dependency between related-posts and the return here\n\treturn Promise.resolve( normalizedPosts );\n};\n\nconst requestsInFlight = new Set();\nexport const fetchPost = ( postKey ) => ( dispatch ) => {\n\tconst requestKey = keyToString( postKey );\n\tif ( requestsInFlight.has( requestKey ) ) {\n\t\treturn;\n\t}\n\trequestsInFlight.add( requestKey );\n\tfunction removeKey() {\n\t\trequestsInFlight.delete( requestKey );\n\t}\n\treturn fetchForKey( postKey )\n\t\t.then( ( data ) => {\n\t\t\tremoveKey();\n\t\t\treturn dispatch( receivePosts( [ data ] ) );\n\t\t} )\n\t\t.catch( ( error ) => {\n\t\t\tremoveKey();\n\t\t\treturn dispatch( receiveErrorForPostKey( error, postKey ) );\n\t\t} );\n};\n\nfunction receiveErrorForPostKey( error, postKey ) {\n\treturn {\n\t\ttype: READER_POSTS_RECEIVE,\n\t\tposts: [\n\t\t\t{\n\t\t\t\tfeed_ID: postKey.feedId,\n\t\t\t\tID: postKey.postId,\n\t\t\t\tsite_ID: postKey.blogId,\n\t\t\t\tis_external: ! postKey.blogId,\n\t\t\t\tglobal_ID: uuid(),\n\t\t\t\tis_error: true,\n\t\t\t\terror,\n\t\t\t},\n\t\t],\n\t};\n}\n\nexport function reloadPost( post ) {\n\treturn function ( dispatch ) {\n\t\t// keep track of any railcars we might have\n\t\tconst railcar = post.railcar;\n\t\tconst postKey = keyForPost( post );\n\t\tfetchForKey( postKey ).then( ( data ) => {\n\t\t\tdata.railcar = railcar;\n\t\t\tdispatch( receivePosts( [ data ] ) );\n\t\t} );\n\t};\n}\n\nexport const markPostSeen = ( post, site ) => ( dispatch, getState ) => {\n\tif ( ! post || hasPostBeenSeen( getState(), post.global_ID ) ) {\n\t\treturn;\n\t}\n\n\tdispatch( { type: READER_POST_SEEN, payload: { post, site } } );\n\n\tif ( post.site_ID ) {\n\t\t// they have a site ID, let's try to push a page view\n\t\tconst isAdmin = !! get( site, 'capabilities.manage_options', false );\n\t\tif ( site && site.ID ) {\n\t\t\tif ( site.is_private || ! isAdmin ) {\n\t\t\t\tpageViewForPost( site.ID, site.URL, post.ID, site.is_private );\n\t\t\t\tbumpStat( 'reader_pageviews', site.is_private ? 'private_view' : 'public_view' );\n\t\t\t}\n\t\t}\n\t}\n};\n","/**\n * Feed post display types\n *\n * @type {object} Types of post for display\n */\nexport default {\n\tUNCLASSIFIED: 0,\n\tPHOTO_ONLY: 1,\n\tLARGE_BANNER: 2,\n\tONE_LINER: 4,\n\tLANDSCAPE_BANNER: 8,\n\tPORTRAIT_BANNER: 16,\n\tGALLERY: 32,\n\tVIDEO: 64,\n\tTHUMBNAIL: 128,\n\tCANONICAL_IN_CONTENT: 256,\n\tFEATURED_VIDEO: 512,\n\tX_POST: 1024,\n};\n","import { filter, flow } from 'lodash';\nimport addDiscoverProperties from 'calypso/lib/post-normalizer/rule-add-discover-properties';\nimport detectMedia from 'calypso/lib/post-normalizer/rule-content-detect-media';\nimport detectPolls from 'calypso/lib/post-normalizer/rule-content-detect-polls';\nimport detectSurveys from 'calypso/lib/post-normalizer/rule-content-detect-surveys';\nimport {\n\tdisableAutoPlayOnMedia,\n\tdisableAutoPlayOnEmbeds,\n} from 'calypso/lib/post-normalizer/rule-content-disable-autoplay';\nimport linkJetpackCarousels from 'calypso/lib/post-normalizer/rule-content-link-jetpack-carousels';\nimport makeEmbedsSafe from 'calypso/lib/post-normalizer/rule-content-make-embeds-safe';\nimport makeImagesSafe from 'calypso/lib/post-normalizer/rule-content-make-images-safe';\nimport makeContentLinksSafe from 'calypso/lib/post-normalizer/rule-content-make-links-safe';\nimport removeElementsBySelector from 'calypso/lib/post-normalizer/rule-content-remove-elements-by-selector';\nimport removeStyles from 'calypso/lib/post-normalizer/rule-content-remove-styles';\nimport createBetterExcerpt from 'calypso/lib/post-normalizer/rule-create-better-excerpt';\nimport decodeEntities from 'calypso/lib/post-normalizer/rule-decode-entities';\nimport keepValidImages from 'calypso/lib/post-normalizer/rule-keep-valid-images';\nimport makeLinksSafe from 'calypso/lib/post-normalizer/rule-make-links-safe';\nimport makeSiteIdSafeForApi from 'calypso/lib/post-normalizer/rule-make-site-id-safe-for-api';\nimport pickCanonicalImage from 'calypso/lib/post-normalizer/rule-pick-canonical-image';\nimport pickCanonicalMedia from 'calypso/lib/post-normalizer/rule-pick-canonical-media';\nimport pickPrimaryTag from 'calypso/lib/post-normalizer/rule-pick-primary-tag';\nimport preventWidows from 'calypso/lib/post-normalizer/rule-prevent-widows';\nimport safeImageProperties from 'calypso/lib/post-normalizer/rule-safe-image-properties';\nimport stripHtml from 'calypso/lib/post-normalizer/rule-strip-html';\nimport waitForImagesToLoad from 'calypso/lib/post-normalizer/rule-wait-for-images-to-load';\nimport withContentDom from 'calypso/lib/post-normalizer/rule-with-content-dom';\nimport DISPLAY_TYPES from './display-types';\nimport {\n\tREADER_CONTENT_WIDTH,\n\tPHOTO_ONLY_MIN_WIDTH,\n\tPHOTO_ONLY_MAX_CHARACTER_COUNT,\n\tGALLERY_MIN_IMAGES,\n\tGALLERY_MIN_IMAGE_WIDTH,\n\tMIN_IMAGE_WIDTH,\n\tMIN_IMAGE_HEIGHT,\n} from './sizes';\n\nfunction getCharacterCount( post ) {\n\tif ( ! post || ! post.content_no_html ) {\n\t\treturn 0;\n\t}\n\n\treturn post.content_no_html.length;\n}\n\nexport function imageIsBigEnoughForGallery( image ) {\n\treturn image.width >= GALLERY_MIN_IMAGE_WIDTH && image.height >= MIN_IMAGE_HEIGHT;\n}\n\nconst hasShortContent = ( post ) => getCharacterCount( post ) <= PHOTO_ONLY_MAX_CHARACTER_COUNT;\n\n/**\n * Attempt to classify the post into a display type\n *\n * @param  {object}   post     A post to classify\n * @returns {object}            The classified post\n */\nexport function classifyPost( post ) {\n\tconst imagesForGallery = filter( post.content_images, imageIsBigEnoughForGallery );\n\tlet displayType = DISPLAY_TYPES.UNCLASSIFIED;\n\n\tif ( imagesForGallery.length >= GALLERY_MIN_IMAGES ) {\n\t\tdisplayType ^= DISPLAY_TYPES.GALLERY;\n\t} else if (\n\t\tpost.canonical_media &&\n\t\tpost.canonical_media.mediaType === 'image' &&\n\t\tpost.canonical_media.width >= PHOTO_ONLY_MIN_WIDTH &&\n\t\thasShortContent( post )\n\t) {\n\t\tdisplayType ^= DISPLAY_TYPES.PHOTO_ONLY;\n\t}\n\n\tif ( post.canonical_media && post.canonical_media.mediaType === 'video' ) {\n\t\tdisplayType ^= DISPLAY_TYPES.FEATURED_VIDEO;\n\t}\n\n\tif ( post.tags && post.tags[ 'p2-xpost' ] ) {\n\t\tdisplayType ^= DISPLAY_TYPES.X_POST;\n\t}\n\n\tpost.display_type = displayType;\n\n\treturn post;\n}\n\nconst fastPostNormalizationRules = flow( [\n\tdecodeEntities,\n\tstripHtml,\n\tpreventWidows,\n\tmakeSiteIdSafeForApi,\n\tpickPrimaryTag,\n\tsafeImageProperties( READER_CONTENT_WIDTH ),\n\tmakeLinksSafe,\n\twithContentDom( [\n\t\tremoveStyles,\n\t\tremoveElementsBySelector,\n\t\tmakeImagesSafe(),\n\t\tmakeEmbedsSafe,\n\t\tmakeContentLinksSafe,\n\t\tdisableAutoPlayOnEmbeds,\n\t\tdisableAutoPlayOnMedia,\n\t\tdetectMedia,\n\t\tdetectPolls,\n\t\tdetectSurveys,\n\t\tlinkJetpackCarousels,\n\t] ),\n\tcreateBetterExcerpt,\n\tpickCanonicalImage,\n\tpickCanonicalMedia,\n\tclassifyPost,\n\taddDiscoverProperties,\n] );\n\nexport function runFastRules( post ) {\n\tif ( ! post ) {\n\t\treturn post;\n\t}\n\tpost = Object.assign( {}, post );\n\tfastPostNormalizationRules( post );\n\treturn post;\n}\n\nconst slowSyncRules = flow( [\n\tkeepValidImages( MIN_IMAGE_WIDTH, MIN_IMAGE_HEIGHT ),\n\tpickCanonicalImage,\n\tpickCanonicalMedia,\n\tclassifyPost,\n] );\n\nexport function runSlowRules( post ) {\n\tpost = Object.assign( {}, post );\n\treturn waitForImagesToLoad( post ).then( slowSyncRules );\n}\n","/* eslint-disable no-case-declarations */\n\nimport { keyBy, get, forEach } from 'lodash';\nimport {\n\tREADER_POSTS_RECEIVE,\n\tREADER_POST_SEEN,\n\tREADER_SEEN_MARK_AS_SEEN_RECEIVE,\n\tREADER_SEEN_MARK_AS_UNSEEN_RECEIVE,\n\tREADER_SEEN_MARK_ALL_AS_SEEN_RECEIVE,\n} from 'calypso/state/reader/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\n/**\n * Tracks all known post objects, indexed by post ID.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport function items( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase READER_POSTS_RECEIVE:\n\t\t\tconst posts = action.posts || action.payload.posts;\n\t\t\treturn { ...state, ...keyBy( posts, 'global_ID' ) };\n\n\t\tcase READER_SEEN_MARK_AS_SEEN_RECEIVE:\n\t\tcase READER_SEEN_MARK_ALL_AS_SEEN_RECEIVE:\n\t\t\tforEach( action.globalIds, ( globalId ) => {\n\t\t\t\tstate[ globalId ] = { ...state[ globalId ], is_seen: true };\n\t\t\t} );\n\t\t\treturn { ...state };\n\n\t\tcase READER_SEEN_MARK_AS_UNSEEN_RECEIVE:\n\t\t\tforEach( action.globalIds, ( globalId ) => {\n\t\t\t\tstate[ globalId ] = { ...state[ globalId ], is_seen: false };\n\t\t\t} );\n\t\t\treturn { ...state };\n\t}\n\treturn state;\n}\nexport function seen( state = {}, action ) {\n\tconst id = get( action, 'payload.post.global_ID' );\n\n\tif ( action.type === READER_POST_SEEN && id ) {\n\t\treturn { ...state, [ id ]: true };\n\t}\n\n\treturn state;\n}\n// @TODO: evaluate serialization later\n// import { itemsSchema } from './schema';\n// export const items = withSchemaValidation( itemsSchema, itemsReducer );\n\nexport default combineReducers( {\n\titems,\n\tseen,\n} );\n","import treeSelect from '@automattic/tree-select';\nimport { keyBy, some, get } from 'lodash';\nimport { keyToString, keyForPost } from 'calypso/reader/post-key';\nimport 'calypso/state/reader/init';\n\n/**\n * Returns a single post.\n *\n * @param  {object}  state  Global state tree\n * @param  {string}  postGlobalId Post global ID\n * @returns {object} Post\n */\nexport function getPostById( state, postGlobalId ) {\n\treturn state.reader.posts.items[ postGlobalId ];\n}\n\nconst getPostMapByPostKey = treeSelect(\n\t( state ) => [ state.reader.posts.items ],\n\t( [ posts ] ) => keyBy( posts, ( post ) => keyToString( keyForPost( post ) ) )\n);\n\nexport const getPostByKey = ( state, postKey ) => {\n\tif ( ! postKey || ! keyToString( postKey ) ) {\n\t\treturn null;\n\t}\n\n\tconst postMap = getPostMapByPostKey( state );\n\treturn postMap[ keyToString( postKey ) ];\n};\n\nexport const getPostsByKeys = treeSelect(\n\t( state ) => [ getPostMapByPostKey( state ) ],\n\t( [ postMap ], postKeys ) => {\n\t\tif ( ! postKeys || some( postKeys, ( postKey ) => ! keyToString( postKey ) ) ) {\n\t\t\treturn null;\n\t\t}\n\t\treturn postKeys.map( keyToString ).map( ( key ) => postMap[ key ] );\n\t},\n\t{ getCacheKey: ( postKeys ) => postKeys.map( keyToString ).join() }\n);\n\nexport const hasPostBeenSeen = ( state, globalId ) =>\n\t!! get( state, [ 'reader', 'posts', 'seen', globalId ] );\n","/**\n * Module vars\n */\nexport const READER_CONTENT_WIDTH = 800;\nexport const PHOTO_ONLY_MIN_WIDTH = 440;\nexport const PHOTO_ONLY_MAX_CHARACTER_COUNT = 85;\nexport const GALLERY_MIN_IMAGES = 4;\nexport const GALLERY_MIN_IMAGE_WIDTH = 300;\nexport const MIN_IMAGE_WIDTH = 144;\nexport const MIN_IMAGE_HEIGHT = 72;\n","import { uniqBy } from 'lodash';\nimport { READER_RECOMMENDED_SITES_RECEIVE } from 'calypso/state/reader/action-types';\nimport { combineReducers, keyedReducer } from 'calypso/state/utils';\n\n/**\n * Tracks mappings between randomization seeds and site recs.\n * Sites get stored in a flat list. Just the basics like title/feedId,blogId.\n *\n * @param  {Array} state  Current state\n * @param  {object} action Action payload\n * @returns {Array}        Updated state\n */\nexport const items = keyedReducer( 'seed', ( state = [], action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_RECOMMENDED_SITES_RECEIVE:\n\t\t\treturn uniqBy( state.concat( action.payload.sites ), 'feedId' );\n\t}\n\n\treturn state;\n} );\n\n/**\n * Tracks mappings between randomization seeds and current offset in the that seed's stream.\n * this is for used whenrequesting the next page of site recs\n *\n * @param  {Array} state Current state\n * @param  {object} action Action payload\n * @returns {Array}        Updated state\n */\nexport const pagingOffset = keyedReducer( 'seed', ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_RECOMMENDED_SITES_RECEIVE:\n\t\t\treturn Math.max( action.payload.offset, state );\n\t}\n\n\treturn state;\n} );\n\nexport default combineReducers( {\n\titems,\n\tpagingOffset,\n} );\n","import { withStorageKey } from '@automattic/state-utils';\nimport { combineReducers } from 'calypso/state/utils';\nimport conversations from './conversations/reducer';\nimport feedSearches from './feed-searches/reducer';\nimport feeds from './feeds/reducer';\nimport follows from './follows/reducer';\nimport lists from './lists/reducer';\nimport organizations from './organizations/reducer';\nimport posts from './posts/reducer';\nimport recommendedSites from './recommended-sites/reducer';\nimport relatedPosts from './related-posts/reducer';\nimport siteBlocks from './site-blocks/reducer';\nimport siteDismissals from './site-dismissals/reducer';\nimport sites from './sites/reducer';\nimport streams from './streams/reducer';\nimport tags from './tags/reducer';\nimport thumbnails from './thumbnails/reducer';\n\nconst combinedReducer = combineReducers( {\n\tconversations,\n\tfeeds,\n\tfeedSearches,\n\tfollows,\n\tlists,\n\tposts,\n\trecommendedSites,\n\trelatedPosts,\n\tsiteBlocks,\n\tsiteDismissals,\n\tsites,\n\tstreams,\n\ttags,\n\tthumbnails,\n\torganizations,\n} );\nconst readerReducer = withStorageKey( 'reader', combinedReducer );\nexport default readerReducer;\n","import {\n\tREADER_RELATED_POSTS_RECEIVE,\n\tREADER_RELATED_POSTS_REQUEST,\n\tREADER_RELATED_POSTS_REQUEST_SUCCESS,\n\tREADER_RELATED_POSTS_REQUEST_FAILURE,\n} from 'calypso/state/reader/action-types';\nimport { combineReducers } from 'calypso/state/utils';\nimport { key } from './utils';\n\nfunction setStateForKey( state, action, val ) {\n\tconst { siteId, postId, scope } = action.payload;\n\treturn {\n\t\t...state,\n\t\t[ key( siteId, postId, scope ) ]: val,\n\t};\n}\n\nexport const items = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_RELATED_POSTS_RECEIVE:\n\t\t\treturn setStateForKey(\n\t\t\t\tstate,\n\t\t\t\taction,\n\t\t\t\taction.payload.posts.map( ( p ) => p.global_ID )\n\t\t\t);\n\t}\n\n\treturn state;\n};\n\nexport const queuedRequests = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_RELATED_POSTS_REQUEST:\n\t\t\treturn setStateForKey( state, action, true );\n\t\tcase READER_RELATED_POSTS_REQUEST_SUCCESS:\n\t\t\treturn setStateForKey( state, action, false );\n\t\tcase READER_RELATED_POSTS_REQUEST_FAILURE:\n\t\t\treturn setStateForKey( state, action, false );\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\titems,\n\tqueuedRequests,\n} );\n","export const SCOPE_ALL = 'all';\nexport const SCOPE_SAME = 'same';\nexport const SCOPE_OTHER = 'other';\n\nexport function key( siteId, postId, scope = SCOPE_ALL ) {\n\treturn `${ siteId }-${ postId }-${ scope }`;\n}\n","import { omit, reduce } from 'lodash';\nimport {\n\tREADER_SITE_BLOCK,\n\tREADER_SITE_BLOCKS_RECEIVE,\n\tREADER_SITE_BLOCKS_REQUEST,\n\tREADER_SITE_REQUEST_SUCCESS,\n\tREADER_SITE_UNBLOCK,\n} from 'calypso/state/reader/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\nexport const items = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_SITE_BLOCK: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.payload.siteId ]: true,\n\t\t\t};\n\t\t}\n\t\tcase READER_SITE_UNBLOCK: {\n\t\t\treturn omit( state, action.payload.siteId );\n\t\t}\n\t\tcase READER_SITE_REQUEST_SUCCESS: {\n\t\t\tif ( ! action.payload.is_blocked ) {\n\t\t\t\tif ( ! state[ action.payload.ID ] ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn omit( state, action.payload.ID );\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.payload.ID ]: true,\n\t\t\t};\n\t\t}\n\t\tcase READER_SITE_BLOCKS_RECEIVE: {\n\t\t\tif ( ! action.payload || ! action.payload.sites ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst newBlocks = reduce(\n\t\t\t\taction.payload.sites,\n\t\t\t\t( obj, site ) => {\n\t\t\t\t\tobj[ site.ID ] = true;\n\t\t\t\t\treturn obj;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...newBlocks,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport const currentPage = ( state = 1, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_SITE_BLOCKS_RECEIVE: {\n\t\t\tif ( ! action.payload || ! action.payload.page ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn action.payload.page;\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport const lastPage = ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_SITE_BLOCKS_RECEIVE: {\n\t\t\tif ( ! action.payload || ! action.payload.page || action.payload.count > 0 ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn action.payload.page;\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport const inflightPages = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_SITE_BLOCKS_REQUEST: {\n\t\t\tif ( ! action.payload || ! action.payload.page ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.payload.page ]: true,\n\t\t\t};\n\t\t}\n\t\tcase READER_SITE_BLOCKS_RECEIVE: {\n\t\t\tif ( ! action.payload || ! action.payload.page ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn omit( state, action.payload.page );\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\titems,\n\tcurrentPage,\n\tlastPage,\n\tinflightPages,\n} );\n","import { READER_DISMISS_SITE, READER_DISMISS_POST } from 'calypso/state/reader/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\nexport const items = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_DISMISS_SITE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.payload.siteId ]: true,\n\t\t\t};\n\t\t}\n\t\tcase READER_DISMISS_POST: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.payload.siteId ]: true,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\titems,\n} );\n","import {\n\tREADER_SITE_REQUEST,\n\tREADER_SITE_REQUEST_SUCCESS,\n\tREADER_SITE_REQUEST_FAILURE,\n} from 'calypso/state/reader/action-types';\n\nimport 'calypso/state/data-layer/wpcom/read/sites';\n\nimport 'calypso/state/reader/init';\n\nexport function requestSite( blogId ) {\n\treturn {\n\t\ttype: READER_SITE_REQUEST,\n\t\tpayload: {\n\t\t\tID: blogId,\n\t\t},\n\t};\n}\n\nexport function receiveReaderSiteRequestSuccess( data ) {\n\treturn {\n\t\ttype: READER_SITE_REQUEST_SUCCESS,\n\t\tpayload: data,\n\t};\n}\n\nexport function receiveReaderSiteRequestFailure( action, error ) {\n\treturn {\n\t\ttype: READER_SITE_REQUEST_FAILURE,\n\t\tpayload: action.payload,\n\t\terror,\n\t};\n}\n","export const fields = [\n\t'ID',\n\t'name',\n\t'title',\n\t'URL',\n\t'icon',\n\t'is_following',\n\t'is_jetpack',\n\t'description',\n\t'is_private',\n\t'feed_ID',\n\t'feed_URL',\n\t'capabilities',\n\t'prefer_feed',\n\t'subscribers_count',\n\t'options', // have to include this to get options at all\n\t'subscription',\n\t'is_blocked',\n\t'unseen_count',\n];\n","import { includes, keyBy, omit, omitBy, trim } from 'lodash';\nimport { decodeEntities } from 'calypso/lib/formatting';\nimport { withoutHttp } from 'calypso/lib/url';\nimport {\n\tREADER_SITE_BLOCKS_RECEIVE,\n\tREADER_SITE_REQUEST,\n\tREADER_SITE_REQUEST_SUCCESS,\n\tREADER_SITE_REQUEST_FAILURE,\n} from 'calypso/state/reader/action-types';\nimport { combineReducers, withSchemaValidation, withPersistence } from 'calypso/state/utils';\nimport { readerSitesSchema } from './schema';\n\nfunction handleRequestFailure( state, action ) {\n\t// 410 means site moved - site used to be on wpcom but is no longer\n\tconst handledStatusCodes = [ 403, 404, 410 ];\n\n\tif ( action.error && ! includes( handledStatusCodes, action.error.statusCode ) ) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\t...state,\n\t\t[ action.payload.ID ]: {\n\t\t\tID: action.payload.ID,\n\t\t\tis_error: true,\n\t\t\terror: action.error,\n\t\t},\n\t};\n}\n\nfunction adaptSite( attributes ) {\n\t// this also ends up cloning attributes, which is important since we mutate it\n\tattributes = omit( attributes, [ 'meta', 'subscription' ] );\n\n\tif ( attributes.URL ) {\n\t\tattributes.domain = withoutHttp( attributes.URL );\n\t\tattributes.slug = attributes.domain.replace( /\\//g, '::' );\n\t}\n\tattributes.title = trim( attributes.name ) || attributes.domain;\n\n\tif ( attributes.description ) {\n\t\tattributes.description = decodeEntities( attributes.description );\n\t}\n\n\t// If a WordPress.com site has a mapped domain create a `wpcom_url`\n\t// attribute to allow site selection with either domain.\n\tif ( attributes.options && attributes.options.is_mapped_domain && ! attributes.is_jetpack ) {\n\t\tattributes.wpcom_url = withoutHttp( attributes.options.unmapped_url );\n\t}\n\n\t// If a site has an `is_redirect` property use the `unmapped_url`\n\t// for the slug and domain to match the wordpress.com original site.\n\tif ( attributes.options && attributes.options.is_redirect ) {\n\t\tattributes.slug = withoutHttp( attributes.options.unmapped_url );\n\t\tattributes.domain = attributes.slug;\n\t}\n\treturn attributes;\n}\n\nfunction handleRequestSuccess( state, action ) {\n\tconst site = adaptSite( action.payload );\n\t// TODO do we need to normalize site entries somehow?\n\treturn {\n\t\t...state,\n\t\t[ action.payload.ID ]: site,\n\t};\n}\n\nconst itemsReducer = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_SITE_BLOCKS_RECEIVE: {\n\t\t\tif ( ! action.payload || ! action.payload.sites ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst newBlocks = keyBy( action.payload.sites, 'ID' );\n\n\t\t\t// Prefer existing state if we have it - site details provided by blocks are limited (only name, URL)\n\t\t\treturn {\n\t\t\t\t...newBlocks,\n\t\t\t\t...state,\n\t\t\t};\n\t\t}\n\t\tcase READER_SITE_REQUEST_SUCCESS:\n\t\t\treturn handleRequestSuccess( state, action );\n\t\tcase READER_SITE_REQUEST_FAILURE:\n\t\t\treturn handleRequestFailure( state, action );\n\t}\n\n\treturn state;\n};\nexport const items = withSchemaValidation(\n\treaderSitesSchema,\n\twithPersistence( itemsReducer, {\n\t\t// remove errors from the serialized state\n\t\tserialize: ( state ) => omitBy( state, 'is_error' ),\n\t} )\n);\n\nexport function queuedRequests( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase READER_SITE_REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.payload.ID ]: true,\n\t\t\t};\n\t\tcase READER_SITE_REQUEST_SUCCESS:\n\t\tcase READER_SITE_REQUEST_FAILURE:\n\t\t\treturn omit( state, action.payload.ID );\n\t}\n\treturn state;\n}\n\nexport const lastFetched = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_SITE_REQUEST_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.payload.ID ]: Date.now(),\n\t\t\t};\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\titems,\n\tqueuedRequests,\n\tlastFetched,\n} );\n","import { sitesSchema } from 'calypso/state/sites/schema';\n\n// based on the normal site endpoint schema with a few extra properties\nexport const readerSitesSchema = {\n\t...sitesSchema,\n\tpatternProperties: {\n\t\t...sitesSchema.patternProperties,\n\t\t[ '^\\\\d+$' ]: {\n\t\t\t...sitesSchema.patternProperties[ '^\\\\d+$' ],\n\t\t\tproperties: {\n\t\t\t\t...sitesSchema.patternProperties[ '^\\\\d+$' ].properties,\n\t\t\t\tfeed_ID: { type: 'number' },\n\t\t\t\tsubscription: { type: 'object' },\n\t\t\t\tis_blocked: { type: 'boolean' },\n\t\t\t\torganization_id: { type: 'number' },\n\t\t\t\tunseen_count: { type: 'number' },\n\t\t\t},\n\t\t},\n\t},\n};\n","import { find } from 'lodash';\n\nimport 'calypso/state/reader/init';\n\nconst DAY_IN_MILLIS = 24 * 60 * 1000 * 1000;\n\n/**\n * Returns true if we should fetch the site\n *\n * @param  {object}  state  Global state tree\n * @param  {number}  siteId The site ID\n * @returns {boolean}        Whether site should be fetched\n */\n\nexport function shouldSiteBeFetched( state, siteId ) {\n\tconst isNotQueued = ! state.reader.sites.queuedRequests[ siteId ];\n\tconst isMissing = ! getSite( state, siteId );\n\treturn isNotQueued && ( isMissing || isStale( state, siteId ) );\n}\n\nfunction isStale( state, siteId ) {\n\tconst lastFetched = state.reader.sites.lastFetched[ siteId ];\n\tif ( ! lastFetched ) {\n\t\treturn true;\n\t}\n\treturn lastFetched <= Date.now() - DAY_IN_MILLIS;\n}\n\n/**\n * Returns a site object\n *\n * @param  {object}  state  Global state tree\n * @param  {number}  siteId The site ID\n * @returns {object}        Site\n */\n\nexport function getSite( state, siteId ) {\n\treturn state.reader.sites.items[ siteId ];\n}\n\nexport function getSiteByFeedUrl( state, feedUrl ) {\n\treturn find( state.reader.sites.items, { feed_URL: feedUrl } );\n}\n","import { findIndex, last, filter } from 'lodash';\nimport moment from 'moment';\nimport { keysAreEqual } from 'calypso/reader/post-key';\nimport {\n\tREADER_STREAMS_PAGE_REQUEST,\n\tREADER_STREAMS_PAGE_RECEIVE,\n\tREADER_STREAMS_SELECT_ITEM,\n\tREADER_STREAMS_UPDATES_RECEIVE,\n\tREADER_STREAMS_SELECT_NEXT_ITEM,\n\tREADER_STREAMS_SELECT_PREV_ITEM,\n\tREADER_STREAMS_SHOW_UPDATES,\n\tREADER_DISMISS_POST,\n} from 'calypso/state/reader/action-types';\nimport { keyedReducer, combineReducers } from 'calypso/state/utils';\nimport { combineXPosts } from './utils';\n\nconst takeWhile = ( array, predicate ) => {\n\tconst [ x, ...xs ] = array;\n\n\tif ( array.length > 0 && predicate( x ) ) {\n\t\treturn [ x, ...takeWhile( xs, predicate ) ];\n\t}\n\treturn [];\n};\n\nconst takeRightWhile = ( array, predicate ) => {\n\treturn takeWhile( [ ...array ].reverse(), predicate );\n};\n\n/*\n * Contains a list of post-keys representing the items of a stream.\n */\nexport const items = ( state = [], action ) => {\n\tlet streamItems;\n\tlet gap;\n\tlet newState;\n\tlet newXPosts;\n\n\tswitch ( action.type ) {\n\t\tcase READER_STREAMS_PAGE_RECEIVE:\n\t\t\tgap = action.payload.gap;\n\t\t\tstreamItems = action.payload.streamItems;\n\n\t\t\tif ( gap ) {\n\t\t\t\tconst beforeGap = takeWhile( state, ( postKey ) => ! keysAreEqual( postKey, gap ) );\n\t\t\t\tconst afterGap = takeRightWhile( state, ( postKey ) => ! keysAreEqual( postKey, gap ) );\n\n\t\t\t\t// after query param is inclusive, so we need to drop duplicate post\n\t\t\t\tif ( keysAreEqual( last( streamItems ), afterGap[ 0 ] ) ) {\n\t\t\t\t\tstreamItems.pop();\n\t\t\t\t}\n\n\t\t\t\t// gap was empty\n\t\t\t\tif ( streamItems.length === 0 ) {\n\t\t\t\t\treturn [ ...beforeGap, ...afterGap ];\n\t\t\t\t}\n\n\t\t\t\t// create a new gap if we still need one\n\t\t\t\tlet nextGap = [];\n\t\t\t\tconst from = gap.from;\n\t\t\t\tconst to = moment( last( streamItems ).date );\n\t\t\t\tif ( ! from.isSame( to ) ) {\n\t\t\t\t\tnextGap = [ { isGap: true, from, to } ];\n\t\t\t\t}\n\n\t\t\t\treturn combineXPosts( [ ...beforeGap, ...streamItems, ...nextGap, ...afterGap ] );\n\t\t\t}\n\n\t\t\t// add the `streamItems` to state, but only ones that aren't already there\n\t\t\tnewState = streamItems.reduce( ( accuState, streamItem ) => {\n\t\t\t\tconst isNew = ! accuState.some( ( accuItem ) => keysAreEqual( accuItem, streamItem ) );\n\t\t\t\treturn isNew ? [ ...accuState, streamItem ] : accuState;\n\t\t\t}, state );\n\n\t\t\t// Find any x-posts\n\t\t\tnewXPosts = filter( streamItems, ( postKey ) => postKey.xPostMetadata );\n\n\t\t\tif ( ! newXPosts ) {\n\t\t\t\treturn newState;\n\t\t\t}\n\n\t\t\t// Filter out duplicate x-posts\n\t\t\treturn combineXPosts( newState );\n\n\t\tcase READER_STREAMS_SHOW_UPDATES:\n\t\t\treturn combineXPosts( [ ...action.payload.items, ...state ] );\n\t\tcase READER_DISMISS_POST: {\n\t\t\tconst postKey = action.payload.postKey;\n\t\t\tconst indexToRemove = findIndex( state, ( item ) => keysAreEqual( item, postKey ) );\n\n\t\t\tif ( indexToRemove === -1 ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst updatedState = [ ...state ];\n\t\t\tupdatedState[ indexToRemove ] = updatedState.pop(); // set the dismissed post location to the last item from the recs stream\n\t\t\treturn updatedState;\n\t\t}\n\t}\n\treturn state;\n};\n\nexport const PENDING_ITEMS_DEFAULT = { lastUpdated: null, items: [] };\n/*\n * Contains new items in the stream that we've learned about since initial render\n * but don't want to display just yet.\n * This is the data backing the orange \"${number} new posts\" pill.\n */\nexport const pendingItems = ( state = PENDING_ITEMS_DEFAULT, action ) => {\n\tlet streamItems;\n\tlet maxDate;\n\tlet minDate;\n\tlet newItems;\n\tlet newXPosts;\n\tswitch ( action.type ) {\n\t\tcase READER_STREAMS_PAGE_RECEIVE:\n\t\t\tstreamItems = action.payload.streamItems;\n\t\t\tif ( streamItems.length === 0 ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tmaxDate = moment( streamItems[ 0 ].date );\n\n\t\t\tif ( state.lastUpdated && maxDate.isSameOrBefore( state.lastUpdated ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn { ...state, lastUpdated: maxDate };\n\t\tcase READER_STREAMS_UPDATES_RECEIVE:\n\t\t\tstreamItems = action.payload.streamItems;\n\t\t\tif ( streamItems.length === 0 ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tmaxDate = moment( streamItems[ 0 ].date );\n\t\t\tminDate = moment( last( streamItems ).date );\n\n\t\t\t// only retain posts that are newer than ones we already have\n\t\t\tif ( state.lastUpdated ) {\n\t\t\t\tstreamItems = streamItems.filter( ( item ) =>\n\t\t\t\t\tmoment( item.date ).isAfter( state.lastUpdated )\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif ( streamItems.length === 0 ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tnewItems = [ ...streamItems ];\n\n\t\t\t// Find any x-posts and filter out duplicates\n\t\t\tnewXPosts = filter( newItems, ( postKey ) => postKey.xPostMetadata );\n\n\t\t\tif ( newXPosts ) {\n\t\t\t\tnewItems = combineXPosts( newItems );\n\t\t\t}\n\n\t\t\t// there is a gap if the oldest item in the poll is newer than last update time\n\t\t\tif ( state.lastUpdated && minDate.isAfter( state.lastUpdated ) ) {\n\t\t\t\tnewItems.push( {\n\t\t\t\t\tisGap: true,\n\t\t\t\t\tfrom: state.lastUpdated,\n\t\t\t\t\tto: minDate,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { lastUpdated: maxDate, items: newItems };\n\t\tcase READER_STREAMS_SHOW_UPDATES:\n\t\t\treturn { ...state, items: [] };\n\t}\n\treturn state;\n};\n\n/*\n * Contains which postKey is currently selected.\n * This is relevant for keyboard navigation\n */\nexport const selected = ( state = null, action ) => {\n\tlet idx;\n\tswitch ( action.type ) {\n\t\tcase READER_STREAMS_SELECT_ITEM:\n\t\t\treturn action.payload.postKey;\n\t\tcase READER_STREAMS_SELECT_NEXT_ITEM:\n\t\t\tidx = findIndex( action.payload.items, ( item ) => keysAreEqual( item, state ) );\n\t\t\treturn idx === action.payload.items.length - 1 ? state : action.payload.items[ idx + 1 ];\n\t\tcase READER_STREAMS_SELECT_PREV_ITEM:\n\t\t\tidx = findIndex( action.payload.items, ( item ) => keysAreEqual( item, state ) );\n\t\t\treturn idx === 0 ? state : action.payload.items[ idx - 1 ];\n\t}\n\treturn state;\n};\n\n/*\n * Contains whether or not a request for a new page is in flight.\n * Most parts of Calypso don't need this data, but streams still do since we can't infer the status\n * from current state. Its possible to have a list of post-keys as the state, and yet be fetching another page.\n *\n * isRequesting data is mostly used for whether or not to render placeholders\n */\nexport const isRequesting = ( state = false, action ) => {\n\t// this has become a lie! its not really whether we are requesting, just if we need to show\n\t// placeholders at the bottom of the stream\n\tswitch ( action.type ) {\n\t\tcase READER_STREAMS_PAGE_REQUEST:\n\t\t\treturn state || ( ! action.payload.isPoll && ! action.payload.isGap );\n\t\tcase READER_STREAMS_PAGE_RECEIVE:\n\t\t\treturn false;\n\t}\n\treturn state;\n};\n\n/*\n * Contains whether or not a stream is at its end.\n * This data is used to tell our infinite-list components\n * to render its 'end-of-stream' and stop making requests for more data.\n */\nexport const lastPage = ( state = false, action ) => {\n\tif ( action.type === READER_STREAMS_PAGE_RECEIVE ) {\n\t\treturn action.payload.streamItems.length === 0;\n\t}\n\treturn state;\n};\n\n/*\n * Contains the query params needed to be able to fetch the next page.\n * This usually gets handed to the request for more stream items\n */\nexport const pageHandle = ( state = null, action ) => {\n\tif (\n\t\taction.type === READER_STREAMS_PAGE_RECEIVE &&\n\t\taction.payload.pageHandle &&\n\t\t! action.payload.isPoll &&\n\t\t! action.payload.gap\n\t) {\n\t\treturn action.payload.pageHandle;\n\t}\n\treturn state;\n};\n\nconst streamReducer = combineReducers( {\n\titems,\n\tpendingItems,\n\tselected,\n\tlastPage,\n\tisRequesting,\n\tpageHandle,\n} );\n\nexport default keyedReducer( 'payload.streamKey', streamReducer );\n","import { last } from 'lodash';\nimport { sameXPost } from 'calypso/reader/stream/utils';\n\n/**\n * Add the post URL from a duplicate x-post to an existing post key\n *\n * @param {object} postKey1 First post key\n * @param {object} postKey2 Second (duplicate) post key\n * @returns {object} Post key\n */\nexport const addDuplicateXPostToPostKey = ( postKey1, postKey2 ) => {\n\treturn {\n\t\t...postKey1,\n\t\t// Add the URL from the second post key\n\t\txPostUrls: Array.isArray( postKey1.xPostUrls )\n\t\t\t? [ ...postKey1.xPostUrls, postKey2.url ]\n\t\t\t: [ postKey2.url ],\n\t};\n};\n\n/**\n * Combine adjacent x-posts that refer to the same original post\n *\n * @param {Array} postKeys Array of post key objects\n * @returns {Array} Array of post key objects\n */\nexport const combineXPosts = ( postKeys ) =>\n\tpostKeys.reduce( ( accumulator, postKey ) => {\n\t\tconst lastPostKey = last( accumulator );\n\t\tif ( sameXPost( lastPostKey, postKey ) ) {\n\t\t\taccumulator[ accumulator.length - 1 ] = addDuplicateXPostToPostKey( lastPostKey, postKey );\n\t\t} else {\n\t\t\taccumulator.push( postKey );\n\t\t}\n\t\treturn accumulator;\n\t}, [] );\n","import {\n\tREADER_TAG_IMAGES_RECEIVE,\n\tREADER_TAG_IMAGES_REQUEST,\n\tREADER_TAG_IMAGES_REQUEST_SUCCESS,\n\tREADER_TAG_IMAGES_REQUEST_FAILURE,\n} from 'calypso/state/reader/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\n/**\n * Tracks all known image objects, indexed by tag name.\n *\n * @param  {Array} state  Current state\n * @param  {object} action Action payload\n * @returns {Array}        Updated state\n */\nexport function items( state = {}, action ) {\n\tif ( action.type === READER_TAG_IMAGES_RECEIVE ) {\n\t\tlet images = action.images;\n\t\tif ( state[ action.tag ] ) {\n\t\t\timages = state[ action.tag ].concat( action.images );\n\t\t}\n\n\t\treturn {\n\t\t\t...state,\n\t\t\t[ action.tag ]: images,\n\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Returns the updated requesting state after an action has been dispatched.\n * Requesting state tracks whether a request is in progress.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action object\n * @returns {object}        Updated state\n */\nexport function requesting( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase READER_TAG_IMAGES_REQUEST:\n\t\tcase READER_TAG_IMAGES_REQUEST_SUCCESS:\n\t\tcase READER_TAG_IMAGES_REQUEST_FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.tag ]: action.type === READER_TAG_IMAGES_REQUEST,\n\t\t\t};\n\t}\n\treturn state;\n}\n\nexport default combineReducers( {\n\titems,\n\trequesting,\n} );\n","import { keyBy, merge, mapValues } from 'lodash';\nimport {\n\tREADER_TAGS_RECEIVE,\n\tREADER_UNFOLLOW_TAG_RECEIVE,\n} from 'calypso/state/reader/action-types';\n\n/*\n * since the api always returns the whole list of followed tags unpaginated, both read/tags*,\n * we can do a full replace instead of merge\n *\n * the shape of a tag is { id, url, title, displayName, isFollowing }.\n */\nexport default ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase READER_TAGS_RECEIVE: {\n\t\t\tconst tags = action.payload;\n\t\t\tconst resetFollowingData = action.meta.resetFollowingData;\n\n\t\t\tif ( ! resetFollowingData ) {\n\t\t\t\treturn merge( {}, state, keyBy( tags, 'id' ) );\n\t\t\t}\n\n\t\t\tconst allTagsUnfollowed = mapValues( state, ( tag ) => ( { ...tag, isFollowing: false } ) );\n\n\t\t\treturn merge( {}, allTagsUnfollowed, keyBy( tags, 'id' ) );\n\t\t}\n\t\tcase READER_UNFOLLOW_TAG_RECEIVE: {\n\t\t\tconst removedTag = action.payload;\n\t\t\treturn merge( {}, state, { [ removedTag ]: { isFollowing: false } } );\n\t\t}\n\t}\n\n\treturn state;\n};\n","import { combineReducers } from 'calypso/state/utils';\nimport images from './images/reducer';\nimport items from './items/reducer';\n\nexport default combineReducers( {\n\timages,\n\titems,\n} );\n","import { READER_THUMBNAIL_RECEIVE } from 'calypso/state/reader/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\n/**\n * Tracks mappings between embedUrls (iframe.src) --> thumbnails\n * Here is what the state tree may look like:\n *\n *   thumbnails: {\n *     items: {\n *       'https://www.youtube.com/watch?v=syWk7P3SPMQ': https://img.youtube.com/vi/syWk7P3SPMQ/mqdefault.jpg,\n *       ...\n *     },\n *     requesting: {\n *       'https://www.youtube.com/watch?v=syWk7P3SPMQ': false,\n *       ...\n *     }\n *   }\n *\n *\n * @param  {Array} state  Current state\n * @param  {object} action Action payload\n * @returns {Array}        Updated state\n */\nexport function items( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase READER_THUMBNAIL_RECEIVE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.embedUrl ]: action.thumbnailUrl,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\titems,\n} );\n","import { Reducer, Store } from 'redux';\nimport {\n\taddReducerToStore,\n\tclear as clearReducers,\n\tWithAddReducer,\n\tGetStoredState,\n} from './add-reducer';\n\ntype QueueEntry = [ string[], Reducer ];\n\nlet currentAddReducer: ReturnType< typeof addReducerToStore > | undefined;\nconst reducerRegistrationQueue: QueueEntry[] = [];\n\nexport function setStore( store: Store & WithAddReducer, getStoredState?: GetStoredState ): void {\n\t// Clear any previously added reducers when replacing an existing store.\n\tif ( currentAddReducer ) {\n\t\tclearReducers();\n\t}\n\n\tcurrentAddReducer = addReducerToStore( store, getStoredState );\n\n\t// Synchronously add all pending reducers.\n\t// These include reducers registered to previous stores, since their code has\n\t// already been loaded.\n\tfor ( const [ key, reducer ] of reducerRegistrationQueue ) {\n\t\tcurrentAddReducer( key, reducer );\n\t}\n}\n\nexport function registerReducer( key: string[], reducer: Reducer ): void {\n\tif ( currentAddReducer ) {\n\t\t// Register immediately.\n\t\tcurrentAddReducer( key, reducer );\n\t}\n\n\t// Add to queue, for future stores.\n\treducerRegistrationQueue.push( [ key, reducer ] );\n}\n","import { get } from 'lodash';\n\nimport 'calypso/state/ui/init';\n\n/**\n * Gets the current ui locale slug\n *\n * @param {object} state - global redux state\n * @returns {string} current state value\n */\nexport default function getCurrentLocaleSlug( state ) {\n\treturn get( state, 'ui.language.localeSlug', null );\n}\n","import { get } from 'lodash';\nimport { getCurrentUser } from 'calypso/state/current-user/selectors';\n\n/**\n * Returns the current user's primary site's ID.\n *\n * @param  {object}  state Global state tree\n * @returns {?number}       The current user's primary site's ID\n */\nexport default function getPrimarySiteId( state ) {\n\tconst currentUser = getCurrentUser( state );\n\treturn get( currentUser, 'primary_blog', null );\n}\n","import getSitesItems from 'calypso/state/selectors/get-sites-items';\nimport type { SitesItem } from 'calypso/state/selectors/get-sites-items';\nimport type { AppState } from 'calypso/types';\n\n/**\n * Returns a raw site object by its ID.\n */\nexport default function getRawSite( state: AppState, siteId: number ): SitesItem | null {\n\treturn getSitesItems( state )[ siteId ] || null;\n}\n","import type { SitePlan } from '../sites/selectors/get-site-plan';\nimport type { AppState } from 'calypso/types';\n\nconst EMPTY_SITES: SitesItem = Object.freeze( {} );\n\nexport interface SitesItem {\n\tID?: number;\n\tname?: string;\n\tdescription?: string;\n\tURL?: string;\n\tslug?: string;\n\tcapabilities?: Record< string, boolean >;\n\tjetpack?: boolean;\n\tis_multisite?: boolean;\n\tsite_owner?: number;\n\tlang?: string;\n\tvisible?: boolean;\n\tis_private?: boolean;\n\tis_coming_soon?: boolean;\n\tsingle_user_site?: boolean;\n\tis_vip?: boolean;\n\toptions?: Record< string, unknown >;\n\tplan?: SitePlan;\n\tis_wpcom_atomic?: boolean;\n}\n\n/**\n * Returns site items object or empty object.\n */\nexport default function getSitesItems( state: AppState ): Record< number, SitesItem > {\n\treturn state.sites.items || EMPTY_SITES;\n}\n","import { getUserPurchases } from 'calypso/state/purchases/selectors';\n\nimport 'calypso/state/purchases/init';\n\n/**\n * Does the user have any current purchases that can be canceled (i.e. purchases other than premium themes)?\n *\n * Note: there is an is_cancelable flag on the purchase object, but it returns true for premium themes.\n *\n * @param  {object}  state       global state\n * @returns {boolean} if the user currently has any purchases that can be canceled.\n */\nexport const hasCancelableUserPurchases = ( state ) => {\n\tconst purchases = getUserPurchases( state );\n\treturn (\n\t\tpurchases &&\n\t\tpurchases.some(\n\t\t\t( purchase ) => purchase.isRefundable || purchase.productSlug !== 'premium_theme'\n\t\t)\n\t);\n};\n\nexport default hasCancelableUserPurchases;\n","import { forEach } from 'lodash';\n\ntype Json = any;\n\n/**\n * Helper class for holding results of state serialization\n * Accumulates the state tree for \"root\" and any number of custom \"storage keys\"\n * Each storage key is then saved as a separate record in IndexedDB\n */\nexport class SerializationResult {\n\tresults: Record< string, Json >;\n\tconstructor( results: Record< string, Json > = {} ) {\n\t\tthis.results = results;\n\t}\n\n\tget(): Record< string, Json > {\n\t\treturn this.results;\n\t}\n\n\troot(): Json | SerializationResult {\n\t\treturn this.results.root;\n\t}\n\n\taddRootResult( reducerKey: string, result: Json | SerializationResult ): void {\n\t\treturn this.addResult( 'root', reducerKey, result );\n\t}\n\n\taddKeyResult( storageKey: string, result: Json | SerializationResult ): void {\n\t\treturn this.addResult( storageKey, null, result );\n\t}\n\n\taddResult(\n\t\tstorageKey: string,\n\t\treducerKey: string | null,\n\t\tresult: Json | SerializationResult\n\t): void {\n\t\tif ( result instanceof SerializationResult ) {\n\t\t\tforEach( result.results, ( resultState, resultKey ) => {\n\t\t\t\tif ( resultKey === 'root' ) {\n\t\t\t\t\tthis.addResult( storageKey, reducerKey, resultState );\n\t\t\t\t} else {\n\t\t\t\t\tthis.addResult( resultKey, null, resultState );\n\t\t\t\t}\n\t\t\t} );\n\t\t} else if ( reducerKey ) {\n\t\t\tif ( ! this.results[ storageKey ] ) {\n\t\t\t\tthis.results[ storageKey ] = {};\n\t\t\t}\n\t\t\tthis.results[ storageKey ][ reducerKey ] = result;\n\t\t} else {\n\t\t\tthis.results[ storageKey ] = result;\n\t\t}\n\t}\n}\n","import config from '@automattic/calypso-config';\nimport { translate } from 'i18n-calypso';\nimport { omit } from 'lodash';\nimport wpcom from 'calypso/lib/wp';\nimport { purchasesRoot } from 'calypso/me/purchases/paths';\nimport {\n\tSITE_DELETE_RECEIVE,\n\tSITE_RECEIVE,\n\tSITE_REQUEST,\n\tSITE_REQUEST_FAILURE,\n\tSITE_REQUEST_SUCCESS,\n\tSITES_RECEIVE,\n\tSITES_REQUEST,\n\tSITES_REQUEST_SUCCESS,\n\tSITES_REQUEST_FAILURE,\n\tSITE_PLUGIN_UPDATED,\n\tSITE_FRONT_PAGE_UPDATE,\n\tSITE_MIGRATION_STATUS_UPDATE,\n} from 'calypso/state/action-types';\nimport { fetchCurrentUser } from 'calypso/state/current-user/actions';\nimport { errorNotice, successNotice } from 'calypso/state/notices/actions';\nimport getP2HubBlogId from 'calypso/state/selectors/get-p2-hub-blog-id';\nimport getSiteUrl from 'calypso/state/selectors/get-site-url';\nimport { SITE_REQUEST_FIELDS, SITE_REQUEST_OPTIONS } from 'calypso/state/sites/constants';\nimport { getSiteDomain } from 'calypso/state/sites/selectors';\n\n/**\n * Returns a thunk that dispatches an action object to be used in signalling that a site has been\n * deleted. It also re-fetches the current user.\n *\n * @param  {number} siteId  ID of deleted site\n * @returns {Function}        Action thunk\n */\nexport function receiveDeletedSite( siteId ) {\n\treturn ( dispatch ) => {\n\t\tdispatch( {\n\t\t\ttype: SITE_DELETE_RECEIVE,\n\t\t\tsiteId,\n\t\t} );\n\t\tdispatch( fetchCurrentUser() );\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that a site object has\n * been received.\n *\n * @param  {object} site Site received\n * @returns {object}      Action object\n */\nexport function receiveSite( site ) {\n\treturn {\n\t\ttype: SITE_RECEIVE,\n\t\tsite,\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that site objects have\n * been received.\n *\n * @param  {object[]} sites Sites received\n * @returns {object}         Action object\n */\nexport function receiveSites( sites ) {\n\treturn {\n\t\ttype: SITES_RECEIVE,\n\t\tsites,\n\t};\n}\n\n/**\n * Triggers a network request to request all visible sites\n *\n * @returns {Function}        Action thunk\n */\nexport function requestSites() {\n\treturn ( dispatch ) => {\n\t\tdispatch( {\n\t\t\ttype: SITES_REQUEST,\n\t\t} );\n\t\tconst siteFilter = config( 'site_filter' );\n\n\t\treturn wpcom\n\t\t\t.me()\n\t\t\t.sites( {\n\t\t\t\tapiVersion: '1.2',\n\t\t\t\tsite_visibility: 'all',\n\t\t\t\tinclude_domain_only: true,\n\t\t\t\tsite_activity: 'active',\n\t\t\t\tfields: SITE_REQUEST_FIELDS,\n\t\t\t\toptions: SITE_REQUEST_OPTIONS,\n\t\t\t\tfilters: siteFilter.length > 0 ? siteFilter.join( ',' ) : undefined,\n\t\t\t} )\n\t\t\t.then( ( response ) => {\n\t\t\t\tdispatch( receiveSites( response.sites ) );\n\t\t\t\tdispatch( {\n\t\t\t\t\ttype: SITES_REQUEST_SUCCESS,\n\t\t\t\t} );\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tdispatch( {\n\t\t\t\t\ttype: SITES_REQUEST_FAILURE,\n\t\t\t\t\terror,\n\t\t\t\t} );\n\t\t\t} );\n\t};\n}\n\n/**\n * Returns a function which, when invoked, triggers a network request to fetch\n * a site.\n *\n * @param {number|string} siteFragment Site ID or slug\n * @returns {Function}              Action thunk\n */\nexport function requestSite( siteFragment ) {\n\tfunction doRequest( forceWpcom ) {\n\t\tconst query = { apiVersion: '1.2' };\n\t\tif ( forceWpcom ) {\n\t\t\tquery.force = 'wpcom';\n\t\t}\n\n\t\tconst siteFilter = config( 'site_filter' );\n\t\tif ( siteFilter.length > 0 ) {\n\t\t\tquery.filters = siteFilter.join( ',' );\n\t\t}\n\n\t\treturn wpcom.site( siteFragment ).get( query );\n\t}\n\n\treturn ( dispatch ) => {\n\t\tdispatch( { type: SITE_REQUEST, siteId: siteFragment } );\n\n\t\tconst result = doRequest( false ).catch( ( error ) => {\n\t\t\t// if there is Jetpack JSON API module error, retry with force: 'wpcom'\n\t\t\tif (\n\t\t\t\terror?.status === 403 &&\n\t\t\t\terror?.message === 'API calls to this blog have been disabled.'\n\t\t\t) {\n\t\t\t\treturn doRequest( true );\n\t\t\t}\n\n\t\t\treturn Promise.reject( error );\n\t\t} );\n\n\t\tresult\n\t\t\t.then( ( site ) => {\n\t\t\t\t// If we can't manage the site, don't add it to state.\n\t\t\t\tif ( site && site.capabilities ) {\n\t\t\t\t\tdispatch( receiveSite( omit( site, '_headers' ) ) );\n\t\t\t\t}\n\n\t\t\t\tdispatch( { type: SITE_REQUEST_SUCCESS, siteId: siteFragment } );\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tdispatch( { type: SITE_REQUEST_FAILURE, siteId: siteFragment } );\n\t\t\t} );\n\n\t\treturn result;\n\t};\n}\n\nconst siteDeletionNoticeId = 'site-delete';\nconst siteDeletionNoticeOptions = {\n\tduration: 5000,\n\tid: siteDeletionNoticeId,\n};\n\n/**\n * Returns a function which, when invoked, triggers a network request to delete\n * a site.\n *\n * @param  {number}   siteId Site ID\n * @returns {Function}        Action thunk\n */\nexport function deleteSite( siteId ) {\n\treturn ( dispatch, getState ) => {\n\t\tconst siteDomain = getSiteDomain( getState(), siteId );\n\n\t\tdispatch(\n\t\t\tsuccessNotice(\n\t\t\t\ttranslate( '%(siteDomain)s is being deleted.', { args: { siteDomain } } ),\n\t\t\t\tsiteDeletionNoticeOptions\n\t\t\t)\n\t\t);\n\n\t\treturn wpcom.req\n\t\t\t.post( `/sites/${ siteId }/delete` )\n\t\t\t.then( () => {\n\t\t\t\tdispatch( receiveDeletedSite( siteId ) );\n\t\t\t\tdispatch(\n\t\t\t\t\tsuccessNotice(\n\t\t\t\t\t\ttranslate( '%(siteDomain)s has been deleted.', { args: { siteDomain } } ),\n\t\t\t\t\t\tsiteDeletionNoticeOptions\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tif ( error.error === 'active-subscriptions' ) {\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\terrorNotice(\n\t\t\t\t\t\t\ttranslate( 'You must cancel any active subscriptions prior to deleting your site.' ),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: siteDeletionNoticeId,\n\t\t\t\t\t\t\t\tshowDismiss: false,\n\t\t\t\t\t\t\t\tbutton: translate( 'Manage Purchases' ),\n\t\t\t\t\t\t\t\thref: purchasesRoot,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( error.error === 'p2-hub-has-spaces' ) {\n\t\t\t\t\tconst hubId = getP2HubBlogId( getState(), siteId );\n\t\t\t\t\tconst hubUrl = getSiteUrl( getState(), hubId );\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\terrorNotice(\n\t\t\t\t\t\t\ttranslate(\n\t\t\t\t\t\t\t\t'Your P2 Workspace has P2s. You must delete all P2s in this workspace before you can delete it.'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: siteDeletionNoticeId,\n\t\t\t\t\t\t\t\tshowDismiss: false,\n\t\t\t\t\t\t\t\tbutton: translate( 'Manage P2s' ),\n\t\t\t\t\t\t\t\thref: hubUrl,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tdispatch( errorNotice( error.message, siteDeletionNoticeOptions ) );\n\t\t\t} );\n\t};\n}\n\nexport const sitePluginUpdated = ( siteId ) => ( {\n\ttype: SITE_PLUGIN_UPDATED,\n\tsiteId,\n} );\n\n/**\n * Returns an action object to be used to update the site front page options.\n *\n * @param  {number} siteId Site ID\n * @param  {object} frontPageOptions Object containing the three optional front page options.\n * @param  {string} [frontPageOptions.show_on_front] What to show in homepage. Can be 'page' or 'posts'.\n * @param  {number} [frontPageOptions.page_on_front] If `show_on_front = 'page'`, the front page ID.\n * @param  {number} [frontPageOptions.page_for_posts] If `show_on_front = 'page'`, the posts page ID.\n * @returns {object} Action object\n */\nexport const updateSiteFrontPage = ( siteId, frontPageOptions ) => async ( dispatch ) => {\n\ttry {\n\t\tconst response = await wpcom.req.post( `/sites/${ siteId }/homepage`, {\n\t\t\tis_page_on_front: isPageOnFront( frontPageOptions.show_on_front ),\n\t\t\tpage_on_front_id: frontPageOptions.page_on_front,\n\t\t\tpage_for_posts_id: frontPageOptions.page_for_posts,\n\t\t} );\n\n\t\tdispatch( {\n\t\t\ttype: SITE_FRONT_PAGE_UPDATE,\n\t\t\tsiteId,\n\t\t\tfrontPageOptions: {\n\t\t\t\tshow_on_front: response.is_page_on_front ? 'page' : 'posts',\n\t\t\t\tpage_on_front: parseInt( response.page_on_front_id, 10 ),\n\t\t\t\tpage_for_posts: parseInt( response.page_for_posts_id, 10 ),\n\t\t\t},\n\t\t} );\n\t} catch {}\n};\n\nfunction isPageOnFront( showOnFront ) {\n\tswitch ( showOnFront ) {\n\t\tcase 'page':\n\t\t\treturn true;\n\t\tcase 'posts':\n\t\t\treturn false;\n\t\tdefault:\n\t\t\treturn undefined;\n\t}\n}\n\n/**\n * Returns an action object to be used to update the site migration status.\n *\n * @param  {number} siteId Site ID\n * @param  {string} migrationStatus The status of the migration.\n * @param {string} lastModified Optional timestamp from the migration DB record\n * @returns {object} Action object\n */\nexport const updateSiteMigrationMeta = ( siteId, migrationStatus, lastModified = null ) => ( {\n\tsiteId,\n\ttype: SITE_MIGRATION_STATUS_UPDATE,\n\tmigrationStatus,\n\tlastModified,\n} );\n","import { includes, concat, compact, reject } from 'lodash';\nimport {\n\tSITES_BLOG_STICKER_LIST_RECEIVE,\n\tSITES_BLOG_STICKER_ADD,\n\tSITES_BLOG_STICKER_REMOVE,\n} from 'calypso/state/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\nexport const items = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase SITES_BLOG_STICKER_LIST_RECEIVE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.payload.blogId ]: action.payload.stickers,\n\t\t\t};\n\t\t}\n\t\tcase SITES_BLOG_STICKER_ADD: {\n\t\t\tconst { blogId, stickerName } = action.payload;\n\n\t\t\t// If the blog already has this sticker, do nothing\n\t\t\tif ( includes( state[ blogId ], stickerName ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ blogId ]: compact( concat( stickerName, state[ blogId ] ) ),\n\t\t\t};\n\t\t}\n\t\tcase SITES_BLOG_STICKER_REMOVE: {\n\t\t\tconst { blogId, stickerName } = action.payload;\n\n\t\t\t// If the blog doesn't have this sticker, do nothing\n\t\t\tif ( ! includes( state[ blogId ], stickerName ) ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ blogId ]: reject( state[ blogId ], ( sticker ) => sticker === stickerName ),\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\titems,\n} );\n","import {\n\tSITE_CONNECTION_STATUS_RECEIVE,\n\tSITE_CONNECTION_STATUS_REQUEST,\n\tSITE_CONNECTION_STATUS_REQUEST_FAILURE,\n\tSITE_CONNECTION_STATUS_REQUEST_SUCCESS,\n} from 'calypso/state/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\nconst createRequestingReducer =\n\t( requesting ) =>\n\t( state, { siteId } ) => ( {\n\t\t...state,\n\t\t[ siteId ]: requesting,\n\t} );\n\nexport const items = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase SITE_CONNECTION_STATUS_RECEIVE: {\n\t\t\tconst { siteId, status } = action;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ siteId ]: status,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n};\n\nexport const requesting = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase SITE_CONNECTION_STATUS_REQUEST:\n\t\t\treturn createRequestingReducer( true )( state, action );\n\t\tcase SITE_CONNECTION_STATUS_REQUEST_FAILURE:\n\t\t\treturn createRequestingReducer( false )( state, action );\n\t\tcase SITE_CONNECTION_STATUS_REQUEST_SUCCESS:\n\t\t\treturn createRequestingReducer( false )( state, action );\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\titems,\n\trequesting,\n} );\n","export const SITE_REQUEST_FIELDS = [\n\t'ID',\n\t'URL',\n\t'capabilities',\n\t'icon',\n\t'is_multisite',\n\t'is_private',\n\t'is_coming_soon',\n\t'is_vip',\n\t'jetpack',\n\t'jetpack_modules',\n\t'name',\n\t'options',\n\t'plan',\n\t'products',\n\t'single_user_site',\n\t'visible',\n\t'lang',\n\t'launch_status',\n\t'site_migration',\n\t'site_owner',\n\t'is_core_site_editor_enabled',\n\t'is_wpcom_atomic',\n\t'description',\n].join();\n\nexport const SITE_REQUEST_OPTIONS = [\n\t'admin_url',\n\t'advanced_seo_front_page_description',\n\t'advanced_seo_title_formats',\n\t'allowed_file_types',\n\t'anchor_podcast',\n\t'created_at',\n\t'default_comment_status',\n\t'default_ping_status',\n\t'default_post_format',\n\t'design_type',\n\t'editing_toolkit_is_active',\n\t'frame_nonce',\n\t'gmt_offset',\n\t'has_pending_automated_transfer',\n\t'is_automated_transfer',\n\t'is_cloud_eligible',\n\t'is_domain_only',\n\t'is_mapped_domain',\n\t'is_redirect',\n\t'is_wpcom_atomic',\n\t'is_wpcom_store',\n\t'is_wpforteams_site',\n\t'p2_hub_blog_id',\n\t'jetpack_frame_nonce',\n\t'jetpack_version',\n\t'main_network_site',\n\t'page_on_front',\n\t'page_for_posts',\n\t'podcasting_archive',\n\t'podcasting_category_id',\n\t'publicize_permanently_disabled',\n\t'show_on_front',\n\t'site_segment',\n\t'software_version',\n\t'timezone',\n\t'upgraded_filetypes_enabled',\n\t'unmapped_url',\n\t'verification_services_codes',\n\t'videopress_enabled',\n\t'woocommerce_is_active',\n\t'wordads',\n\t'site_creation_flow',\n\t'is_difm_lite_in_progress',\n\t'difm_lite_site_options',\n\t'site_intent',\n].join();\n","/* eslint-disable no-case-declarations */\n\nimport { find } from 'lodash';\nimport {\n\tSITE_DOMAINS_RECEIVE,\n\tSITE_DOMAINS_REQUEST,\n\tSITE_DOMAINS_REQUEST_SUCCESS,\n\tSITE_DOMAINS_REQUEST_FAILURE,\n\tDOMAIN_PRIVACY_ENABLE,\n\tDOMAIN_PRIVACY_DISABLE,\n\tDOMAIN_PRIVACY_ENABLE_SUCCESS,\n\tDOMAIN_PRIVACY_DISABLE_SUCCESS,\n\tDOMAIN_PRIVACY_ENABLE_FAILURE,\n\tDOMAIN_PRIVACY_DISABLE_FAILURE,\n\tDOMAIN_CONTACT_INFO_DISCLOSE,\n\tDOMAIN_CONTACT_INFO_DISCLOSE_SUCCESS,\n\tDOMAIN_CONTACT_INFO_DISCLOSE_FAILURE,\n\tDOMAIN_CONTACT_INFO_REDACT,\n\tDOMAIN_CONTACT_INFO_REDACT_SUCCESS,\n\tDOMAIN_CONTACT_INFO_REDACT_FAILURE,\n} from 'calypso/state/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\nimport { itemsSchema } from './schema';\n\n/**\n * Returns a copy of the domains state object with some modifications\n *\n * @param {object} state - current state\n * @param {number} siteId - site ID\n * @param {string} domain - domain name\n * @param {object} modifyDomainProperties - object with modified site domain properties\n * @returns {any} - new copy of the state\n */\nconst modifySiteDomainObjectImmutable = ( state, siteId, domain, modifyDomainProperties ) => {\n\t// Find the domain we want to update\n\tconst targetDomain = find( state[ siteId ], { domain: domain } );\n\tconst domainIndex = state[ siteId ].indexOf( targetDomain );\n\t// Copy as we shouldn't mutate original state\n\tconst newDomains = [ ...state[ siteId ] ];\n\t// Update privacy\n\tnewDomains.splice( domainIndex, 1, Object.assign( {}, targetDomain, modifyDomainProperties ) );\n\n\treturn Object.assign( {}, state, {\n\t\t[ siteId ]: newDomains,\n\t} );\n};\n\n/**\n * Domains `Reducer` function\n *\n * @param {object} state - current state\n * @param {object} action - domains action\n * @returns {object} updated state\n */\nexport const items = withSchemaValidation( itemsSchema, ( state = {}, action ) => {\n\tconst { siteId } = action;\n\tswitch ( action.type ) {\n\t\tcase SITE_DOMAINS_RECEIVE:\n\t\t\treturn Object.assign( {}, state, {\n\t\t\t\t[ siteId ]: action.domains,\n\t\t\t} );\n\t\tcase DOMAIN_PRIVACY_ENABLE_SUCCESS:\n\t\t\treturn modifySiteDomainObjectImmutable( state, siteId, action.domain, {\n\t\t\t\tprivateDomain: true,\n\t\t\t\tcontactInfoDisclosed: false,\n\t\t\t} );\n\t\tcase DOMAIN_PRIVACY_DISABLE_SUCCESS:\n\t\t\treturn modifySiteDomainObjectImmutable( state, siteId, action.domain, {\n\t\t\t\tprivateDomain: false,\n\t\t\t\tcontactInfoDisclosed: false,\n\t\t\t} );\n\t\tcase DOMAIN_CONTACT_INFO_DISCLOSE_SUCCESS:\n\t\t\treturn modifySiteDomainObjectImmutable( state, siteId, action.domain, {\n\t\t\t\tprivateDomain: false,\n\t\t\t\tcontactInfoDisclosed: true,\n\t\t\t} );\n\t\tcase DOMAIN_CONTACT_INFO_REDACT_SUCCESS:\n\t\t\treturn modifySiteDomainObjectImmutable( state, siteId, action.domain, {\n\t\t\t\tprivateDomain: false,\n\t\t\t\tcontactInfoDisclosed: false,\n\t\t\t} );\n\t}\n\n\treturn state;\n} );\n\n/**\n * Updating privacy reducer\n *\n * Figure out if we're in the middle of privacy modification command\n *\n * @param {object} state - current state\n * @param {object} action - action\n * @returns {any} - new state\n */\nexport const updatingPrivacy = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase DOMAIN_PRIVACY_ENABLE:\n\t\tcase DOMAIN_PRIVACY_ENABLE_SUCCESS:\n\t\tcase DOMAIN_PRIVACY_ENABLE_FAILURE:\n\t\tcase DOMAIN_PRIVACY_DISABLE:\n\t\tcase DOMAIN_PRIVACY_DISABLE_SUCCESS:\n\t\tcase DOMAIN_PRIVACY_DISABLE_FAILURE:\n\t\tcase DOMAIN_CONTACT_INFO_DISCLOSE:\n\t\tcase DOMAIN_CONTACT_INFO_DISCLOSE_SUCCESS:\n\t\tcase DOMAIN_CONTACT_INFO_DISCLOSE_FAILURE:\n\t\tcase DOMAIN_CONTACT_INFO_REDACT:\n\t\tcase DOMAIN_CONTACT_INFO_REDACT_SUCCESS:\n\t\tcase DOMAIN_CONTACT_INFO_REDACT_FAILURE:\n\t\t\treturn Object.assign( {}, state, {\n\t\t\t\t[ action.siteId ]: {\n\t\t\t\t\t[ action.domain ]:\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\tDOMAIN_PRIVACY_ENABLE,\n\t\t\t\t\t\t\tDOMAIN_PRIVACY_DISABLE,\n\t\t\t\t\t\t\tDOMAIN_CONTACT_INFO_DISCLOSE,\n\t\t\t\t\t\t\tDOMAIN_CONTACT_INFO_REDACT,\n\t\t\t\t\t\t].indexOf( action.type ) !== -1,\n\t\t\t\t},\n\t\t\t} );\n\t}\n\n\treturn state;\n};\n\n/**\n * `Reducer` function which handles request/response actions\n * to/from WP REST-API\n *\n * @param {object} state - current state\n * @param {object} action - domains action\n * @returns {object} updated state\n */\nexport const requesting = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase SITE_DOMAINS_REQUEST:\n\t\tcase SITE_DOMAINS_REQUEST_SUCCESS:\n\t\tcase SITE_DOMAINS_REQUEST_FAILURE:\n\t\t\treturn Object.assign( {}, state, {\n\t\t\t\t[ action.siteId ]: action.type === SITE_DOMAINS_REQUEST,\n\t\t\t} );\n\t}\n\n\treturn state;\n};\n\n/**\n * `Reducer` function which handles ERRORs REST-API response actions\n *\n * @param {object} state - current state\n * @param {object} action - domains action\n * @returns {object} updated state\n */\nexport const errors = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase SITE_DOMAINS_REQUEST:\n\t\tcase SITE_DOMAINS_REQUEST_SUCCESS:\n\t\t\treturn Object.assign( {}, state, {\n\t\t\t\t[ action.siteId ]: null,\n\t\t\t} );\n\n\t\tcase SITE_DOMAINS_REQUEST_FAILURE:\n\t\t\treturn Object.assign( {}, state, {\n\t\t\t\t[ action.siteId ]: action.error,\n\t\t\t} );\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\terrors,\n\titems,\n\trequesting,\n\tupdatingPrivacy,\n} );\n","export const itemsSchema = {\n\ttype: 'object',\n\tadditionalProperties: false,\n\tpatternProperties: {\n\t\t'^\\\\d+$': {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'object',\n\t\t\t\trequired: [ 'domain' ],\n\t\t\t\tproperties: {\n\t\t\t\t\taftermarketAuction: { type: 'boolean' },\n\t\t\t\t\tautoRenewalDate: { type: 'string' },\n\t\t\t\t\tautoRenewing: { type: 'boolean' },\n\t\t\t\t\tblogId: { type: 'number' },\n\t\t\t\t\tcanSetAsPrimary: { type: 'boolean' },\n\t\t\t\t\tcurrentUserCanManage: { type: 'boolean' },\n\t\t\t\t\tcanManageDnsRecords: { type: 'boolean' },\n\t\t\t\t\tcanManageNameServers: { type: 'boolean' },\n\t\t\t\t\tcanUpdateContactInfo: { type: 'boolean' },\n\t\t\t\t\tcannotManageDnsRecordsReason: { type: [ 'null', 'string' ] },\n\t\t\t\t\tcannotManageNameServersReason: { type: [ 'null', 'string' ] },\n\t\t\t\t\tcannotUpdateContactInfoReason: { type: [ 'null', 'string' ] },\n\t\t\t\t\tdomain: { type: 'string' },\n\t\t\t\t\texpired: { type: 'boolean' },\n\t\t\t\t\texpiry: { type: [ 'null', 'string' ] },\n\t\t\t\t\texpirySoon: { type: 'boolean' },\n\t\t\t\t\tgoogleAppsSubscription: { type: 'object' },\n\t\t\t\t\ttitanMailSubscription: { type: 'object' },\n\t\t\t\t\thasRegistration: { type: 'boolean' },\n\t\t\t\t\thasWpcomNameservers: { type: 'boolean' },\n\t\t\t\t\thasZone: { type: 'boolean' },\n\t\t\t\t\tisPendingIcannVerification: { type: 'boolean' },\n\t\t\t\t\tisPendingRenewal: { type: 'boolean' },\n\t\t\t\t\tisPremium: { type: 'boolean' },\n\t\t\t\t\tisPrimary: { type: 'boolean' },\n\t\t\t\t\tisSubdomain: { type: 'boolean' },\n\t\t\t\t\tisWPCOMDomain: { type: 'boolean' },\n\t\t\t\t\tmanualTransferRequired: { type: 'boolean' },\n\t\t\t\t\tname: { type: 'string' },\n\t\t\t\t\towner: { type: 'string', optional: true },\n\t\t\t\t\tpartnerDomain: { type: 'boolean' },\n\t\t\t\t\tpendingRegistration: { type: 'boolean' },\n\t\t\t\t\tpendingRegistrationTime: { type: 'string' },\n\t\t\t\t\tpointsToWpcom: { type: 'boolean' },\n\t\t\t\t\tregistrar: { type: 'string' },\n\t\t\t\t\tregistrationDate: { type: 'string' },\n\t\t\t\t\tsubscriptionId: { type: [ 'null', 'string' ] },\n\t\t\t\t\tsupportsDomainConnect: { type: 'boolean', optional: true },\n\t\t\t\t\tsupportsGdprConsentManagement: { type: 'boolean', optional: true },\n\t\t\t\t\ttype: { type: 'string' },\n\t\t\t\t\ttransferStartDate: { type: [ 'null', 'string' ] },\n\t\t\t\t\ttransferEndDate: { type: [ 'null', 'string' ] },\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n};\n","import {\n\tSITE_FEATURES_FETCH,\n\tSITE_FEATURES_FETCH_COMPLETED,\n\tSITE_FEATURES_FETCH_FAILED,\n} from 'calypso/state/action-types';\n\nexport const initialSiteState = {\n\tdata: null,\n\terror: null,\n\thasLoadedFromServer: false,\n\tisRequesting: false,\n};\n\n/**\n * Returns a new state with the given attributes updated for the specified site.\n *\n * @param {object} state current state\n * @param {number} siteId identifier of the site\n * @param {object} attributes list of attributes and their values\n * @returns {object} the new state\n */\nfunction updateSiteState( state, siteId, attributes ) {\n\treturn Object.assign( {}, state, {\n\t\t[ siteId ]: Object.assign( {}, initialSiteState, state[ siteId ], attributes ),\n\t} );\n}\n\nexport function featuresReducer( state = {}, { type, siteId, features, error } ) {\n\tswitch ( type ) {\n\t\tcase SITE_FEATURES_FETCH:\n\t\t\treturn updateSiteState( state, siteId, {\n\t\t\t\terror: null,\n\t\t\t\tisRequesting: true,\n\t\t\t} );\n\n\t\tcase SITE_FEATURES_FETCH_COMPLETED:\n\t\t\treturn updateSiteState( state, siteId, {\n\t\t\t\terror: null,\n\t\t\t\thasLoadedFromServer: true,\n\t\t\t\tisRequesting: false,\n\t\t\t\tdata: features,\n\t\t\t} );\n\n\t\tcase SITE_FEATURES_FETCH_FAILED:\n\t\t\treturn updateSiteState( state, siteId, {\n\t\t\t\terror: error,\n\t\t\t\tisRequesting: false,\n\t\t\t} );\n\t}\n\n\treturn state;\n}\n","import { useSelector } from 'react-redux';\nimport { getSelectedSiteId } from 'calypso/state/ui/selectors';\nimport getSiteOption from '../selectors/get-site-option';\n\n/**\n * Returns a site option for a site\n *\n * @param optionName The option you want to query\n * @returns The value of that option or null\n */\nconst useSiteOption = < T >( optionName: string ): T | null => {\n\tconst selectedSiteId = useSelector( getSelectedSiteId );\n\tconst siteOption = useSelector( ( state ) =>\n\t\tgetSiteOption( state, selectedSiteId || 0, optionName )\n\t);\n\n\treturn siteOption;\n};\n\nexport default useSiteOption;\n","import {\n\tSITE_INTRO_OFFER_RECEIVE,\n\tSITE_INTRO_OFFER_REQUEST,\n\tSITE_INTRO_OFFER_REQUEST_FAILURE,\n\tSITE_INTRO_OFFER_REQUEST_SUCCESS,\n} from 'calypso/state/action-types';\nimport { combineReducers, keyedReducer } from 'calypso/state/utils';\nimport { IntroOffer, ResponseIntroOffer, RequestStatus } from './types';\nimport type { Action } from 'redux';\n\nexport interface IntroOfferReceiveAction extends Action {\n\tpayload?: ResponseIntroOffer[];\n}\n\ninterface IntroOfferItemsState {\n\t[ productId: number ]: IntroOffer;\n}\n\nconst mapResponseObject = ( {\n\tcurrency_code,\n\tdiscount_percentage,\n\tformatted_price,\n\tineligible_reason,\n\tproduct_id,\n\tproduct_slug,\n\traw_price,\n}: ResponseIntroOffer ): IntroOffer => ( {\n\tcurrencyCode: currency_code,\n\tdiscountPercentage: discount_percentage,\n\tformattedPrice: formatted_price,\n\tineligibleReason: ineligible_reason,\n\tproductId: product_id,\n\tproductSlug: product_slug,\n\trawPrice: raw_price,\n} );\n\nconst createIntroOfferMap = ( payload: ResponseIntroOffer[] ) => {\n\tconst map: {\n\t\t[ productId: number ]: IntroOffer;\n\t} = {};\n\n\tpayload.forEach( ( payloadIntroOffer ) => {\n\t\tmap[ payloadIntroOffer.product_id ] = mapResponseObject( payloadIntroOffer );\n\t} );\n\n\treturn map;\n};\n\nexport const requestStatus = keyedReducer( 'siteId', ( state, { type } ) => {\n\tswitch ( type ) {\n\t\tcase SITE_INTRO_OFFER_REQUEST:\n\t\t\treturn RequestStatus.Pending;\n\n\t\tcase SITE_INTRO_OFFER_REQUEST_SUCCESS:\n\t\t\treturn RequestStatus.Success;\n\n\t\tcase SITE_INTRO_OFFER_REQUEST_FAILURE:\n\t\t\treturn RequestStatus.Failed;\n\t}\n\n\treturn state;\n} );\n\nexport const items = keyedReducer< IntroOfferItemsState | undefined, IntroOfferReceiveAction >(\n\t'siteId',\n\t( state, { type, payload }: IntroOfferReceiveAction ) => {\n\t\tswitch ( type ) {\n\t\t\tcase SITE_INTRO_OFFER_RECEIVE:\n\t\t\t\treturn payload ? createIntroOfferMap( payload ) : undefined;\n\t\t}\n\n\t\treturn state;\n\t}\n);\n\nexport default combineReducers( {\n\trequestStatus,\n\titems,\n} );\n","export interface IntroOffer {\n\tcurrencyCode: string;\n\tdiscountPercentage: number;\n\tformattedPrice: string;\n\tineligibleReason: string[] | null;\n\tproductId: number;\n\tproductSlug: string;\n\trawPrice: number;\n}\n\nexport interface ResponseIntroOffer {\n\tcurrency_code: string;\n\tdiscount_percentage: number;\n\tformatted_price: string;\n\tineligible_reason: string[] | null;\n\tproduct_id: number;\n\tproduct_slug: string;\n\traw_price: number;\n}\n\nexport enum RequestStatus {\n\tPending = 'pending',\n\tSuccess = 'success',\n\tFailed = 'failed',\n}\n","import { omit } from 'lodash';\nimport {\n\tSITE_PLANS_FETCH,\n\tSITE_PLANS_FETCH_COMPLETED,\n\tSITE_PLANS_FETCH_FAILED,\n\tSITE_PLANS_REMOVE,\n} from 'calypso/state/action-types';\n\nexport const initialSiteState = {\n\tdata: null,\n\terror: null,\n\thasLoadedFromServer: false,\n\tisRequesting: false,\n};\n\n/**\n * Returns a new state with the given attributes updated for the specified site.\n *\n * @param {object} state current state\n * @param {number} siteId identifier of the site\n * @param {object} attributes list of attributes and their values\n * @returns {object} the new state\n */\nfunction updateSiteState( state, siteId, attributes ) {\n\treturn Object.assign( {}, state, {\n\t\t[ siteId ]: Object.assign( {}, initialSiteState, state[ siteId ], attributes ),\n\t} );\n}\n\nexport function plans( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase SITE_PLANS_FETCH:\n\t\t\treturn updateSiteState( state, action.siteId, {\n\t\t\t\terror: null,\n\t\t\t\tisRequesting: true,\n\t\t\t} );\n\n\t\tcase SITE_PLANS_FETCH_COMPLETED:\n\t\t\treturn updateSiteState( state, action.siteId, {\n\t\t\t\terror: null,\n\t\t\t\thasLoadedFromServer: true,\n\t\t\t\tisRequesting: false,\n\t\t\t\tdata: action.plans,\n\t\t\t} );\n\n\t\tcase SITE_PLANS_FETCH_FAILED:\n\t\t\treturn updateSiteState( state, action.siteId, {\n\t\t\t\terror: action.error,\n\t\t\t\tisRequesting: false,\n\t\t\t} );\n\n\t\tcase SITE_PLANS_REMOVE:\n\t\t\treturn omit( state, action.siteId );\n\t}\n\n\treturn state;\n}\n","import {\n\tSITE_PRODUCTS_FETCH,\n\tSITE_PRODUCTS_FETCH_COMPLETED,\n\tSITE_PRODUCTS_FETCH_FAILED,\n} from 'calypso/state/action-types';\n\nexport const initialSiteState = {\n\tdata: null,\n\terror: null,\n\thasLoadedFromServer: false,\n\tisRequesting: false,\n};\n\n/**\n * Returns a new state with the given attributes updated for the specified site.\n *\n * @param {object} state current state\n * @param {number} siteId identifier of the site\n * @param {object} attributes list of attributes and their values\n * @returns {object} the new state\n */\nfunction updateSiteState( state, siteId, attributes ) {\n\treturn Object.assign( {}, state, {\n\t\t[ siteId ]: Object.assign( {}, initialSiteState, state[ siteId ], attributes ),\n\t} );\n}\n\nexport function products( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase SITE_PRODUCTS_FETCH:\n\t\t\treturn updateSiteState( state, action.siteId, {\n\t\t\t\terror: null,\n\t\t\t\tisRequesting: true,\n\t\t\t} );\n\n\t\tcase SITE_PRODUCTS_FETCH_COMPLETED:\n\t\t\treturn updateSiteState( state, action.siteId, {\n\t\t\t\terror: null,\n\t\t\t\thasLoadedFromServer: true,\n\t\t\t\tisRequesting: false,\n\t\t\t\tdata: action.products,\n\t\t\t} );\n\n\t\tcase SITE_PRODUCTS_FETCH_FAILED:\n\t\t\treturn updateSiteState( state, action.siteId, {\n\t\t\t\terror: action.error,\n\t\t\t\tisRequesting: false,\n\t\t\t} );\n\t}\n\n\treturn state;\n}\n","import { omit, merge, get, includes, reduce, isEqual } from 'lodash';\nimport {\n\tMEDIA_DELETE,\n\tSITE_DELETE_RECEIVE,\n\tJETPACK_DISCONNECT_RECEIVE,\n\tSITE_RECEIVE,\n\tSITE_REQUEST,\n\tSITE_REQUEST_FAILURE,\n\tSITE_REQUEST_SUCCESS,\n\tSITE_SETTINGS_RECEIVE,\n\tSITE_SETTINGS_UPDATE,\n\tSITES_RECEIVE,\n\tSITES_REQUEST,\n\tSITES_REQUEST_FAILURE,\n\tSITES_REQUEST_SUCCESS,\n\tWORDADS_SITE_APPROVE_REQUEST_SUCCESS,\n\tSITE_PLUGIN_UPDATED,\n\tSITE_FRONT_PAGE_UPDATE,\n\tSITE_MIGRATION_STATUS_UPDATE,\n} from 'calypso/state/action-types';\nimport { THEME_ACTIVATE_SUCCESS } from 'calypso/state/themes/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\nimport blogStickers from './blog-stickers/reducer';\nimport connection from './connection/reducer';\nimport domains from './domains/reducer';\nimport { featuresReducer as features } from './features/reducer';\nimport introOffers from './intro-offers/reducer';\nimport { plans } from './plans/reducer';\nimport { products } from './products/reducer';\nimport { sitesSchema, hasAllSitesListSchema } from './schema';\n\n/**\n * Tracks all known site objects, indexed by site ID.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const items = withSchemaValidation( sitesSchema, ( state = null, action ) => {\n\tif ( state === null && action.type !== SITE_RECEIVE && action.type !== SITES_RECEIVE ) {\n\t\treturn null;\n\t}\n\tswitch ( action.type ) {\n\t\tcase WORDADS_SITE_APPROVE_REQUEST_SUCCESS: {\n\t\t\tconst prevSite = state[ action.siteId ];\n\t\t\tif ( prevSite ) {\n\t\t\t\treturn Object.assign( {}, state, {\n\t\t\t\t\t[ action.siteId ]: merge( {}, prevSite, { options: { wordads: true } } ),\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn state;\n\t\t}\n\n\t\tcase SITE_RECEIVE:\n\t\tcase SITES_RECEIVE: {\n\t\t\t// Normalize incoming site(s) to array\n\n\t\t\tconst sites = action.site ? [ action.site ] : action.sites;\n\n\t\t\t// SITES_RECEIVE occurs when we receive the entire set of user\n\t\t\t// sites (replace existing state). Otherwise merge into state.\n\n\t\t\tconst initialNextState = SITES_RECEIVE === action.type ? {} : state;\n\n\t\t\treturn reduce(\n\t\t\t\tsites,\n\t\t\t\t( memo, site ) => {\n\t\t\t\t\t// Bypass if site object hasn't changed\n\t\t\t\t\tif ( isEqual( memo[ site.ID ], site ) ) {\n\t\t\t\t\t\treturn memo;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Avoid mutating state\n\t\t\t\t\tif ( memo === state ) {\n\t\t\t\t\t\tmemo = { ...state };\n\t\t\t\t\t}\n\n\t\t\t\t\tmemo[ site.ID ] = site;\n\t\t\t\t\treturn memo;\n\t\t\t\t},\n\t\t\t\tinitialNextState || {}\n\t\t\t);\n\t\t}\n\n\t\tcase SITE_DELETE_RECEIVE:\n\t\tcase JETPACK_DISCONNECT_RECEIVE:\n\t\t\treturn omit( state, action.siteId );\n\n\t\tcase THEME_ACTIVATE_SUCCESS: {\n\t\t\tconst { siteId, themeStylesheet } = action;\n\t\t\tconst site = state[ siteId ];\n\t\t\tif ( ! site ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ siteId ]: merge( {}, site, {\n\t\t\t\t\toptions: {\n\t\t\t\t\t\ttheme_slug: themeStylesheet,\n\t\t\t\t\t},\n\t\t\t\t} ),\n\t\t\t};\n\t\t}\n\n\t\tcase SITE_SETTINGS_UPDATE:\n\t\tcase SITE_SETTINGS_RECEIVE: {\n\t\t\tconst { siteId, settings } = action;\n\t\t\tconst site = state[ siteId ];\n\n\t\t\tif ( ! site ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tlet nextSite = site;\n\n\t\t\treturn reduce(\n\t\t\t\t[ 'blog_public', 'wpcom_public_coming_soon', 'wpcom_coming_soon', 'site_icon' ],\n\t\t\t\t( memo, key ) => {\n\t\t\t\t\t// A site settings update may or may not include the icon or blog_public property.\n\t\t\t\t\t// If not, we should simply return state unchanged.\n\t\t\t\t\tif ( ! settings.hasOwnProperty( key ) ) {\n\t\t\t\t\t\treturn memo;\n\t\t\t\t\t}\n\n\t\t\t\t\tswitch ( key ) {\n\t\t\t\t\t\tcase 'blog_public': {\n\t\t\t\t\t\t\tconst isPrivate = parseInt( settings.blog_public, 10 ) === -1;\n\n\t\t\t\t\t\t\tif ( site.is_private === isPrivate ) {\n\t\t\t\t\t\t\t\treturn memo;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tnextSite = {\n\t\t\t\t\t\t\t\t...nextSite,\n\t\t\t\t\t\t\t\tis_private: isPrivate,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'wpcom_coming_soon':\n\t\t\t\t\t\tcase 'wpcom_public_coming_soon': {\n\t\t\t\t\t\t\tconst isComingSoon =\n\t\t\t\t\t\t\t\tparseInt( settings.wpcom_public_coming_soon, 10 ) === 1 ||\n\t\t\t\t\t\t\t\tparseInt( settings.wpcom_coming_soon, 10 ) === 1;\n\n\t\t\t\t\t\t\tif ( site.is_coming_soon === isComingSoon ) {\n\t\t\t\t\t\t\t\treturn memo;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tnextSite = {\n\t\t\t\t\t\t\t\t...nextSite,\n\t\t\t\t\t\t\t\tis_coming_soon: isComingSoon,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'site_icon': {\n\t\t\t\t\t\t\tconst mediaId = settings.site_icon;\n\t\t\t\t\t\t\t// Return unchanged if next icon matches current value,\n\t\t\t\t\t\t\t// accounting for the fact that a non-existent icon property is\n\t\t\t\t\t\t\t// equivalent to setting the media icon as null\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t( ! site.icon && null === mediaId ) ||\n\t\t\t\t\t\t\t\t( site.icon && site.icon.media_id === mediaId )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn memo;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( null === mediaId ) {\n\t\t\t\t\t\t\t\t// Unset icon\n\t\t\t\t\t\t\t\tnextSite = omit( nextSite, 'icon' );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Update icon, intentionally removing reference to the URL,\n\t\t\t\t\t\t\t\t// shifting burden of URL lookup to selector\n\t\t\t\t\t\t\t\tnextSite = {\n\t\t\t\t\t\t\t\t\t...nextSite,\n\t\t\t\t\t\t\t\t\ticon: {\n\t\t\t\t\t\t\t\t\t\tmedia_id: mediaId,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( memo === state ) {\n\t\t\t\t\t\tmemo = { ...state };\n\t\t\t\t\t}\n\n\t\t\t\t\tmemo[ siteId ] = nextSite;\n\t\t\t\t\treturn memo;\n\t\t\t\t},\n\t\t\t\tstate\n\t\t\t);\n\t\t}\n\n\t\tcase MEDIA_DELETE: {\n\t\t\tconst { siteId, mediaIds } = action;\n\t\t\tconst siteIconId = get( state[ siteId ], 'icon.media_id' );\n\t\t\tif ( siteIconId && includes( mediaIds, siteIconId ) ) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ siteId ]: omit( state[ siteId ], 'icon' ),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn state;\n\t\t}\n\n\t\tcase SITE_PLUGIN_UPDATED: {\n\t\t\tconst { siteId } = action;\n\t\t\tconst siteUpdates = get( state[ siteId ], 'updates' );\n\t\t\tif ( ! siteUpdates ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ siteId ]: {\n\t\t\t\t\t...state[ siteId ],\n\t\t\t\t\tupdates: {\n\t\t\t\t\t\t...siteUpdates,\n\t\t\t\t\t\tplugins: siteUpdates.plugins - 1,\n\t\t\t\t\t\ttotal: siteUpdates.total - 1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase SITE_FRONT_PAGE_UPDATE: {\n\t\t\tconst { siteId, frontPageOptions } = action;\n\t\t\tconst site = state[ siteId ];\n\t\t\tif ( ! site ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ siteId ]: merge( {}, site, {\n\t\t\t\t\toptions: {\n\t\t\t\t\t\t...frontPageOptions,\n\t\t\t\t\t},\n\t\t\t\t} ),\n\t\t\t};\n\t\t}\n\n\t\tcase SITE_MIGRATION_STATUS_UPDATE: {\n\t\t\tconst { siteId, migrationStatus, lastModified } = action;\n\t\t\tconst site = state[ siteId ];\n\t\t\tif ( ! site ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst siteMigrationMeta = state[ siteId ].site_migration || {};\n\t\t\tconst newMeta = { status: migrationStatus };\n\t\t\tif ( lastModified ) {\n\t\t\t\tnewMeta.last_modified = lastModified;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ siteId ]: {\n\t\t\t\t\t...state[ siteId ],\n\t\t\t\t\tsite_migration: merge( {}, siteMigrationMeta, newMeta ),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n} );\n\n/**\n * Returns the updated requesting state after an action has been dispatched.\n * Requesting state tracks whether a network request is in progress for all\n * sites.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action object\n * @returns {object}        Updated state\n */\nexport const requestingAll = ( state = false, action ) => {\n\tswitch ( action.type ) {\n\t\tcase SITES_REQUEST:\n\t\t\treturn true;\n\t\tcase SITES_REQUEST_FAILURE:\n\t\t\treturn false;\n\t\tcase SITES_REQUEST_SUCCESS:\n\t\t\treturn false;\n\t}\n\n\treturn state;\n};\n\n/**\n * Returns the updated requesting state after an action has been dispatched.\n * Requesting state tracks whether a network request is in progress for a site.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action object\n * @returns {object}        Updated state\n */\nexport const requesting = ( state = {}, action ) => {\n\tswitch ( action.type ) {\n\t\tcase SITE_REQUEST: {\n\t\t\tconst { siteId } = action;\n\t\t\treturn { ...state, [ siteId ]: true };\n\t\t}\n\t\tcase SITE_REQUEST_FAILURE: {\n\t\t\tconst { siteId } = action;\n\t\t\treturn { ...state, [ siteId ]: false };\n\t\t}\n\t\tcase SITE_REQUEST_SUCCESS: {\n\t\t\tconst { siteId } = action;\n\t\t\treturn { ...state, [ siteId ]: false };\n\t\t}\n\t}\n\n\treturn state;\n};\n\n/**\n * Tracks whether all sites have been fetched.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action object\n * @returns {object}        Updated state\n */\nexport const hasAllSitesList = withSchemaValidation(\n\thasAllSitesListSchema,\n\t( state = false, action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase SITES_RECEIVE:\n\t\t\t\treturn true;\n\t\t}\n\n\t\treturn state;\n\t}\n);\n\nexport default combineReducers( {\n\tconnection,\n\tdomains,\n\trequestingAll,\n\tintroOffers,\n\titems,\n\tplans,\n\tproducts,\n\tfeatures,\n\trequesting,\n\tblogStickers,\n\thasAllSitesList,\n} );\n","export const sitesSchema = {\n\ttype: 'object',\n\tpatternProperties: {\n\t\t//be careful to escape regexes properly\n\t\t'^\\\\d+$': {\n\t\t\ttype: 'object',\n\t\t\trequired: [ 'ID', 'name' ],\n\t\t\tproperties: {\n\t\t\t\tID: { type: 'number' },\n\t\t\t\tname: { type: 'string' },\n\t\t\t\tURL: { type: 'string' },\n\t\t\t\tjetpack: { type: 'boolean' },\n\t\t\t\ticon: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\timg: { type: 'string' },\n\t\t\t\t\t\tico: { type: 'string' },\n\t\t\t\t\t\tmedia_id: { type: 'number' },\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tvisible: { type: 'boolean' },\n\t\t\t\tis_private: { type: 'boolean' },\n\t\t\t\tis_vip: { type: 'boolean' },\n\t\t\t\toptions: { type: 'object' },\n\t\t\t\tmeta: { type: 'object' },\n\t\t\t\tis_multisite: { type: 'boolean' },\n\t\t\t\tcapabilities: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tpatternProperties: {\n\t\t\t\t\t\t'^[a-z_]+$': { type: 'boolean' },\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplan: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\trequired: [ 'product_id', 'product_slug' ],\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tproduct_id: { type: [ 'number', 'string' ] },\n\t\t\t\t\t\tproduct_slug: { type: 'string' },\n\t\t\t\t\t\tproduct_name_short: { type: [ 'string', 'null' ] },\n\t\t\t\t\t\texpired: { type: 'boolean' },\n\t\t\t\t\t\tuser_is_owner: { type: 'boolean' },\n\t\t\t\t\t\tis_free: { type: 'boolean' },\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tsingle_user_site: { type: 'boolean' },\n\t\t\t\tupdates: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tjp_version: { type: 'string' },\n\t\t\t\t\t\tplugins: { type: 'number' },\n\t\t\t\t\t\tthemes: { type: 'number' },\n\t\t\t\t\t\ttotal: { type: 'number' },\n\t\t\t\t\t\ttranslations: { type: 'number' },\n\t\t\t\t\t\twordpress: { type: 'number' },\n\t\t\t\t\t\twp_version: { type: 'string' },\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tlang: { type: 'string' },\n\t\t\t},\n\t\t},\n\t},\n\tadditionalProperties: false,\n};\n\nexport const hasAllSitesListSchema = {\n\ttype: [ 'boolean', 'null' ],\n};\n","import canJetpackSiteUpdateFiles from './can-jetpack-site-update-files';\nimport getSiteOption from './get-site-option';\nimport isJetpackSite from './is-jetpack-site';\n\n/**\n * Determines if a Jetpack site can auto update its files.\n * This function checks if the given Jetpack site can update its files and if the automatic updater is enabled.\n * Returns null if the site is not known or is not a Jetpack site.\n *\n * @param {object} state Global state tree\n * @param {number} siteId Site ID\n * @returns {?boolean} true if the site can auto update\n */\nexport default function canJetpackSiteAutoUpdateFiles( state, siteId ) {\n\tif ( ! isJetpackSite( state, siteId ) ) {\n\t\treturn null;\n\t}\n\n\tif ( ! canJetpackSiteUpdateFiles( state, siteId ) ) {\n\t\treturn false;\n\t}\n\n\tconst fileModDisabled = getSiteOption( state, siteId, 'file_mod_disabled' );\n\n\tif ( fileModDisabled && fileModDisabled.includes( 'automatic_updater_disabled' ) ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n","import getSiteOption from './get-site-option';\nimport isJetpackSite from './is-jetpack-site';\nimport isJetpackSiteSecondaryNetworkSite from './is-jetpack-site-secondary-network-site';\n\n/**\n * Determines if a Jetpack site can update its files.\n * Returns null if the site is not known or is not a Jetpack site.\n *\n * @param   {object}   state  Global state tree\n * @param   {number}   siteId Site ID\n * @returns {?boolean}        True if the site can update its file\n */\nexport default function canJetpackSiteUpdateFiles( state, siteId ) {\n\tif ( ! isJetpackSite( state, siteId ) ) {\n\t\treturn null;\n\t}\n\n\tconst isMultiNetwork = getSiteOption( state, siteId, 'is_multi_network' );\n\n\tif ( isMultiNetwork ) {\n\t\treturn false;\n\t}\n\n\tif ( isJetpackSiteSecondaryNetworkSite( state, siteId ) ) {\n\t\treturn false;\n\t}\n\n\tconst fileModDisabled = getSiteOption( state, siteId, 'file_mod_disabled' );\n\n\tif ( ! fileModDisabled ) {\n\t\treturn true;\n\t}\n\n\treturn (\n\t\t! fileModDisabled.includes( 'disallow_file_mods' ) &&\n\t\t! fileModDisabled.includes( 'has_no_file_system_write_access' )\n\t);\n}\n","import { addQueryArgs } from 'calypso/lib/url';\nimport { getCustomizerFocus } from 'calypso/my-sites/customize/panels';\nimport getSiteAdminUrl from './get-site-admin-url';\nimport getSiteSlug from './get-site-slug';\nimport isJetpackSite from './is-jetpack-site';\n\n/**\n * Returns the customizer URL for a site, or null if it cannot be determined.\n *\n * @param   {object}  state        Global state tree\n * @param   {?number} siteId       Site ID\n * @param   {?string} [panel]        Optional panel to autofocus\n * @param   {?string} [returnUrl]    Optional return url for when the user closes the customizer\n * @param   {?string} [guide]        Optional parameter to show a help guide in the customizer. possible values:\n *                                 'add-menu' and 'social-media' show custom guides, any other value shows the default guide\n * @returns {string}               Customizer URL\n */\nexport default function getCustomizerUrl( state, siteId, panel, returnUrl, guide ) {\n\tif ( ! isJetpackSite( state, siteId ) ) {\n\t\tconst siteSlug = getSiteSlug( state, siteId );\n\t\tconst url = [ '' ].concat( [ 'customize', panel, siteSlug ].filter( Boolean ) ).join( '/' );\n\t\treturn addQueryArgs(\n\t\t\t{\n\t\t\t\treturn: returnUrl,\n\t\t\t\tguide,\n\t\t\t},\n\t\t\turl\n\t\t);\n\t}\n\n\tconst adminUrl = getSiteAdminUrl( state, siteId, 'customize.php' );\n\n\tif ( ! adminUrl ) {\n\t\treturn null;\n\t}\n\n\tif ( ! returnUrl && 'undefined' !== typeof window ) {\n\t\treturnUrl = window.location.href;\n\t}\n\n\treturn addQueryArgs(\n\t\t{\n\t\t\treturn: returnUrl,\n\t\t\t...getCustomizerFocus( panel ),\n\t\t\tguide,\n\t\t},\n\t\tadminUrl\n\t);\n}\n","import canJetpackSiteAutoUpdateFiles from './can-jetpack-site-auto-update-files';\nimport canJetpackSiteUpdateFiles from './can-jetpack-site-update-files';\nimport isJetpackSite from './is-jetpack-site';\nimport isJetpackSiteMainNetworkSite from './is-jetpack-site-main-network-site';\nimport isJetpackSiteSecondaryNetworkSite from './is-jetpack-site-secondary-network-site';\n\nexport default function getJetpackComputedAttributes( state, siteId ) {\n\tif ( ! isJetpackSite( state, siteId ) ) {\n\t\treturn {};\n\t}\n\treturn {\n\t\tcanAutoupdateFiles: canJetpackSiteAutoUpdateFiles( state, siteId ),\n\t\tcanUpdateFiles: canJetpackSiteUpdateFiles( state, siteId ),\n\t\tisMainNetworkSite: isJetpackSiteMainNetworkSite( state, siteId ),\n\t\tisSecondaryNetworkSite: isJetpackSiteSecondaryNetworkSite( state, siteId ),\n\t};\n}\n","import getSiteOption from './get-site-option';\n\n/**\n * Returns the url to the wp-admin area for a site, or null if the admin URL\n * for the site cannot be determined.\n *\n * @see https://developer.wordpress.org/reference/functions/get_admin_url/\n *\n * @param  {object}  state  Global state tree\n * @param  {?number}  siteId Site ID\n * @param  {?string} path   Admin screen path\n * @returns {?string}        Admin URL\n */\nexport default function getSiteAdminUrl( state, siteId, path = '' ) {\n\tconst adminUrl = getSiteOption( state, siteId, 'admin_url' );\n\tif ( ! adminUrl ) {\n\t\treturn null;\n\t}\n\n\treturn adminUrl + path.replace( /^\\//, '' );\n}\n","import { createSelector } from '@automattic/state-utils';\nimport getSitesItems from 'calypso/state/selectors/get-sites-items';\nimport getSiteSlug from './get-site-slug';\n\n/**\n * Returns a site object by its slug.\n *\n * @param  {object}  state     Global state tree\n * @param  {string}  siteSlug  Site URL\n * @returns {?object}           Site object\n */\nexport default createSelector(\n\t( state, siteSlug ) => {\n\t\tconst sites = Object.values( getSitesItems( state ) );\n\t\treturn sites.find( ( site ) => getSiteSlug( state, site.ID ) === siteSlug ) ?? null;\n\t},\n\t( state ) => [ getSitesItems( state ) ]\n);\n","import { createSelector } from '@automattic/state-utils';\nimport { withoutHttp } from 'calypso/lib/url';\nimport getSitesItems from 'calypso/state/selectors/get-sites-items';\n\n/**\n * Returns a filtered array of WordPress.com site IDs where a Jetpack site\n * exists in the set of sites with the same URL.\n *\n * @param  {object}   state Global state tree\n * @returns {number[]}       WordPress.com site IDs with collisions\n */\nexport default createSelector( ( state ) => {\n\tconst sitesItems = Object.values( getSitesItems( state ) );\n\treturn sitesItems\n\t\t.filter( ( site ) => {\n\t\t\tconst siteUrlSansProtocol = withoutHttp( site.URL );\n\t\t\treturn (\n\t\t\t\t! site.jetpack &&\n\t\t\t\tsitesItems.some(\n\t\t\t\t\t( jetpackSite ) =>\n\t\t\t\t\t\tjetpackSite.jetpack && siteUrlSansProtocol === withoutHttp( jetpackSite.URL )\n\t\t\t\t)\n\t\t\t);\n\t\t} )\n\t\t.map( ( site ) => site.ID );\n}, getSitesItems );\n","import { withoutHttp } from 'calypso/lib/url';\nimport getRawSite from 'calypso/state/selectors/get-raw-site';\nimport getSiteDomain from './get-site-domain';\nimport getSiteOption from './get-site-option';\nimport getSiteOptions from './get-site-options';\nimport getSiteSlug from './get-site-slug';\nimport getSiteTitle from './get-site-title';\nimport isJetpackSite from './is-jetpack-site';\nimport isSiteConflicting from './is-site-conflicting';\n\n/**\n * Returns computed properties of the site object.\n *\n * @param    {object}      state    Global state tree\n * @param    {number}      siteId   Site ID\n * @returns  {?object}              Site computed properties or null\n */\nexport default function getSiteComputedAttributes( state, siteId ) {\n\tconst site = getRawSite( state, siteId );\n\tif ( ! site ) {\n\t\treturn null;\n\t}\n\n\tconst computedAttributes = {\n\t\tdomain: getSiteDomain( state, siteId ),\n\t\toptions: getSiteOptions( state, siteId ),\n\t\tslug: getSiteSlug( state, siteId ),\n\t\ttitle: getSiteTitle( state, siteId ),\n\t};\n\n\t// If a WordPress.com site has a mapped domain create a `wpcom_url`\n\t// attribute to allow site selection with either domain.\n\tif ( getSiteOption( state, siteId, 'is_mapped_domain' ) && ! isJetpackSite( state, siteId ) ) {\n\t\tcomputedAttributes.wpcom_url = withoutHttp( getSiteOption( state, siteId, 'unmapped_url' ) );\n\t}\n\n\t// we only need to use the unmapped URL for conflicting sites\n\tif ( isSiteConflicting( state, siteId ) ) {\n\t\tcomputedAttributes.URL = getSiteOption( state, siteId, 'unmapped_url' );\n\t}\n\n\treturn computedAttributes;\n}\n","import { withoutHttp } from 'calypso/lib/url';\nimport getRawSite from 'calypso/state/selectors/get-raw-site';\nimport getSiteOption from './get-site-option';\nimport getSiteSlug from './get-site-slug';\nimport isSiteConflicting from './is-site-conflicting';\n\n/**\n * Returns the domain for a site, or null if the site is unknown.\n *\n * @param  {object}  state  Global state tree\n * @param  {number}  siteId Site ID\n * @returns {?string}        Site domain\n */\nexport default function getSiteDomain( state, siteId ) {\n\tif ( getSiteOption( state, siteId, 'is_redirect' ) || isSiteConflicting( state, siteId ) ) {\n\t\treturn getSiteSlug( state, siteId );\n\t}\n\n\tconst site = getRawSite( state, siteId );\n\n\tif ( ! site ) {\n\t\treturn null;\n\t}\n\n\treturn withoutHttp( site.URL );\n}\n","import getSiteOptions from './get-site-options';\n\n/**\n * Returns a site option for a site\n *\n * @param  {object}  state  Global state tree\n * @param  {?number}  siteId Site ID\n * @param  {string}  optionName The option key\n * @returns {*}  The value of that option or null\n */\nexport default function getSiteOption( state, siteId, optionName ) {\n\tconst options = getSiteOptions( state, siteId );\n\treturn options?.[ optionName ] ?? null;\n}\n","import getRawSite from 'calypso/state/selectors/get-raw-site';\n\nconst EMPTY_OPTIONS = Object.freeze( {} );\n\n/**\n * Returns the site options\n *\n * @param    {object}    state    Global state tree\n * @param    {number}    siteId   Site ID\n * @returns  {?object}            Site options or null\n */\nexport default ( state, siteId ) => {\n\tconst site = getRawSite( state, siteId );\n\tif ( ! site ) {\n\t\treturn null;\n\t}\n\treturn site.options || EMPTY_OPTIONS;\n};\n","import { createSelector } from '@automattic/state-utils';\nimport { withoutHttp, urlToSlug } from 'calypso/lib/url';\nimport getRawSite from 'calypso/state/selectors/get-raw-site';\nimport getSitesItems from 'calypso/state/selectors/get-sites-items';\nimport getSiteOption from './get-site-option';\nimport getSiteOptions from './get-site-options';\nimport isSiteConflicting from './is-site-conflicting';\n\n/**\n * Returns the slug for a site, or null if the site is unknown.\n *\n * @param  {object}  state  Global state tree\n * @param  {number}  siteId Site ID\n * @returns {?string}        Site slug\n */\nexport default createSelector(\n\t( state, siteId ) => {\n\t\tconst site = getRawSite( state, siteId );\n\t\tif ( ! site ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif ( getSiteOption( state, siteId, 'is_redirect' ) || isSiteConflicting( state, siteId ) ) {\n\t\t\treturn withoutHttp( getSiteOption( state, siteId, 'unmapped_url' ) );\n\t\t}\n\n\t\treturn urlToSlug( site.URL );\n\t},\n\t( state, siteId ) => [ getSitesItems( state ), getSiteOptions( state, siteId ) ]\n);\n","import getRawSite from 'calypso/state/selectors/get-raw-site';\nimport getSiteDomain from './get-site-domain';\n\n/**\n * Returns a title by which the site can be canonically referenced. Uses the\n * site's name if available, falling back to its domain. Returns null if the\n * site is not known.\n *\n * @param  {object}  state  Global state tree\n * @param  {?number}  siteId Site ID\n * @returns {?string}        Site title\n */\nexport default function getSiteTitle( state, siteId ) {\n\tconst site = getRawSite( state, siteId );\n\tif ( ! site ) {\n\t\treturn null;\n\t}\n\n\tif ( site.name ) {\n\t\treturn site.name.trim();\n\t}\n\n\treturn getSiteDomain( state, siteId );\n}\n","import getRawSite from 'calypso/state/selectors/get-raw-site';\nimport getJetpackComputedAttributes from './get-jetpack-computed-attributes';\nimport getSiteBySlug from './get-site-by-slug';\nimport getSiteComputedAttributes from './get-site-computed-attributes';\n\n/**\n * Memoization cache for the `getSite` selector\n */\nlet getSiteCache = new WeakMap();\n\n/**\n * Returns a normalized site object by its ID or site slug.\n *\n * @param  {object}  state  Global state tree\n * @param  {number|string}  siteIdOrSlug Site ID or site slug\n * @returns {import('calypso/state/ui/selectors/site-data').SiteData|null|undefined}        Site object\n */\nexport default function getSite( state, siteIdOrSlug ) {\n\tconst rawSite = getRawSite( state, siteIdOrSlug ) || getSiteBySlug( state, siteIdOrSlug );\n\tif ( ! rawSite ) {\n\t\treturn null;\n\t}\n\n\t// Use the rawSite object itself as a WeakMap key\n\tconst cachedSite = getSiteCache.get( rawSite );\n\tif ( cachedSite ) {\n\t\treturn cachedSite;\n\t}\n\n\tconst site = {\n\t\t...rawSite,\n\t\t...getSiteComputedAttributes( state, rawSite.ID ),\n\t\t...getJetpackComputedAttributes( state, rawSite.ID ),\n\t};\n\n\t// Once the `rawSite` object becomes outdated, i.e., state gets updated with a newer version\n\t// and no more references are held, the key will be automatically removed from the WeakMap.\n\tgetSiteCache.set( rawSite, site );\n\treturn site;\n}\n\ngetSite.clearCache = () => {\n\tgetSiteCache = new WeakMap();\n};\n","/**\n * Returns whether all sites have been fetched.\n *\n * @param {object}    state  Global state tree\n * @returns {boolean}        Request State\n */\nexport default function hasAllSitesList( state ) {\n\treturn !! state.sites.hasAllSitesList;\n}\n","import { withoutHttp } from 'calypso/lib/url';\nimport getRawSite from 'calypso/state/selectors/get-raw-site';\nimport getSiteOption from './get-site-option';\nimport isJetpackSite from './is-jetpack-site';\n\n/**\n * Determines if a site is the main site in a Network\n * True if it is either in a non multi-site configuration\n * or if its url matches the `main_network_site` url option.\n * Returns null if the site is not known or is not a Jetpack site.\n *\n * @param {object} state Global state tree\n * @param {number} siteId Site ID\n * @returns {?boolean} true if the site is the main site\n */\nexport default function isJetpackSiteMainNetworkSite( state, siteId ) {\n\tconst site = getRawSite( state, siteId );\n\n\tif ( ! site || ! isJetpackSite( state, siteId ) ) {\n\t\treturn null;\n\t}\n\n\tif ( ! site.is_multisite ) {\n\t\treturn false;\n\t}\n\n\tconst unmappedUrl = getSiteOption( state, siteId, 'unmapped_url' );\n\tconst mainNetworkSite = getSiteOption( state, siteId, 'main_network_site' );\n\n\tif ( ! unmappedUrl || ! mainNetworkSite ) {\n\t\treturn false;\n\t}\n\n\t// Compare unmapped_url with the main_network_site to see if is the main network site.\n\treturn withoutHttp( unmappedUrl ) === withoutHttp( mainNetworkSite );\n}\n","import { withoutHttp } from 'calypso/lib/url';\nimport getRawSite from 'calypso/state/selectors/get-raw-site';\nimport getSiteOption from './get-site-option';\nimport isJetpackSite from './is-jetpack-site';\n\n/**\n * Determines if a Jetpack site is a secondary network site.\n * Returns null if the site is not known or is not a Jetpack site.\n *\n * @param {object} state Global state tree\n * @param {number} siteId Site ID\n * @returns {?boolean} true if the site is a secondary network site\n */\nexport default function isJetpackSiteSecondaryNetworkSite( state, siteId ) {\n\tconst site = getRawSite( state, siteId );\n\n\tif ( ! site || ! isJetpackSite( state, siteId ) ) {\n\t\treturn null;\n\t}\n\n\tif ( ! site.is_multisite ) {\n\t\treturn false;\n\t}\n\n\tconst unmappedUrl = getSiteOption( state, siteId, 'unmapped_url' );\n\tconst mainNetworkSite = getSiteOption( state, siteId, 'main_network_site' );\n\n\tif ( ! unmappedUrl || ! mainNetworkSite ) {\n\t\treturn false;\n\t}\n\n\t// Compare unmapped_url with the main_network_site to see if is not the main network site.\n\treturn withoutHttp( unmappedUrl ) !== withoutHttp( mainNetworkSite );\n}\n","import getRawSite from 'calypso/state/selectors/get-raw-site';\n\n/**\n * Returns true if site is a Jetpack site, false if the site is hosted on\n * WordPress.com, or null if the site is unknown.\n *\n * @param  {object}   state  Global state tree\n * @param  {?number}   siteId Site ID\n * @returns {?boolean}        Whether site is a Jetpack site\n */\nexport default function isJetpackSite( state, siteId ) {\n\tconst site = getRawSite( state, siteId );\n\tif ( ! site ) {\n\t\treturn null;\n\t}\n\n\treturn site.jetpack;\n}\n","/**\n * Returns true if a network request is in progress to fetch the specified, or\n * false otherwise.\n *\n * @param  {object}           state  Global state tree\n * @param  {(number|string)}  siteId Site ID or slug\n * @returns {boolean}          Whether request is in progress\n */\nexport default function isRequestingSite( state, siteId ) {\n\treturn !! state.sites.requesting[ siteId ];\n}\n","/**\n * Returns true if we are requesting all sites.\n *\n * @param {object}    state  Global state tree\n * @returns {boolean}        Request State\n */\nexport default function isRequestingSites( state ) {\n\treturn !! state.sites.requestingAll;\n}\n","import getSiteCollisions from './get-site-collisions';\n\n/**\n * Returns true if a collision exists for the specified WordPress.com site ID.\n *\n * @param  {object}  state  Global state tree\n * @param  {number}  siteId Site ID\n * @returns {boolean}        Whether collision exists\n */\nexport default function isSiteConflicting( state, siteId ) {\n\treturn getSiteCollisions( state ).includes( siteId );\n}\n","/**\n * Please keep this list alphabetized!\n */\nexport const ACTIVE_THEME_REQUEST = 'ACTIVE_THEME_REQUEST';\nexport const ACTIVE_THEME_REQUEST_FAILURE = 'ACTIVE_THEME_REQUEST_FAILURE';\nexport const ACTIVE_THEME_REQUEST_SUCCESS = 'ACTIVE_THEME_REQUEST_SUCCESS';\nexport const RECOMMENDED_THEMES_FAIL = 'RECOMMENDED_THEMES_FAIL';\nexport const RECOMMENDED_THEMES_FETCH = 'RECOMMENDED_THEMES_FETCH';\nexport const RECOMMENDED_THEMES_SUCCESS = 'RECOMMENDED_THEMES_SUCCESS';\nexport const THEME_ACCEPT_AUTO_LOADING_HOMEPAGE_WARNING =\n\t'THEME_ACCEPT_AUTO_LOADING_HOMEPAGE_WARNING';\nexport const THEME_ACTIVATE = 'THEME_ACTIVATE';\nexport const THEME_ACTIVATE_FAILURE = 'THEME_ACTIVATE_FAILURE';\nexport const THEME_ACTIVATE_SUCCESS = 'THEME_ACTIVATE_SUCCESS';\nexport const THEME_BACK_PATH_SET = 'THEME_BACK_PATH_SET';\nexport const THEME_CLEAR_ACTIVATED = 'THEME_CLEAR_ACTIVATED';\nexport const THEME_DELETE = 'THEME_DELETE';\nexport const THEME_DELETE_FAILURE = 'THEME_DELETE_FAILURE';\nexport const THEME_DELETE_SUCCESS = 'THEME_DELETE_SUCCESS';\nexport const THEME_FILTERS_ADD = 'THEME_FILTERS_ADD';\nexport const THEME_FILTERS_REQUEST = 'THEME_FILTERS_REQUEST';\nexport const THEME_HIDE_AUTO_LOADING_HOMEPAGE_WARNING = 'THEME_HIDE_AUTO_LOADING_HOMEPAGE_WARNING';\nexport const THEME_INSTALL = 'THEME_INSTALL';\nexport const THEME_INSTALL_FAILURE = 'THEME_INSTALL_FAILURE';\nexport const THEME_INSTALL_SUCCESS = 'THEME_INSTALL_SUCCESS';\nexport const THEME_PREVIEW_OPTIONS = 'THEME_PREVIEW_OPTIONS';\nexport const THEME_PREVIEW_STATE = 'THEME_PREVIEW_STATE';\nexport const THEME_REQUEST = 'THEME_REQUEST';\nexport const THEME_REQUEST_FAILURE = 'THEME_REQUEST_FAILURE';\nexport const THEME_REQUEST_SUCCESS = 'THEME_REQUEST_SUCCESS';\nexport const THEME_SHOW_AUTO_LOADING_HOMEPAGE_WARNING = 'THEME_SHOW_AUTO_LOADING_HOMEPAGE_WARNING';\nexport const THEME_TRANSFER_INITIATE_FAILURE = 'THEME_TRANSFER_INITIATE_FAILURE';\nexport const THEME_TRANSFER_INITIATE_PROGRESS = 'THEME_TRANSFER_INITIATE_PROGRESS';\nexport const THEME_TRANSFER_INITIATE_REQUEST = 'THEME_TRANSFER_INITIATE_REQUEST';\nexport const THEME_TRANSFER_INITIATE_SUCCESS = 'THEME_TRANSFER_INITIATE_SUCCESS';\nexport const THEME_TRANSFER_STATUS_FAILURE = 'THEME_TRANSFER_STATUS_FAILURE';\nexport const THEME_TRANSFER_STATUS_RECEIVE = 'THEME_TRANSFER_STATUS_RECEIVE';\nexport const THEME_UPLOAD_CLEAR = 'THEME_UPLOAD_CLEAR';\nexport const THEME_UPLOAD_FAILURE = 'THEME_UPLOAD_FAILURE';\nexport const THEME_UPLOAD_PROGRESS = 'THEME_UPLOAD_PROGRESS';\nexport const THEME_UPLOAD_START = 'THEME_UPLOAD_START';\nexport const THEME_UPLOAD_SUCCESS = 'THEME_UPLOAD_SUCCESS';\nexport const THEMES_BOOKMARK_SET = 'THEMES_BOOKMARK_SET';\nexport const THEMES_REQUEST = 'THEMES_REQUEST';\nexport const THEMES_REQUEST_FAILURE = 'THEMES_REQUEST_FAILURE';\nexport const THEMES_REQUEST_SUCCESS = 'THEMES_REQUEST_SUCCESS';\nexport const TRENDING_THEMES_FAIL = 'TRENDING_THEMES_FAIL';\nexport const TRENDING_THEMES_FETCH = 'TRENDING_THEMES_FETCH';\nexport const TRENDING_THEMES_SUCCESS = 'TRENDING_THEMES_SUCCESS';\n","import { get } from 'lodash';\nimport { GUIDED_TOUR_UPDATE, ROUTE_SET, SITE_SETTINGS_RECEIVE } from 'calypso/state/action-types';\nimport { THEMES_REQUEST_SUCCESS } from 'calypso/state/themes/action-types';\n\nconst relevantAnalyticsEvents = [ 'calypso_themeshowcase_theme_click' ];\n\nconst relevantTypes = {\n\t// to catch all actions of a type:\n\t// ACTION_TYPE,\n\t// to catch actions of a type that match some criterion:\n\t// ACTION_TYPE: ( action ) => isValid( action.data )\n\tGUIDED_TOUR_UPDATE,\n\tTHEMES_REQUEST_SUCCESS,\n\tROUTE_SET,\n\tSITE_SETTINGS_RECEIVE,\n};\n\nconst hasRelevantAnalytics = ( action ) =>\n\tget( action, 'meta.analytics', [] ).some( ( record ) =>\n\t\trelevantAnalyticsEvents.includes( record.payload.name )\n\t);\n\nconst isRelevantActionType = ( action ) =>\n\trelevantTypes.hasOwnProperty( action.type ) &&\n\t( typeof relevantTypes[ action.type ] !== 'function' || relevantTypes[ action.type ]( action ) );\n\nconst overSome = ( checks ) => ( item ) => checks.some( ( check ) => check( item ) );\nconst isRelevantAction = overSome( [ isRelevantActionType, hasRelevantAnalytics ] );\n\nconst newAction = ( action ) => ( {\n\t...action,\n\ttimestamp: Date.now(),\n} );\n\nconst maybeAdd = ( state, action ) => ( action ? [ ...state, action ].slice( -50 ) : state );\n\nexport default ( state = [], action ) =>\n\tisRelevantAction( action ) ? maybeAdd( state, newAction( action ) ) : state;\n","import { SELECTED_SITE_SET } from 'calypso/state/action-types';\n\nimport 'calypso/state/ui/init';\n\n/**\n * Returns an action object to be used in signalling that a site has been set\n * as selected.\n *\n * @param {number} siteId Site ID\n * @returns {{type: string, siteId: number}} Action object\n */\nexport function setSelectedSiteId( siteId ) {\n\treturn {\n\t\ttype: SELECTED_SITE_SET,\n\t\tsiteId,\n\t};\n}\n\n/**\n * Returns an action object to be used in signalling that all sites have been\n * set as selected.\n *\n * @returns {object} Action object\n */\nexport function setAllSitesSelected() {\n\treturn {\n\t\ttype: SELECTED_SITE_SET,\n\t\tsiteId: null,\n\t};\n}\n","import { APP_BANNER_DISMISSED } from 'calypso/state/action-types';\n\nexport default ( state = null, { type } ) => ( type === APP_BANNER_DISMISSED ? true : state );\n","import { APP_BANNER_TOGGLE_VISIBILITY } from 'calypso/state/action-types';\n\nexport default ( state = true, { type, isVisible } ) =>\n\ttype === APP_BANNER_TOGGLE_VISIBILITY ? isVisible : state;\n","import { SECTION_SET } from 'calypso/state/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\n\nexport const upgradeIntent = withSchemaValidation( { type: 'string' }, ( state = '', action ) => {\n\tif ( action.type !== SECTION_SET ) {\n\t\treturn state;\n\t}\n\n\tif ( action.isLoading || ! action.section?.name ) {\n\t\t// Leave the intent alone until the new section is fully loaded\n\t\treturn state;\n\t}\n\n\tif (\n\t\t[ 'checkout', 'checkout-pending', 'checkout-thank-you', 'plans' ].includes(\n\t\t\taction.section.name\n\t\t)\n\t) {\n\t\t// Leave the intent alone for sections that should not clear it\n\t\treturn state;\n\t}\n\n\tif ( [ 'plugins', 'themes', 'hosting' ].includes( action.section.name ) ) {\n\t\treturn action.section.name;\n\t}\n\n\t// Clear the intent when any other section is loaded\n\treturn '';\n} );\n\nexport default combineReducers( {\n\tupgradeIntent,\n} );\n","import { HELP_CENTER_VISIBLE } from 'calypso/state/action-types';\n\nexport default ( state = null, { type, value } ) =>\n\ttype === HELP_CENTER_VISIBLE ? value : state;\n","import { registerReducer } from 'calypso/state/redux-store';\nimport reducer from './reducer';\n\nregisterReducer( [ 'ui' ], reducer );\n","import config from '@automattic/calypso-config';\nimport { LOCALE_SET } from 'calypso/state/action-types';\n\nconst initialState = {\n\tlocaleSlug: config( 'i18n_default_locale_slug' ),\n\tlocaleVariant: null,\n};\n\n/**\n * Tracks the state of the ui locale\n *\n * @param {object} state  Current state\n * @param {object} action Action payload\n * @returns {object} Updated state\n *\n */\nexport default function language( state = initialState, action ) {\n\tswitch ( action.type ) {\n\t\tcase LOCALE_SET:\n\t\t\treturn {\n\t\t\t\tlocaleSlug: action.localeSlug,\n\t\t\t\tlocaleVariant: action.localeVariant,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import {\n\tLAYOUT_FOCUS_SET,\n\tLAYOUT_NEXT_FOCUS_ACTIVATE,\n\tLAYOUT_NEXT_FOCUS_SET,\n} from 'calypso/state/action-types';\n\nconst initialState = { current: 'content', next: null };\n\nexport default function layoutFocus( state = initialState, action ) {\n\tswitch ( action.type ) {\n\t\tcase LAYOUT_FOCUS_SET:\n\t\t\tif ( action.area === state.current ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn Object.assign( {}, state, { current: action.area } );\n\t\tcase LAYOUT_NEXT_FOCUS_SET:\n\t\t\tif ( action.area === state.next ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn Object.assign( {}, state, { next: action.area } );\n\t\tcase LAYOUT_NEXT_FOCUS_ACTIVATE: {\n\t\t\t// If we don't have a change queued, set it to `content`. This avoids\n\t\t\t// having to set the focus to content on all navigation links because it\n\t\t\t// becomes the default after focus has shifted.\n\t\t\tlet next = state.next;\n\t\t\tif ( ! next && state.current !== 'content' ) {\n\t\t\t\tnext = 'content';\n\t\t\t}\n\t\t\tif ( ! next ) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn Object.assign( {}, state, { current: next, next: null } );\n\t\t}\n\t}\n\treturn state;\n}\n","import { MASTERBAR_TOGGLE_VISIBILITY } from 'calypso/state/action-types';\n\nexport default ( state = true, { type, isVisible } ) =>\n\ttype === MASTERBAR_TOGGLE_VISIBILITY ? isVisible : state;\n","import { MEDIA_MODAL_VIEW_SET } from 'calypso/state/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\nexport const view = ( state = null, action ) => {\n\tswitch ( action.type ) {\n\t\tcase MEDIA_MODAL_VIEW_SET:\n\t\t\treturn action.view;\n\t}\n\n\treturn state;\n};\n\nexport default combineReducers( {\n\tview,\n} );\n","import {\n\tPOST_TYPE_LIST_SHARE_PANEL_HIDE,\n\tPOST_TYPE_LIST_SHARE_PANEL_TOGGLE,\n} from 'calypso/state/action-types';\n\nconst initialState = {\n\tpostIdWithActiveSharePanel: null,\n};\n\nexport const postTypeList = ( state = initialState, action ) => {\n\tswitch ( action.type ) {\n\t\tcase POST_TYPE_LIST_SHARE_PANEL_HIDE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpostIdWithActiveSharePanel: null,\n\t\t\t};\n\n\t\tcase POST_TYPE_LIST_SHARE_PANEL_TOGGLE:\n\t\t\tif ( state.postIdWithActiveSharePanel === action.postGlobalId ) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tpostIdWithActiveSharePanel: null,\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpostIdWithActiveSharePanel: action.postGlobalId,\n\t\t\t};\n\t}\n\n\treturn state;\n};\n\nexport default postTypeList;\n","import { PREVIEW_URL_CLEAR, PREVIEW_URL_SET } from 'calypso/state/action-types';\nimport { combineReducers } from 'calypso/state/utils';\n\nexport function currentPreviewSiteId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase PREVIEW_URL_SET:\n\t\t\treturn action.siteId ?? null;\n\t}\n\treturn state;\n}\n\nexport function currentPreviewUrl( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase PREVIEW_URL_SET:\n\t\t\treturn action.url;\n\t\tcase PREVIEW_URL_CLEAR:\n\t\t\treturn null;\n\t}\n\treturn state;\n}\n\nexport default combineReducers( {\n\tcurrentPreviewSiteId,\n\tcurrentPreviewUrl,\n} );\n","import { withStorageKey } from '@automattic/state-utils';\nimport {\n\tSELECTED_SITE_SET,\n\tSECTION_LOADING_SET,\n\tNOTIFICATIONS_PANEL_TOGGLE,\n} from 'calypso/state/action-types';\nimport { combineReducers, withSchemaValidation } from 'calypso/state/utils';\nimport actionLog from './action-log/reducer';\nimport appBannerDismissed from './app-banner-dismissed/reducer';\nimport appBannerVisibility from './app-banner-visibility/reducer';\nimport checkout from './checkout/reducer';\nimport helpCenterVisible from './help-center-visible/reducer';\nimport language from './language/reducer';\nimport layoutFocus from './layout-focus/reducer';\nimport masterbarVisibility from './masterbar-visibility/reducer';\nimport mediaModal from './media-modal/reducer';\nimport postTypeList from './post-type-list/reducer';\nimport preview from './preview/reducer';\nimport section from './section/reducer';\n\n/**\n * Tracks the currently selected site ID.\n *\n * @param  {object} state  Current state\n * @param  {object} action Action payload\n * @returns {object}        Updated state\n */\nexport const selectedSiteId = withSchemaValidation(\n\t{ type: [ 'number', 'null' ] },\n\t( state = null, action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase SELECTED_SITE_SET:\n\t\t\t\treturn action.siteId || null;\n\t\t}\n\n\t\treturn state;\n\t}\n);\n\nexport const siteSelectionInitialized = withSchemaValidation(\n\t{ type: 'boolean' },\n\t( state = false, action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase SELECTED_SITE_SET:\n\t\t\t\treturn true;\n\t\t}\n\n\t\treturn state;\n\t}\n);\n\nexport function isSectionLoading( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase SECTION_LOADING_SET:\n\t\t\treturn action.isSectionLoading;\n\t}\n\treturn state;\n}\n\n/**\n * Tracks if the notifications panel is open\n *\n * @param   {object} state       Current state\n * @param   {object} action      Action payload\n * @param   {string} action.type The action type identifier. In this case it's looking for NOTIFICATIONS_PANEL_TOGGLE\n * @returns {object}             Updated state\n */\nexport function isNotificationsOpen( state = false, { type } ) {\n\tif ( type === NOTIFICATIONS_PANEL_TOGGLE ) {\n\t\treturn ! state;\n\t}\n\treturn state;\n}\n\nconst reducer = combineReducers( {\n\tactionLog,\n\tappBannerVisibility,\n\tappBannerDismissed,\n\thelpCenterVisible,\n\tcheckout,\n\tisSectionLoading,\n\tisNotificationsOpen,\n\tlanguage,\n\tlayoutFocus,\n\tmasterbarVisibility,\n\tmediaModal,\n\tpostTypeList,\n\tpreview,\n\tsection,\n\tselectedSiteId,\n\tsiteSelectionInitialized,\n} );\n\nexport { reducer };\n\nexport default withStorageKey( 'ui', reducer );\n","import { SECTION_SET, SECTION_LOADING_SET } from 'calypso/state/action-types';\n\nimport 'calypso/state/ui/init';\n\nexport function setSection( section, options = {} ) {\n\tconst action = {\n\t\t...options,\n\t\ttype: SECTION_SET,\n\t};\n\tif ( section ) {\n\t\taction.section = section;\n\t}\n\n\treturn action;\n}\n\nexport function setSectionLoading( isSectionLoading ) {\n\treturn {\n\t\ttype: SECTION_LOADING_SET,\n\t\tisSectionLoading,\n\t};\n}\n","import { SECTION_SET } from 'calypso/state/action-types';\n\n//TODO: do we really want to mix strings and booleans?\nexport default function section( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase SECTION_SET:\n\t\t\treturn action.section !== undefined ? action.section : state;\n\t}\n\treturn state;\n}\n","import { get } from 'lodash';\nimport getSection from './get-section';\n\n/**\n * Returns the current section name.\n *\n * @param  {object}  state Global state tree\n * @returns {?string}       Current section name\n */\nexport default function getSectionName( state ) {\n\treturn get( getSection( state ), 'name', null );\n}\n","import 'calypso/state/ui/init';\n\n/**\n * Returns the current section.\n *\n * @param  {object}  state Global state tree\n * @returns {object}        Current section\n */\nexport default function getSection( state ) {\n\treturn state.ui.section || false;\n}\n","import 'calypso/state/ui/init';\n\n/**\n * Returns the currently selected site ID.\n *\n * @param  {object}  state Global state tree\n * @returns {?number}       Selected site ID\n */\nexport default function getSelectedSiteId( state ) {\n\treturn state.ui.selectedSiteId;\n}\n","import getSite from 'calypso/state/sites/selectors/get-site';\nimport getSelectedSiteId from './get-selected-site-id';\n\n/**\n * @typedef { import(\"./site-data\").SiteData } SiteData\n */\n\n/**\n * Returns the site object for the currently selected site.\n *\n * @param  {object}  state  Global state tree\n * @returns {SiteData|null}        Selected site\n */\nexport default function getSelectedSite( state ) {\n\tconst siteId = getSelectedSiteId( state );\n\tif ( ! siteId ) {\n\t\treturn null;\n\t}\n\n\treturn getSite( state, siteId );\n}\n","export const addReducerEnhancer = ( nextCreator ) => ( reducer, initialState ) => {\n\tconst nextStore = nextCreator( reducer, initialState );\n\n\tlet currentReducer = reducer;\n\tfunction addReducer( keys, subReducer ) {\n\t\tcurrentReducer = currentReducer.addReducer( keys, subReducer );\n\t\tthis.replaceReducer( currentReducer );\n\t}\n\n\tfunction getCurrentReducer() {\n\t\treturn currentReducer;\n\t}\n\n\treturn { ...nextStore, addReducer, getCurrentReducer };\n};\n","import { get, isEqual, mapValues, omit, omitBy, reduce } from 'lodash';\nimport { SerializationResult } from 'calypso/state/serialization-result';\nimport { serialize, deserialize, SerializableReducer } from './serialize';\nimport { withPersistence } from './with-persistence';\nimport type { PropertyPath } from 'lodash';\nimport type { Action, AnyAction } from 'redux';\n\ntype CalypsoInitAction = Action< '@@calypso/INIT' >;\nexport type KeyedReducerAction< TAction extends Action > = TAction | CalypsoInitAction;\n\n/**\n * Creates a super-reducer as a map of reducers over keyed objects\n *\n * Use this when wanting to write reducers that operate\n * on a single object as if it lived in isolation when\n * really it lives in a map of similar objects referenced\n * by some predesignated key or id. This could be used\n * for example when reducing properties on a site object\n * wherein we have many sites keyed by site id.\n *\n * Note! This will only apply the supplied reducer to\n * the item referenced by the supplied key in the action.\n *\n * If no key exists whose name matches the given lodash style keyPath\n * then this super-reducer will abort and return the\n * previous state.\n *\n * The keyed reducer implements the `serialize` and `deserialize` methods and makes sure\n * that Calypso state persistence works as expected (ignoring empty and initial state,\n * serialization into multiple storage keys etc.)\n *\n * @example\n * const age = ( state = 0, action ) =>\n *     GROW === action.type\n *         ? state + 1\n *         : state\n *\n * const title = ( state = 'grunt', action ) =>\n *     PROMOTION === action.type\n *         ? action.title\n *         : state\n *\n * const userReducer = combineReducers( {\n *     age,\n *     title,\n * } )\n *\n * export default keyedReducer( 'username', userReducer )\n *\n * dispatch( { type: GROW, username: 'hunter02' } )\n *\n * state.users === {\n *     hunter02: {\n *         age: 1,\n *         title: 'grunt',\n *     }\n * }\n *\n * @param {string} keyPath lodash-style path to the key in action referencing item in state map\n * @param {Function} reducer applied to referenced item in state map\n * @returns {Function} super-reducer applying reducer over map of keyed items\n */\nexport const keyedReducer = < TState, TAction extends AnyAction = Action >(\n\tkeyPath: PropertyPath,\n\treducer: SerializableReducer< TState, KeyedReducerAction< TAction > >\n): SerializableReducer< Record< string | number, TState >, TAction > => {\n\t// some keys are invalid\n\tif ( 'string' !== typeof keyPath ) {\n\t\tthrow new TypeError(\n\t\t\t`Key name passed into \\`keyedReducer\\` must be a string but I detected a ${ typeof keyPath }`\n\t\t);\n\t}\n\n\tif ( ! keyPath.length ) {\n\t\tthrow new TypeError(\n\t\t\t'Key name passed into `keyedReducer` must have a non-zero length but I detected an empty string'\n\t\t);\n\t}\n\n\tif ( 'function' !== typeof reducer ) {\n\t\tthrow new TypeError(\n\t\t\t`Reducer passed into \\`keyedReducer\\` must be a function but I detected a ${ typeof reducer }`\n\t\t);\n\t}\n\n\tconst initialState = reducer( undefined, { type: '@@calypso/INIT' } );\n\n\tconst combinedReducer = (\n\t\tstate: Record< string | number, TState > = {},\n\t\taction: KeyedReducerAction< TAction >\n\t) => {\n\t\t// don't allow coercion of key name: null => 0\n\t\tconst itemKey = get( action, keyPath, undefined );\n\n\t\t// if the action doesn't contain a valid reference\n\t\t// then return without any updates\n\t\tif ( null === itemKey || undefined === itemKey ) {\n\t\t\treturn state;\n\t\t}\n\n\t\t// pass the old sub-state from that item into the reducer\n\t\t// we need this to update state and also to compare if\n\t\t// we had any changes, thus the initialState\n\t\tconst oldItemState = state[ itemKey ];\n\t\tconst newItemState = reducer( oldItemState, action );\n\n\t\t// and do nothing if the new sub-state matches the old sub-state\n\t\tif ( newItemState === oldItemState ) {\n\t\t\treturn state;\n\t\t}\n\n\t\t// remove key from state if setting to undefined or back to initial state\n\t\t// if it didn't exist anyway, then do nothing.\n\t\tif ( undefined === newItemState || isEqual( newItemState, initialState ) ) {\n\t\t\treturn state.hasOwnProperty( itemKey ) ? omit( state, itemKey ) : state;\n\t\t}\n\n\t\t// otherwise immutably update the super-state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[ itemKey ]: newItemState,\n\t\t};\n\t};\n\n\treturn withPersistence( combinedReducer, {\n\t\tserialize: ( state ) =>\n\t\t\treduce(\n\t\t\t\tstate,\n\t\t\t\t( result, itemValue, itemKey ) => {\n\t\t\t\t\tconst serializedValue = serialize( reducer, itemValue );\n\t\t\t\t\tif ( serializedValue !== undefined && ! isEqual( serializedValue, initialState ) ) {\n\t\t\t\t\t\tif ( ! result ) {\n\t\t\t\t\t\t\t// instantiate the result object only when it's going to have at least one property\n\t\t\t\t\t\t\tresult = new SerializationResult();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.addRootResult( itemKey, serializedValue );\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\t\t\tundefined as SerializationResult | undefined\n\t\t\t),\n\t\tdeserialize: ( persisted ) =>\n\t\t\tomitBy(\n\t\t\t\tmapValues( persisted, ( item ) => deserialize( reducer, item ) ),\n\t\t\t\t( a ) => a === undefined || isEqual( a, initialState )\n\t\t\t),\n\t} );\n};\n","import { get, mapValues, reduce } from 'lodash';\nimport { combineReducers as combine } from 'redux'; // eslint-disable-line no-restricted-imports\nimport { APPLY_STORED_STATE } from 'calypso/state/action-types';\nimport { SerializationResult } from 'calypso/state/serialization-result';\nimport { serialize, deserialize } from './serialize';\nimport type { SerializableReducer } from './serialize';\nimport type { Reducer, AnyAction, Action } from 'redux';\n\nexport interface CombinedReducer extends SerializableReducer {\n\tstorageKey?: string;\n\taddReducer?: ( keyPath: string[], reducer: Reducer ) => CombinedReducer;\n\tgetStorageKeys?: () => Generator< string | { storageKey: string; reducer: Reducer } >;\n}\n\n/**\n * Create a new reducer from original `reducers` by adding a new `reducer` at `keyPath`\n *\n * @param origReducer Original reducer to copy `storageKey` and other flags from\n * @param reducers Object with reducer names as keys and reducer functions as values that\n *   is used as parameter to `combineReducers` (the original Redux one and our extension, too).\n * @returns The function to be attached as `addReducer` method to the\n *   result of `combineReducers`.\n */\nexport function addReducer(\n\torigReducer: CombinedReducer,\n\treducers: Record< string, CombinedReducer >\n) {\n\treturn ( keyPath: string[], reducer: CombinedReducer ): CombinedReducer => {\n\t\t// extract the first key from keyPath and dive recursively into the reducer tree\n\t\tconst [ key, ...restKeys ] = keyPath;\n\n\t\tconst existingReducer = reducers[ key ];\n\t\tlet newReducer;\n\n\t\t// if there is an existing reducer at this path, we'll recursively call `addReducer`\n\t\t// until we reach the final destination in the tree.\n\t\tif ( existingReducer ) {\n\t\t\t// we reached the final destination in the tree and another reducer already lives there!\n\t\t\tif ( restKeys.length === 0 ) {\n\t\t\t\tthrow new Error( `Reducer with key '${ key }' is already registered` );\n\t\t\t}\n\n\t\t\tif ( ! existingReducer.addReducer ) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"New reducer can be added only into a reducer created with 'combineReducers'\"\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tnewReducer = existingReducer.addReducer( restKeys, reducer );\n\t\t} else {\n\t\t\t// for the remaining keys in the keyPath, create a nested reducer:\n\t\t\t// if `restKeys` is `[ 'a', 'b', 'c']`, then the result of this `reduceRight` is:\n\t\t\t// ```js\n\t\t\t// combineReducers( {\n\t\t\t//   a: combineReducers ( {\n\t\t\t//     b: combineReducers( {\n\t\t\t//       c: reducer\n\t\t\t//     } )\n\t\t\t//   })\n\t\t\t// })\n\t\t\t// ```\n\t\t\tnewReducer = restKeys.reduceRight(\n\t\t\t\t( subreducer, subkey ) => combineReducers( { [ subkey ]: subreducer } ),\n\t\t\t\treducer\n\t\t\t);\n\t\t}\n\n\t\tconst newCombinedReducer: CombinedReducer = combineReducers( {\n\t\t\t...reducers,\n\t\t\t[ key ]: newReducer,\n\t\t} );\n\n\t\t// Preserve the storageKey of the updated reducer\n\t\tnewCombinedReducer.storageKey = origReducer.storageKey;\n\n\t\treturn newCombinedReducer;\n\t};\n}\n\n/**\n * Returns a single reducer function that ensures that persistence is opt-in and that\n * has support for adding reducers dynamically.\n *\n * @example\n * ```js\n * const age = ( state = 0, action ) =>\n *     GROW === action.type\n *         ? state + 1\n *         : state\n * const height = ( state = 150, action ) =>\n *     GROW === action.type\n *         ? state + 1\n *         : state\n *\n * const combinedReducer = combineReducers( {\n *     age,\n *     height\n * } );\n *\n * // returns `{ age: 0, height: 150 }`, the initial state\n * deserialize( combinedReducer, { age: 6, height: 123 } );\n * // returns `undefined`, no serialization\n * serialize( combinedReducer, { age: 6, height: 123 } );\n * // returns `{ age: 7, height: 124 }`, handling a normal action\n * combinedReducer( { age:  6, height: 123 } ), { type: GROW } );\n * ```\n *\n * Persistence must be enabled explicitly with the `withPersistence` helper.\n *\n * @example\n * ```js\n * const date = withPersistence(\n *   ( state = new Date( 0 ), action ) => {\n *     switch ( action.type ) {\n *       case 'GROW':\n *         return new Date( state.getTime() + 1 );\n *       default:\n *         return state;\n *   },\n *   {\n *     serialize: state => state.getTime(),\n *     deserialize: persisted => {\n *       if ( isValidStateWithSchema( persisted, schema ) ) {\n *         return new Date( persisted );\n *       }\n *       return new Date( 0 );\n *     },\n *   }\n * );\n *\n * const combinedReducer = combineReducers( {\n *     date,\n *     height\n * } );\n *\n * deserialize( combinedReducer, { date: -5, height: -5 } ); // { date: new Date( 0 ), height: 150 };\n * deserialize( combinedReducer, { date: -5, height: 123 } ); // { date: new Date( 0 ), height: 150 };\n * deserialize( combinedReducer, { date:  6, height: 123 } ); // { date: new Date( 6 ), height: 150 };\n * serialize( combinedReducer, { date: new Date( 6 ), height: 123 } ); // { date: 6 };\n * combinedReducer( { date: new Date( 6 ), height: 123 } ), { type: GROW } ); // { date: new Date( 7 ), height: 124 };\n * ```\n *\n * @param reducers - object containing the reducers to merge\n * @returns - Returns the combined reducer function\n */\nexport function combineReducers( reducers: Record< string, Reducer > ): CombinedReducer {\n\tconst combined = combine( reducers );\n\n\tconst combinedReducer: CombinedReducer = ( state, action ) => {\n\t\tswitch ( action.type ) {\n\t\t\tcase APPLY_STORED_STATE:\n\t\t\t\treturn applyStoredState( reducers, state, action );\n\n\t\t\tdefault:\n\t\t\t\treturn combined( state, action );\n\t\t}\n\t};\n\n\tcombinedReducer.serialize = ( state ) => serializeState( reducers, state );\n\tcombinedReducer.deserialize = ( persisted ) => deserializeState( reducers, persisted );\n\tcombinedReducer.addReducer = addReducer( combinedReducer, reducers );\n\tcombinedReducer.getStorageKeys = getStorageKeys( reducers );\n\n\treturn combinedReducer;\n}\n\nfunction applyStoredState< TState, TAction extends AnyAction = Action >(\n\treducers: Record< string, CombinedReducer >,\n\tstate: TState,\n\taction: TAction\n) {\n\tlet hasChanged = false;\n\tconst nextState = mapValues( reducers, ( reducer, key ) => {\n\t\t// Replace the value for the key we want to init with action.storedState.\n\t\tif ( reducer.storageKey === action.storageKey ) {\n\t\t\thasChanged = true;\n\t\t\treturn action.storedState;\n\t\t}\n\n\t\t// Descend into nested state levels, possibly the storageKey will be found there?\n\t\tconst prevStateForKey = get( state, key );\n\t\tconst nextStateForKey = reducer( prevStateForKey, action );\n\t\thasChanged = hasChanged || nextStateForKey !== prevStateForKey;\n\t\treturn nextStateForKey;\n\t} );\n\n\t// return identical state if the stored state didn't get applied in this reducer\n\treturn hasChanged ? nextState : state;\n}\n\nfunction getStorageKeys(\n\treducers: Record< string, CombinedReducer >\n): () => Generator< string | { storageKey: string; reducer: Reducer } > {\n\treturn function* () {\n\t\tfor ( const reducer of Object.values( reducers ) ) {\n\t\t\tif ( reducer.storageKey ) {\n\t\t\t\tyield { storageKey: reducer.storageKey, reducer };\n\t\t\t}\n\n\t\t\tif ( reducer.getStorageKeys ) {\n\t\t\t\tyield* reducer.getStorageKeys();\n\t\t\t}\n\t\t}\n\t};\n}\n\n// State serialization is very similar to running a reducer on the state, except some behaviors\n// that are slightly different from `combineReducers` from Redux:\n// - `undefined` is a valid value returned from `serialize()`, but `combineReducers`\n//   would throw an exception when seeing it.\n// - if a particular subreducer serializes to `undefined`, then that property won't be included\n//   in the result object at all.\n// - if none of the subreducers produced anything to persist, the combined result will be\n//   `undefined` rather than an empty object.\n// - if the state to serialize is `undefined` (happens when some key in state is missing)\n//   the serialized value is `undefined` and there's no need to reduce anything.\nfunction serializeState< TState = any >(\n\treducers: Record< string, CombinedReducer >,\n\tstate: Record< keyof typeof reducers, TState >\n): SerializationResult | undefined {\n\tif ( state === undefined ) {\n\t\treturn undefined;\n\t}\n\n\treturn reduce(\n\t\treducers,\n\t\t( result, reducer, reducerKey ) => {\n\t\t\tconst serialized = serialize( reducer, state[ reducerKey ] );\n\t\t\tif ( serialized !== undefined ) {\n\t\t\t\tif ( ! result ) {\n\t\t\t\t\t// instantiate the result object only when it's going to have at least one property\n\t\t\t\t\tresult = new SerializationResult();\n\t\t\t\t}\n\t\t\t\tif ( reducer.storageKey ) {\n\t\t\t\t\tresult.addKeyResult( reducer.storageKey, serialized );\n\t\t\t\t} else {\n\t\t\t\t\tresult.addRootResult( reducerKey, serialized );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tundefined as SerializationResult | undefined\n\t);\n}\n\nfunction deserializeState(\n\treducers: Record< string, SerializableReducer >,\n\tpersisted: Record< string, any >\n) {\n\treturn mapValues( reducers, ( reducer, reducerKey ) =>\n\t\tdeserialize( reducer, persisted?.[ reducerKey ] )\n\t);\n}\n","import { getInitialState } from '@automattic/state-utils';\nimport warn from '@wordpress/warning';\nimport validator from 'is-my-json-valid';\nimport { forEach, get, isEmpty, isEqual } from 'lodash';\nimport { serialize, deserialize } from './serialize';\nimport { withPersistence } from './with-persistence';\n\nexport function isValidStateWithSchema( state, schema, debugInfo ) {\n\tconst validate = validator( schema, {\n\t\tgreedy: process.env.NODE_ENV !== 'production',\n\t\tverbose: process.env.NODE_ENV !== 'production',\n\t} );\n\tconst valid = validate( state );\n\tif ( ! valid && process.env.NODE_ENV !== 'production' ) {\n\t\tconst msgLines = [ 'State validation failed.', 'State: %o', '' ];\n\t\tconst substitutions = [ state ];\n\n\t\tforEach( validate.errors, ( { field, message, schemaPath, value } ) => {\n\t\t\t// data.myField is required\n\t\t\tmsgLines.push( '%s %s' );\n\t\t\tsubstitutions.push( field, message );\n\n\t\t\t// Found: { my: 'state' }\n\t\t\tmsgLines.push( 'Found: %o' );\n\t\t\tsubstitutions.push( value );\n\n\t\t\t// Violates rule: { type: 'boolean' }\n\t\t\tif ( ! isEmpty( schemaPath ) ) {\n\t\t\t\tmsgLines.push( 'Violates rule: %o' );\n\t\t\t\tsubstitutions.push( get( schema, schemaPath ) );\n\t\t\t}\n\t\t\tmsgLines.push( '' );\n\t\t} );\n\n\t\tif ( ! isEmpty( debugInfo ) ) {\n\t\t\tmsgLines.push( 'Source: %o' );\n\t\t\tsubstitutions.push( debugInfo );\n\t\t}\n\n\t\twarn( msgLines.join( '\\n' ), ...substitutions );\n\t}\n\treturn valid;\n}\n\nfunction isValidSerializedState( schema, reducer, state ) {\n\t// The stored state is often equal to initial state of the reducer. Because initial state\n\t// is always valid, we can validate much faster by just comparing the two states. The full\n\t// JSON schema check is much slower and we do it only on nontrivial states.\n\t// Note that we need to serialize the initial state to make a correct check. For reducers\n\t// with custom persistence, the initial state can be arbitrary non-serializable object. We\n\t// need to compare two serialized objects.\n\tconst serializedInitialState = serialize( reducer, getInitialState( reducer ) );\n\tif ( isEqual( state, serializedInitialState ) ) {\n\t\treturn true;\n\t}\n\n\treturn isValidStateWithSchema( state, schema );\n}\n\n/**\n * Creates a schema-validating reducer\n *\n * Use this to wrap simple reducers with a schema-based validation check when loading\n * the initial state from persistent storage.\n *\n * The wrapped reducer implements the `deserialize` method and checks if the persisted state\n * is a valid state. If yes, it returns the persisted state (and calls the inner reducer's\n * `deserialize` method if defined). Otherwise it returns the initial state of the inner reducer.\n *\n * @example\n * ```js\n * const ageReducer = ( state = 0, action ) => GROW === action.type ? state + 1 : state\n *\n * const schema = { type: 'number', minimum: 0 }\n *\n * export const age = withSchemaValidation( schema, ageReducer );\n *\n * expect( deserialize( ageReducer, -5 ) ).toBe( -5 ); // no schema check\n * expect( deserialize( age, -5 ) ).toBe( 0 ); // schema check failed, return initial state\n * expect( deserialize( age,  23 ) ).toBe( 23 ); // schema check passed\n * ```\n * @param {object} schema JSON-schema description of state\n * @param {Function} reducer normal reducer from ( state, action ) to new state\n * @returns {import('redux').Reducer} wrapped reducer handling validation on `.deserialize()`\n */\nexport const withSchemaValidation = ( schema, reducer ) => {\n\tif ( process.env.NODE_ENV !== 'production' && ! schema ) {\n\t\tthrow new Error( 'null schema passed to withSchemaValidation' );\n\t}\n\n\t// Add default identity-mapping persistence to the wrapped reducer. Prevent\n\t// it to default to no-persistence.\n\tconst persistingReducer = withPersistence( reducer );\n\n\treturn withPersistence( persistingReducer, {\n\t\tdeserialize( persisted ) {\n\t\t\tif ( persisted === undefined ) {\n\t\t\t\t// If the state is not present in the stored data, initialize it with the\n\t\t\t\t// initial state.\n\t\t\t\treturn getInitialState( persistingReducer );\n\t\t\t}\n\n\t\t\t// If the stored state fails JSON schema validation, treat it as if it was\n\t\t\t// `undefined`, i.e., ignore it and replace with initial state.\n\t\t\tif ( ! isValidSerializedState( schema, persistingReducer, persisted ) ) {\n\t\t\t\treturn getInitialState( persistingReducer );\n\t\t\t}\n\n\t\t\t// Otherwise, if the state is valid, deserialize it with the inner reducer.\n\t\t\treturn deserialize( persistingReducer, persisted );\n\t\t},\n\t} );\n};\n","import { getInitialState } from '@automattic/state-utils';\nimport type { Reducer, AnyAction, Action } from 'redux';\n\nexport interface SerializableReducer< TState = any, TAction extends AnyAction = Action >\n\textends Reducer< TState, TAction > {\n\tserialize?: ( state: TState ) => any;\n\tdeserialize?: ( persisted: any ) => TState;\n}\n\nexport function serialize< TState >( reducer: SerializableReducer< TState >, state: TState ): any {\n\tif ( ! reducer.serialize ) {\n\t\treturn undefined;\n\t}\n\n\treturn reducer.serialize( state );\n}\n\nexport function deserialize< TState >(\n\treducer: SerializableReducer< TState >,\n\tpersisted: any\n): TState {\n\tif ( ! reducer.deserialize ) {\n\t\treturn getInitialState( reducer );\n\t}\n\n\treturn reducer.deserialize( persisted );\n}\n","import type { SerializableReducer } from './serialize';\nimport type { AnyAction } from 'redux';\n\nexport interface SerializeOptions< TState > {\n\tserialize?: ( state: TState ) => any;\n\tdeserialize?: ( persisted: any ) => TState;\n}\n\n/**\n * Add persistence support to a reducer, with optional custom serialization methods\n *\n * @param reducer Reducer to add persistence to\n * @param options Object with optional custom serialization methods\n * @param options.serialize Custom serialization method\n * @param options.deserialize Custom deserialization method\n */\nexport function withPersistence< TState, TAction extends AnyAction >(\n\treducer: SerializableReducer< TState, TAction >,\n\t{ serialize, deserialize }: SerializeOptions< TState > = {}\n): SerializableReducer< TState, TAction > {\n\tconst wrappedReducer = reducer.bind( null );\n\twrappedReducer.serialize = serialize || reducer.serialize || ( ( state ) => state );\n\twrappedReducer.deserialize = deserialize || reducer.deserialize || ( ( persisted ) => persisted );\n\treturn wrappedReducer;\n}\n","// We use this module state to track url paths submitted to recordTracksPageView\n// `lib/analytics/index.js` also reuses it for timing.record\nlet mostRecentUrlPath: string | null = null;\n\n// pathCounter is used to keep track of the order of calypso_page_view Tracks events.\nlet pathCounter = 0;\n\nif ( typeof window !== 'undefined' ) {\n\twindow.addEventListener( 'popstate', function () {\n\t\t// throw away our URL value if the user used the back/forward buttons\n\t\tmostRecentUrlPath = null;\n\t} );\n}\n\ninterface PageViewParams {\n\tlast_pageview_path_with_count: string;\n\tthis_pageview_path_with_count: string;\n}\n\nexport function getPageViewParams( urlPath: string ): PageViewParams {\n\tconst params = {\n\t\tlast_pageview_path_with_count: `${ mostRecentUrlPath }(${ pathCounter.toString() })`,\n\t\tthis_pageview_path_with_count: `${ urlPath }(${ pathCounter + 1 })`,\n\t};\n\t// Record this path.\n\tmostRecentUrlPath = urlPath;\n\tpathCounter++;\n\treturn params;\n}\n\n/**\n * Gets the url path which was set on the last call to getPageViewParams() and stored in module state\n * mostRecentUrlPath will be null if the page was refreshed or getPageViewParams() has not been called\n */\nexport function getMostRecentUrlPath(): string | null {\n\treturn mostRecentUrlPath;\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { EventEmitter } from 'events';\nimport { loadScript } from '@automattic/load-script';\nimport cookie from 'cookie';\nimport { includes, omitBy, times } from 'lodash';\nimport { getPageViewParams } from './page-view-params';\nimport { getCurrentUser, setCurrentUser } from './utils/current-user';\nimport debug from './utils/debug';\nimport getDoNotTrack from './utils/do-not-track';\n\ndeclare global {\n\tinterface Window {\n\t\t_tkq: Array< Array< any > >;\n\t}\n}\ndeclare const window: undefined | ( Window & { BUILD_TIMESTAMP?: number } );\n\n/**\n * Tracks uses a bunch of special query params that should not be used as property name\n * See internal Nosara repo?\n */\nconst TRACKS_SPECIAL_PROPS_NAMES = [ 'geo', 'message', 'request', 'geocity', 'ip' ];\nconst EVENT_NAME_EXCEPTIONS = [\n\t'a8c_cookie_banner_ok',\n\t// WooCommerce Onboarding / Connection Flow.\n\t'wcadmin_storeprofiler_create_jetpack_account',\n\t'wcadmin_storeprofiler_connect_store',\n\t'wcadmin_storeprofiler_login_jetpack_account',\n\t'wcadmin_storeprofiler_payment_login',\n\t'wcadmin_storeprofiler_payment_create_account',\n\t// Checkout\n\t'calypso_checkout_switch_to_p_24',\n\t'calypso_checkout_composite_p24_submit_clicked',\n];\nlet _superProps: any; // Added to all Tracks events.\nlet _loadTracksResult = Promise.resolve(); // default value for non-BOM environments.\n\nif ( typeof document !== 'undefined' ) {\n\t_loadTracksResult = loadScript( '//stats.wp.com/w.js?63' );\n}\n\nfunction createRandomId( randomBytesLength = 9 ): string {\n\tif ( typeof window === 'undefined' ) {\n\t\treturn '';\n\t}\n\t// 9 * 4/3 = 12\n\t// this is to avoid getting padding of a random byte string when it is base64 encoded\n\tlet randomBytes: any;\n\n\tif ( window.crypto && window.crypto.getRandomValues ) {\n\t\trandomBytes = new Uint8Array( randomBytesLength );\n\t\twindow.crypto.getRandomValues( randomBytes );\n\t} else {\n\t\trandomBytes = times( randomBytesLength, () => Math.floor( Math.random() * 256 ) );\n\t}\n\n\treturn window.btoa( String.fromCharCode( ...randomBytes ) );\n}\n\nfunction getUrlParameter( name: string ): string {\n\tif ( typeof window === 'undefined' ) {\n\t\treturn '';\n\t}\n\tname = name.replace( /[[]/g, '\\\\[' ).replace( /[\\]]/g, '\\\\]' );\n\tconst regex = new RegExp( '[\\\\?&]' + name + '=([^&#]*)' );\n\tconst results = regex.exec( window.location.search );\n\treturn results === null ? '' : decodeURIComponent( results[ 1 ].replace( /\\+/g, ' ' ) );\n}\n\nfunction checkForBlockedTracks(): Promise< void > {\n\t// Proceed only after the tracks script load finished and failed.\n\t// Calling this function from `initialize` ensures current user is set.\n\t// This detects stats blocking, and identifies by `getCurrentUser()`, URL, or cookie.\n\treturn _loadTracksResult.catch( () => {\n\t\tlet _ut;\n\t\tlet _ui;\n\t\tconst currentUser = getCurrentUser();\n\t\tif ( currentUser && currentUser.ID ) {\n\t\t\t_ut = 'wpcom:user_id';\n\t\t\t_ui = currentUser.ID;\n\t\t} else {\n\t\t\t_ut = getUrlParameter( '_ut' ) || 'anon';\n\t\t\t_ui = getUrlParameter( '_ui' );\n\t\t\tif ( ! _ui ) {\n\t\t\t\tconst cookies = cookie.parse( document.cookie );\n\t\t\t\tif ( cookies.tk_ai ) {\n\t\t\t\t\t_ui = cookies.tk_ai;\n\t\t\t\t} else {\n\t\t\t\t\tconst randomIdLength = 18; // 18 * 4/3 = 24 (base64 encoded chars).\n\t\t\t\t\t_ui = createRandomId( randomIdLength );\n\t\t\t\t\tdocument.cookie = cookie.serialize( 'tk_ai', _ui );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdebug( 'Loading /nostats.js', { _ut, _ui } );\n\t\treturn loadScript(\n\t\t\t'/nostats.js?_ut=' + encodeURIComponent( _ut ) + '&_ui=' + encodeURIComponent( _ui )\n\t\t);\n\t} );\n}\n\n/**\n * Returns a promise that marks whether and when the external Tracks script loads.\n */\nexport function getTracksLoadPromise() {\n\treturn _loadTracksResult;\n}\n\nexport function pushEventToTracksQueue( args: Array< any > ) {\n\tif ( typeof window !== 'undefined' ) {\n\t\twindow._tkq = window._tkq || [];\n\t\twindow._tkq.push( args );\n\t}\n}\n\nexport const analyticsEvents: EventEmitter = new EventEmitter();\n\n/**\n * Returns the anoymous id stored in the `tk_ai` cookie\n *\n * @returns The Tracks anonymous user id\n */\nexport function getTracksAnonymousUserId(): string {\n\tconst cookies = cookie.parse( document.cookie );\n\n\treturn cookies.tk_ai;\n}\n\nexport function initializeAnalytics(\n\tcurrentUser: any | undefined,\n\tsuperProps: any\n): Promise< void > {\n\t// Update super props.\n\tif ( 'function' === typeof superProps ) {\n\t\tdebug( 'superProps', superProps );\n\t\t_superProps = superProps;\n\t}\n\n\t// Identify current user.\n\tif ( 'object' === typeof currentUser ) {\n\t\tdebug( 'identifyUser', currentUser );\n\t\tidentifyUser( currentUser );\n\t}\n\n\t// Tracks blocked?\n\tdebug( 'checkForBlockedTracks' );\n\treturn checkForBlockedTracks();\n}\n\nexport function identifyUser( userData: any ): any {\n\t// Ensure object.\n\tif ( 'object' !== typeof userData ) {\n\t\tdebug( 'Invalid userData.', userData );\n\t\treturn; // Not possible.\n\t}\n\n\t// Set current user.\n\tconst currentUser = setCurrentUser( userData );\n\tif ( ! currentUser ) {\n\t\tdebug( 'Insufficient userData.', userData );\n\t\treturn; // Not possible.\n\t}\n\n\t// Tracks user identification.\n\tdebug( 'Tracks identifyUser.', currentUser );\n\tpushEventToTracksQueue( [ 'identifyUser', currentUser.ID, currentUser.username ] );\n}\n\nexport function recordTracksEvent( eventName: string, eventProperties?: any ) {\n\teventProperties = eventProperties || {};\n\n\tif ( process.env.NODE_ENV !== 'production' && typeof console !== 'undefined' ) {\n\t\tif (\n\t\t\t! /^calypso(?:_[a-z0-9]+){2,}$/.test( eventName ) &&\n\t\t\t! includes( EVENT_NAME_EXCEPTIONS, eventName )\n\t\t) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(\n\t\t\t\t'Tracks: Event `%s` will be ignored because it does not match /^calypso(?:_[a-z0-9]+){2,}$/ and is ' +\n\t\t\t\t\t'not a listed exception. Please use a compliant event name.',\n\t\t\t\teventName\n\t\t\t);\n\t\t}\n\n\t\tfor ( const key in eventProperties ) {\n\t\t\tif ( eventProperties[ key ] !== null && typeof eventProperties[ key ] === 'object' ) {\n\t\t\t\tconst errorMessage =\n\t\t\t\t\t`Tracks: Unable to record event \"${ eventName }\" because nested ` +\n\t\t\t\t\t`properties are not supported by Tracks. Check '${ key }' on`;\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error( errorMessage, eventProperties );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! /^[a-z_][a-z0-9_]*$/.test( key ) ) {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Tracks: Event `%s` will be rejected because property name `%s` does not match /^[a-z_][a-z0-9_]*$/. ' +\n\t\t\t\t\t\t'Please use a compliant property name.',\n\t\t\t\t\teventName,\n\t\t\t\t\tkey\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif ( TRACKS_SPECIAL_PROPS_NAMES.indexOf( key ) !== -1 ) {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"Tracks: Event property `%s` will be overwritten because it uses one of Tracks' internal prop name: %s. \" +\n\t\t\t\t\t\t'Please use another property name.',\n\t\t\t\t\tkey,\n\t\t\t\t\tTRACKS_SPECIAL_PROPS_NAMES.join( ', ' )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tdebug( 'Record event \"%s\" called with props %o', eventName, eventProperties );\n\n\tif ( ! eventName.startsWith( 'calypso_' ) && ! includes( EVENT_NAME_EXCEPTIONS, eventName ) ) {\n\t\tdebug( '- Event name must be prefixed by \"calypso_\" or added to `EVENT_NAME_EXCEPTIONS`' );\n\t\treturn;\n\t}\n\n\tif ( _superProps ) {\n\t\tconst superProperties = _superProps( eventProperties );\n\t\teventProperties = { ...eventProperties, ...superProperties }; // assign to a new object so we don't modify the argument\n\t}\n\n\t// Remove properties that have an undefined value\n\t// This allows a caller to easily remove properties from the recorded set by setting them to undefined\n\teventProperties = omitBy( eventProperties, ( prop ) => typeof prop === 'undefined' );\n\n\tdebug( 'Recording event \"%s\" with actual props %o', eventName, eventProperties );\n\n\tpushEventToTracksQueue( [ 'recordEvent', eventName, eventProperties ] );\n\tanalyticsEvents.emit( 'record-event', eventName, eventProperties );\n}\n\nexport function recordTracksPageView( urlPath: string, params: any ) {\n\tdebug( 'Recording pageview in tracks.', urlPath, params );\n\n\tlet eventProperties = {\n\t\tdo_not_track: getDoNotTrack() ? 1 : 0,\n\t\tpath: urlPath,\n\t};\n\n\t// Add calypso build timestamp if set\n\tconst build_timestamp = typeof window !== 'undefined' && window.BUILD_TIMESTAMP;\n\tif ( build_timestamp ) {\n\t\teventProperties = Object.assign( eventProperties, { build_timestamp } );\n\t}\n\n\t// add optional path params\n\tif ( params ) {\n\t\teventProperties = Object.assign( eventProperties, params );\n\t}\n\n\t// Record all `utm` marketing parameters as event properties on the page view event\n\t// so we can analyze their performance with our analytics tools\n\tif ( typeof window !== 'undefined' && window.location ) {\n\t\tconst urlParams = new URL( window.location.href ).searchParams;\n\t\tconst utmParamEntries =\n\t\t\turlParams &&\n\t\t\tArray.from( urlParams.entries() ).filter( ( [ key ] ) => key.startsWith( 'utm_' ) );\n\t\tconst utmParams = utmParamEntries ? Object.fromEntries( utmParamEntries ) : {};\n\n\t\teventProperties = Object.assign( eventProperties, utmParams );\n\t}\n\n\trecordTracksEvent( 'calypso_page_view', eventProperties );\n}\n\nexport function recordTracksPageViewWithPageParams( urlPath: string, params?: any ) {\n\tconst pageViewParams = getPageViewParams( urlPath );\n\trecordTracksPageView( urlPath, Object.assign( params || {}, pageViewParams ) );\n}\n","import hashPii from './hash-pii';\n\n/**\n * Module variables\n */\nlet _currentUser: CurrentUser;\n\nexport interface SetCurrentUserParams {\n\tID: string;\n\tusername: string;\n\temail: string;\n}\n\nexport interface CurrentUserHashedPii {\n\tID: string;\n\tusername: string;\n\temail: string;\n}\n\nexport interface CurrentUser {\n\tID: number;\n\tusername: string;\n\temail: string;\n\thashedPii: CurrentUserHashedPii;\n}\n\n/**\n * Gets current user.\n *\n * @returns Current user.\n */\nexport function getCurrentUser(): CurrentUser {\n\treturn _currentUser;\n}\n\n/**\n * Sets current user, (stored in javascript memory).\n *\n * @param currentUser the user data for the current user\n * @returns Current user.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function setCurrentUser( currentUser: SetCurrentUserParams ): CurrentUser | undefined {\n\tif (\n\t\t! currentUser.ID ||\n\t\tisNaN( parseInt( currentUser.ID, 10 ) ) ||\n\t\t! currentUser.username ||\n\t\t! currentUser.email\n\t) {\n\t\treturn; // Invalid user data.\n\t}\n\t_currentUser = {\n\t\tID: parseInt( currentUser.ID, 10 ),\n\t\tusername: currentUser.username,\n\t\temail: currentUser.email,\n\t\thashedPii: {\n\t\t\tID: hashPii( currentUser.ID ),\n\t\t\tusername: hashPii( currentUser.username.toLowerCase().replace( /\\s/g, '' ) ),\n\t\t\temail: hashPii( currentUser.email.toLowerCase().replace( /\\s/g, '' ) ),\n\t\t},\n\t};\n\treturn _currentUser;\n}\n","import debugFactory from 'debug';\n\n/**\n * Module variables\n */\nexport default debugFactory( 'calypso:analytics' );\n","import debug from './debug';\n\n/**\n * Whether Do Not Track is enabled in the user's browser.\n *\n * @returns true if Do Not Track is enabled in the user's browser.\n */\nexport default function getDoNotTrack(): boolean {\n\tconst result = Boolean(\n\t\ttypeof window !== 'undefined' &&\n\t\t\t// Internet Explorer 11 uses window.doNotTrack rather than navigator.doNotTrack.\n\t\t\t// Safari 7.1.3+ uses window.doNotTrack rather than navigator.doNotTrack.\n\t\t\t// MDN ref: https://developer.mozilla.org/en-US/docs/Web/API/navigator/doNotTrack#Browser_compatibility\n\t\t\t( window.doNotTrack === '1' || ( window.navigator && window.navigator.doNotTrack === '1' ) )\n\t);\n\tdebug( `Do Not Track: ${ result }` );\n\treturn result;\n}\n","import sha256 from 'hash.js/lib/hash/sha/256';\n\n/**\n * Hashes users' Personally Identifiable Information using SHA256\n *\n * @param data Data to be hashed\n * @returns SHA256 in hex string format\n */\nexport default function hashPii( data: string | number ): string {\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\treturn ( sha256() as any ).update( data.toString() ).digest( 'hex' );\n}\n","import type { ConfigData } from '@automattic/create-calypso-config';\n\n// TODO: Revisit whether it is useful for the Desktop app to override the following properties:\n// signup_url, login_url, logout_url and discover_logged_out_redirect_url\n\nconst config = {\n\tenv: 'production',\n\tenv_id: 'desktop',\n\tclient_slug: 'desktop',\n\treaderFollowingSource: 'desktop',\n\tboom_analytics_key: 'desktop',\n\tgoogle_recaptcha_site_key: '6LdoXcAUAAAAAM61KvdgP8xwnC19YuzAiOWn5Wtn',\n};\n\nconst features = {\n\tdesktop: true,\n\t'desktop-promo': false,\n\t'sign-in-with-apple': false,\n\t// Note: there is also a sign-in-with-apple/redirect flag\n\t// that may/may not be relevant to override for the Desktop app.\n\t'signup/social': false,\n\t'login/magic-login': false,\n\t'bilmur-script': false,\n};\n\nexport default ( data: ConfigData ): ConfigData => {\n\tdata = Object.assign( data, config );\n\tif ( data.features ) {\n\t\tdata.features = Object.assign( data.features, features );\n\t}\n\tif ( window.electron && window.electron.features ) {\n\t\tdata.features = Object.assign( data.features, window.electron.features );\n\t}\n\n\treturn data;\n};\n","import createConfig from '@automattic/create-calypso-config';\nimport cookie from 'cookie';\nimport desktopOverride from './desktop';\nimport type { ConfigData } from '@automattic/create-calypso-config';\n\ndeclare global {\n\tinterface Window {\n\t\tconfigData: ConfigData;\n\t\telectron: any; // eslint-disable-line @typescript-eslint/no-explicit-any\n\t}\n}\n\n/**\n * Manages config flags for various deployment builds\n *\n * @module config/index\n */\nif ( 'undefined' === typeof window || ! window.configData ) {\n\tthrow new ReferenceError(\n\t\t'No configuration was found: please see packages/calypso-config/README.md for more information'\n\t);\n}\n\nconst isDesktop = window.electron !== undefined;\n\nlet configData: ConfigData;\n\nif ( isDesktop ) {\n\tconfigData = desktopOverride( window.configData );\n} else {\n\tconfigData = window.configData;\n}\n\n// calypso.live matches\n// hash-abcd1234.calypso.live matches\n// calypso.live.com doesn't match\nconst CALYPSO_LIVE_REGEX = /^([a-zA-Z0-9-]+\\.)?calypso\\.live$/;\n\n// check if the current browser location is *.calypso.live\nexport function isCalypsoLive(): boolean {\n\treturn typeof window !== 'undefined' && CALYPSO_LIVE_REGEX.test( window.location.host );\n}\n\nfunction applyFlags( flagsString: string, modificationMethod: string ) {\n\tconst flags = flagsString.split( ',' );\n\tflags.forEach( ( flagRaw ) => {\n\t\tconst flag = flagRaw.replace( /^[-+]/, '' );\n\t\tconst enabled = ! /^-/.test( flagRaw );\n\t\tif ( configData.features ) {\n\t\t\tconfigData.features[ flag ] = enabled;\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.log(\n\t\t\t\t'%cConfig flag %s via %s: %s',\n\t\t\t\t'font-weight: bold;',\n\t\t\t\tenabled ? 'enabled' : 'disabled',\n\t\t\t\tmodificationMethod,\n\t\t\t\tflag\n\t\t\t);\n\t\t}\n\t} );\n}\n\nconst flagEnvironments = [ 'wpcalypso', 'horizon', 'stage', 'jetpack-cloud-stage' ];\n\nif (\n\tprocess.env.NODE_ENV === 'development' ||\n\tflagEnvironments.includes( configData.env_id ) ||\n\tisCalypsoLive()\n) {\n\tconst cookies = cookie.parse( document.cookie );\n\tif ( cookies.flags ) {\n\t\tapplyFlags( cookies.flags, 'cookie' );\n\t}\n\n\tconst session = window.sessionStorage.getItem( 'flags' );\n\tif ( session ) {\n\t\tapplyFlags( session, 'sessionStorage' );\n\t}\n\n\tconst match =\n\t\tdocument.location.search && document.location.search.match( /[?&]flags=([^&]+)(&|$)/ );\n\tif ( match ) {\n\t\tapplyFlags( decodeURIComponent( match[ 1 ] ), 'URL' );\n\t}\n}\nconst configApi = createConfig( configData );\nexport default configApi;\nexport const isEnabled = configApi.isEnabled;\nexport const enabledFeatures = configApi.enabledFeatures;\nexport const enable = configApi.enable;\nexport const disable = configApi.disable;\n","export const GOOGLE_WORKSPACE_BUSINESS_STARTER_MONTHLY =\n\t'wp_google_workspace_business_starter_monthly';\nexport const GOOGLE_WORKSPACE_BUSINESS_STARTER_YEARLY =\n\t'wp_google_workspace_business_starter_yearly';\nexport const GSUITE_BASIC_SLUG = 'gapps';\nexport const GSUITE_BUSINESS_SLUG = 'gapps_unlimited';\nexport const GSUITE_EXTRA_LICENSE_SLUG = 'gapps_extra_license';\n","import { GSUITE_BASIC_SLUG, GSUITE_BUSINESS_SLUG } from './constants';\n\n/**\n * Determines whether the specified product slug is for G Suite Basic or Business.\n *\n * @param {string} productSlug - slug of the product\n * @returns {boolean} true if the slug refers to G Suite Basic or Business, false otherwise\n */\nexport function isGSuiteProductSlug( productSlug: string ): boolean {\n\treturn [ GSUITE_BASIC_SLUG, GSUITE_BUSINESS_SLUG ].includes( productSlug );\n}\n","import { determineUrlType, URL_TYPE } from './url-type';\n\nconst BASE_URL = 'http://__domain__.invalid/';\n\n/**\n * Format a URL as a particular type.\n * Does not support formatting invalid or path-relative URLs.\n *\n * @param url The URL to format.\n * @param urlType The URL type into which to format. If not provided, defaults to the same type as\n *                `url`, which effectively results in the URL being normalized.\n *\n * @returns The formatted URL.\n */\nexport default function format(\n\turl: string | URL,\n\turlType?: Exclude< URL_TYPE, URL_TYPE.INVALID | URL_TYPE.PATH_RELATIVE >\n): string {\n\tlet parsed: URL;\n\tlet originalType: URL_TYPE;\n\n\tif ( ! ( url instanceof URL ) && typeof url !== 'string' ) {\n\t\tthrow new Error( '`url` should be a string or URL instance' );\n\t}\n\n\tif ( url instanceof URL ) {\n\t\t// The native URL object can only represent absolute URLs.\n\t\tparsed = url;\n\t\toriginalType = URL_TYPE.ABSOLUTE;\n\t} else {\n\t\toriginalType = determineUrlType( url );\n\n\t\tif ( originalType === URL_TYPE.INVALID ) {\n\t\t\tthrow new Error( 'Cannot format an invalid URL.' );\n\t\t}\n\n\t\tif ( originalType === URL_TYPE.PATH_RELATIVE ) {\n\t\t\tthrow new Error( 'Cannot format path-relative URLs.' );\n\t\t}\n\n\t\tparsed = new URL( url as string, BASE_URL );\n\t}\n\n\tif ( urlType === undefined ) {\n\t\turlType = originalType;\n\t}\n\n\tswitch ( urlType as URL_TYPE ) {\n\t\tcase URL_TYPE.PATH_RELATIVE:\n\t\t\tthrow new Error( 'Cannot format into path-relative URLs.' );\n\n\t\tcase URL_TYPE.PATH_ABSOLUTE:\n\t\t\treturn parsed.href.replace( parsed.origin, '' );\n\n\t\tcase URL_TYPE.SCHEME_RELATIVE:\n\t\t\tif ( originalType === URL_TYPE.PATH_ABSOLUTE ) {\n\t\t\t\tthrow new Error( 'Cannot format a path-absolute URL as a scheme-relative URL.' );\n\t\t\t}\n\t\t\treturn parsed.href.replace( parsed.protocol, '' );\n\n\t\tcase URL_TYPE.ABSOLUTE:\n\t\t\tif ( originalType !== URL_TYPE.ABSOLUTE ) {\n\t\t\t\tthrow new Error( 'Cannot format a partial URL as an absolute URL.' );\n\t\t\t}\n\t\t\treturn parsed.href;\n\n\t\tdefault:\n\t\t\tthrow new Error( `Cannot format as \\`${ urlType }\\` URL type.` );\n\t}\n}\n","import { determineUrlType, URL_TYPE } from './url-type';\n\nconst BASE_URL = `http://__domain__.invalid`;\n\ninterface UrlParts {\n\tprotocol: string;\n\thost: string;\n\thostname: string;\n\tport: string;\n\torigin: string;\n\tpathname: string;\n\thash: string;\n\tsearch: string;\n\tsearchParams: URLSearchParams;\n\tusername: string;\n\tpassword: string;\n}\n\ninterface OptionalUrlParts {\n\tprotocol?: string;\n\thost?: string;\n\thostname?: string;\n\tport?: string;\n\torigin?: string;\n\tpathname?: string;\n\thash?: string;\n\tsearch?: string;\n\tsearchParams?: URLSearchParams;\n\tusername?: string;\n\tpassword?: string;\n}\n\ntype UrlPartKey = keyof UrlParts;\n\nconst EMPTY_URL: Readonly< UrlParts > = Object.freeze( {\n\tprotocol: '',\n\thost: '',\n\thostname: '',\n\tport: '',\n\torigin: '',\n\tpathname: '',\n\thash: '',\n\tsearch: '',\n\tsearchParams: new URLSearchParams(),\n\tusername: '',\n\tpassword: '',\n} );\n\nconst URL_PART_KEYS = Object.keys( EMPTY_URL ) as UrlPartKey[];\n\nfunction pickUrlParts(\n\tparsedUrl: URL | undefined,\n\tinclude: UrlPartKey[] = URL_PART_KEYS\n): UrlParts {\n\tconst pickedUrl = { ...EMPTY_URL };\n\n\tinclude.forEach( < T extends UrlPartKey >( name: T ) => {\n\t\tpickedUrl[ name ] = parsedUrl?.[ name ] ?? EMPTY_URL[ name ];\n\t} );\n\n\treturn pickedUrl;\n}\n\n/**\n * Returns the various available URL parts.\n *\n * @param url the URL to analyze\n *\n * @returns   the URL parts\n */\nexport function getUrlParts( url: string | URL ): UrlParts {\n\tconst urlType = determineUrlType( url );\n\n\t// Invalid URL; return empty URL parts.\n\tif ( urlType === URL_TYPE.INVALID ) {\n\t\treturn { ...EMPTY_URL };\n\t}\n\n\tconst parsed = url instanceof URL ? url : new URL( url, BASE_URL );\n\n\t// Absolute URL; pick all parts.\n\tif ( urlType === URL_TYPE.ABSOLUTE ) {\n\t\treturn pickUrlParts( parsed );\n\t}\n\n\t// Scheme-relative URL; pick everything except the protocol and origin.\n\tif ( urlType === URL_TYPE.SCHEME_RELATIVE ) {\n\t\treturn pickUrlParts(\n\t\t\tparsed,\n\t\t\tURL_PART_KEYS.filter( ( item ) => item !== 'protocol' && item !== 'origin' )\n\t\t);\n\t}\n\n\t// Path-absolute or path-relative URL; pick only a few parts.\n\tconst pathPartKeys: UrlPartKey[] = [ 'pathname', 'hash', 'search', 'searchParams' ];\n\tconst pathParts = pickUrlParts( parsed, pathPartKeys );\n\n\t// Path-relative URLs require special handling, because they cannot be transformed\n\t// into an absolute URL without potentially losing path information.\n\t// E.g. `../foo?bar=baz` becomes `<base>/foo?bar=baz` when fed to `new URL()`\n\t// with a base, losing the traversal into the parent directory.\n\t// We need to handle these with string functions instead.\n\tif ( urlType === URL_TYPE.PATH_RELATIVE ) {\n\t\tpathParts.pathname = ( url as string ).split( /[?#]/, 1 )[ 0 ];\n\t}\n\n\treturn pathParts;\n}\n\n/**\n * Returns a URL object built from the provided URL parts.\n *\n * @param parts the provided URL parts.\n *\n * @returns the generated URL object.\n */\nexport function getUrlFromParts( parts: OptionalUrlParts ): URL {\n\tif ( ! parts?.protocol && ! parts?.origin ) {\n\t\tthrow new Error( 'getUrlFromParts: protocol missing.' );\n\t}\n\n\tif ( ! parts.host && ! parts.hostname && ! parts.origin ) {\n\t\tthrow new Error( 'getUrlFromParts: host missing.' );\n\t}\n\n\tconst result = new URL( BASE_URL );\n\n\t// Apply 'origin' first, since it includes protocol, hostname, and port.\n\tif ( parts.origin ) {\n\t\ttry {\n\t\t\tconst origin = new URL( parts.origin );\n\t\t\tresult.host = origin.host;\n\t\t\tresult.protocol = origin.protocol;\n\t\t} catch {\n\t\t\tthrow new Error( 'getUrlFromParts: invalid origin.' );\n\t\t}\n\t}\n\n\t// Apply 'host' next, since it includes both hostname and port.\n\tresult.host = parts.host || result.host;\n\n\t// Apply 'searchParams' object if it's specified.\n\tif ( parts.searchParams?.toString ) {\n\t\tresult.search = parts.searchParams.toString();\n\t}\n\n\tfor ( const part of URL_PART_KEYS ) {\n\t\tif ( part !== 'host' && part !== 'origin' && part !== 'searchParams' ) {\n\t\t\tconst value = parts[ part ];\n\t\t\t// Avoid some implementation bugs, e.g. https://bugs.webkit.org/show_bug.cgi?id=127958.\n\t\t\tif ( value && value !== result[ part ] ) {\n\t\t\t\tresult[ part ] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n","// For complete definitions of these classifications, see:\n// https://url.spec.whatwg.org/#urls\nexport enum URL_TYPE {\n\t// A complete URL, with (at least) protocol and host.\n\t// E.g. `http://example.com` or `http://example.com/path`\n\tABSOLUTE = 'ABSOLUTE',\n\t// A URL with no protocol, but with a host.\n\t// E.g. `//example.com` or `//example.com/path`\n\tSCHEME_RELATIVE = 'SCHEME_RELATIVE',\n\t// A URL with no protocol or host, but with a path starting at the root.\n\t// E.g. `/` or `/path`\n\tPATH_ABSOLUTE = 'PATH_ABSOLUTE',\n\t// A URL with no protocol or host, but with a path relative to the current resource.\n\t// E.g. `../foo` or `bar`\n\tPATH_RELATIVE = 'PATH_RELATIVE',\n\t// Any invalid URL.\n\t// E.g. `///`\n\tINVALID = 'INVALID',\n}\n\nconst BASE_HOSTNAME = '__domain__.invalid';\nconst BASE_URL = `http://${ BASE_HOSTNAME }`;\n\n/**\n * Determine the type of a URL, with regards to its completeness.\n *\n * @param url the URL to analyze\n *\n * @returns the type of the URL\n */\nexport function determineUrlType( url: string | URL ): URL_TYPE {\n\t// Check for expected parameter types.\n\tif ( ! ( url instanceof URL ) && typeof url !== 'string' ) {\n\t\treturn URL_TYPE.INVALID;\n\t}\n\n\t// As a URL, the empty string means \"the current resource\".\n\tif ( url === '' ) {\n\t\treturn URL_TYPE.PATH_RELATIVE;\n\t}\n\n\t// The native URL object can only represent absolute URLs.\n\tif ( url instanceof URL ) {\n\t\treturn URL_TYPE.ABSOLUTE;\n\t}\n\n\tlet parsed;\n\n\ttry {\n\t\t// If we can parse the URL without a base, it's an absolute URL.\n\t\t// The polyfill works differently, however, so we need to take that into account.\n\t\t// See https://github.com/webcomponents/polyfills/issues/241\n\t\tparsed = new URL( url );\n\t\tif ( parsed.protocol && parsed.protocol !== ':' ) {\n\t\t\treturn URL_TYPE.ABSOLUTE;\n\t\t}\n\t} catch {\n\t\t// Do nothing.\n\t}\n\n\ttry {\n\t\tparsed = new URL( url, BASE_URL );\n\t} catch {\n\t\t// If it can't be parsed even with a base URL, it's an invalid URL.\n\t\treturn URL_TYPE.INVALID;\n\t}\n\n\t// The polyfill sometimes doesn't throw an exception for invalid URLs, instead\n\t// leaving the `pathname` blank (which it shouldn't be, at this point).\n\tif ( parsed.pathname === '' ) {\n\t\treturn URL_TYPE.INVALID;\n\t}\n\n\t// If we couldn't parse it without a base, but it didn't take the hostname we provided, that means\n\t// it's a protocol-relative URL.\n\tif ( parsed.hostname !== BASE_HOSTNAME ) {\n\t\treturn URL_TYPE.SCHEME_RELATIVE;\n\t}\n\n\t// Otherwise, it's a relative URL of some sort.\n\tif ( url.startsWith( '/' ) ) {\n\t\treturn URL_TYPE.PATH_ABSOLUTE;\n\t}\n\treturn URL_TYPE.PATH_RELATIVE;\n}\n","import classnames from 'classnames';\nimport { forwardRef } from 'react';\nimport type {\n\tRef,\n\tForwardRefRenderFunction,\n\tAnchorHTMLAttributes,\n\tButtonHTMLAttributes,\n} from 'react';\nimport type { NonUndefined } from 'utility-types';\n\nimport './style.scss';\nexport interface OwnProps {\n\tclassName?: string;\n\tcompact?: boolean;\n\tprimary?: boolean;\n\tscary?: boolean;\n\tbusy?: boolean;\n\tborderless?: boolean;\n\tplain?: boolean;\n}\n\ntype AnchorElementProps = AnchorHTMLAttributes< HTMLAnchorElement >;\n\ntype AnchorProps = OwnProps &\n\tAnchorElementProps & {\n\t\thref: NonUndefined< AnchorElementProps[ 'href' ] >;\n\t};\n\ntype ButtonProps = OwnProps & Omit< ButtonHTMLAttributes< HTMLButtonElement >, 'href' >;\n\nconst isAnchor = ( props: AnchorProps | ButtonProps ): props is AnchorProps =>\n\t!! ( props as AnchorProps ).href;\n\nconst cleanAnchorProps = ( {\n\ttype,\n\tborderless,\n\tbusy,\n\tclassName,\n\tcompact,\n\tprimary,\n\tscary,\n\tplain,\n\t...anchorProps\n}: ButtonProps | AnchorProps ): AnchorProps => anchorProps as AnchorProps;\n\nconst cleanButtonProps = ( {\n\ttype = 'button',\n\tborderless,\n\tbusy,\n\tclassName,\n\tcompact,\n\tprimary,\n\tscary,\n\tplain,\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore Clean incorrect usage of the component\n\trel,\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore Clean incorrect usage of the component\n\thref,\n\t// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n\t// @ts-ignore Clean incorrect usage of the component\n\ttarget,\n\t...buttonProps\n}: ButtonProps | AnchorProps ): ButtonProps => ( { ...buttonProps, type } as ButtonProps );\n\nconst Button: ForwardRefRenderFunction<\n\tHTMLButtonElement | HTMLAnchorElement,\n\tButtonProps | AnchorProps\n> = ( props, ref ) => {\n\tconst classes = props.plain\n\t\t? classnames( 'button-plain', props.className )\n\t\t: classnames( 'button', props.className, {\n\t\t\t\t'is-compact': props.compact,\n\t\t\t\t'is-primary': props.primary,\n\t\t\t\t'is-scary': props.scary,\n\t\t\t\t'is-busy': props.busy,\n\t\t\t\t'is-borderless': props.borderless,\n\t\t  } );\n\n\tif ( isAnchor( props ) ) {\n\t\tconst anchorProps = cleanAnchorProps( props );\n\t\t// block referrers when external link\n\t\tconst rel: string | undefined = anchorProps.target\n\t\t\t? ( anchorProps.rel || '' ).replace( /noopener|noreferrer/g, '' ) + ' noopener noreferrer'\n\t\t\t: anchorProps.rel;\n\n\t\treturn (\n\t\t\t<a\n\t\t\t\t{ ...anchorProps }\n\t\t\t\trel={ rel }\n\t\t\t\tclassName={ classes }\n\t\t\t\tref={ ref as Ref< HTMLAnchorElement > }\n\t\t\t/>\n\t\t);\n\t}\n\n\tconst buttonProps = cleanButtonProps( props );\n\treturn (\n\t\t<button { ...buttonProps } className={ classes } ref={ ref as Ref< HTMLButtonElement > } />\n\t);\n};\n\nconst ButtonWithForwardedRef = forwardRef( Button );\n\nButtonWithForwardedRef.defaultProps = {\n\ttype: 'button',\n};\n\nexport default ButtonWithForwardedRef;\n","import classNames from 'classnames';\nimport { createElement, forwardRef, memo } from 'react';\nimport Gridicon from '../gridicon';\nimport type { ElementType, ComponentProps, ReactNode, Ref } from 'react';\n\nimport './style.scss';\n\nexport type TagName< P = any > = ElementType< P >; // eslint-disable-line @typescript-eslint/no-explicit-any\n\ntype OwnProps = {\n\tclassName?: string;\n\tdisplayAsLink?: boolean;\n\thref?: string;\n\ttarget?: string;\n\tcompact?: boolean;\n\thighlight?: 'error' | 'info' | 'success' | 'warning';\n};\n\ntype ElementProps< P, T extends TagName > = P &\n\tOmit< ComponentProps< T >, 'tagName' | keyof P > & {\n\t\ttagName?: T | keyof JSX.IntrinsicElements;\n\t\tchildren?: ReactNode;\n\t};\n\nexport type Props< T extends TagName > = ElementProps< OwnProps, T >;\n\nconst Card = < T extends TagName = 'div' >(\n\t{\n\t\tchildren,\n\t\tclassName,\n\t\tcompact,\n\t\tdisplayAsLink,\n\t\thighlight,\n\t\ttagName = 'div',\n\t\thref,\n\t\ttarget,\n\t\t...props\n\t}: Props< T >,\n\tforwardedRef: Ref< any > // eslint-disable-line @typescript-eslint/no-explicit-any\n) => {\n\tconst elementClass = classNames(\n\t\t'card',\n\t\tclassName,\n\t\t{\n\t\t\t'is-card-link': displayAsLink || href,\n\t\t\t'is-clickable': props.onClick,\n\t\t\t'is-compact': compact,\n\t\t\t'is-highlight': highlight,\n\t\t},\n\t\thighlight ? 'is-' + highlight : false\n\t);\n\n\treturn href ? (\n\t\t<a { ...props } href={ href } target={ target } className={ elementClass } ref={ forwardedRef }>\n\t\t\t<Gridicon className=\"card__link-indicator\" icon={ target ? 'external' : 'chevron-right' } />\n\t\t\t{ children }\n\t\t</a>\n\t) : (\n\t\tcreateElement(\n\t\t\ttagName,\n\t\t\t{ ...props, className: elementClass, ref: forwardedRef },\n\t\t\tdisplayAsLink && (\n\t\t\t\t<Gridicon className=\"card__link-indicator\" icon={ target ? 'external' : 'chevron-right' } />\n\t\t\t),\n\t\t\tchildren\n\t\t)\n\t);\n};\n\nconst ForwardedRefCard = forwardRef( Card );\nForwardedRefCard.displayName = 'Card';\n\nexport default memo( ForwardedRefCard );\n","import classnames from 'classnames';\nimport {\n\ticonsThatNeedOffset,\n\ticonsThatNeedOffsetX,\n\ticonsThatNeedOffsetY,\n} from 'gridicons/dist/util/icons-offset';\nimport spritePath from 'gridicons/svg-sprite/gridicons.svg';\nimport * as React from 'react';\nimport type { ReactNode } from 'react';\nimport type { Assign } from 'utility-types';\n\ninterface Props {\n\ticon: string;\n\tsize?: number;\n\ttitle?: ReactNode;\n}\n\ntype AllProps = Assign< React.SVGProps< SVGSVGElement >, Props >;\n\nconst Gridicon = React.memo(\n\tReact.forwardRef< SVGSVGElement, AllProps >( ( props: AllProps, ref ) => {\n\t\tconst { size = 24, icon, className, title, ...otherProps } = props;\n\t\tconst isModulo18 = size % 18 === 0;\n\n\t\t// Using a missing icon doesn't produce any errors, just a blank icon, which is the exact intended behaviour.\n\t\t// This means we don't need to perform any checks on the icon name.\n\t\tconst iconName = `gridicons-${ icon }`;\n\n\t\tconst iconClass = classnames( 'gridicon', iconName, className, {\n\t\t\t'needs-offset': isModulo18 && iconsThatNeedOffset.includes( iconName ),\n\t\t\t'needs-offset-x': isModulo18 && iconsThatNeedOffsetX.includes( iconName ),\n\t\t\t'needs-offset-y': isModulo18 && iconsThatNeedOffsetY.includes( iconName ),\n\t\t} );\n\n\t\treturn (\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tclassName={ iconClass }\n\t\t\t\theight={ size }\n\t\t\t\twidth={ size }\n\t\t\t\tref={ ref }\n\t\t\t\t{ ...otherProps }\n\t\t\t>\n\t\t\t\t{ title && <title>{ title }</title> }\n\t\t\t\t<use xlinkHref={ `${ spritePath }#${ iconName }` } />\n\t\t\t</svg>\n\t\t);\n\t} )\n);\n\nGridicon.displayName = 'Gridicon';\n\nexport default Gridicon;\n","import './style.scss';\n\nexport default function ScreenReaderText( { children } ) {\n\treturn <span className=\"screen-reader-text\">{ children }</span>;\n}\n","export type ConfigValue = string | boolean | number;\n\nexport type ConfigData = Record< string, any > & {\n\tfeatures?: Record< string, boolean >;\n};\n/**\n * Returns configuration value for given key\n *\n * If the requested key isn't defined in the configuration\n * data then this will report the failure with either an\n * error or a console warning.\n *\n * When in the 'development' NODE_ENV it will raise an error\n * to crash execution early. However, because many modules\n * call this function in the module-global scope a failure\n * here can not only crash that module but also entire\n * application flows as well as trigger unexpected and\n * unwanted behaviors. Therefore if the NODE_ENV is not\n * 'development' we will return `undefined` and log a message\n * to the console instead of halting the execution thread.\n *\n * The config files are loaded in sequence: _shared.json, {env}.json, {env}.local.json\n *\n * @see server/config/parser.js\n * @param data Configurat data.\n * @throws {ReferenceError} when key not defined in the config (NODE_ENV=development only)\n * @returns A function that gets the value of property named by the key\n */\nconst config =\n\t( data: ConfigData ) =>\n\t< T >( key: string ): T | undefined => {\n\t\tif ( key in data ) {\n\t\t\treturn data[ key ] as T;\n\t\t}\n\n\t\tif ( 'development' === process.env.NODE_ENV ) {\n\t\t\tthrow new ReferenceError(\n\t\t\t\t`Could not find config value for key '${ key }'\\n` +\n\t\t\t\t\t\"Please make sure that if you need it then it has a default value assigned in 'config/_shared.json'\"\n\t\t\t);\n\t\t}\n\n\t\t// display console error only in a browser\n\t\t// (not in tests, for example)\n\t\tif ( 'undefined' !== typeof window ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(\n\t\t\t\t'%cCore Error: ' +\n\t\t\t\t\t`%cCould not find config value for key %c${ key }%c. ` +\n\t\t\t\t\t'Please make sure that if you need it then it has a default value assigned in ' +\n\t\t\t\t\t'%cconfig/_shared.json' +\n\t\t\t\t\t'%c.',\n\t\t\t\t'color: red; font-size: 120%', // error prefix\n\t\t\t\t'color: black;', // message\n\t\t\t\t'color: blue;', // key name\n\t\t\t\t'color: black;', // message\n\t\t\t\t'color: blue;', // config file reference\n\t\t\t\t'color: black' // message\n\t\t\t);\n\t\t}\n\n\t\treturn undefined;\n\t};\n\n/**\n * Checks whether a specific feature is enabled.\n *\n * @param data the json environment configuration to use for getting config values\n * @returns A function that takes a feature name and returns true when the feature is enabled.\n */\nconst isEnabled =\n\t( data: ConfigData ) =>\n\t( feature: string ): boolean =>\n\t\t( data.features && !! data.features[ feature ] ) || false;\n\n/**\n * Gets a list of all enabled features.\n *\n * @param data A set of config data (Not used by general users, is pre-filled via currying).\n * @returns List of enabled features (strings).\n */\nconst enabledFeatures = ( data: ConfigData ) => (): string[] => {\n\tif ( ! data.features ) {\n\t\treturn [];\n\t}\n\treturn Object.entries( data.features ).reduce(\n\t\t( enabled, [ feature, isEnabled ] ) => ( isEnabled ? [ ...enabled, feature ] : enabled ),\n\t\t[] as string[]\n\t);\n};\n\n/**\n * Enables a specific feature.\n *\n * @param data the json environment configuration to use for getting config values\n */\nconst enable = ( data: ConfigData ) => ( feature: string ) => {\n\tif ( data.features ) {\n\t\tdata.features[ feature ] = true;\n\t}\n};\n\n/**\n * Disables a specific feature.\n *\n * @param data the json environment configuration to use for getting config values\n */\n\nconst disable = ( data: ConfigData ) => ( feature: string ) => {\n\tif ( data.features ) {\n\t\tdata.features[ feature ] = false;\n\t}\n};\n\nexport interface ConfigApi {\n\t< T >( key: string ): T;\n\tisEnabled: ( feature: string ) => boolean;\n\tenabledFeatures: () => string[];\n\tenable: ( feature: string ) => void;\n\tdisable: ( feature: string ) => void;\n}\n\nexport default ( data: ConfigData ): ConfigApi => {\n\tconst configApi = config( data ) as ConfigApi;\n\tconfigApi.isEnabled = isEnabled( data );\n\tconfigApi.enabledFeatures = enabledFeatures( data );\n\tconfigApi.enable = enable( data );\n\tconfigApi.disable = disable( data );\n\n\treturn configApi;\n};\n","export const setShowHelpCenter = ( show: boolean ) => {\n\treturn {\n\t\ttype: 'HELP_CENTER_SET_SHOW',\n\t\tshow,\n\t};\n};\n\nexport type HelpCenterAction = ReturnType< typeof setShowHelpCenter >;\n","export const STORE_KEY = 'automattic/help-center';\n","import { registerStore } from '@wordpress/data';\nimport { controls } from '@wordpress/data-controls';\nimport * as actions from './actions';\nimport { STORE_KEY } from './constants';\nimport reducer, { State } from './reducer';\nimport * as selectors from './selectors';\nexport type { State };\nimport type { SelectFromMap, DispatchFromMap } from '../mapped-types';\n\nexport function register(): typeof STORE_KEY {\n\tregisterStore< State >( STORE_KEY, {\n\t\tactions,\n\t\treducer: reducer as any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tcontrols,\n\t\tselectors,\n\t} );\n\n\treturn STORE_KEY;\n}\n\ndeclare module '@wordpress/data' {\n\tfunction dispatch( key: typeof STORE_KEY ): DispatchFromMap< typeof actions >;\n\tfunction select( key: typeof STORE_KEY ): SelectFromMap< typeof selectors >;\n}\n","import { combineReducers } from '@wordpress/data';\nimport type { HelpCenterAction } from './actions';\nimport type { Reducer } from 'redux';\n\nconst showHelpCenter: Reducer< boolean | undefined, HelpCenterAction > = ( state, action ) => {\n\tswitch ( action.type ) {\n\t\tcase 'HELP_CENTER_SET_SHOW':\n\t\t\treturn action.show;\n\t}\n\treturn state;\n};\n\nconst reducer = combineReducers( {\n\tshowHelpCenter,\n} );\n\nexport type State = ReturnType< typeof reducer >;\n\nexport default reducer;\n","import type { State } from './reducer';\n\nexport const isHelpCenterShown = ( state: State ) => state.showHelpCenter;\n","/**\n * External Dependencies\n */\nimport { useMobileBreakpoint } from '@automattic/viewport-react';\nimport { Card } from '@wordpress/components';\nimport { useI18n } from '@wordpress/react-i18n';\nimport classnames from 'classnames';\nimport { useState } from 'react';\nimport Draggable from 'react-draggable';\n/**\n * Internal Dependencies\n */\nimport HelpCenterContent from './help-center-content';\nimport HelpCenterFooter from './help-center-footer';\nimport HelpCenterHeader from './help-center-header';\nimport { Container } from './types';\n\nconst HelpCenterContainer: React.FC< Container > = ( {\n\tcontent,\n\thandleClose,\n\theaderText,\n\tfooterContent,\n} ) => {\n\tconst { __ } = useI18n();\n\tconst [ isMinimized, setIsMinimized ] = useState( false );\n\tconst [ isVisible, setIsVisible ] = useState( true );\n\tconst isMobile = useMobileBreakpoint();\n\tconst classNames = classnames( 'help-center__container', isMobile ? 'is-mobile' : 'is-desktop', {\n\t\t'is-minimized': isMinimized,\n\t} );\n\n\tconst onDismiss = () => {\n\t\tsetIsVisible( false );\n\t};\n\n\tconst toggleVisible = () => {\n\t\tif ( ! isVisible ) {\n\t\t\thandleClose();\n\t\t}\n\t};\n\n\tconst animationProps = {\n\t\tstyle: {\n\t\t\tanimation: `${ isVisible ? 'fadeIn' : 'fadeOut' } .5s`,\n\t\t},\n\t\tonAnimationEnd: toggleVisible,\n\t};\n\n\tconst header = isMinimized ? headerText ?? __( 'Help Center' ) : __( 'Help Center' );\n\n\tconst containerContent = (\n\t\t<>\n\t\t\t<HelpCenterHeader\n\t\t\t\tisMinimized={ isMinimized }\n\t\t\t\tonMinimize={ () => setIsMinimized( true ) }\n\t\t\t\tonMaximize={ () => setIsMinimized( false ) }\n\t\t\t\tonDismiss={ onDismiss }\n\t\t\t\theaderText={ header }\n\t\t\t/>\n\t\t\t{ ! isMinimized && (\n\t\t\t\t<>\n\t\t\t\t\t<HelpCenterContent content={ content } />\n\t\t\t\t\t{ footerContent && <HelpCenterFooter footerContent={ footerContent } /> }\n\t\t\t\t</>\n\t\t\t) }\n\t\t</>\n\t);\n\n\tif ( isMobile ) {\n\t\treturn (\n\t\t\t<Card { ...animationProps } className={ classNames }>\n\t\t\t\t{ containerContent }\n\t\t\t</Card>\n\t\t);\n\t}\n\n\treturn isMinimized ? (\n\t\t<Card className={ classNames } { ...animationProps }>\n\t\t\t{ containerContent }\n\t\t</Card>\n\t) : (\n\t\t<Draggable>\n\t\t\t<Card className={ classNames } { ...animationProps }>\n\t\t\t\t{ containerContent }\n\t\t\t</Card>\n\t\t</Draggable>\n\t);\n};\n\nexport default HelpCenterContainer;\n","import { CardBody } from '@wordpress/components';\nimport classnames from 'classnames';\nimport { Content } from './types';\n\nconst HelpCenterContent: React.FC< Content > = ( { content } ) => {\n\tconst className = classnames( 'help-center__container-content' );\n\n\treturn (\n\t\t<CardBody className={ className }>\n\t\t\t<div>{ content }</div>\n\t\t</CardBody>\n\t);\n};\n\nexport default HelpCenterContent;\n","import { CardFooter } from '@wordpress/components';\nimport classnames from 'classnames';\nimport { ReactElement } from 'react';\n\ninterface Props {\n\tfooterContent: ReactElement;\n}\n\nconst HelpCenterFooter: React.FC< Props > = ( { footerContent } ) => {\n\tconst className = classnames( 'help-center__container-footer' );\n\n\treturn <CardFooter className={ className }>{ footerContent }</CardFooter>;\n};\n\nexport default HelpCenterFooter;\n","import { CardHeader, Button, Flex } from '@wordpress/components';\nimport { closeSmall, chevronUp, lineSolid } from '@wordpress/icons';\nimport { useI18n } from '@wordpress/react-i18n';\nimport classnames from 'classnames';\nimport { Header } from './types';\n\nconst HelpCenterMobileHeader: React.FC< Header > = ( {\n\tisMinimized,\n\tonMinimize,\n\tonMaximize,\n\tonDismiss,\n\theaderText,\n} ) => {\n\tconst classNames = classnames( 'help-center__container-header' );\n\tconst { __ } = useI18n();\n\n\treturn (\n\t\t<CardHeader className={ classNames }>\n\t\t\t<Flex>\n\t\t\t\t<p style={ { fontSize: 14, fontWeight: 500 } }>{ headerText }</p>\n\t\t\t\t<div>\n\t\t\t\t\t{ isMinimized ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={ 'help-center-header__maximize' }\n\t\t\t\t\t\t\tlabel={ __( 'Maximize Help Center' ) }\n\t\t\t\t\t\t\ticon={ chevronUp }\n\t\t\t\t\t\t\tonClick={ onMaximize }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={ 'help-center-header__minimize' }\n\t\t\t\t\t\t\tlabel={ __( 'Minimize Help Center' ) }\n\t\t\t\t\t\t\ticon={ lineSolid }\n\t\t\t\t\t\t\tonClick={ onMinimize }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName={ 'help-center-header__close' }\n\t\t\t\t\t\tlabel={ __( 'Close Help Center' ) }\n\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\tonClick={ onDismiss }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Flex>\n\t\t</CardHeader>\n\t);\n};\n\nexport default HelpCenterMobileHeader;\n","/**\n * External Dependencies\n */\nimport { createPortal, useEffect, useRef } from '@wordpress/element';\n/**\n * Internal Dependencies\n */\nimport HelpCenterContainer from './help-center-container';\nimport { Container } from './types';\n\nimport '../styles.scss';\n\nconst HelpCenter: React.FC< Container > = ( {\n\tcontent,\n\thandleClose,\n\theaderText,\n\tfooterContent,\n} ) => {\n\tconst portalParent = useRef( document.createElement( 'div' ) ).current;\n\n\tuseEffect( () => {\n\t\tconst classes = [ 'help-center' ];\n\t\tportalParent.classList.add( ...classes );\n\n\t\tdocument.body.appendChild( portalParent );\n\n\t\treturn () => {\n\t\t\tdocument.body.removeChild( portalParent );\n\t\t};\n\t}, [ portalParent ] );\n\n\treturn (\n\t\t<div>\n\t\t\t{ createPortal(\n\t\t\t\t<HelpCenterContainer\n\t\t\t\t\thandleClose={ handleClose }\n\t\t\t\t\tcontent={ content }\n\t\t\t\t\theaderText={ headerText }\n\t\t\t\t\tfooterContent={ footerContent }\n\t\t\t\t/>,\n\t\t\t\tportalParent\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nexport default HelpCenter;\n","interface Props {\n\tnewItems: boolean;\n\tactive: boolean;\n}\n\nconst HelpIcon: React.FC< Props > = ( { newItems, active } ) => (\n\t<svg width=\"26\" height=\"25\" viewBox=\"0 0 26 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<circle\n\t\t\tcx=\"12\"\n\t\t\tcy=\"12.5\"\n\t\t\tr=\"8\"\n\t\t\tstroke={ active ? 'white' : '#1e1e1e' }\n\t\t\tfill={ active ? '#1e1e1e' : 'white' }\n\t\t\tstrokeWidth=\"1.5\"\n\t\t/>\n\t\t<path\n\t\t\td=\"M9.75 10.75C9.75 9.50736 10.7574 8.5 12 8.5C13.2426 8.5 14.25 9.50736 14.25 10.75C14.25 11.9083 13.3748 12.8621 12.2496 12.9863C12.1124 13.0015 12 13.1119 12 13.25V14.5\"\n\t\t\tstroke={ active ? 'white' : '#1e1e1e' }\n\t\t\tstrokeWidth=\"1.5\"\n\t\t\tfill=\"none\"\n\t\t/>\n\t\t<path d=\"M12 15.5V17\" stroke={ active ? 'white' : '#1e1e1e' } strokeWidth=\"1.5\" />\n\t\t{ newItems && (\n\t\t\t<circle\n\t\t\t\tcx=\"20\"\n\t\t\t\tcy=\"8\"\n\t\t\t\tr=\"5\"\n\t\t\t\tstroke={ active ? '#1e1e1e' : 'white' }\n\t\t\t\tfill=\"currentColor\"\n\t\t\t\tstrokeWidth=\"2\"\n\t\t\t/>\n\t\t) }\n\t</svg>\n);\n\nexport default HelpIcon;\n","import { createContext } from 'react';\nimport i18n from './default-i18n';\n\nexport default createContext( i18n );\n","import I18N from './i18n';\n\nexport default new I18N();\n","import { EventEmitter } from 'events';\nimport interpolateComponents from '@automattic/interpolate-components';\nimport sprintf from '@tannin/sprintf';\nimport debugFactory from 'debug';\nimport sha1 from 'hash.js/lib/hash/sha/1';\nimport LRU from 'lru';\nimport Tannin from 'tannin';\nimport numberFormat from './number-format';\n\n/**\n * Module variables\n */\nconst debug = debugFactory( 'i18n-calypso' );\n\n/**\n * Constants\n */\nconst decimal_point_translation_key = 'number_format_decimals';\nconst thousands_sep_translation_key = 'number_format_thousands_sep';\nconst domain_key = 'messages';\n\nconst translationLookup = [\n\t// By default don't modify the options when looking up translations.\n\tfunction ( options ) {\n\t\treturn options;\n\t},\n];\n\nconst hashCache = {};\n\n// raise a console warning\nfunction warn() {\n\tif ( ! I18N.throwErrors ) {\n\t\treturn;\n\t}\n\tif ( 'undefined' !== typeof window && window.console && window.console.warn ) {\n\t\twindow.console.warn.apply( window.console, arguments );\n\t}\n}\n\n// turns Function.arguments into an array\nfunction simpleArguments( args ) {\n\treturn Array.prototype.slice.call( args );\n}\n\n/**\n * Coerce the possible arguments and normalize to a single object.\n *\n * @param   {any} args - arguments passed in from `translate()`\n * @returns {object}         - a single object describing translation needs\n */\nfunction normalizeTranslateArguments( args ) {\n\tconst original = args[ 0 ];\n\n\t// warn about older deprecated syntax\n\tif (\n\t\ttypeof original !== 'string' ||\n\t\targs.length > 3 ||\n\t\t( args.length > 2 && typeof args[ 1 ] === 'object' && typeof args[ 2 ] === 'object' )\n\t) {\n\t\twarn(\n\t\t\t'Deprecated Invocation: `translate()` accepts ( string, [string], [object] ). These arguments passed:',\n\t\t\tsimpleArguments( args ),\n\t\t\t'. See https://github.com/Automattic/i18n-calypso#translate-method'\n\t\t);\n\t}\n\tif ( args.length === 2 && typeof original === 'string' && typeof args[ 1 ] === 'string' ) {\n\t\twarn(\n\t\t\t'Invalid Invocation: `translate()` requires an options object for plural translations, but passed:',\n\t\t\tsimpleArguments( args )\n\t\t);\n\t}\n\n\t// options could be in position 0, 1, or 2\n\t// sending options as the first object is deprecated and will raise a warning\n\tlet options = {};\n\tfor ( let i = 0; i < args.length; i++ ) {\n\t\tif ( typeof args[ i ] === 'object' ) {\n\t\t\toptions = args[ i ];\n\t\t}\n\t}\n\n\t// `original` can be passed as first parameter or as part of the options object\n\t// though passing original as part of the options is a deprecated approach and will be removed\n\tif ( typeof original === 'string' ) {\n\t\toptions.original = original;\n\t} else if ( typeof options.original === 'object' ) {\n\t\toptions.plural = options.original.plural;\n\t\toptions.count = options.original.count;\n\t\toptions.original = options.original.single;\n\t}\n\tif ( typeof args[ 1 ] === 'string' ) {\n\t\toptions.plural = args[ 1 ];\n\t}\n\n\tif ( typeof options.original === 'undefined' ) {\n\t\tthrow new Error( 'Translate called without a `string` value as first argument.' );\n\t}\n\n\treturn options;\n}\n\n/**\n * Takes translate options object and coerces to a Tannin request to retrieve translation.\n *\n * @param   {object} tannin  - tannin data object\n * @param   {object} options - object describing translation\n * @returns {string}         - the returned translation from Tannin\n */\nfunction getTranslationFromTannin( tannin, options ) {\n\treturn tannin.dcnpgettext(\n\t\tdomain_key,\n\t\toptions.context,\n\t\toptions.original,\n\t\toptions.plural,\n\t\toptions.count\n\t);\n}\n\nfunction getTranslation( i18n, options ) {\n\tfor ( let i = translationLookup.length - 1; i >= 0; i-- ) {\n\t\tconst lookup = translationLookup[ i ]( Object.assign( {}, options ) );\n\t\tconst key = lookup.context ? lookup.context + '\\u0004' + lookup.original : lookup.original;\n\n\t\t// Only get the translation from tannin if it exists.\n\t\tif ( i18n.state.locale[ key ] ) {\n\t\t\treturn getTranslationFromTannin( i18n.state.tannin, lookup );\n\t\t}\n\t}\n\n\treturn null;\n}\n\nfunction I18N() {\n\tif ( ! ( this instanceof I18N ) ) {\n\t\treturn new I18N();\n\t}\n\tthis.defaultLocaleSlug = 'en';\n\t// Tannin always needs a plural form definition, or it fails when dealing with plurals.\n\tthis.defaultPluralForms = ( n ) => ( n === 1 ? 0 : 1 );\n\tthis.state = {\n\t\tnumberFormatSettings: {},\n\t\ttannin: undefined,\n\t\tlocale: undefined,\n\t\tlocaleSlug: undefined,\n\t\tlocaleVariant: undefined,\n\t\ttextDirection: undefined,\n\t\ttranslations: LRU( { max: 100 } ),\n\t};\n\tthis.componentUpdateHooks = [];\n\tthis.translateHooks = [];\n\tthis.stateObserver = new EventEmitter();\n\t// Because the higher-order component can wrap a ton of React components,\n\t// we need to bump the number of listeners to infinity and beyond\n\t// FIXME: still valid?\n\tthis.stateObserver.setMaxListeners( 0 );\n\t// default configuration\n\tthis.configure();\n}\n\nI18N.throwErrors = false;\n\nI18N.prototype.on = function ( ...args ) {\n\tthis.stateObserver.on( ...args );\n};\n\nI18N.prototype.off = function ( ...args ) {\n\tthis.stateObserver.off( ...args );\n};\n\nI18N.prototype.emit = function ( ...args ) {\n\tthis.stateObserver.emit( ...args );\n};\n\n/**\n * Formats numbers using locale settings and/or passed options.\n *\n * @param   {string|number}  number to format (required)\n * @param   {number|object}  options  Number of decimal places or options object (optional)\n * @returns {string}         Formatted number as string\n */\nI18N.prototype.numberFormat = function ( number, options = {} ) {\n\tconst decimals = typeof options === 'number' ? options : options.decimals || 0;\n\tconst decPoint = options.decPoint || this.state.numberFormatSettings.decimal_point || '.';\n\tconst thousandsSep = options.thousandsSep || this.state.numberFormatSettings.thousands_sep || ',';\n\n\treturn numberFormat( number, decimals, decPoint, thousandsSep );\n};\n\nI18N.prototype.configure = function ( options ) {\n\tObject.assign( this, options || {} );\n\tthis.setLocale();\n};\n\nI18N.prototype.setLocale = function ( localeData ) {\n\tif ( localeData && localeData[ '' ] && localeData[ '' ][ 'key-hash' ] ) {\n\t\tconst keyHash = localeData[ '' ][ 'key-hash' ];\n\n\t\tconst transform = function ( string, hashLength ) {\n\t\t\tconst lookupPrefix = hashLength === false ? '' : String( hashLength );\n\t\t\tif ( typeof hashCache[ lookupPrefix + string ] !== 'undefined' ) {\n\t\t\t\treturn hashCache[ lookupPrefix + string ];\n\t\t\t}\n\t\t\tconst hash = sha1().update( string ).digest( 'hex' );\n\n\t\t\tif ( hashLength ) {\n\t\t\t\treturn ( hashCache[ lookupPrefix + string ] = hash.substr( 0, hashLength ) );\n\t\t\t}\n\n\t\t\treturn ( hashCache[ lookupPrefix + string ] = hash );\n\t\t};\n\n\t\tconst generateLookup = function ( hashLength ) {\n\t\t\treturn function ( options ) {\n\t\t\t\tif ( options.context ) {\n\t\t\t\t\toptions.original = transform(\n\t\t\t\t\t\toptions.context + String.fromCharCode( 4 ) + options.original,\n\t\t\t\t\t\thashLength\n\t\t\t\t\t);\n\t\t\t\t\tdelete options.context;\n\t\t\t\t} else {\n\t\t\t\t\toptions.original = transform( options.original, hashLength );\n\t\t\t\t}\n\n\t\t\t\treturn options;\n\t\t\t};\n\t\t};\n\n\t\tif ( keyHash.substr( 0, 4 ) === 'sha1' ) {\n\t\t\tif ( keyHash.length === 4 ) {\n\t\t\t\ttranslationLookup.push( generateLookup( false ) );\n\t\t\t} else {\n\t\t\t\tconst variableHashLengthPos = keyHash.substr( 5 ).indexOf( '-' );\n\t\t\t\tif ( variableHashLengthPos < 0 ) {\n\t\t\t\t\tconst hashLength = Number( keyHash.substr( 5 ) );\n\t\t\t\t\ttranslationLookup.push( generateLookup( hashLength ) );\n\t\t\t\t} else {\n\t\t\t\t\tconst minHashLength = Number( keyHash.substr( 5, variableHashLengthPos ) );\n\t\t\t\t\tconst maxHashLength = Number( keyHash.substr( 6 + variableHashLengthPos ) );\n\n\t\t\t\t\tfor ( let hashLength = minHashLength; hashLength <= maxHashLength; hashLength++ ) {\n\t\t\t\t\t\ttranslationLookup.push( generateLookup( hashLength ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// if localeData is not given, assumes default locale and reset\n\tif ( ! localeData || ! localeData[ '' ].localeSlug ) {\n\t\tthis.state.locale = {\n\t\t\t'': { localeSlug: this.defaultLocaleSlug, plural_forms: this.defaultPluralForms },\n\t\t};\n\t} else if ( localeData[ '' ].localeSlug === this.state.localeSlug ) {\n\t\t// Exit if same data as current (comparing references only)\n\t\tif ( localeData === this.state.locale ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// merge new data into existing one\n\t\tObject.assign( this.state.locale, localeData );\n\t} else {\n\t\tthis.state.locale = Object.assign( {}, localeData );\n\t}\n\n\tthis.state.localeSlug = this.state.locale[ '' ].localeSlug;\n\tthis.state.localeVariant = this.state.locale[ '' ].localeVariant;\n\n\t// extract the `textDirection` info (LTR or RTL) from either:\n\t// - the translation for the special string \"ltr\" (standard in Core, not present in Calypso)\n\t// - or the `momentjs_locale.textDirection` property present in Calypso translation files\n\tthis.state.textDirection =\n\t\tthis.state.locale[ 'text direction\\u0004ltr' ]?.[ 0 ] ||\n\t\tthis.state.locale[ '' ]?.momentjs_locale?.textDirection;\n\n\tthis.state.tannin = new Tannin( { [ domain_key ]: this.state.locale } );\n\n\t// Updates numberFormat preferences with settings from translations\n\tthis.state.numberFormatSettings.decimal_point = getTranslationFromTannin(\n\t\tthis.state.tannin,\n\t\tnormalizeTranslateArguments( [ decimal_point_translation_key ] )\n\t);\n\tthis.state.numberFormatSettings.thousands_sep = getTranslationFromTannin(\n\t\tthis.state.tannin,\n\t\tnormalizeTranslateArguments( [ thousands_sep_translation_key ] )\n\t);\n\n\t// If translation isn't set, define defaults.\n\tif ( this.state.numberFormatSettings.decimal_point === decimal_point_translation_key ) {\n\t\tthis.state.numberFormatSettings.decimal_point = '.';\n\t}\n\n\tif ( this.state.numberFormatSettings.thousands_sep === thousands_sep_translation_key ) {\n\t\tthis.state.numberFormatSettings.thousands_sep = ',';\n\t}\n\n\tthis.stateObserver.emit( 'change' );\n};\n\nI18N.prototype.getLocale = function () {\n\treturn this.state.locale;\n};\n\n/**\n * Get the current locale slug.\n *\n * @returns {string} The string representing the currently loaded locale\n */\nI18N.prototype.getLocaleSlug = function () {\n\treturn this.state.localeSlug;\n};\n\n/**\n * Get the current locale variant. That's set for some special locales that don't have a\n * standard ISO code, like `de_formal` or `sr_latin`.\n *\n * @returns {string|undefined} The string representing the currently loaded locale's variant\n */\nI18N.prototype.getLocaleVariant = function () {\n\treturn this.state.localeVariant;\n};\n\n/**\n * Get the current text direction, left-to-right (LTR) or right-to-left (RTL).\n *\n * @returns {boolean} `true` in case the current locale has RTL text direction\n */\nI18N.prototype.isRtl = function () {\n\treturn this.state.textDirection === 'rtl';\n};\n\n/**\n * Adds new translations to the locale data, overwriting any existing translations with a matching key.\n *\n * @param {object} localeData Locale data\n */\nI18N.prototype.addTranslations = function ( localeData ) {\n\tfor ( const prop in localeData ) {\n\t\tif ( prop !== '' ) {\n\t\t\tthis.state.tannin.data.messages[ prop ] = localeData[ prop ];\n\t\t}\n\t}\n\n\tthis.stateObserver.emit( 'change' );\n};\n\n/**\n * Checks whether the given original has a translation.\n *\n * @returns {boolean} whether a translation exists\n */\nI18N.prototype.hasTranslation = function () {\n\treturn !! getTranslation( this, normalizeTranslateArguments( arguments ) );\n};\n\n/**\n * Exposes single translation method.\n * See sibling README\n *\n * @returns {string|object} translated text or an object containing React children that can be inserted into a parent component\n */\nI18N.prototype.translate = function () {\n\tconst options = normalizeTranslateArguments( arguments );\n\n\tlet translation = getTranslation( this, options );\n\tif ( ! translation ) {\n\t\t// This purposefully calls tannin for a case where there is no translation,\n\t\t// so that tannin gives us the expected object with English text.\n\t\ttranslation = getTranslationFromTannin( this.state.tannin, options );\n\t}\n\n\t// handle any string substitution\n\tif ( options.args ) {\n\t\tconst sprintfArgs = Array.isArray( options.args ) ? options.args.slice( 0 ) : [ options.args ];\n\t\tsprintfArgs.unshift( translation );\n\t\ttry {\n\t\t\ttranslation = sprintf( ...sprintfArgs );\n\t\t} catch ( error ) {\n\t\t\tif ( ! window || ! window.console ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst errorMethod = this.throwErrors ? 'error' : 'warn';\n\t\t\tif ( typeof error !== 'string' ) {\n\t\t\t\twindow.console[ errorMethod ]( error );\n\t\t\t} else {\n\t\t\t\twindow.console[ errorMethod ]( 'i18n sprintf error:', sprintfArgs );\n\t\t\t}\n\t\t}\n\t}\n\n\t// interpolate any components\n\tif ( options.components ) {\n\t\ttranslation = interpolateComponents( {\n\t\t\tmixedString: translation,\n\t\t\tcomponents: options.components,\n\t\t\tthrowErrors: this.throwErrors,\n\t\t} );\n\t}\n\n\t// run any necessary hooks\n\tthis.translateHooks.forEach( function ( hook ) {\n\t\ttranslation = hook( translation, options );\n\t} );\n\n\treturn translation;\n};\n\n/**\n * Causes i18n to re-render all translations.\n *\n * This can be necessary if an extension makes changes that i18n is unaware of\n * and needs those changes manifested immediately (e.g. adding an important\n * translation hook, or modifying the behaviour of an existing hook).\n *\n * If at all possible, react components should try to use the more local\n * updateTranslation() function inherited from the mixin.\n */\nI18N.prototype.reRenderTranslations = function () {\n\tdebug( 'Re-rendering all translations due to external request' );\n\tthis.stateObserver.emit( 'change' );\n};\n\nI18N.prototype.registerComponentUpdateHook = function ( callback ) {\n\tthis.componentUpdateHooks.push( callback );\n};\n\nI18N.prototype.registerTranslateHook = function ( callback ) {\n\tthis.translateHooks.push( callback );\n};\n\nexport default I18N;\n","import I18NContext from './context';\nimport i18n from './default-i18n';\nimport I18N from './i18n';\nimport localize from './localize';\nimport { useRtl, withRtl } from './rtl';\nimport useTranslate from './use-translate';\n\nexport { I18N, I18NContext, localize, useRtl, withRtl, useTranslate };\nexport default i18n;\n\n// Export the default instance's properties and bound methods for convenience\n// These should be deprecated eventually, exposing only the default `i18n` instance\nexport const numberFormat = i18n.numberFormat.bind( i18n );\nexport const translate = i18n.translate.bind( i18n );\nexport const configure = i18n.configure.bind( i18n );\nexport const setLocale = i18n.setLocale.bind( i18n );\nexport const getLocale = i18n.getLocale.bind( i18n );\nexport const getLocaleSlug = i18n.getLocaleSlug.bind( i18n );\nexport const getLocaleVariant = i18n.getLocaleVariant.bind( i18n );\nexport const isRtl = i18n.isRtl.bind( i18n );\nexport const addTranslations = i18n.addTranslations.bind( i18n );\nexport const reRenderTranslations = i18n.reRenderTranslations.bind( i18n );\nexport const registerComponentUpdateHook = i18n.registerComponentUpdateHook.bind( i18n );\nexport const registerTranslateHook = i18n.registerTranslateHook.bind( i18n );\nexport const state = i18n.state;\nexport const stateObserver = i18n.stateObserver;\nexport const on = i18n.on.bind( i18n );\nexport const off = i18n.off.bind( i18n );\nexport const emit = i18n.emit.bind( i18n );\n","/*\n * Exposes number format capability\n *\n * @copyright Copyright (c) 2013 Kevin van Zonneveld (http://kvz.io) and Contributors (http://phpjs.org/authors).\n * @license See CREDITS.md\n * @see https://github.com/kvz/phpjs/blob/ffe1356af23a6f2512c84c954dd4e828e92579fa/functions/strings/number_format.js\n */\nfunction toFixedFix( n, prec ) {\n\tconst k = Math.pow( 10, prec );\n\treturn '' + ( Math.round( n * k ) / k ).toFixed( prec );\n}\n\nexport default function number_format( number, decimals, dec_point, thousands_sep ) {\n\tnumber = ( number + '' ).replace( /[^0-9+\\-Ee.]/g, '' );\n\tconst n = ! isFinite( +number ) ? 0 : +number;\n\tconst prec = ! isFinite( +decimals ) ? 0 : Math.abs( decimals );\n\tconst sep = typeof thousands_sep === 'undefined' ? ',' : thousands_sep;\n\tconst dec = typeof dec_point === 'undefined' ? '.' : dec_point;\n\tlet s = '';\n\t// Fix for IE parseFloat(0.55).toFixed(0) = 0;\n\ts = ( prec ? toFixedFix( n, prec ) : '' + Math.round( n ) ).split( '.' );\n\tif ( s[ 0 ].length > 3 ) {\n\t\ts[ 0 ] = s[ 0 ].replace( /\\B(?=(?:\\d{3})+(?!\\d))/g, sep );\n\t}\n\tif ( ( s[ 1 ] || '' ).length < prec ) {\n\t\ts[ 1 ] = s[ 1 ] || '';\n\t\ts[ 1 ] += new Array( prec - s[ 1 ].length + 1 ).join( '0' );\n\t}\n\treturn s.join( dec );\n}\n","import { useContext, useEffect, useMemo, useState } from 'react';\nimport I18NContext from './context';\n\nfunction bindTranslate( i18n ) {\n\tconst translate = i18n.translate.bind( i18n );\n\tObject.defineProperty( translate, 'localeSlug', { get: i18n.getLocaleSlug.bind( i18n ) } );\n\treturn translate;\n}\n\nexport default function useTranslate() {\n\tconst i18n = useContext( I18NContext );\n\tconst [ counter, setCounter ] = useState( 0 );\n\n\tuseEffect( () => {\n\t\tconst onChange = () => setCounter( ( c ) => c + 1 );\n\t\ti18n.on( 'change', onChange );\n\t\treturn () => i18n.off( 'change', onChange );\n\t}, [ i18n ] );\n\n\treturn useMemo( () => bindTranslate( i18n, counter ), [ i18n, counter ] );\n}\n","import { createHigherOrderComponent } from '@wordpress/compose';\nimport * as i18n from '@wordpress/i18n';\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport * as React from 'react';\nimport type { Locale } from './locales';\n\nexport const localeContext = createContext< string | null >( null );\n\ninterface Props {\n\tlocaleSlug: string;\n}\n\nexport const LocaleProvider: React.FC< Props > = ( { children, localeSlug } ) => (\n\t<localeContext.Provider value={ localeSlug }>{ children }</localeContext.Provider>\n);\n\n/**\n * Returns locale slug\n *\n * @param {string} locale locale to be converted e.g. \"en_US\".\n * @returns locale string e.g. \"en\"\n */\nfunction mapWpI18nLangToLocaleSlug( locale: Locale = '' ): Locale {\n\tif ( ! locale ) {\n\t\treturn '';\n\t}\n\n\tconst TARGET_LOCALES = [ 'pt_br', 'pt-br', 'zh_tw', 'zh-tw', 'zh_cn', 'zh-cn', 'zh_sg', 'zh-sg' ];\n\tconst lowerCaseLocale = locale.toLowerCase();\n\tconst formattedLocale = TARGET_LOCALES.includes( lowerCaseLocale )\n\t\t? lowerCaseLocale.replace( '_', '-' )\n\t\t: lowerCaseLocale.replace( /([-_].*)$/i, '' );\n\n\treturn formattedLocale || 'en';\n}\n\n/**\n * Get the current locale slug from the @wordpress/i18n locale data\n */\nfunction getWpI18nLocaleSlug(): string | undefined {\n\tconst language = i18n.getLocaleData ? i18n.getLocaleData()?.[ '' ]?.language : '';\n\n\treturn mapWpI18nLangToLocaleSlug( language );\n}\n\n/**\n * React hook providing the current locale slug. If `<LocaleProvider>` hasn't\n * been defined in the component tree then it will fall back to using the\n * data from `@wordpress/i18n` to determine the current locale slug.\n *\n * @example\n *\n * import { useLocale } from '@automattic/i18n-utils';\n * function MyComponent() {\n *   const locale = useLocale();\n *   return <div>The current locale is: { locale }</div>;\n * }\n */\nexport function useLocale(): string {\n\tconst fromProvider = useContext( localeContext );\n\tconst providerHasLocale = !! fromProvider;\n\n\tconst [ fromWpI18n, setWpLocale ] = useState( getWpI18nLocaleSlug() );\n\n\tuseEffect( () => {\n\t\t// If the <LocaleProvider> has been used further up the component tree\n\t\t// then we don't want to subscribe to any defaultI18n changes.\n\t\tif ( providerHasLocale ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetWpLocale( getWpI18nLocaleSlug() );\n\n\t\treturn i18n.subscribe( () => {\n\t\t\tsetWpLocale( getWpI18nLocaleSlug() );\n\t\t} );\n\t}, [ providerHasLocale ] );\n\n\treturn fromProvider || fromWpI18n || 'en';\n}\n\n/**\n * HoC providing the current locale slug supplied to `<LocaleProvider>`.\n *\n * @param InnerComponent Component that will receive `locale` as a prop\n * @returns Component enhanced with locale\n * @example\n *\n * import { withLocale } from '@automattic/i18n-utils';\n * function MyComponent( { locale } ) {\n *   return <div>The current locale is: { locale }</div>;\n * }\n * export default withLocale( MyComponent );\n */\nexport const withLocale = createHigherOrderComponent< { locale: string }, any >(\n\t( InnerComponent ) => {\n\t\treturn ( props ) => {\n\t\t\tconst locale = useLocale();\n\t\t\treturn <InnerComponent locale={ locale } { ...props } />;\n\t\t};\n\t},\n\t'withLocale'\n);\n","/**\n * The locale sets here map roughly to those found in locales.php\n *\n * todo: move these into @automattic/languages as another downloaded resource\n * todo: cleanup _shared.json - replace references to the below config options with imports from here\n */\nexport type Locale = string;\nexport const i18nDefaultLocaleSlug: Locale = 'en';\nexport const localesWithBlog: Locale[] = [ 'en', 'ja', 'es', 'pt', 'fr', 'pt-br' ];\nexport const localesWithPrivacyPolicy: Locale[] = [ 'en', 'fr', 'de', 'es' ];\nexport const localesWithCookiePolicy: Locale[] = [ 'en', 'fr', 'de', 'es' ];\n\ntype LocaleSubdomain = string;\n\nexport const localesToSubdomains: Record< string, LocaleSubdomain > = {\n\t'pt-br': 'br',\n\tbr: 'bre',\n\tzh: 'zh-cn',\n\t'zh-hk': 'zh-tw',\n\t'zh-sg': 'zh-cn',\n\tkr: 'ko',\n};\n\n// replaces config( 'english_locales' )\nexport const englishLocales: Locale[] = [ 'en', 'en-gb' ];\n\n// replaces config( 'livechat_support_locales' )\nexport const livechatSupportLocales: Locale[] = [ 'en' ];\n\n// replaces config( 'support_site_locales' )\nexport const supportSiteLocales: Locale[] = [\n\t'ar',\n\t'de',\n\t'en',\n\t'es',\n\t'fr',\n\t'he',\n\t'id',\n\t'it',\n\t'ja',\n\t'ko',\n\t'nl',\n\t'pt-br',\n\t'ru',\n\t'sv',\n\t'tr',\n\t'zh-cn',\n\t'zh-tw',\n];\n\n// replaces config( 'forum_locales')\nexport const forumLocales: Locale[] = [\n\t'ar',\n\t'de',\n\t'el',\n\t'en',\n\t'es',\n\t'fa',\n\t'fi',\n\t'fr',\n\t'id',\n\t'it',\n\t'ja',\n\t'nl',\n\t'pt',\n\t'pt-br',\n\t'ru',\n\t'sv',\n\t'th',\n\t'tl',\n\t'tr',\n];\n\n// replaces config( 'magnificent_non_en_locales')\nexport const magnificentNonEnLocales: Locale[] = [\n\t'es',\n\t'pt-br',\n\t'de',\n\t'fr',\n\t'he',\n\t'ja',\n\t'it',\n\t'nl',\n\t'ru',\n\t'tr',\n\t'id',\n\t'zh-cn',\n\t'zh-tw',\n\t'ko',\n\t'ar',\n\t'sv',\n];\n\n// replaces config( 'jetpack_com_locales')\nexport const jetpackComLocales: Locale[] = [\n\t'en',\n\t'ar',\n\t'de',\n\t'es',\n\t'fr',\n\t'he',\n\t'id',\n\t'it',\n\t'ja',\n\t'ko',\n\t'nl',\n\t'pt-br',\n\t'ro',\n\t'ru',\n\t'sv',\n\t'tr',\n\t'zh-cn',\n\t'zh-tw',\n];\n","import { createHigherOrderComponent } from '@wordpress/compose';\nimport { getLocaleSlug } from 'i18n-calypso';\nimport { useCallback } from 'react';\nimport { useLocale } from './locale-context';\nimport {\n\tlocalesWithBlog,\n\tlocalesWithPrivacyPolicy,\n\tlocalesWithCookiePolicy,\n\tlocalesToSubdomains,\n\tsupportSiteLocales,\n\tforumLocales,\n\tmagnificentNonEnLocales,\n\tjetpackComLocales,\n\tLocale,\n} from './locales';\n\nconst INVALID_URL = `http://__domain__.invalid`;\n\nfunction getDefaultLocale(): Locale {\n\treturn getLocaleSlug?.() ?? 'en';\n}\n\nconst setLocalizedUrlHost =\n\t( hostname: string, validLocales: Locale[] = [] ) =>\n\t( url: URL, locale: Locale ) => {\n\t\tif ( validLocales.includes( locale ) && locale !== 'en' ) {\n\t\t\t// Avoid changing the hostname when the locale is set via the path.\n\t\t\tif ( url.pathname.substr( 0, locale.length + 2 ) !== '/' + locale + '/' ) {\n\t\t\t\turl.host = `${ localesToSubdomains[ locale ] || locale }.${ hostname }`;\n\t\t\t}\n\t\t}\n\t\treturn url;\n\t};\n\nconst setLocalizedWpComPath =\n\t( prefix: string, validLocales: Locale[] = [], limitPathMatch: RegExp | null = null ) =>\n\t( url: URL, localeSlug: Locale ) => {\n\t\turl.host = 'wordpress.com';\n\t\tif (\n\t\t\ttypeof limitPathMatch === 'object' &&\n\t\t\tlimitPathMatch instanceof RegExp &&\n\t\t\t! limitPathMatch.test( url.pathname )\n\t\t) {\n\t\t\tvalidLocales = []; // only rewrite to English.\n\t\t}\n\t\turl.pathname = prefix + url.pathname;\n\n\t\tif ( validLocales.includes( localeSlug ) && localeSlug !== 'en' ) {\n\t\t\turl.pathname = localeSlug + url.pathname;\n\t\t}\n\t\treturn url;\n\t};\n\ntype PrefixOrSuffix = 'prefix' | 'suffix';\n\nconst prefixOrSuffixLocalizedUrlPath =\n\t(\n\t\tvalidLocales: Locale[] = [],\n\t\tlimitPathMatch: RegExp | null = null,\n\t\tprefixOrSuffix: PrefixOrSuffix\n\t) =>\n\t( url: URL, localeSlug: Locale ): URL => {\n\t\tif ( typeof limitPathMatch === 'object' && limitPathMatch instanceof RegExp ) {\n\t\t\tif ( ! limitPathMatch.test( url.pathname ) ) {\n\t\t\t\treturn url; // No rewriting if not matches the path.\n\t\t\t}\n\t\t}\n\n\t\tif ( ! validLocales.includes( localeSlug ) || localeSlug === 'en' ) {\n\t\t\treturn url;\n\t\t}\n\n\t\tif ( prefixOrSuffix === 'prefix' ) {\n\t\t\turl.pathname = localeSlug + url.pathname;\n\t\t} else if ( prefixOrSuffix === 'suffix' ) {\n\t\t\t// Make sure there's a slash between the path and the locale. Plus, if\n\t\t\t// the path has a trailing slash, add one after the suffix too.\n\t\t\tif ( url.pathname.endsWith( '/' ) ) {\n\t\t\t\turl.pathname += localeSlug + '/';\n\t\t\t} else {\n\t\t\t\turl.pathname += '/' + localeSlug;\n\t\t\t}\n\t\t}\n\t\treturn url;\n\t};\n\nconst prefixLocalizedUrlPath =\n\t( validLocales: Locale[] = [], limitPathMatch: RegExp | null = null ) =>\n\t( url: URL, localeSlug: Locale ): URL => {\n\t\treturn prefixOrSuffixLocalizedUrlPath(\n\t\t\tvalidLocales,\n\t\t\tlimitPathMatch,\n\t\t\t'prefix'\n\t\t)( url, localeSlug );\n\t};\n\nconst suffixLocalizedUrlPath =\n\t( validLocales: Locale[] = [], limitPathMatch: RegExp | null = null ) =>\n\t( url: URL, localeSlug: Locale ): URL => {\n\t\treturn prefixOrSuffixLocalizedUrlPath(\n\t\t\tvalidLocales,\n\t\t\tlimitPathMatch,\n\t\t\t'suffix'\n\t\t)( url, localeSlug );\n\t};\n\ntype LinkLocalizer = ( url: URL, localeSlug: string, isLoggedIn: boolean ) => URL;\n\ninterface UrlLocalizationMapping {\n\t[ key: string ]: LinkLocalizer;\n}\n\nconst urlLocalizationMapping: UrlLocalizationMapping = {\n\t'wordpress.com/support/': prefixLocalizedUrlPath( supportSiteLocales ),\n\t'wordpress.com/forums/': prefixLocalizedUrlPath( forumLocales ),\n\t'wordpress.com/blog/': prefixLocalizedUrlPath( localesWithBlog, /^\\/blog\\/?$/ ),\n\t'wordpress.com/tos/': prefixLocalizedUrlPath( magnificentNonEnLocales ),\n\t'wordpress.com/wp-admin/': setLocalizedUrlHost( 'wordpress.com', magnificentNonEnLocales ),\n\t'wordpress.com/wp-login.php': setLocalizedUrlHost( 'wordpress.com', magnificentNonEnLocales ),\n\t'jetpack.com': setLocalizedUrlHost( 'jetpack.com', jetpackComLocales ),\n\t'en.support.wordpress.com': setLocalizedWpComPath( '/support', supportSiteLocales ),\n\t'en.blog.wordpress.com': setLocalizedWpComPath( '/blog', localesWithBlog, /^\\/$/ ),\n\t'en.forums.wordpress.com': setLocalizedWpComPath( '/forums', forumLocales ),\n\t'automattic.com/privacy/': prefixLocalizedUrlPath( localesWithPrivacyPolicy ),\n\t'automattic.com/cookies/': prefixLocalizedUrlPath( localesWithCookiePolicy ),\n\t'wordpress.com/help/contact/': ( url: URL, localeSlug: Locale, isLoggedIn: boolean ) => {\n\t\tif ( isLoggedIn ) {\n\t\t\treturn url;\n\t\t}\n\t\turl.pathname = url.pathname.replace( /\\/help\\//, '/support/' );\n\t\treturn prefixLocalizedUrlPath( supportSiteLocales )( url, localeSlug );\n\t},\n\t'wordpress.com': ( url: URL, localeSlug: Locale ) => {\n\t\t// Don't rewrite checkout and me URLs.\n\t\tif ( /^\\/(checkout|me)(\\/|$)/.test( url.pathname ) ) {\n\t\t\treturn url;\n\t\t}\n\t\t// Don't rewrite Calypso URLs that have the URL at the end.\n\t\tif ( /\\/([a-z0-9-]+\\.)+[a-z]{2,}\\/?$/.test( url.pathname ) ) {\n\t\t\treturn url;\n\t\t}\n\t\treturn prefixLocalizedUrlPath( magnificentNonEnLocales )( url, localeSlug );\n\t},\n\t'wordpress.com/theme/': ( url: URL, localeSlug: Locale, isLoggedIn: boolean ) => {\n\t\treturn isLoggedIn ? url : prefixLocalizedUrlPath( magnificentNonEnLocales )( url, localeSlug );\n\t},\n\t'wordpress.com/themes/': ( url: URL, localeSlug: Locale, isLoggedIn: boolean ) => {\n\t\treturn isLoggedIn ? url : prefixLocalizedUrlPath( magnificentNonEnLocales )( url, localeSlug );\n\t},\n\t'wordpress.com/log-in/': ( url: URL, localeSlug: Locale, isLoggedIn: boolean ) => {\n\t\treturn isLoggedIn ? url : suffixLocalizedUrlPath( magnificentNonEnLocales )( url, localeSlug );\n\t},\n};\n\nexport function localizeUrl(\n\tfullUrl: string,\n\tlocale: Locale = getDefaultLocale(),\n\tisLoggedIn = true\n): string {\n\tlet url;\n\ttry {\n\t\turl = new URL( String( fullUrl ), INVALID_URL );\n\t} catch ( e ) {\n\t\treturn fullUrl;\n\t}\n\n\t// Ignore and passthrough /relative/urls that have no host specified\n\tif ( url.origin === INVALID_URL ) {\n\t\treturn fullUrl;\n\t}\n\n\t// Let's unify the URL.\n\turl.protocol = 'https:';\n\t// Let's use `host` for everything.\n\turl.hostname = '';\n\n\tif ( ! url.pathname.endsWith( '.php' ) ) {\n\t\t// Essentially a trailingslashit.\n\t\turl.pathname = ( url.pathname + '/' ).replace( /\\/+$/, '/' );\n\t}\n\n\tconst firstPathSegment = url.pathname.substr( 0, 1 + url.pathname.indexOf( '/', 1 ) );\n\n\tif ( 'en.wordpress.com' === url.host ) {\n\t\turl.host = 'wordpress.com';\n\t}\n\n\tif ( '/' + locale + '/' === firstPathSegment ) {\n\t\treturn fullUrl;\n\t}\n\n\t// Lookup is checked back to front.\n\tconst lookup = [ url.host, url.host + firstPathSegment, url.host + url.pathname ];\n\n\tfor ( let i = lookup.length - 1; i >= 0; i-- ) {\n\t\tif ( lookup[ i ] in urlLocalizationMapping ) {\n\t\t\treturn urlLocalizationMapping[ lookup[ i ] ]( url, locale, isLoggedIn ).href;\n\t\t}\n\t}\n\n\t// Nothing needed to be changed, just return it unmodified.\n\treturn fullUrl;\n}\n\nexport function useLocalizeUrl() {\n\tconst providerLocale = useLocale();\n\n\treturn useCallback(\n\t\t( fullUrl: string, locale?: Locale, isLoggedIn?: boolean ) => {\n\t\t\tif ( locale ) {\n\t\t\t\treturn localizeUrl( fullUrl, locale, isLoggedIn );\n\t\t\t}\n\t\t\treturn localizeUrl( fullUrl, providerLocale, isLoggedIn );\n\t\t},\n\t\t[ providerLocale ]\n\t);\n}\n\nexport const withLocalizeUrl = createHigherOrderComponent<\n\t{\n\t\tlocalizeUrl: ReturnType< typeof useLocalizeUrl >;\n\t},\n\tany\n>( ( InnerComponent ) => {\n\treturn ( props ) => {\n\t\tconst localizeUrl = useLocalizeUrl();\n\t\treturn <InnerComponent localizeUrl={ localizeUrl } { ...props } />;\n\t};\n}, 'withLocalizeUrl' );\n","import config from '@automattic/calypso-config';\nimport { getUrlParts } from '@automattic/calypso-url';\nimport languages, { Language, SubLanguage } from '@automattic/languages';\nimport i18n, { getLocaleSlug } from 'i18n-calypso';\nimport { find, map, pickBy, includes } from 'lodash';\n\n/**\n * a locale can consist of three component\n * aa: language code\n * -bb: regional code\n * _cc: variant suffix\n * while the language code is mandatory, the other two are optional.\n */\nconst localeRegex = /^[A-Z]{2,3}(-[A-Z]{2,3})?(_[A-Z]{2,6})?$/i;\n\nexport function getPathParts( path: string ) {\n\t// Remove trailing slash then split. If there is a trailing slash,\n\t// then the end of the array could contain an empty string.\n\treturn path.replace( /\\/$/, '' ).split( '/' );\n}\n\n/**\n * Checks if provided locale is a default one.\n *\n * @param {string} locale - locale slug (eg: 'fr')\n * @returns {boolean} true when the default locale is provided\n */\nexport function isDefaultLocale( locale: string | null ) {\n\treturn locale === config( 'i18n_default_locale_slug' );\n}\n\n/**\n * Checks if provided locale has a parentLangSlug and is therefore a locale variant\n *\n * @param {string} locale - locale slug (eg: 'fr')\n * @returns {boolean} true when the locale has a parentLangSlug\n */\nexport function isLocaleVariant( locale: string ) {\n\tif ( typeof locale !== 'string' ) {\n\t\treturn false;\n\t}\n\tconst language = getLanguage( locale ) as SubLanguage;\n\treturn !! language && typeof language.parentLangSlug === 'string';\n}\n\nexport function isLocaleRtl( locale: string ) {\n\tif ( typeof locale !== 'string' ) {\n\t\treturn null;\n\t}\n\tconst language = getLanguage( locale );\n\tif ( ! language ) {\n\t\treturn null;\n\t}\n\n\treturn Boolean( language.rtl );\n}\n\n/**\n * Checks against a list of locales that don't have any GP translation sets\n * A 'translation set' refers to a collection of strings to be translated see:\n * https://glotpress.blog/the-manual/translation-sets/\n *\n * @param {string} locale - locale slug (eg: 'fr')\n * @returns {boolean} true when the locale is NOT a member of the exception list\n */\nexport function canBeTranslated( locale: string ) {\n\treturn [ 'en', 'sr_latin' ].indexOf( locale ) === -1;\n}\n\n/**\n * To be used with the same parameters as i18n-calpyso's translate():\n * Check whether the user would be exposed to text not in their language.\n *\n * Since the text is in English, this is always true in that case. Otherwise\n * We check whether a translation was provided for this text.\n *\n * @returns {boolean} true when a user would see text they can read.\n */\nexport function translationExists( phrase: string ) {\n\tconst localeSlug = typeof getLocaleSlug === 'function' ? getLocaleSlug() : 'en';\n\treturn isDefaultLocale( localeSlug ) || i18n.hasTranslation( phrase );\n}\n\n/**\n * Return a list of all supported language slugs\n *\n * @returns {Array} A list of all supported language slugs\n */\nexport function getLanguageSlugs() {\n\treturn map( languages, 'langSlug' );\n}\n\n/**\n * Map provided language slug to supported slug if applicable.\n *\n * @param {string} langSlug Locale slug for the language\n * @returns {string} Mapped language slug\n */\nexport function getMappedLanguageSlug( langSlug: string | undefined ) {\n\t// See pxLjZ-6UQ-p2 for details.\n\tif ( langSlug === 'no' ) {\n\t\treturn 'nb';\n\t}\n\n\treturn langSlug;\n}\n\n/**\n * Return a specifier for page.js/Express route param that enumerates all supported languages.\n *\n * @param {string} name of the parameter. By default it's `lang`, some routes use `locale`.\n * @param {boolean} optional whether to put the `?` character at the end, making the param optional\n * @returns {string} Router param specifier that looks like `:lang(cs|de|fr|pl)`\n */\nexport function getLanguageRouteParam( name = 'lang', optional = true ) {\n\treturn `:${ name }(${ getLanguageSlugs().join( '|' ) })${ optional ? '?' : '' }`;\n}\n\n/**\n * Matches and returns language from config.languages based on the given localeSlug\n *\n * @param   {string} langSlug locale slug of the language to match\n * @returns {object|undefined} An object containing the locale data or undefined.\n */\nexport function getLanguage( langSlug: string | undefined ): Language | undefined {\n\tlangSlug = getMappedLanguageSlug( langSlug );\n\tif ( langSlug && localeRegex.test( langSlug ) ) {\n\t\t// Find for the langSlug first. If we can't find it, split it and find its parent slug.\n\t\t// Please see the comment above `localeRegex` to see why we can split by - or _ and find the parent slug.\n\t\treturn ( find( languages, { langSlug } ) ||\n\t\t\tfind( languages, { langSlug: langSlug.split( /[-_]/ )[ 0 ] } ) ) as Language | undefined;\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Assuming that locale is adding at the end of path, retrieves the locale if present.\n *\n * @param {string} path - original path\n * @returns {string|undefined} The locale slug if present or undefined\n */\nexport function getLocaleFromPath( path: string ) {\n\tconst urlParts = getUrlParts( path );\n\tconst locale = getPathParts( urlParts.pathname ).pop();\n\n\treturn 'undefined' === typeof getLanguage( locale ) ? undefined : locale;\n}\n\n/**\n * Adds a locale slug to the current path.\n *\n * Will replace existing locale slug, if present.\n *\n * @param path - original path\n * @param locale - locale slug (eg: 'fr')\n * @returns original path with new locale slug\n */\nexport function addLocaleToPath( path: string, locale: string ) {\n\tconst urlParts = getUrlParts( path );\n\tconst queryString = urlParts.search || '';\n\n\treturn removeLocaleFromPath( urlParts.pathname ) + `/${ locale }` + queryString;\n}\n\n/**\n * Removes the trailing locale slug from the path, if it is present.\n * '/start/en' => '/start', '/start' => '/start', '/start/flow/fr' => '/start/flow', '/start/flow' => '/start/flow'\n *\n * @param  path - original path\n * @returns original path minus locale slug\n */\nexport function removeLocaleFromPath( path: string ): string {\n\tconst urlParts = getUrlParts( path );\n\tconst queryString = urlParts.search || '';\n\tconst parts = getPathParts( urlParts.pathname );\n\tconst locale = parts.pop();\n\n\tif ( 'undefined' === typeof getLanguage( locale ) ) {\n\t\tparts.push( locale as string );\n\t}\n\n\treturn parts.join( '/' ) + queryString;\n}\n\n/**\n * Filter out unexpected values from the given language revisions object.\n *\n * @param {object} languageRevisions A candidate language revisions object for filtering.\n *\n * @returns {object} A valid language revisions object derived from the given one.\n */\nexport function filterLanguageRevisions( languageRevisions: Record< string, string > ) {\n\tconst langSlugs = getLanguageSlugs();\n\n\t// Since there is no strong guarantee that the passed-in revisions map will have the identical set of languages as we define in calypso,\n\t// simply filtering against what we have here should be sufficient.\n\treturn pickBy( languageRevisions, ( revision, slug ) => {\n\t\tif ( typeof revision !== 'number' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( ! includes( langSlugs, slug ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} );\n}\n\n/**\n * Checks if provided locale is one of the magnificenet non-english locales.\n *\n * @param locale Locale slug\n * @returns true when provided magnificent non-english locale.\n */\nexport function isMagnificentLocale( locale: string ): boolean {\n\treturn ( config( 'magnificent_non_en_locales' ) as string[] ).includes( locale );\n}\n\n/**\n * Checks if provided locale is translated incompletely (is missing essential translations).\n *\n * @param   {string}  locale Locale slug\n * @returns {boolean} Whether provided locale is flagged as translated incompletely.\n */\nexport function isTranslatedIncompletely( locale: string ) {\n\treturn getLanguage( locale )?.isTranslatedIncompletely === true;\n}\n","import { cloneElement, createElement, Fragment } from 'react';\nimport tokenize from './tokenize';\n\nfunction getCloseIndex( openIndex, tokens ) {\n\tconst openToken = tokens[ openIndex ];\n\tlet nestLevel = 0;\n\tfor ( let i = openIndex + 1; i < tokens.length; i++ ) {\n\t\tconst token = tokens[ i ];\n\t\tif ( token.value === openToken.value ) {\n\t\t\tif ( token.type === 'componentOpen' ) {\n\t\t\t\tnestLevel++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( token.type === 'componentClose' ) {\n\t\t\t\tif ( nestLevel === 0 ) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t\tnestLevel--;\n\t\t\t}\n\t\t}\n\t}\n\t// if we get this far, there was no matching close token\n\tthrow new Error( 'Missing closing component token `' + openToken.value + '`' );\n}\n\nfunction buildChildren( tokens, components ) {\n\tlet children = [];\n\tlet openComponent;\n\tlet openIndex;\n\n\tfor ( let i = 0; i < tokens.length; i++ ) {\n\t\tconst token = tokens[ i ];\n\t\tif ( token.type === 'string' ) {\n\t\t\tchildren.push( token.value );\n\t\t\tcontinue;\n\t\t}\n\t\t// component node should at least be set\n\t\tif ( components[ token.value ] === undefined ) {\n\t\t\tthrow new Error( `Invalid interpolation, missing component node: \\`${ token.value }\\`` );\n\t\t}\n\t\t// should be either ReactElement or null (both type \"object\"), all other types deprecated\n\t\tif ( typeof components[ token.value ] !== 'object' ) {\n\t\t\tthrow new Error(\n\t\t\t\t`Invalid interpolation, component node must be a ReactElement or null: \\`${ token.value }\\``\n\t\t\t);\n\t\t}\n\t\t// we should never see a componentClose token in this loop\n\t\tif ( token.type === 'componentClose' ) {\n\t\t\tthrow new Error( `Missing opening component token: \\`${ token.value }\\`` );\n\t\t}\n\t\tif ( token.type === 'componentOpen' ) {\n\t\t\topenComponent = components[ token.value ];\n\t\t\topenIndex = i;\n\t\t\tbreak;\n\t\t}\n\t\t// componentSelfClosing token\n\t\tchildren.push( components[ token.value ] );\n\t\tcontinue;\n\t}\n\n\tif ( openComponent ) {\n\t\tconst closeIndex = getCloseIndex( openIndex, tokens );\n\t\tconst grandChildTokens = tokens.slice( openIndex + 1, closeIndex );\n\t\tconst grandChildren = buildChildren( grandChildTokens, components );\n\t\tconst clonedOpenComponent = cloneElement( openComponent, {}, grandChildren );\n\t\tchildren.push( clonedOpenComponent );\n\n\t\tif ( closeIndex < tokens.length - 1 ) {\n\t\t\tconst siblingTokens = tokens.slice( closeIndex + 1 );\n\t\t\tconst siblings = buildChildren( siblingTokens, components );\n\t\t\tchildren = children.concat( siblings );\n\t\t}\n\t}\n\n\tchildren = children.filter( Boolean );\n\n\tif ( children.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tif ( children.length === 1 ) {\n\t\treturn children[ 0 ];\n\t}\n\n\treturn createElement( Fragment, null, ...children );\n}\n\nexport default function interpolate( options ) {\n\tconst { mixedString, components, throwErrors } = options;\n\n\tif ( ! components ) {\n\t\treturn mixedString;\n\t}\n\n\tif ( typeof components !== 'object' ) {\n\t\tif ( throwErrors ) {\n\t\t\tthrow new Error(\n\t\t\t\t`Interpolation Error: unable to process \\`${ mixedString }\\` because components is not an object`\n\t\t\t);\n\t\t}\n\n\t\treturn mixedString;\n\t}\n\n\tconst tokens = tokenize( mixedString );\n\n\ttry {\n\t\treturn buildChildren( tokens, components );\n\t} catch ( error ) {\n\t\tif ( throwErrors ) {\n\t\t\tthrow new Error(\n\t\t\t\t`Interpolation Error: unable to process \\`${ mixedString }\\` because of error \\`${ error.message }\\``\n\t\t\t);\n\t\t}\n\n\t\treturn mixedString;\n\t}\n}\n","function identifyToken( item ) {\n\t// {{/example}}\n\tif ( item.startsWith( '{{/' ) ) {\n\t\treturn {\n\t\t\ttype: 'componentClose',\n\t\t\tvalue: item.replace( /\\W/g, '' ),\n\t\t};\n\t}\n\t// {{example /}}\n\tif ( item.endsWith( '/}}' ) ) {\n\t\treturn {\n\t\t\ttype: 'componentSelfClosing',\n\t\t\tvalue: item.replace( /\\W/g, '' ),\n\t\t};\n\t}\n\t// {{example}}\n\tif ( item.startsWith( '{{' ) ) {\n\t\treturn {\n\t\t\ttype: 'componentOpen',\n\t\t\tvalue: item.replace( /\\W/g, '' ),\n\t\t};\n\t}\n\treturn {\n\t\ttype: 'string',\n\t\tvalue: item,\n\t};\n}\n\nexport default function tokenize( mixedString ) {\n\tconst tokenStrings = mixedString.split( /(\\{\\{\\/?\\s*\\w+\\s*\\/?\\}\\})/g ); // split to components and strings\n\treturn tokenStrings.map( identifyToken );\n}\n","import debugFactory from 'debug';\nconst debug = debugFactory( 'lib/load-script/callback-handler' );\n\n/**\n * Module variables\n */\nconst callbacksForURLsInProgress = new Map();\n\nexport function getCallbacksMap() {\n\treturn callbacksForURLsInProgress;\n}\n\nexport function isLoading( url ) {\n\treturn getCallbacksMap().has( url );\n}\n\nexport function addScriptCallback( url, callback ) {\n\tconst callbacksMap = getCallbacksMap();\n\tif ( isLoading( url ) ) {\n\t\tdebug( `Adding a callback for an existing script from \"${ url }\"` );\n\t\tcallbacksMap.get( url ).add( callback );\n\t} else {\n\t\tdebug( `Adding a callback for a new script from \"${ url }\"` );\n\t\tcallbacksMap.set( url, new Set( [ callback ] ) );\n\t}\n}\n\nexport function removeScriptCallback( url, callback ) {\n\tdebug( `Removing a known callback for a script from \"${ url }\"` );\n\n\tif ( ! isLoading( url ) ) {\n\t\treturn;\n\t}\n\n\tconst callbacksMap = getCallbacksMap();\n\tconst callbacksAtUrl = callbacksMap.get( url );\n\tcallbacksAtUrl.delete( callback );\n\n\tif ( callbacksAtUrl.size === 0 ) {\n\t\tcallbacksMap.delete( url );\n\t}\n}\n\nexport function removeScriptCallbacks( url ) {\n\tdebug( `Removing all callbacks for a script from \"${ url }\"` );\n\tgetCallbacksMap().delete( url );\n}\n\nexport function removeAllScriptCallbacks() {\n\tdebug( 'Removing all callbacks for scripts from all URLs' );\n\tgetCallbacksMap().clear();\n}\n\nexport function executeCallbacks( url, error = null ) {\n\tconst callbacksMap = getCallbacksMap();\n\tconst callbacksForUrl = callbacksMap.get( url );\n\n\tif ( callbacksForUrl ) {\n\t\tconst debugMessage =\n\t\t\t`Executing callbacks for \"${ url }\"` +\n\t\t\t( error === null ? ' with success' : ` with error \"${ error }\"` );\n\t\tdebug( debugMessage );\n\n\t\tcallbacksForUrl.forEach( ( cb ) => {\n\t\t\tif ( typeof cb === 'function' ) {\n\t\t\t\tcb( error );\n\t\t\t}\n\t\t} );\n\n\t\tcallbacksMap.delete( url );\n\t}\n}\n\nexport function handleRequestSuccess() {\n\tconst url = this.getAttribute( 'src' );\n\tdebug( `Handling successful request for \"${ url }\"` );\n\texecuteCallbacks( url );\n\tthis.onload = null;\n}\n\nexport function handleRequestError() {\n\tconst url = this.getAttribute( 'src' );\n\tdebug( `Handling failed request for \"${ url }\"` );\n\texecuteCallbacks( url, new Error( `Failed to load script \"${ url }\"` ) );\n\tthis.onerror = null;\n}\n","import debugFactory from 'debug';\nimport { handleRequestError, handleRequestSuccess } from './callback-handler';\n\nconst debug = debugFactory( 'lib/load-script/dom-operations' );\n\nexport function createScriptElement( url ) {\n\tdebug( `Creating script element for \"${ url }\"` );\n\tconst script = document.createElement( 'script' );\n\tscript.src = url;\n\tscript.type = 'text/javascript';\n\tscript.async = true;\n\tscript.onload = handleRequestSuccess;\n\tscript.onerror = handleRequestError;\n\treturn script;\n}\n\nexport function attachToHead( element ) {\n\tdebug( 'Attaching element to head' );\n\tdocument.head.appendChild( element );\n}\n","/**\n * A little module for loading a external script\n *\n */\n\nimport debugFactory from 'debug';\nimport { addScriptCallback, isLoading } from './callback-handler';\nimport { createScriptElement, attachToHead } from './dom-operations';\n\nconst debug = debugFactory( 'package/load-script' );\n\n// NOTE: This exists for compatibility.\nexport { removeScriptCallback } from './callback-handler';\n\n/**\n * Module variables\n */\nexport const JQUERY_URL = 'https://s0.wp.com/wp-includes/js/jquery/jquery.js';\n\n//\n// loadScript and loadjQueryDependentScript\n//\n\nexport function loadScript( url, callback ) {\n\t// If this script is not currently being loaded, create a script element and attach to document head.\n\tconst shouldLoadScript = ! isLoading( url );\n\tif ( shouldLoadScript ) {\n\t\t// the onload/onerror callbacks are guaranteed to be called asynchronously, so it's ok to first\n\t\t// add the element and only then attach callbacks, as long as it happens in one event loop tick.\n\t\tattachToHead( createScriptElement( url ) );\n\t}\n\n\t// if callback is provided, behave traditionally\n\tif ( typeof callback === 'function' ) {\n\t\taddScriptCallback( url, callback );\n\t\treturn;\n\t}\n\n\t// but if not, return a Promise\n\treturn new Promise( ( resolve, reject ) => {\n\t\taddScriptCallback( url, ( error ) => {\n\t\t\tif ( error === null ) {\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\treject( error );\n\t\t\t}\n\t\t} );\n\t} );\n}\n\nexport function loadjQueryDependentScript( url, callback ) {\n\tdebug( `Loading a jQuery dependent script from \"${ url }\"` );\n\n\tif ( window.jQuery ) {\n\t\tdebug( `jQuery found on window, skipping jQuery script loading for \"${ url }\"` );\n\t\treturn loadScript( url, callback );\n\t}\n\n\tconst loadPromise = loadScript( JQUERY_URL ).then( () => loadScript( url ) );\n\n\t// if callback is provided, call it on resolution\n\tif ( typeof callback === 'function' ) {\n\t\tloadPromise.then(\n\t\t\t() => callback( null ),\n\t\t\t( error ) => callback( error )\n\t\t);\n\t\treturn;\n\t}\n\n\t// if not, return the Promise\n\treturn loadPromise;\n}\n","import crc32 from 'crc32';\nimport debugFactory from 'debug';\nimport seed from 'seed-random';\n\nconst debug = debugFactory( 'photon' );\n\n/**\n * Options argument to query string parameter mappings.\n */\nconst mappings: Record< string, string > = {\n\twidth: 'w',\n\theight: 'h',\n\tletterboxing: 'lb',\n\tremoveLetterboxing: 'ulb',\n};\n\nconst PARSE_BASE_HOST = '__domain__.invalid';\nconst PARSE_BASE_URL = `https://${ PARSE_BASE_HOST }`;\nconst PHOTON_BASE_URL = 'https://i0.wp.com';\n\ntype PhotonOpts = {\n\twidth?: number;\n\theight?: number;\n\thostname?: string;\n\thost?: string;\n\tsecure?: boolean;\n\tzoom?: number;\n\tresize?: string;\n\tfit?: string;\n\tletterboxing?: string;\n\tremoveLetterBoxing?: boolean;\n};\n\n/**\n * Returns a \"photon\" URL from the given image URL.\n *\n * Defaults to returning an `https:` secure URL from Photon.\n * Pass `secure: false` to get `http:`.\n *\n * Photon documentation: http://developer.wordpress.com/docs/photon/\n *\n * @param imageUrl - the URL of the image to run through Photon\n * @param [opts]   - optional options object with Photon options\n * @returns The generated Photon URL string\n */\nexport default function photon( imageUrl: string, opts?: PhotonOpts ): string | null {\n\tlet parsedUrl;\n\ttry {\n\t\tparsedUrl = new URL( imageUrl, PARSE_BASE_URL );\n\t} catch {\n\t\t// Return null for invalid URLs.\n\t\treturn null;\n\t}\n\n\tconst wasSecure = parsedUrl.protocol === 'https:';\n\tconst photonUrl = new URL( PHOTON_BASE_URL );\n\n\tif ( isAlreadyPhotoned( parsedUrl.host ) ) {\n\t\t// We already have a server to use.\n\t\t// Use it, even if it doesn't match our hash.\n\t\tphotonUrl.pathname = parsedUrl.pathname;\n\t\tphotonUrl.hostname = wasSecure ? 'i0.wp.com' : parsedUrl.hostname;\n\t} else {\n\t\t// Photon does not support URLs with a querystring component\n\t\tif ( parsedUrl.search ) {\n\t\t\treturn null;\n\t\t}\n\t\tlet formattedUrl = parsedUrl.href.replace( `${ parsedUrl.protocol }/`, '' );\n\t\t// Handle blob: protocol URLs.\n\t\tif ( parsedUrl.protocol === 'blob:' ) {\n\t\t\tformattedUrl = parsedUrl.pathname.replace( '://', '//' );\n\t\t}\n\t\t// Handle path-absolute and path-relative URLs.\n\t\tif ( parsedUrl.hostname === PARSE_BASE_HOST ) {\n\t\t\tformattedUrl = parsedUrl.pathname;\n\t\t}\n\t\tphotonUrl.pathname = formattedUrl;\n\t\tphotonUrl.hostname = serverFromUrlParts( formattedUrl, photonUrl.protocol === 'https:' );\n\t\tif ( wasSecure ) {\n\t\t\tphotonUrl.searchParams.set( 'ssl', '1' );\n\t\t}\n\t}\n\n\tif ( opts ) {\n\t\tfor ( const [ opt, value ] of Object.entries( opts ) ) {\n\t\t\tif ( opt === 'host' || opt === 'hostname' ) {\n\t\t\t\tphotonUrl.hostname = value as string;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( opt === 'secure' && ! value ) {\n\t\t\t\tphotonUrl.protocol = 'http:';\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tphotonUrl.searchParams.set( mappings[ opt ] ?? opt, value.toString() );\n\t\t}\n\t}\n\n\t// do this after so a passed opt can't override it\n\n\tdebug( 'generated Photon URL: %s', photonUrl.href );\n\treturn photonUrl.href;\n}\n\nfunction isAlreadyPhotoned( host: string ) {\n\treturn /^i[0-2]\\.wp\\.com$/.test( host );\n}\n\n/**\n * Determine which Photon server to connect to: `i0`, `i1`, or `i2`.\n *\n * Statically hash the subdomain based on the URL, to optimize browser caches.\n * Only use i0 when using photon over https, based on the assumption that https\n * maps to http/2 (or later)\n *\n * @param  {string} pathname The pathname to use\n * @param  {boolean} isSecure Whether we're constructing a HTTPS URL or a HTTP one\n * @returns {string}          The hostname for the pathname\n */\nfunction serverFromUrlParts( pathname: string, isSecure: boolean ) {\n\tif ( isSecure ) {\n\t\treturn 'i0.wp.com';\n\t}\n\tconst hash = crc32( pathname );\n\tconst rng = seed( hash );\n\tconst server = 'i' + Math.floor( rng() * 3 );\n\tdebug( 'determined server \"%s\" to use with \"%s\"', server, pathname );\n\treturn server + '.wp.com';\n}\n","import isShallowEqual from '@wordpress/is-shallow-equal';\nimport warn from '@wordpress/warning';\nimport { memoize } from 'lodash';\n\n/**\n * Constants\n */\n\n/**\n * Defines acceptable argument types for a memoized selector when using the\n * default cache key generating function.\n */\nconst VALID_ARG_TYPES = [ 'number', 'boolean', 'string' ] as string[];\n\ntype Dependant< TState, TProps extends any[], TDependency > = (\n\tstate: TState,\n\t...props: TProps\n) => TDependency;\n\n/**\n * Default behavior for determining whether current state differs from previous\n * state, which is the basis upon which memoize cache is cleared. Should return\n * a value or array of values to be shallowly compared for strict equality.\n *\n * @param state Current state object\n * @returns Value(s) to be shallow compared\n */\nconst DEFAULT_GET_DEPENDANTS: Dependant< any, any, any > = < TState >( state: TState ): TState =>\n\tstate;\n\n/**\n * At runtime, assigns a function which returns a cache key for the memoized\n * selector function, given a state object and a variable set of arguments. In\n * development mode, this warns when the memoized selector is passed a complex\n * object argument, as these cannot be depended upon as reliable cache keys.\n */\nconst DEFAULT_GET_CACHE_KEY = ( () => {\n\tif ( 'production' === process.env.NODE_ENV ) {\n\t\treturn ( _: unknown, ...args: unknown[] ) => args.join();\n\t}\n\n\treturn ( _: unknown, ...args: unknown[] ) => {\n\t\tconst hasInvalidArg = args.some( ( arg ) => {\n\t\t\treturn arg && ! VALID_ARG_TYPES.includes( typeof arg );\n\t\t} );\n\n\t\tif ( hasInvalidArg ) {\n\t\t\twarn( 'Do not pass complex objects as arguments for a memoized selector' );\n\t\t}\n\n\t\treturn args.join();\n\t};\n} )();\n\n/**\n * Given an array of getDependants functions, returns a single function which,\n * when called, returns an array of mapped results from those functions.\n *\n * @param dependants Array of getDependants\n * @returns Function mapping getDependants results\n */\nconst makeSelectorFromArray =\n\t< TState, TProps extends any[] >( dependants: ( ( state: TState, ...args: TProps ) => any )[] ) =>\n\t( state: TState, ...args: TProps ) =>\n\t\tdependants.map( ( dependant ) => dependant( state, ...args ) );\n\n/**\n * Returns a memoized state selector for use with the global application state.\n *\n * @param selector      Function calculating cached result\n * @param getDependants Function(s) describing dependent\n *                                             state, or an array of dependent\n *                                             state selectors\n * @param getCacheKey   Function generating cache key\n * @returns Memoized selector\n */\nexport default function createSelector< TState, TProps extends any[], TDerivedState >(\n\tselector: ( state: TState, ...props: TProps ) => TDerivedState,\n\tgetDependants:\n\t\t| Dependant< TState, TProps, any >\n\t\t| Dependant< TState, TProps, any >[] = DEFAULT_GET_DEPENDANTS,\n\tgetCacheKey: ( state: TState, ...props: TProps ) => string = DEFAULT_GET_CACHE_KEY\n): ( state: TState, ...props: TProps ) => TDerivedState {\n\tconst memoizedSelector = memoize( selector, getCacheKey );\n\tlet lastDependants: any[];\n\n\tconst getDependantsFn =\n\t\ttypeof getDependants === 'function' ? getDependants : makeSelectorFromArray( getDependants );\n\n\treturn Object.assign(\n\t\tfunction ( state: TState, ...args: TProps ) {\n\t\t\tlet currentDependants = getDependantsFn( state, ...args );\n\t\t\tif ( ! Array.isArray( currentDependants ) ) {\n\t\t\t\tcurrentDependants = [ currentDependants ];\n\t\t\t}\n\n\t\t\tif ( lastDependants && ! isShallowEqual( currentDependants, lastDependants ) ) {\n\t\t\t\tmemoizedSelector.cache.clear?.();\n\t\t\t}\n\n\t\t\tlastDependants = currentDependants;\n\n\t\t\treturn memoizedSelector( state, ...args );\n\t\t},\n\t\t{ memoizedSelector }\n\t);\n}\n","import { merge } from 'lodash';\nimport type { Action, AnyAction } from 'redux';\nimport type { ThunkAction, ThunkDispatch } from 'redux-thunk';\n\ntype AnyThunkAction = ThunkAction< any, any, any, AnyAction >;\n\nfunction isThunk( action: Action | AnyThunkAction ): action is AnyThunkAction {\n\treturn 'function' === typeof action;\n}\n\n/**\n * Given an action object or thunk, returns an updated object or thunk which\n * will include additional data in the action (as provided) when dispatched.\n *\n * @see 'client/state/utils/with-enhancers' for a more advanced alternative\n *\n * @param action Action object or thunk\n * @param data   Additional data to include in action\n * @returns Augmented action object or thunk\n */\nfunction extendAction< TAction extends Action | AnyThunkAction >(\n\taction: TAction,\n\tdata: Record< string, unknown > = {}\n): TAction {\n\tif ( ! isThunk( action ) ) {\n\t\treturn merge( {}, action, data ) as TAction;\n\t}\n\n\treturn ( ( dispatch, getState, ...extraArgs ) => {\n\t\tconst newDispatch = ( a: AnyAction ) => dispatch( extendAction( a, data ) as AnyAction );\n\t\treturn action(\n\t\t\tnewDispatch as ThunkDispatch< unknown, unknown, AnyAction >,\n\t\t\tgetState,\n\t\t\t...extraArgs\n\t\t);\n\t} ) as TAction;\n}\n\nexport default extendAction;\n","import type { Reducer } from 'redux';\n\nexport default function getInitialState< TState >( reducer: Reducer< TState > ): TState {\n\treturn reducer( undefined, { type: '@@calypso/INIT' } );\n}\n","import type { Reducer } from 'redux';\n\ntype StorageKeyReducer< T extends Reducer > = T & {\n\tstorageKey: string;\n};\n\nconst withStorageKey = < T extends Reducer >(\n\tstorageKey: string,\n\treducer: T\n): StorageKeyReducer< T > => {\n\t( reducer as StorageKeyReducer< T > ).storageKey = storageKey;\n\treturn reducer as StorageKeyReducer< T >;\n};\n\nexport default withStorageKey;\n","declare const process: {\n\tenv: {\n\t\tNODE_ENV: unknown;\n\t};\n};\n\ninterface GenerateCacheKey< A extends unknown[] > {\n\t( ...args: A ): string;\n}\n\nconst defaultGetCacheKey: GenerateCacheKey< unknown[] > = ( ...args: unknown[] ): string =>\n\targs.join();\n\nconst isFunction = ( fn: unknown ): fn is ( ...args: unknown[] ) => unknown => {\n\treturn !! fn && typeof fn === 'function';\n};\n\nconst isObject = ( o: unknown ): o is Record< string, unknown > => {\n\treturn !! o && typeof o === 'object';\n};\n\ntype WeakMapKey = object; // eslint-disable-line @typescript-eslint/ban-types\n\ninterface Options< A extends unknown[] > {\n\t/** Custom way to compute the cache key from the `args` list */\n\tgetCacheKey?: GenerateCacheKey< A >;\n}\n\ninterface CachedSelector< S, A extends unknown[], R = unknown > {\n\t( state: S, ...args: A ): R;\n\tclearCache: () => void;\n}\n\n/**\n * Returns a selector that caches values.\n *\n * @param getDependents A Function describing the dependent(s) of the selector.\n *                      Must return an array which gets passed as the first arg to the selector.\n * @param selector      A standard selector for calculating cached result.\n * @param options       Options bag with additional arguments.\n *\n * @returns Cached selector\n */\nexport default function treeSelect<\n\tState = unknown,\n\tArgs extends unknown[] = unknown[],\n\tDeps extends WeakMapKey[] = any[], // eslint-disable-line @typescript-eslint/no-explicit-any\n\tResult = unknown\n>(\n\tgetDependents: ( state: State, ...args: Args ) => Deps,\n\tselector: ( deps: Deps, ...args: Args ) => Result,\n\toptions: Options< Args > = {}\n): CachedSelector< State, Args, Result > {\n\tif ( process.env.NODE_ENV !== 'production' ) {\n\t\tif ( ! isFunction( getDependents ) || ! isFunction( selector ) ) {\n\t\t\tthrow new TypeError(\n\t\t\t\t'treeSelect: invalid arguments passed, selector and getDependents must both be functions'\n\t\t\t);\n\t\t}\n\t}\n\n\tlet cache = new WeakMap();\n\n\tconst { getCacheKey = defaultGetCacheKey } = options;\n\n\tconst cachedSelector: CachedSelector< State, Args, Result > = function (\n\t\tstate: State,\n\t\t...args: Args\n\t) {\n\t\tconst dependents = getDependents( state, ...args );\n\n\t\tif ( process.env.NODE_ENV !== 'production' ) {\n\t\t\tif ( getCacheKey === defaultGetCacheKey && args.some( isObject ) ) {\n\t\t\t\tthrow new Error( 'Do not pass objects as arguments to a treeSelector' );\n\t\t\t}\n\t\t}\n\n\t\t// create a dependency tree for caching selector results.\n\t\t// this is beneficial over standard memoization techniques so that we can\n\t\t// garbage collect any values that are based on outdated dependents\n\t\tconst leafCache: Map< string, Result > = dependents.reduce( insertDependentKey, cache );\n\n\t\tconst key = getCacheKey( ...args );\n\t\tif ( leafCache.has( key ) ) {\n\t\t\treturn leafCache.get( key ) as Result;\n\t\t}\n\n\t\tconst value = selector( dependents, ...args );\n\t\tleafCache.set( key, value );\n\t\treturn value;\n\t};\n\n\tcachedSelector.clearCache = () => {\n\t\t// WeakMap doesn't have `clear` method, so we need to recreate it\n\t\tcache = new WeakMap();\n\t};\n\n\treturn cachedSelector;\n}\n\n/*\n * This object will be used as a WeakMap key if a dependency is a falsy value (null, undefined, ...)\n */\nconst NULLISH_KEY = {};\n\n/*\n * First tries to get the value for the key.\n * If the key is not present, then inserts a new map and returns it\n *\n * Note: Inserts WeakMaps except for the last map which will be a regular Map.\n * The last map is a regular one because the the key for the last map is the string results of args.join().\n */\nfunction insertDependentKey( map: any, key: unknown, currentIndex: number, arr: unknown[] ) {\n\t// eslint-disable-line @typescript-eslint/no-explicit-any\n\tif ( key != null && Object( key ) !== key ) {\n\t\tthrow new TypeError( 'key must be an object, `null`, or `undefined`' );\n\t}\n\tconst weakMapKey = key || NULLISH_KEY;\n\n\tconst existingMap = map.get( weakMapKey );\n\tif ( existingMap ) {\n\t\treturn existingMap;\n\t}\n\n\tconst newMap = currentIndex === arr.length - 1 ? new Map() : new WeakMap();\n\tmap.set( weakMapKey, newMap );\n\treturn newMap;\n}\n","import {\n\tisWithinBreakpoint,\n\tsubscribeIsWithinBreakpoint,\n\tMOBILE_BREAKPOINT,\n\tDESKTOP_BREAKPOINT,\n} from '@automattic/viewport';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { forwardRef, useState, useEffect } from 'react';\n\n/**\n * React hook for getting the status for a breakpoint and keeping it updated.\n *\n * @param {string} breakpoint The breakpoint to consider.\n * @returns {boolean} The current status for the breakpoint.\n */\nexport function useBreakpoint( breakpoint ) {\n\tconst [ state, setState ] = useState( () => ( {\n\t\tisActive: isWithinBreakpoint( breakpoint ),\n\t\tbreakpoint,\n\t} ) );\n\n\tuseEffect( () => {\n\t\tfunction handleBreakpointChange( isActive ) {\n\t\t\tsetState( ( prevState ) => {\n\t\t\t\t// Ensure we bail out without rendering if nothing changes, by preserving state.\n\t\t\t\tif ( prevState.isActive === isActive && prevState.breakpoint === breakpoint ) {\n\t\t\t\t\treturn prevState;\n\t\t\t\t}\n\t\t\t\treturn { isActive, breakpoint };\n\t\t\t} );\n\t\t}\n\n\t\tconst unsubscribe = subscribeIsWithinBreakpoint( breakpoint, handleBreakpointChange );\n\t\t// The unsubscribe function is the entire cleanup for the effect.\n\t\treturn unsubscribe;\n\t}, [ breakpoint ] );\n\n\treturn breakpoint === state.breakpoint ? state.isActive : isWithinBreakpoint( breakpoint );\n}\n\n/**\n * React hook for getting the status for the mobile breakpoint and keeping it\n * updated.\n *\n * @returns {boolean} The current status for the breakpoint.\n */\nexport function useMobileBreakpoint() {\n\treturn useBreakpoint( MOBILE_BREAKPOINT );\n}\n\n/**\n * React hook for getting the status for the desktop breakpoint and keeping it\n * updated.\n *\n * @returns {boolean} The current status for the breakpoint.\n */\nexport function useDesktopBreakpoint() {\n\treturn useBreakpoint( DESKTOP_BREAKPOINT );\n}\n\n/**\n * React higher order component for getting the status for a breakpoint and\n * keeping it updated.\n *\n * @param {string} breakpoint The breakpoint to consider.\n * @returns {Function} A function that given a component returns the\n * wrapped component.\n */\nexport const withBreakpoint = ( breakpoint ) =>\n\tcreateHigherOrderComponent(\n\t\t( WrappedComponent ) =>\n\t\t\tforwardRef( ( props, ref ) => {\n\t\t\t\tconst isActive = useBreakpoint( breakpoint );\n\t\t\t\treturn <WrappedComponent { ...props } isBreakpointActive={ isActive } ref={ ref } />;\n\t\t\t} ),\n\t\t'WithBreakpoint'\n\t);\n\n/**\n * React higher order component for getting the status for the mobile\n * breakpoint and keeping it updated.\n *\n * @param {import('react').Component|Function} Wrapped The component to wrap.\n * @returns {Function} The wrapped component.\n */\nexport const withMobileBreakpoint = createHigherOrderComponent(\n\t( WrappedComponent ) =>\n\t\tforwardRef( ( props, ref ) => {\n\t\t\tconst isActive = useBreakpoint( MOBILE_BREAKPOINT );\n\t\t\treturn <WrappedComponent { ...props } isBreakpointActive={ isActive } ref={ ref } />;\n\t\t} ),\n\t'WithMobileBreakpoint'\n);\n\n/**\n * React higher order component for getting the status for the desktop\n * breakpoint and keeping it updated.\n *\n * @param {import('react').Component|Function} Wrapped The component to wrap.\n * @returns {Function} The wrapped component.\n */\nexport const withDesktopBreakpoint = createHigherOrderComponent(\n\t( WrappedComponent ) =>\n\t\tforwardRef( ( props, ref ) => {\n\t\t\tconst isActive = useBreakpoint( DESKTOP_BREAKPOINT );\n\t\t\treturn <WrappedComponent { ...props } isBreakpointActive={ isActive } ref={ ref } />;\n\t\t} ),\n\t'WithDesktopBreakpoint'\n);\n","// Determine whether a user is viewing calypso from a device within a\n// particular mobile-first responsive breakpoint, matching our existing media\n// queries. [1]\n//\n// This function takes a string matching one of our mobile-first breakpoints\n// and returns a boolean based on whether the current `window.innerWidth`\n// matches. This is used to segment behavior based on device or browser size,\n// but should not be used in place of css for design.\n//\n// Valid breakpoints include:\n// - '<480px'\n// - '<660px'\n// - '<800px'\n// - '<960px'\n// - '<1040px'\n// - '<1280px'\n// - '<1400px'\n// - '>480px'\n// - '>660px'\n// - '>800px'\n// - '>960px'\n// - '>1040px'\n// - '>1280px'\n// - '>1400px'\n// - '480px-660px'\n// - '480px-960px'\n// - '660px-960px'\n//\n// As implemented in our sass media query mixins, minimums are exclusive, while\n// maximums are inclusive. i.e.,\n//\n// - '>480px' is equivalent to `@media (min-width: 481px)`\n// - '<960px' is equivalent to `@media (max-width: 960px)`\n// - '480px-960px' is equivalent to `@media (max-width: 960px) and (min-width: 481px)`\n//\n// [1] https://github.com/Automattic/wp-calypso/blob/HEAD/docs/coding-guidelines/css.md#media-queries\n//\n\n// FIXME: We can't detect window size on the server, so until we have more intelligent detection,\n// use 769, which is just above the general maximum mobile screen width.\nconst SERVER_WIDTH = 769;\n\nexport const MOBILE_BREAKPOINT = '<480px';\nexport const DESKTOP_BREAKPOINT = '>960px';\n\nconst isServer = typeof window === 'undefined' || ! window.matchMedia;\n\nconst noop = () => null;\n\nexport type QueryItem = false | MinimalMediaQueryList | MediaQueryList;\nexport type ListenerCallback = ( matches: boolean ) => void;\nexport type UnsubcribeCallback = () => void;\nexport type MinimalMediaQueryList = {\n\tmatches: boolean;\n\taddListener: MediaQueryList[ 'addListener' ];\n\tremoveListener: MediaQueryList[ 'removeListener' ];\n};\n\nfunction addListenerFunctions(\n\tobj: Pick< MinimalMediaQueryList, 'matches' >\n): MinimalMediaQueryList {\n\treturn {\n\t\taddListener: () => undefined,\n\t\tremoveListener: () => undefined,\n\t\t...obj,\n\t};\n}\n\nfunction createMediaQueryList( args?: { min?: number; max?: number } ): QueryItem {\n\tconst { min, max } = args ?? {};\n\tif ( min !== undefined && max !== undefined ) {\n\t\treturn isServer\n\t\t\t? addListenerFunctions( { matches: SERVER_WIDTH > min && SERVER_WIDTH <= max } )\n\t\t\t: window.matchMedia( `(min-width: ${ min + 1 }px) and (max-width: ${ max }px)` );\n\t}\n\n\tif ( min !== undefined ) {\n\t\treturn isServer\n\t\t\t? addListenerFunctions( { matches: SERVER_WIDTH > min } )\n\t\t\t: window.matchMedia( `(min-width: ${ min + 1 }px)` );\n\t}\n\n\tif ( max !== undefined ) {\n\t\treturn isServer\n\t\t\t? addListenerFunctions( { matches: SERVER_WIDTH <= max } )\n\t\t\t: window.matchMedia( `(max-width: ${ max }px)` );\n\t}\n\n\treturn false;\n}\n\nconst mediaQueryLists: Record< string, QueryItem > = {\n\t'<480px': createMediaQueryList( { max: 480 } ),\n\t'<660px': createMediaQueryList( { max: 660 } ),\n\t'<782px': createMediaQueryList( { max: 782 } ),\n\t'<800px': createMediaQueryList( { max: 800 } ),\n\t'<960px': createMediaQueryList( { max: 960 } ),\n\t'<1040px': createMediaQueryList( { max: 1040 } ),\n\t'<1280px': createMediaQueryList( { max: 1280 } ),\n\t'<1400px': createMediaQueryList( { max: 1400 } ),\n\t'>480px': createMediaQueryList( { min: 480 } ),\n\t'>660px': createMediaQueryList( { min: 660 } ),\n\t'>782px': createMediaQueryList( { min: 782 } ),\n\t'>800px': createMediaQueryList( { min: 800 } ),\n\t'>960px': createMediaQueryList( { min: 960 } ),\n\t'>1040px': createMediaQueryList( { min: 1040 } ),\n\t'>1280px': createMediaQueryList( { min: 1280 } ),\n\t'>1400px': createMediaQueryList( { min: 1400 } ),\n\t'480px-660px': createMediaQueryList( { min: 480, max: 660 } ),\n\t'660px-960px': createMediaQueryList( { min: 660, max: 960 } ),\n\t'480px-960px': createMediaQueryList( { min: 480, max: 960 } ),\n};\n\nexport function getMediaQueryList( breakpoint: string ): undefined | QueryItem {\n\tif ( ! mediaQueryLists.hasOwnProperty( breakpoint ) ) {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.warn( 'Undefined breakpoint used in `mobile-first-breakpoint`', breakpoint );\n\t\t} catch ( e ) {}\n\t\treturn undefined;\n\t}\n\n\treturn mediaQueryLists[ breakpoint ];\n}\n\n/**\n * Returns whether the current window width matches a breakpoint.\n *\n * @param {string} breakpoint The breakpoint to consider.\n * @returns {boolean|undefined} Whether the provided breakpoint is matched.\n */\nexport function isWithinBreakpoint( breakpoint: string ): boolean | undefined {\n\tconst mediaQueryList = getMediaQueryList( breakpoint );\n\treturn mediaQueryList ? mediaQueryList.matches : undefined;\n}\n\n/**\n * Registers a listener to be notified of changes to breakpoint matching status.\n *\n * @param {string} breakpoint The breakpoint to consider.\n * @param {Function} listener The listener to be called on change.\n * @returns {Function} The function to be called when unsubscribing.\n */\nexport function subscribeIsWithinBreakpoint(\n\tbreakpoint: string,\n\tlistener: ListenerCallback\n): UnsubcribeCallback {\n\tif ( ! listener ) {\n\t\treturn noop;\n\t}\n\n\tconst mediaQueryList = getMediaQueryList( breakpoint );\n\n\tif ( mediaQueryList && ! isServer ) {\n\t\tconst wrappedListener = ( evt: { matches: boolean } ) => listener( evt.matches );\n\t\tmediaQueryList.addListener( wrappedListener );\n\t\t// Return unsubscribe function.\n\t\treturn () => mediaQueryList.removeListener( wrappedListener );\n\t}\n\n\treturn noop;\n}\n\n/**\n * Returns whether the current window width matches the mobile breakpoint.\n *\n * @returns {boolean|undefined} Whether the mobile breakpoint is matched.\n */\nexport function isMobile(): boolean | undefined {\n\treturn isWithinBreakpoint( MOBILE_BREAKPOINT );\n}\n\n/**\n * Registers a listener to be notified of changes to mobile breakpoint matching status.\n *\n * @param {Function} listener The listener to be called on change.\n * @returns {Function} The registered subscription; undefined if none.\n */\nexport function subscribeIsMobile( listener: ListenerCallback ): UnsubcribeCallback {\n\treturn subscribeIsWithinBreakpoint( MOBILE_BREAKPOINT, listener );\n}\n\n/**\n * Returns whether the current window width matches the desktop breakpoint.\n *\n * @returns {boolean|undefined} Whether the desktop breakpoint is matched.\n */\nexport function isDesktop(): boolean | undefined {\n\treturn isWithinBreakpoint( DESKTOP_BREAKPOINT );\n}\n\n/**\n * Registers a listener to be notified of changes to desktop breakpoint matching status.\n *\n * @param {Function} listener The listener to be called on change.\n * @returns {Function} The registered subscription; undefined if none.\n */\nexport function subscribeIsDesktop( listener: ListenerCallback ): UnsubcribeCallback {\n\treturn subscribeIsWithinBreakpoint( DESKTOP_BREAKPOINT, listener );\n}\n\n/**\n * Returns the current window width.\n * Avoid using this method, as it triggers a layout recalc.\n *\n * @returns {number} The current window width, in pixels.\n */\nexport function getWindowInnerWidth(): number {\n\treturn isServer ? SERVER_WIDTH : window.innerWidth;\n}\n\n/******************************************/\n/*       Vertical Scroll Experiment       */\n/*  \t       pcbrnV-XN-p2               */\n/******************************************/\n\n//TODO: To be refactored using above using the DESKTOP_BREAKPOINT constant\nexport function isTabletResolution(): boolean {\n\tif ( ! isServer ) {\n\t\treturn window.innerWidth < 1040;\n\t}\n\treturn false;\n}\n\nexport const DEVICE_MOBILE = 'mobile';\nexport const DEVICE_TABLET = 'tablet';\nexport const DEVICE_DESKTOP = 'desktop';\n\nexport function resolveDeviceTypeByViewPort(): string {\n\tif ( isMobile() ) {\n\t\treturn DEVICE_MOBILE;\n\t} else if ( isTabletResolution() ) {\n\t\treturn DEVICE_TABLET;\n\t}\n\treturn DEVICE_DESKTOP;\n}\n\n/******************************************/\n","import debugFactory from 'debug';\nimport ProgressEvent from 'progress-event';\nimport { v4 as uuidv4 } from 'uuid';\nimport WPError from 'wp-error';\n\n/**\n * debug instance\n */\nconst debug = debugFactory( 'wpcom-proxy-request' );\n\n/**\n * WordPress.com REST API base endpoint.\n */\nconst proxyOrigin = 'https://public-api.wordpress.com';\n\n/**\n * \"Origin\" of the current HTML page.\n */\nconst origin = window.location.protocol + '//' + window.location.host;\n\nlet onStreamRecord = null;\n\n/**\n * Detecting support for the structured clone algorithm. IE8 and 9, and Firefox\n * 6.0 and below only support strings as postMessage's message. This browsers\n * will try to use the toString method.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\n * https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/The_structured_clone_algorithm\n * https://github.com/Modernizr/Modernizr/issues/388#issuecomment-31127462\n */\nconst postStrings = ( () => {\n\tlet r = false;\n\ttry {\n\t\twindow.postMessage(\n\t\t\t{\n\t\t\t\ttoString: function () {\n\t\t\t\t\tr = true;\n\t\t\t\t},\n\t\t\t},\n\t\t\t'*'\n\t\t);\n\t} catch ( e ) {\n\t\t/* empty */\n\t}\n\treturn r;\n} )();\n\n/**\n * Test if the browser supports constructing a new `File` object. Not present on Edge and IE.\n */\nconst supportsFileConstructor = ( () => {\n\ttry {\n\t\t// eslint-disable-next-line no-new\n\t\tnew window.File( [ 'a' ], 'test.jpg', { type: 'image/jpeg' } );\n\t\treturn true;\n\t} catch ( e ) {\n\t\treturn false;\n\t}\n} )();\n\n/**\n * Reference to the <iframe> DOM element.\n * Gets set in the install() function.\n */\nlet iframe = null;\n\n/**\n * Set to `true` upon the iframe's \"load\" event.\n */\nlet loaded = false;\n\n/**\n * Array of buffered API requests. Added to when API requests are done before the\n * proxy <iframe> is \"loaded\", and fulfilled once the \"load\" DOM event on the\n * iframe occurs.\n */\nlet buffered;\n\n/**\n * In-flight API request XMLHttpRequest dummy \"proxy\" instances.\n */\nconst requests = {};\n\n/**\n * Are HTML5 XMLHttpRequest2 \"progress\" events supported?\n * See: http://goo.gl/xxYf6D\n */\nconst supportsProgress = !! window.ProgressEvent && !! window.FormData;\n\ndebug( 'using \"origin\": %o', origin );\n\n/**\n * Performs a \"proxied REST API request\". This happens by calling\n * `iframe.postMessage()` on the proxy iframe instance, which from there\n * takes care of WordPress.com user authentication (via the currently\n * logged-in user's cookies).\n *\n * @param {object} originalParams - request parameters\n * @param {Function} [fn] - callback response\n * @returns {window.XMLHttpRequest} XMLHttpRequest instance\n */\nconst makeRequest = ( originalParams, fn ) => {\n\tconst params = Object.assign( {}, originalParams );\n\n\tdebug( 'request(%o)', params );\n\n\t// inject the <iframe> upon the first proxied API request\n\tif ( ! iframe ) {\n\t\tinstall();\n\t}\n\n\t// generate a uuid for this API request\n\tconst id = uuidv4();\n\tparams.callback = id;\n\tparams.supports_args = true; // supports receiving variable amount of arguments\n\tparams.supports_error_obj = true; // better Error object info\n\tparams.supports_progress = supportsProgress; // supports receiving XHR \"progress\" events\n\n\t// force uppercase \"method\" since that's what the <iframe> is expecting\n\tparams.method = String( params.method || 'GET' ).toUpperCase();\n\n\tdebug( 'params object: %o', params );\n\n\tconst xhr = new window.XMLHttpRequest();\n\txhr.params = params;\n\n\t// store the `XMLHttpRequest` instance so that \"onmessage\" can access it again\n\trequests[ id ] = xhr;\n\n\tif ( 'function' === typeof fn ) {\n\t\t// a callback function was provided\n\t\tlet called = false;\n\t\tconst xhrOnLoad = ( e ) => {\n\t\t\tif ( called ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcalled = true;\n\t\t\tconst body = e.response || xhr.response;\n\t\t\tdebug( 'body: ', body );\n\t\t\tdebug( 'headers: ', e.headers );\n\t\t\tfn( null, body, e.headers );\n\t\t};\n\t\tconst xhrOnError = ( e ) => {\n\t\t\tif ( called ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcalled = true;\n\t\t\tconst error = e.error || e.err || e;\n\t\t\tdebug( 'error: ', error );\n\t\t\tdebug( 'headers: ', e.headers );\n\t\t\tfn( error, null, e.headers );\n\t\t};\n\n\t\txhr.addEventListener( 'load', xhrOnLoad );\n\t\txhr.addEventListener( 'abort', xhrOnError );\n\t\txhr.addEventListener( 'error', xhrOnError );\n\t}\n\n\tif ( 'function' === typeof params.onStreamRecord ) {\n\t\t// remove onStreamRecord param, which cant be cloned\n\t\tonStreamRecord = params.onStreamRecord;\n\t\tdelete params.onStreamRecord;\n\n\t\t// FIXME @azabani implement stream mode processing\n\t\t// Hint: port the algorithm from wpcom-xhr-request@1.2.0 to /public.api/rest-proxy/provider-\n\t\t// v2.0.js in rWP, then plumb stream records from onmessage below to onStreamRecord (or add\n\t\t// the XMLHttpRequest#response to ondownloadprogress there, then parse the chunks here).\n\t}\n\n\tif ( loaded ) {\n\t\tsubmitRequest( params );\n\t} else {\n\t\tdebug( 'buffering API request since proxying <iframe> is not yet loaded' );\n\t\tbuffered.push( params );\n\t}\n\n\treturn xhr;\n};\n\n/**\n * Performs a \"proxied REST API request\". This happens by calling\n * `iframe.postMessage()` on the proxy iframe instance, which from there\n * takes care of WordPress.com user authentication (via the currently\n * logged-in user's cookies).\n *\n * If no function is specified as second parameter, a promise is returned.\n *\n * @param {object} originalParams - request parameters\n * @param {Function} [fn] - callback response\n * @returns {window.XMLHttpRequest|Promise} XMLHttpRequest instance or Promise\n */\nconst request = ( originalParams, fn ) => {\n\t// if callback is provided, behave traditionally\n\tif ( 'function' === typeof fn ) {\n\t\t// request method\n\t\treturn makeRequest( originalParams, fn );\n\t}\n\n\t// but if not, return a Promise\n\treturn new Promise( ( res, rej ) => {\n\t\tmakeRequest( originalParams, ( err, response ) => {\n\t\t\terr ? rej( err ) : res( response );\n\t\t} );\n\t} );\n};\n\n/**\n * Set proxy to \"access all users' blogs\" mode.\n */\nexport function requestAllBlogsAccess() {\n\treturn request( { metaAPI: { accessAllUsersBlogs: true } } );\n}\n\n/**\n * Calls the `postMessage()` function on the <iframe>.\n *\n * @param {object} params\n */\n\nfunction submitRequest( params ) {\n\tdebug( 'sending API request to proxy <iframe> %o', params );\n\n\t// `formData` needs to be patched if it contains `File` objects to work around\n\t// a Chrome bug. See `patchFileObjects` description for more details.\n\tif ( params.formData ) {\n\t\tpatchFileObjects( params.formData );\n\t}\n\n\tiframe.contentWindow.postMessage( postStrings ? JSON.stringify( params ) : params, proxyOrigin );\n}\n\n/**\n * Returns `true` if `v` is a DOM File instance, `false` otherwise.\n *\n * @param {any} v - instance to analyze\n * @returns {boolean} `true` if `v` is a DOM File instance\n */\nfunction isFile( v ) {\n\treturn v && Object.prototype.toString.call( v ) === '[object File]';\n}\n\n/*\n * Find a `File` object in a form data value. It can be either the value itself, or\n * in a `fileContents` property of the value.\n */\nfunction getFileValue( v ) {\n\tif ( isFile( v ) ) {\n\t\treturn v;\n\t}\n\n\tif ( typeof v === 'object' && isFile( v.fileContents ) ) {\n\t\treturn v.fileContents;\n\t}\n\n\treturn null;\n}\n\n/**\n * Finds all `File` instances in `formData` and creates a new `File` instance whose storage is\n * forced to be a `Blob` instead of being backed by a file on disk. That works around a bug in\n * Chrome where `File` instances with `has_backing_file` flag cannot be sent over a process\n * boundary when site isolation is on.\n *\n * @see https://bugs.chromium.org/p/chromium/issues/detail?id=866805\n * @see https://bugs.chromium.org/p/chromium/issues/detail?id=631877\n *\n * @param {Array} formData Form data to patch\n */\nfunction patchFileObjects( formData ) {\n\t// There are several landmines to avoid when making file uploads work on all browsers:\n\t// - the `new File()` constructor trick breaks file uploads on Safari 10 in a way that's\n\t//   impossible to detect: it will send empty files in the multipart/form-data body.\n\t//   Therefore we need to detect Chrome.\n\t// - IE11 and Edge don't support the `new File()` constructor at all. It will throw exception,\n\t//   so it's detectable by the `supportsFileConstructor` code.\n\t// - `window.chrome` exists also on Edge (!), `window.chrome.webstore` is only in Chrome and\n\t//   not in other Chromium based browsers (which have the site isolation bug, too).\n\tif ( ! window.chrome || ! supportsFileConstructor ) {\n\t\treturn;\n\t}\n\n\tfor ( let i = 0; i < formData.length; i++ ) {\n\t\tconst val = getFileValue( formData[ i ][ 1 ] );\n\t\tif ( val ) {\n\t\t\tformData[ i ][ 1 ] = new window.File( [ val ], val.name, { type: val.type } );\n\t\t}\n\t}\n}\n\n/**\n * Injects the proxy <iframe> instance in the <body> of the current\n * HTML page.\n */\n\nfunction install() {\n\tdebug( 'install()' );\n\tif ( iframe ) {\n\t\tuninstall();\n\t}\n\n\tbuffered = [];\n\n\t// listen to messages sent to `window`\n\twindow.addEventListener( 'message', onmessage );\n\n\t// create the <iframe>\n\tiframe = document.createElement( 'iframe' );\n\n\t// set `src` and hide the iframe\n\tiframe.src = proxyOrigin + '/wp-admin/rest-proxy/?v=2.0#' + origin;\n\tiframe.style.display = 'none';\n\n\t// inject the <iframe> into the <body>\n\tdocument.body.appendChild( iframe );\n}\n\n/**\n * Reloads the proxy iframe.\n */\nconst reloadProxy = () => {\n\tinstall();\n};\n\n/**\n * Removes the <iframe> proxy instance from the <body> of the page.\n */\nfunction uninstall() {\n\tdebug( 'uninstall()' );\n\twindow.removeEventListener( 'message', onmessage );\n\tdocument.body.removeChild( iframe );\n\tloaded = false;\n\tiframe = null;\n}\n\n/**\n * The proxy <iframe> instance's \"load\" event callback function.\n */\n\nfunction onload() {\n\tdebug( 'proxy <iframe> \"load\" event' );\n\tloaded = true;\n\n\t// flush any buffered API calls\n\tif ( buffered ) {\n\t\tfor ( let i = 0; i < buffered.length; i++ ) {\n\t\t\tsubmitRequest( buffered[ i ] );\n\t\t}\n\t\tbuffered = null;\n\t}\n}\n\n/**\n * The main `window` object's \"message\" event callback function.\n *\n * @param {window.Event} e\n */\n\nfunction onmessage( e ) {\n\tdebug( 'onmessage' );\n\n\t// Filter out messages from different origins\n\tif ( e.origin !== proxyOrigin ) {\n\t\tdebug( 'ignoring message... %o !== %o', e.origin, proxyOrigin );\n\t\treturn;\n\t}\n\n\t// Filter out messages from different iframes\n\tif ( e.source !== iframe.contentWindow ) {\n\t\tdebug( 'ignoring message... iframe elements do not match' );\n\t\treturn;\n\t}\n\n\tlet { data } = e;\n\tif ( ! data ) {\n\t\treturn debug( 'no `data`, bailing' );\n\t}\n\n\t// Once the iframe is loaded, we can start using it.\n\tif ( data === 'ready' ) {\n\t\tonload();\n\t\treturn;\n\t}\n\n\tif ( postStrings && 'string' === typeof data ) {\n\t\tdata = JSON.parse( data );\n\t}\n\n\t// check if we're receiving a \"progress\" event\n\tif ( data.upload || data.download ) {\n\t\treturn onprogress( data );\n\t}\n\n\tif ( ! data.length ) {\n\t\treturn debug( \"`e.data` doesn't appear to be an Array, bailing...\" );\n\t}\n\n\t// first get the `xhr` instance that we're interested in\n\tconst id = data[ data.length - 1 ];\n\tif ( ! ( id in requests ) ) {\n\t\treturn debug( 'bailing, no matching request with callback: %o', id );\n\t}\n\n\tconst xhr = requests[ id ];\n\n\t// Build `error` and `body` object from the `data` object\n\tconst { params } = xhr;\n\n\tconst body = data[ 0 ];\n\tlet statusCode = data[ 1 ];\n\tconst headers = data[ 2 ];\n\n\t// We don't want to delete requests while we're processing stream messages\n\tif ( statusCode === 207 ) {\n\t\t// 207 is a signal from rest-proxy. It means, \"this isn't the final\n\t\t// response to the query.\" The proxy supports WebSocket connections\n\t\t// by invoking the original success callback for each message received.\n\t} else {\n\t\t// this is the final response to this query\n\t\tdelete requests[ id ];\n\t}\n\n\tif ( ! params.metaAPI ) {\n\t\tdebug( 'got %o status code for URL: %o', statusCode, params.path );\n\t} else {\n\t\tstatusCode = body === 'metaAPIupdated' ? 200 : 500;\n\t}\n\n\tif ( typeof headers === 'object' ) {\n\t\t// add statusCode into headers object\n\t\theaders.status = statusCode;\n\n\t\tif ( shouldProcessInStreamMode( headers[ 'Content-Type' ] ) ) {\n\t\t\tif ( statusCode === 207 ) {\n\t\t\t\tonStreamRecord( body );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( statusCode && 2 === Math.floor( statusCode / 100 ) ) {\n\t\t// 2xx status code, success\n\t\tresolve( xhr, body, headers );\n\t} else {\n\t\t// any other status code is a failure\n\t\tconst wpe = WPError( params, statusCode, body );\n\t\treject( xhr, wpe, headers );\n\t}\n}\n\n/**\n * Returns true iff stream mode processing is required (see wpcom-xhr-request@1.2.0).\n *\n * @param {string} contentType response Content-Type header value\n */\nfunction shouldProcessInStreamMode( contentType ) {\n\treturn /^application[/]x-ndjson($|;)/.test( contentType );\n}\n\n/**\n * Handles a \"progress\" event being proxied back from the iframe page.\n *\n * @param {object} data\n */\n\nfunction onprogress( data ) {\n\tdebug( 'got \"progress\" event: %o', data );\n\tconst xhr = requests[ data.callbackId ];\n\tif ( xhr ) {\n\t\tconst prog = new ProgressEvent( 'progress', data );\n\t\tconst target = data.upload ? xhr.upload : xhr;\n\t\ttarget.dispatchEvent( prog );\n\t}\n}\n\n/**\n * Emits the \"load\" event on the `xhr`.\n *\n * @param {window.XMLHttpRequest} xhr\n * @param {object} body\n */\n\nfunction resolve( xhr, body, headers ) {\n\tconst e = new ProgressEvent( 'load' );\n\te.data = e.body = e.response = body;\n\te.headers = headers;\n\txhr.dispatchEvent( e );\n}\n\n/**\n * Emits the \"error\" event on the `xhr`.\n *\n * @param {window.XMLHttpRequest} xhr\n * @param {Error} err\n */\n\nfunction reject( xhr, err, headers ) {\n\tconst e = new ProgressEvent( 'error' );\n\te.error = e.err = err;\n\te.headers = headers;\n\txhr.dispatchEvent( e );\n}\n\n/**\n * Export `request` function.\n */\nexport default request;\nexport { reloadProxy };\n","import debugModule from 'debug';\nimport Batch from './lib/batch';\nimport Domain from './lib/domain';\nimport Domains from './lib/domains';\nimport Me from './lib/me';\nimport Plans from './lib/plans';\nimport Site from './lib/site';\nimport Users from './lib/users';\nimport Pinghub from './lib/util/pinghub';\nimport Request from './lib/util/request';\nimport sendRequest from './lib/util/send-request';\n\n/**\n * Local module constants\n */\nconst debug = debugModule( 'wpcom' );\nconst DEFAULT_ASYNC_TIMEOUT = 30000;\n\n/**\n * XMLHttpRequest (and CORS) API access method.\n *\n * API authentication is done via an (optional) access `token`,\n * which needs to be retrieved via OAuth.\n *\n * Request Handler is optional and XHR is defined as default.\n *\n * @param {string} [token] - OAuth API access token\n * @param {Function} [reqHandler] - function Request Handler\n * @returns {WPCOM} wpcom instance\n */\nexport default function WPCOM( token, reqHandler ) {\n\tif ( ! ( this instanceof WPCOM ) ) {\n\t\treturn new WPCOM( token, reqHandler );\n\t}\n\n\t// `token` is optional\n\tif ( 'function' === typeof token ) {\n\t\treqHandler = token;\n\t\ttoken = null;\n\t}\n\n\tif ( token ) {\n\t\tdebug( 'Token defined: %s', token.substring( 0, 6 ) );\n\t\tthis.token = token;\n\t}\n\n\tconst noHandler = ( params, fn ) => {\n\t\tdebug( 'No request handler. Failing.' );\n\t\tfn( new Error( 'No request handler provided' ) );\n\t};\n\n\tthis.request = reqHandler || noHandler;\n\n\t// Add Req instance\n\tthis.req = new Request( this );\n\n\t// Add Pinghub instance\n\tthis.pinghub = new Pinghub( this );\n\n\t// Default api version;\n\tthis.apiVersion = '1.1';\n}\n\n/**\n * Return `Me` object instance\n *\n * @returns {Me} Me instance\n */\nWPCOM.prototype.me = function () {\n\treturn new Me( this );\n};\n\n/**\n * Return `Domains` object instance\n *\n * @returns {Domains} Domains instance\n */\nWPCOM.prototype.domains = function () {\n\treturn new Domains( this );\n};\n\n/**\n * Return `Domain` object instance\n *\n * @param {string} domainId - domain identifier\n * @returns {Domain} Domain instance\n */\nWPCOM.prototype.domain = function ( domainId ) {\n\treturn new Domain( domainId, this );\n};\n\n/**\n * Return `Site` object instance\n *\n * @param {string} id - site identifier\n * @returns {Site} Site instance\n */\nWPCOM.prototype.site = function ( id ) {\n\treturn new Site( id, this );\n};\n\n/**\n * Return `Users` object instance\n *\n * @returns {Users} Users instance\n */\nWPCOM.prototype.users = function () {\n\treturn new Users( this );\n};\n\n/**\n * Return `Plans` object instance\n *\n * @returns {Plans} Plans instance\n */\nWPCOM.prototype.plans = function () {\n\treturn new Plans( this );\n};\n\n/**\n * Return `Batch` object instance\n *\n * @returns {Batch} Batch instance\n */\nWPCOM.prototype.batch = function () {\n\treturn new Batch( this );\n};\n\n/**\n * List Freshly Pressed Posts\n *\n * @param {object} [query] - query object\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nWPCOM.prototype.freshlyPressed = function ( query, fn ) {\n\treturn this.req.get( '/freshly-pressed', query, fn );\n};\n\n// Expose send-request\n// TODO: use `this.req` instead of this method\nWPCOM.prototype.sendRequest = function ( params, query, body, fn ) {\n\tconst msg = 'WARN! Don use `sendRequest() anymore. Use `this.req` method.';\n\n\t/* eslint-disable no-console */\n\tif ( console && console.warn ) {\n\t\tconsole.warn( msg );\n\t} else {\n\t\tconsole.log( msg );\n\t}\n\t/* eslint-enable no-console */\n\n\treturn sendRequest.call( this, params, query, body, fn );\n};\n\n/**\n * Re-export all the class types.\n */\nWPCOM.Batch = Batch;\nWPCOM.Domain = Domain;\nWPCOM.Domains = Domains;\nWPCOM.Me = Me;\nWPCOM.Pinghub = Pinghub;\nWPCOM.Plans = Plans;\nWPCOM.Request = Request;\nWPCOM.Site = Site;\nWPCOM.Users = Users;\n\nif ( ! Promise.prototype.timeout ) {\n\t/**\n\t * Returns a new promise with a deadline\n\t *\n\t * After the timeout interval, the promise will\n\t * reject. If the actual promise settles before\n\t * the deadline, the timer is cancelled.\n\t *\n\t * @param {number} delay how many ms to wait\n\t * @returns {Promise} promise\n\t */\n\tPromise.prototype.timeout = function ( delay = DEFAULT_ASYNC_TIMEOUT ) {\n\t\tlet timer;\n\n\t\tconst timeout = new Promise( ( resolve, reject ) => {\n\t\t\ttimer = setTimeout( () => {\n\t\t\t\treject( new Error( 'Action timed out while waiting for response.' ) );\n\t\t\t}, delay );\n\t\t} );\n\n\t\tconst cancelTimeout = () => {\n\t\t\tclearTimeout( timer );\n\t\t\treturn this;\n\t\t};\n\n\t\treturn Promise.race( [ this.then( cancelTimeout ).catch( cancelTimeout ), timeout ] );\n\t};\n}\n","class Batch {\n\t/**\n\t * Create a `Batch` instance\n\t *\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof Batch ) ) {\n\t\t\treturn new Batch( wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis.urls = [];\n\t}\n\n\t/**\n\t * Add url to batch requests\n\t *\n\t * @param {string} url - endpoint url\n\t * @returns {Batch} batch instance\n\t */\n\tadd( url ) {\n\t\tthis.urls.push( url );\n\t\treturn this;\n\t}\n\n\t/**\n\t * Run the batch request\n\t *\n\t * @param {object} [query] - optional query parameter\n\t * @param {Function} fn - callback\n\t * @returns {Promise} Promise\n\t */\n\trun( query = {}, fn ) {\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\t// add urls to query object\n\t\tquery.urls = this.urls;\n\n\t\treturn this.wpcom.req.get( '/batch', query, fn );\n\t}\n}\n\n/**\n * Expose `Batch` module\n */\nexport default Batch;\n","const root = '/domains/';\n\nclass DomainDns {\n\t/**\n\t * `DomainDns` constructor.\n\t *\n\t * @param {string} domainId - domain identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( domainId, wpcom ) {\n\t\tif ( ! ( this instanceof DomainDns ) ) {\n\t\t\treturn new DomainDns( domainId, wpcom );\n\t\t}\n\n\t\tthis._domain = domainId;\n\t\tthis._subpath = root + this._domain + '/dns';\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Adds a DNS record\n\t *\n\t * @param {object} record - record\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tadd( record, query, fn ) {\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\treturn this.wpcom.req.post( this._subpath + '/add', query, record, fn );\n\t}\n\n\t/**\n\t * Delete a DNS record\n\t *\n\t * @param {string} record - record\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdelete( record, query, fn ) {\n\t\treturn this.wpcom.req.post( this._subpath + '/delete', query, record, fn );\n\t}\n\n\t/**\n\t * Sets the default A records also deleting any A and AAAA custom records.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tsetDefaultARecords( query, fn ) {\n\t\treturn this.wpcom.req.post( this._subpath + '/set-default-a-records', query, null, fn );\n\t}\n}\n\n/**\n * Expose `DomainDns` module\n */\nexport default DomainDns;\n","const root = '/domains/';\n\nclass DomainEmail {\n\t/**\n\t * `DomainEmail` constructor.\n\t *\n\t * @param {string} [email] - email\n\t * @param {string} domainId - domain identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( email, domainId, wpcom ) {\n\t\tif ( ! ( this instanceof DomainEmail ) ) {\n\t\t\treturn new DomainEmail( email, domainId, wpcom );\n\t\t}\n\n\t\tif ( email ) {\n\t\t\tthis._email = email;\n\t\t}\n\n\t\tthis._domain = domainId;\n\t\tthis._subpath = root + this._domain + '/email/';\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Update the email forwards/configuration for a domain.\n\t *\n\t * @param {string} destination - the email address to forward email to.\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tforward( destination, query, fn ) {\n\t\tconst body = { destination: destination };\n\t\treturn this.wpcom.req.post( this._subpath + this._email, query, body, fn );\n\t}\n\n\t/**\n\t * Create an email forward for the domain\n\t * if it has enough licenses.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\n\tadd( mailbox, destination, query, fn ) {\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\tconst body = {\n\t\t\tmailbox: mailbox,\n\t\t\tdestination: destination,\n\t\t};\n\n\t\treturn this.wpcom.req.post( this._subpath + 'new', query, body, fn );\n\t}\n\n\t/**\n\t * Delete an email forward for the domain\n\t *\n\t * @param {string} mailbox - mailbox to alter\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdelete( mailbox, query, fn ) {\n\t\treturn this.wpcom.req.del( this._subpath + mailbox + '/delete', query, fn );\n\t}\n}\n\n/**\n * Expose `DomainEmail` module\n */\nexport default DomainEmail;\n","import DomainDns from './domain.dns';\nimport DomainEmail from './domain.email';\n\nconst root = '/domains/';\n\nclass Domain {\n\t/**\n\t * `Domain` constructor.\n\t *\n\t * @param {string} id - domain identifier\n\t * @param wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( id, wpcom ) {\n\t\tif ( ! ( this instanceof Domain ) ) {\n\t\t\treturn new Domain( id, wpcom );\n\t\t}\n\t\tthis._id = id;\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get the status of the domain\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tstatus( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/status', query, fn );\n\t}\n\n\t/**\n\t * Check if the given domain is available\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tisAvailable( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/is-available', query, fn );\n\t}\n\n\t/**\n\t * Check if the given domain name can be mapped to\n\t * a WordPress blog.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tisMappable( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/is-mappable', query, fn );\n\t}\n\n\t/**\n\t * Check if the given domain name can be used for site redirect.\n\t *\n\t * @param {string} siteId - site id of the site to check\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tcanRedirect( siteId, query, fn ) {\n\t\tconst path = root + siteId + '/' + this._id + '/can-redirect';\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t}\n\n\t/**\n\t * Get the email forwards/configuration for a domain.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\temailForwards( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/email', query, fn );\n\t}\n\n\t/**\n\t * Get a list of the nameservers for the domain\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tnameserversList( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/nameservers', query, fn );\n\t}\n\n\t/**\n\t * Update the nameservers for the domain\n\t *\n\t * @param {Array} nameservers - nameservers list\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tupdateNameservers( nameservers, query, fn ) {\n\t\tconst body = { nameservers: nameservers };\n\t\treturn this.wpcom.req.post( root + this._id + '/nameservers', query, body, fn );\n\t}\n\n\t/**\n\t * Get a list of the DNS records for the domain\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdnsList( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/dns', query, fn );\n\t}\n\n\t/**\n\t * Get a list of all Google Apps accounts for the domain\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tgoogleAppsList( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/google-apps', query, fn );\n\t}\n\n\t/**\n\t * Resend the ICANN verification email for the domain\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tresendICANN( query, fn ) {\n\t\treturn this.wpcom.req.post( root + this._id + '/resend-icann', query, fn );\n\t}\n\n\t/**\n\t * Return `DomainEmail` instance\n\t *\n\t * @param {string} [email] - email identifier\n\t * @returns {DomainEmail} DomainEmail instance\n\t */\n\temail( email ) {\n\t\treturn new DomainEmail( email, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Return `DomainDns` instance\n\t *\n\t * @returns {DomainDns} DomainDns instance\n\t */\n\tdns() {\n\t\treturn new DomainDns( this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Gets info needed to provide mapping setup instructions for a domain.\n\t *\n\t * @param {string} siteId - site id the domain will be mapped to\n\t * @param {object} query - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tmappingSetupInfo( siteId, query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/mapping-setup-info/' + siteId, query, fn );\n\t}\n\n\t/**\n\t * Gets the mapping status for a domain.\n\t *\n\t * @param {object} query - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tmappingStatus( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/mapping-status', query, fn );\n\t}\n\n\t/**\n\t * Update the connection mode used to connect this domain and retrieve its mapping status.\n\t *\n\t * @param {string} mode - connection mode used to connect this domain (can be \"suggested\" or \"advanced\")\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tupdateConnectionModeAndGetMappingStatus( mode, query, fn ) {\n\t\tconst body = { mode };\n\t\treturn this.wpcom.req.post( root + this._id + '/mapping-status', query, body, fn );\n\t}\n}\n\n/**\n * Expose `Domain` module\n */\nexport default Domain;\n","const root = '/domains/';\n\nclass Domains {\n\t/**\n\t * `Domains` constructor.\n\t *\n\t * @param wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof Domains ) ) {\n\t\t\treturn new Domains( wpcom );\n\t\t}\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get a list of suggested domain names that are available for\n\t * registration based on a given term or domain name.\n\t *\n\t * @param {string|object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsuggestions( query, fn ) {\n\t\tif ( 'string' === typeof query ) {\n\t\t\tquery = { query: query };\n\t\t}\n\t\treturn this.wpcom.req.get( root + 'suggestions', query, fn );\n\t}\n\n\t/**\n\t * GET example domain suggestions\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsuggestionsExamples( query, fn ) {\n\t\treturn this.wpcom.req.get( root + 'suggestions/examples', query, fn );\n\t}\n\n\t/**\n\t * Get a localized list of supported countries for domain registrations.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsupportedCountries( query, fn ) {\n\t\treturn this.wpcom.req.get( root + 'supported-countries', query, fn );\n\t}\n\n\t/**\n\t * Get a localized list of supported states for domain registrations.\n\t *\n\t * @param {string} countryCode - country code ISO 3166-1 alpha-2 identifier\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsupportedStates( countryCode, query, fn ) {\n\t\tconst path = root + 'supported-states/' + countryCode;\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t}\n}\n\n/**\n * Expose `Domains` module\n */\nexport default Domains;\n","const root = '/me/connected-applications/';\n\nexport default class MeConnectedApp {\n\t/**\n\t * `MeConnectedApp` constructor.\n\t *\n\t * @param {string} appId - application identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( appId, wpcom ) {\n\t\tif ( ! ( this instanceof MeConnectedApp ) ) {\n\t\t\treturn new MeConnectedApp( appId, wpcom );\n\t\t}\n\t\tthis._id = appId;\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get one of current user's connected applications.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id, query, fn );\n\t}\n\n\t/**\n\t * Delete the app of the  current user\n\t * through of the given appId\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdelete( query, fn ) {\n\t\treturn this.wpcom.req.del( root + this._id + '/delete', query, fn );\n\t}\n}\n","import MeConnectedApp from './me.connected-application';\nimport MeKeyringConnection from './me.keyring-connection';\nimport MePublicizeConnection from './me.publicize-connection';\nimport MeSettings from './me.settings';\nimport MeTwoStep from './me.two-step';\n\n/**\n * Create `Me` instance\n *\n * @param {object} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Me( wpcom ) {\n\tif ( ! ( this instanceof Me ) ) {\n\t\treturn new Me( wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Meta data about auth token's User\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me', query, fn );\n};\n\n/**\n * Get user billing history.\n *\n * @param {object} [query] - query object parameter\n * @param {Function} [fn] - callback function\n * @returns {Function} request handler\n */\nMe.prototype.billingHistory = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/billing-history', query, fn );\n};\n\n/**\n * Get a list of posts of from the user's blogs\n *\n * *Example:*\n *    // Get posts list\n *    wpcom\n *    .me()\n *    .postsList( function( err, data ) {\n *      // posts list data object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.postsList = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/posts', query, fn );\n};\n\n/**\n * A list of the current user's sites\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.sites = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/sites', query, fn );\n};\n\n/**\n * List the currently authorized user's likes\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.likes = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/likes', query, fn );\n};\n\n/**\n * Get current user's connected applications.\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.connectedApps = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/connected-applications', query, fn );\n};\n\n/**\n * Get a list of all the keyring connections\n * associated with the current user\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.keyringConnections = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/connections', query, fn );\n};\n\n/**\n * Get a list of publicize connections\n * that the current user has set up.\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.publicizeConnections = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/publicize-connections', query, fn );\n};\n\n/**\n * Return a `MeSettings` instance.\n *\n * @returns {MeSettings} MeSettings instance\n */\nMe.prototype.settings = function () {\n\treturn new MeSettings( this.wpcom );\n};\n\n/**\n * Return a `MeConnectedApp` instance.\n *\n * @param {string} id - app id\n * @returns {MeConnectedApp} Me ConnectedApp instance\n */\nMe.prototype.connectedApp = function ( id ) {\n\treturn new MeConnectedApp( id, this.wpcom );\n};\n\n/**\n * Return a `MePublicizeConnection` instance.\n *\n * @param {string} id - connection id\n * @returns {MePublicizeConnection} MeSettings instance\n */\nMe.prototype.publicizeConnection = function ( id ) {\n\treturn new MePublicizeConnection( id, this.wpcom );\n};\n\n/**\n * Return a `MeTwoStep` instance.\n *\n * @returns {MeTwoStep} MeTwoStep instance\n */\nMe.prototype.twoStep = function () {\n\treturn new MeTwoStep( this.wpcom );\n};\n\n/**\n * Return a `MeKeyringConnection` instance.\n *\n * @param {string} id - connection id\n * @returns {MeKeyringConnection} MeKeyringConnection instance\n */\nMe.prototype.keyringConnection = function ( id ) {\n\treturn new MeKeyringConnection( id, this.wpcom );\n};\n","const root = '/me/connections/';\n\nexport default class KeyringConnection {\n\t/**\n\t * `KeyringConnection` constructor.\n\t *\n\t * @param {string} keyId - the connection ID to take action on.\n\t * @param {object} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( keyId, wpcom ) {\n\t\tif ( ! ( this instanceof KeyringConnection ) ) {\n\t\t\treturn new KeyringConnection( keyId, wpcom );\n\t\t}\n\t\tthis._id = keyId;\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get a single Keyring connection that the current user has setup.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get(\n\t\t\t{\n\t\t\t\tpath: root + this._id,\n\t\t\t\tapiNamespace: 'wpcom/v2',\n\t\t\t},\n\t\t\tquery,\n\t\t\tfn\n\t\t);\n\t}\n\n\t/**\n\t * Delete the Keyring connection (and associated token) with the\n\t * provided ID. Also deletes all associated publicize connections.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdelete( query, fn ) {\n\t\treturn this.wpcom.req.get(\n\t\t\t{\n\t\t\t\tpath: root + this._id,\n\t\t\t\tapiNamespace: 'wpcom/v2',\n\t\t\t\tmethod: 'DELETE',\n\t\t\t},\n\t\t\tquery,\n\t\t\tfn\n\t\t);\n\t}\n}\n","const root = '/me/publicize-connections/';\n\nexport default class PublicizeConnection {\n\t/**\n\t * `PublicizeConnection` constructor.\n\t *\n\t * @param {string} connectionId - application identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( connectionId, wpcom ) {\n\t\tif ( ! ( this instanceof PublicizeConnection ) ) {\n\t\t\treturn new PublicizeConnection( connectionId, wpcom );\n\t\t}\n\t\tthis._id = connectionId;\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get a single publicize connection that the current user has set up.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id, query, fn );\n\t}\n\n\t/**\n\t * Add a publicize connection belonging to the current user.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tadd( query, body, fn ) {\n\t\treturn this.wpcom.req.post( root + 'new', query, body, fn );\n\t}\n\n\t/**\n\t * Update a publicize connection belonging to the current user.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( root + this._id, query, body, fn );\n\t}\n\n\t/**\n\t * Delete the app of the  current user\n\t * through of the given connectionId\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdelete( query, fn ) {\n\t\treturn this.wpcom.req.del( root + this._id + '/delete', query, fn );\n\t}\n}\n","import MeSettingsPassword from './me.settings.password';\nimport MeProfileLinks from './me.settings.profile-links';\n\n/**\n * `MeSettings` constructor.\n *\n * Use a `WPCOM#Me` instance to create a new `MeSettings` instance.\n *\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function MeSettings( wpcom ) {\n\tif ( ! ( this instanceof MeSettings ) ) {\n\t\treturn new MeSettings( wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Get settings for the current user.\n *\n * *Example:*\n *    // Get settings for the current user\n *    wpcom\n *    .me()\n *    .settings()\n *    .get( function( err, data ) {\n *      // user settings data object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMeSettings.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/settings', query, fn );\n};\n\n/**\n * Update settings of the current user\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMeSettings.prototype.update = function ( query, body, fn ) {\n\treturn this.wpcom.req.put( '/me/settings/', query, body, fn );\n};\n\n/**\n * Return `MeProfileLinks` instance\n *\n * *Example:*\n *    // Create a MeProfileLinks instance\n *    var profile_links = wpcom.me().settings().profileLinks();\n *\n * @returns {MeProfileLinks} MeProfileLinks instance\n */\nMeSettings.prototype.profileLinks = function () {\n\treturn new MeProfileLinks( this.wpcom );\n};\n\n/**\n * Return `MeSettingsPassword` instance\n *\n * @returns {MeSettingsPassword} MeSettingsPassword instance\n */\nMeSettings.prototype.password = function () {\n\treturn new MeSettingsPassword( this.wpcom );\n};\n","const root = '/me/settings/password/';\n\nexport default class MeSettingsPassword {\n\t/**\n\t * `MeSettingsPassword` constructor.\n\t *\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof MeSettingsPassword ) ) {\n\t\t\treturn new MeSettingsPassword( wpcom );\n\t\t}\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Verify strength of a user's new password.\n\t *\n\t * @param {string} password - the users's potential new password\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tvalidate( password, query, fn ) {\n\t\treturn this.wpcom.req.post( root + 'validate', query, { password: password }, fn );\n\t}\n}\n","/**\n * Endpoint root\n */\nconst root = '/me/settings/profile-links';\n\n/**\n * `ProfileLinks` constructor.\n *\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function ProfileLinks( wpcom ) {\n\tif ( ! ( this instanceof ProfileLinks ) ) {\n\t\treturn new ProfileLinks( wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Get profile links of the current user.\n *\n * *Example:*\n *   // Get profile links of the current user\n *    wpcom\n *    .me()\n *    .settings()\n *    .profileLinks()\n *    .get( function( err, data ) {\n *      // profile links data\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nProfileLinks.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( root, query, fn );\n};\n\n// Create `mine` alias\nProfileLinks.prototype.mine = ProfileLinks.prototype.get;\n\n/**\n * Add a profile link to current user.\n *\n * *Example:*\n *    // Add profile link to current user\n *    wpcom\n *    .me()\n *    .settings()\n *    .profileLinks()\n *    .add( {\n *      title: \"WordPress Blog\",\n *      value: \"en.blog.wordpress.com\"\n *    }, function( err, data ) {\n *      // profile has been added\n *    } );\n *\n * @param {Array|object} links - profile links\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nProfileLinks.prototype.add = function ( links, query, fn ) {\n\t// query object is optional\n\tif ( 'function' === typeof query ) {\n\t\tfn = query;\n\t\tquery = {};\n\t}\n\n\t// links can be Array or an Object\n\tif ( ! ( links instanceof Array ) ) {\n\t\tlinks = [ links ];\n\t}\n\n\t// Set api version 1.2 for this endpoint\n\tquery.apiVersion = '1.2';\n\n\tconst path = root + '/new';\n\treturn this.wpcom.req.post( path, query, { links: links }, fn );\n};\n\n/**\n * Remove your ProfileLinks from a Post.\n *\n * *Example:*\n *    // Remove profile link from current user\n *    wpcom\n *    .me()\n *    .settings()\n *    .profileLinks()\n *    .del( 'example.wordpress.com', function( err, data ) {\n *      // profile has been deleted\n *    } );\n *\n * @param {string} slug - the URL of the profile link\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nProfileLinks.prototype.del = function ( slug, query, fn ) {\n\tconst path = root + '/' + slug + '/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n\n// Create `delete` alias\nProfileLinks.prototype.delete = ProfileLinks.prototype.del;\n","import MeTwoStepSMS from './me.two-step.sms';\n\nconst root = '/me/two-step/';\n\nexport default class MeTwoStep {\n\t/**\n\t * `MeTwoStep` constructor.\n\t *\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof MeTwoStep ) ) {\n\t\t\treturn new MeTwoStep( wpcom );\n\t\t}\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get information about current user's two factor configuration.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( root, query, fn );\n\t}\n\n\t/**\n\t * Return a `MeTwoStepSMS` instance.\n\t *\n\t * @returns {MeTwoStepSMS} MeTwoStepSMS instance\n\t */\n\tsms() {\n\t\treturn new MeTwoStepSMS( this.wpcom );\n\t}\n}\n","const root = '/me/two-step/sms/';\n\nexport default class MeTwoStepSMS {\n\t/**\n\t * `MeTwoStepSMS` constructor.\n\t *\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof MeTwoStepSMS ) ) {\n\t\t\treturn new MeTwoStepSMS( wpcom );\n\t\t}\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Sends a two-step code via SMS to the current user.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsend( query, fn ) {\n\t\treturn this.wpcom.req.post( root + 'new', query, fn );\n\t}\n}\n","const root = '/plans';\n\nexport default class Plans {\n\t/**\n\t * `Plans` constructor.\n\t *\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof Plans ) ) {\n\t\t\treturn new Plans( wpcom );\n\t\t}\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get a list of active WordPress.com plans\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tlist( query, fn ) {\n\t\treturn this.wpcom.req.get( root, query, fn );\n\t}\n\n\t/**\n\t * Get a list of features for active WordPress.com plans\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tfeatures( query, fn ) {\n\t\treturn this.wpcom.req.get( `${ root }/features`, query, fn );\n\t}\n}\n","export default [\n\t{ name: 'categoriesList', subpath: 'categories' },\n\t{ name: 'commentsList', subpath: 'comments' },\n\t{ name: 'domainsList', subpath: 'domains' },\n\t{ name: 'embedsList', subpath: 'embeds' },\n\t{ name: 'followsList', subpath: 'follows' },\n\t{ name: 'mediaList', subpath: 'media' },\n\t{ name: 'pageTemplates', subpath: 'page-templates' },\n\t{ name: 'pluginsList', subpath: 'plugins' },\n\t{ name: 'postsList', subpath: 'posts' },\n\t{ name: 'postTypesList', subpath: 'post-types' },\n\t{ name: 'shortcodesList', subpath: 'shortcodes' },\n\t{ name: 'stats', subpath: 'stats' },\n\t{ name: 'statsClicks', subpath: 'stats/clicks' },\n\t{ name: 'statsCommentFollowers', subpath: 'stats/comment-followers' },\n\t{ name: 'statsComments', subpath: 'stats/comments' },\n\t{ name: 'statsCountryViews', subpath: 'stats/country-views' },\n\t{ name: 'statsFollowers', subpath: 'stats/followers' },\n\t{ name: 'statsInsights', subpath: 'stats/insights' },\n\t{ name: 'statsPublicize', subpath: 'stats/publicize' },\n\t{ name: 'statsReferrers', subpath: 'stats/referrers' },\n\t{ name: 'statsSearchTerms', subpath: 'stats/search-terms' },\n\t{ name: 'statsStreak', subpath: 'stats/streak' },\n\t{ name: 'statsSummary', subpath: 'stats/summary' },\n\t{ name: 'statsTags', subpath: 'stats/tags' },\n\t{ name: 'statsTopAuthors', subpath: 'stats/top-authors' },\n\t{ name: 'statsTopPosts', subpath: 'stats/top-posts' },\n\t{ name: 'statsVideoPlays', subpath: 'stats/video-plays' },\n\t{ name: 'statsVisits', subpath: 'stats/visits' },\n\t{ name: 'tagsList', subpath: 'tags' },\n\t{ name: 'usersList', subpath: 'users' },\n\t{ name: 'wpcomPluginsList', subpath: 'wpcom-plugins' },\n];\n","export default [\n\t{ name: 'likesList', subpath: 'likes' },\n\t{ name: 'subscribersList', subpath: 'subscribers' },\n];\n","/**\n * Category methods\n *\n * @param {string} [slug] - category slug\n * @param {string} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Category( slug, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Category ) ) {\n\t\treturn new Category( slug, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._sid = sid;\n\tthis._slug = slug;\n}\n\n/**\n * Set category `slug`\n *\n * @param {string} slug - category slug\n */\nCategory.prototype.slug = function ( slug ) {\n\tthis._slug = slug;\n};\n\n/**\n * Get category\n *\n * @param {object} [query] - query object parameter - query object parameter\n * @param {Function} fn - callback function - callback\n * @returns {Function} request handler\n */\nCategory.prototype.get = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/categories/slug:' + this._slug;\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Add category\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCategory.prototype.add = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/categories/new';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * Edit category\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCategory.prototype.update = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/categories/slug:' + this._slug;\n\treturn this.wpcom.req.put( path, query, body, fn );\n};\n\n/**\n * Delete category\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCategory.prototype.delete = Category.prototype.del = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/categories/slug:' + this._slug + '/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n","import commentLike from './site.comment.like';\n\n/**\n * Comment methods\n *\n * @param {string} [cid] comment id\n * @param {string} [pid] post id\n * @param {string} sid site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Comment( cid, pid, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Comment ) ) {\n\t\treturn new Comment( cid, pid, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._cid = cid;\n\tthis._pid = pid;\n\tthis._sid = sid;\n}\n\n/**\n * Return a single Comment\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.get = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid;\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Return recent comments for a post\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.replies = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/replies/';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Create a comment on a post\n *\n * @param {object} [query] - query object parameter\n * @param {string|object} body - body parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.add = function ( query, body, fn ) {\n\tif ( undefined === fn ) {\n\t\tif ( undefined === body ) {\n\t\t\tbody = query;\n\t\t\tquery = {};\n\t\t} else if ( 'function' === typeof body ) {\n\t\t\tfn = body;\n\t\t\tbody = query;\n\t\t\tquery = {};\n\t\t}\n\t}\n\n\tbody = 'string' === typeof body ? { content: body } : body;\n\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/replies/new';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * Edit a comment\n *\n * @param {object} [query] - query object parameter\n * @param {string|object} body - body parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.update = function ( query, body, fn ) {\n\tif ( 'function' === typeof body ) {\n\t\tfn = body;\n\t\tbody = query;\n\t\tquery = {};\n\t}\n\n\tbody = 'string' === typeof body ? { content: body } : body;\n\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid;\n\treturn this.wpcom.req.put( path, query, body, fn );\n};\n\n/**\n * Create a Comment as a reply to another Comment\n *\n * @param {object} [query] - query object parameter\n * @param {string|object} body - body parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.reply = function ( query, body, fn ) {\n\tif ( 'function' === typeof body ) {\n\t\tfn = body;\n\t\tbody = query;\n\t\tquery = {};\n\t}\n\n\tbody = 'string' === typeof body ? { content: body } : body;\n\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/replies/new';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * Delete a comment\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.del = Comment.prototype.delete = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n\n/**\n * Create a `commentLike` instance\n *\n * @returns {object} CommentLike instance\n */\nComment.prototype.like = function () {\n\treturn commentLike( this._cid, this._sid, this.wpcom );\n};\n\n/**\n * Get comment likes list\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.likesList = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/likes';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n","/**\n * CommentLike methods\n *\n * @param {string} cid comment id\n * @param {string} sid site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function CommentLike( cid, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! cid ) {\n\t\tthrow new Error( '`comment id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof CommentLike ) ) {\n\t\treturn new CommentLike( cid, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._cid = cid;\n\tthis._sid = sid;\n}\n\n/**\n * Get your Like status for a Comment\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCommentLike.prototype.mine = CommentLike.prototype.state = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/likes/mine';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Like a comment\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCommentLike.prototype.add = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/likes/new';\n\treturn this.wpcom.req.post( path, query, fn );\n};\n\n/**\n * Remove your Like from a Comment\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCommentLike.prototype.del = CommentLike.prototype.delete = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/likes/mine/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n","/**\n * SiteCreditVouchers methods\n *\n * @param {string} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nclass SiteCreditVouchers {\n\tconstructor( sid, wpcom ) {\n\t\tif ( ! sid ) {\n\t\t\tthrow new Error( '`site id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SiteCreditVouchers ) ) {\n\t\t\treturn new SiteCreditVouchers( sid, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis._sid = sid;\n\t\tthis.path = `/sites/${ this._sid }/vouchers`;\n\t}\n\n\t/**\n\t * Get site vouchers list\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tlist( query = {}, fn ) {\n\t\tquery.apiNamespace = 'wpcom/v2';\n\t\treturn this.wpcom.req.get( this.path, query, fn );\n\t}\n\n\t/**\n\t * Get site voucher\n\t *\n\t * @param {string} serviceType - service type\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( serviceType, query = {}, fn ) {\n\t\tquery.apiNamespace = 'wpcom/v2';\n\t\treturn this.wpcom.req.get( `${ this.path }/${ serviceType }`, query, fn );\n\t}\n\n\t/**\n\t * Assign a new voucher to the site\n\t *\n\t * @param {string} serviceType - service type\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tassign( serviceType, query = {}, fn ) {\n\t\tquery.apiNamespace = 'wpcom/v2';\n\t\treturn this.wpcom.req.post( `${ this.path }/${ serviceType }/assign`, query, {}, fn );\n\t}\n}\n\nexport default SiteCreditVouchers;\n","/**\n * Module vars\n */\nconst root = '/sites';\n\nclass SiteDomain {\n\t/**\n\t * `SiteDomain` constructor.\n\t *\n\t * @param {number|string} id - site identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( id, wpcom ) {\n\t\tif ( ! ( this instanceof SiteDomain ) ) {\n\t\t\treturn new SiteDomain( id, wpcom );\n\t\t}\n\t\tthis._sid = id;\n\t\tthis.path = `${ root }/${ this._sid }/domains`;\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get the primary domain for a site\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tgetPrimary( query, fn ) {\n\t\treturn this.wpcom.req.get( `${ this.path }/primary`, query, fn );\n\t}\n\n\t/**\n\t * Set the primary domain for a site\n\t *\n\t * @param {string} domain - domain to set\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tsetPrimary( domain, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.path }/primary`, {}, { domain }, fn );\n\t}\n\n\t/**\n\t * Get the redirect status for a site\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tgetRedirect( query, fn ) {\n\t\treturn this.wpcom.req.get( `${ this.path }/redirect`, query, fn );\n\t}\n\n\t/**\n\t * Set the redirect location for a site\n\t *\n\t * @param {string|object} location - location to set\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tsetRedirect( location, fn ) {\n\t\tif ( typeof location === 'string' ) {\n\t\t\tlocation = { location };\n\t\t}\n\n\t\treturn this.wpcom.req.put( `${ this.path }/redirect`, {}, location, fn );\n\t}\n}\n\n/**\n * Expose `SiteDomain` module\n */\nexport default SiteDomain;\n","/**\n * Follow\n *\n * @param {string} site_id - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Follow( site_id, wpcom ) {\n\tif ( ! site_id ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Follow ) ) {\n\t\treturn new Follow( site_id, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._sid = site_id;\n}\n\n/**\n * Get the follow status for current\n * user on current blog sites\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nFollow.prototype.mine = Follow.prototype.state = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/follows/mine';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Follow the site\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nFollow.prototype.follow = Follow.prototype.add = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/follows/new';\n\treturn this.wpcom.req.put( path, query, null, fn );\n};\n\n/**\n * Unfollow the site\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nFollow.prototype.unfollow = Follow.prototype.del = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/follows/mine/delete';\n\treturn this.wpcom.req.del( path, query, null, fn );\n};\n","import debugFactory from 'debug';\nimport siteGetMethods from './runtime/site.get';\nimport Category from './site.category';\nimport Comment from './site.comment';\nimport SiteCreditVouchers from './site.credit-vouchers';\nimport SiteDomain from './site.domain';\nimport Follow from './site.follow';\nimport Media from './site.media';\nimport SitePlugin from './site.plugin';\nimport Post from './site.post';\nimport SitePostType from './site.post-type';\nimport SiteSettings from './site.settings';\nimport Tag from './site.tag';\nimport SiteTaxonomy from './site.taxonomy';\nimport SiteWordAds from './site.wordads';\nimport SiteWPComPlugin from './site.wpcom-plugin';\nimport runtimeBuilder from './util/runtime-builder';\n\n/**\n * Module vars\n */\nconst debug = debugFactory( 'wpcom:site' );\nconst root = '/sites';\n\n/**\n * Site class\n */\nclass Site {\n\t/**\n\t * Create a Site instance\n\t *\n\t * @param {string} id - site id\n\t * @param wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( id, wpcom ) {\n\t\tif ( ! ( this instanceof Site ) ) {\n\t\t\treturn new Site( id, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\n\t\tdebug( 'set %o site id', id );\n\t\tthis._id = encodeURIComponent( id );\n\t\tthis.path = `${ root }/${ this._id }`;\n\t}\n\n\t/**\n\t * Require site information\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( this.path, query, fn );\n\t}\n\n\t/**\n\t * Create a `Post` instance\n\t *\n\t * @param {string} id - post id\n\t * @returns {Post} Post instance\n\t */\n\tpost( id ) {\n\t\treturn new Post( id, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Add a new blog post\n\t *\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\taddPost( body, fn ) {\n\t\tconst post = new Post( null, this._id, this.wpcom );\n\t\treturn post.add( body, fn );\n\t}\n\n\t/**\n\t * Delete a blog post\n\t *\n\t * @param {string} id - post id\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdeletePost( id, fn ) {\n\t\tconst post = new Post( id, this._id, this.wpcom );\n\t\treturn post.delete( fn );\n\t}\n\n\t/**\n\t * Create a `Media` instance\n\t *\n\t * @param {string} id - post id\n\t * @returns {Media} Media instance\n\t */\n\tmedia( id ) {\n\t\treturn new Media( id, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Add a media from a file\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Array|string} files - media files to add\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\taddMediaFiles( query, files, fn ) {\n\t\tconst media = new Media( null, this._id, this.wpcom );\n\t\treturn media.addFiles( query, files, fn );\n\t}\n\n\t/**\n\t * Add a new media from url\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Array|string} files - media files to add\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\taddMediaUrls( query, files, fn ) {\n\t\tconst media = new Media( null, this._id, this.wpcom );\n\t\treturn media.addUrls( query, files, fn );\n\t}\n\n\t/**\n\t * Delete a blog media\n\t *\n\t * @param {string} id - media id\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdeleteMedia( id, fn ) {\n\t\tconst media = new Media( id, this._id, this.wpcom );\n\t\treturn media.del( fn );\n\t}\n\n\t/**\n\t * Create a `Comment` instance\n\t *\n\t * @param {string} id - comment id\n\t * @returns {Comment} Comment instance\n\t */\n\tcomment( id ) {\n\t\treturn new Comment( id, null, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `Follow` instance\n\t *\n\t * @returns {Follow} Follow instance\n\t */\n\tfollow() {\n\t\treturn new Follow( this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SitePlugin` instance\n\t *\n\t * @param {string} slug - plugin identifier\n\t * @returns {SitePlugin} SitePlugin instance\n\t */\n\tplugin( slug ) {\n\t\treturn new SitePlugin( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SiteWPComPlugin` instance\n\t *\n\t * @param {string} slug - plugin identifier\n\t * @returns {SiteWPComPlugin} SiteWPComPlugin instance\n\t */\n\twpcomPlugin( slug ) {\n\t\treturn new SiteWPComPlugin( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `Category` instance\n\t * Set `cat` alias\n\t *\n\t * @param {string} [slug] - category slug\n\t * @returns {Category} Category instance\n\t */\n\tcategory( slug ) {\n\t\treturn new Category( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `Tag` instance\n\t *\n\t * @param {string} [slug] - tag slug\n\t * @returns {Tag} Tag instance\n\t */\n\ttag( slug ) {\n\t\treturn new Tag( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `Taxonomy` instance\n\t *\n\t * @param {string} [slug] - taxonomy slug\n\t * @returns {SiteTaxonomy} SiteTaxonomy instance\n\t */\n\ttaxonomy( slug ) {\n\t\treturn new SiteTaxonomy( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SiteCreditVouchers` instance\n\t *\n\t * @returns {SiteCreditVouchers} SiteCreditVouchers instance\n\t */\n\tcreditVouchers() {\n\t\treturn new SiteCreditVouchers( this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SitePostType` instance\n\t *\n\t * @param {string} [slug] - post type slug\n\t * @returns {SitePostType} SitePostType instance\n\t */\n\tpostType( slug ) {\n\t\treturn new SitePostType( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SiteSettings` instance\n\t *\n\t * @returns {SiteSettings} SiteSettings instance\n\t */\n\tsettings() {\n\t\treturn new SiteSettings( this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SiteDomain` instance\n\t *\n\t * @returns {SiteDomain} SiteDomain instance\n\t */\n\tdomain() {\n\t\treturn new SiteDomain( this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Get number of posts in the post type groups by post status\n\t *\n\t * Example:*\n\t *   // Get number post of pages\n\t *    wpcom\n\t *    .site( 'my-blog.wordpress.com' )\n\t *    .postCounts( 'page', function( err, data ) {\n\t *      // `counts` data object\n\t *    } );\n\t *\n\t * @param {string} type - post type\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tpostCounts( type = 'post', query, fn ) {\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\treturn this.wpcom.req.get( `${ this.path }/post-counts/${ type }`, query, fn );\n\t}\n\n\t/**\n\t * Get a rendered shortcode for a site.\n\t *\n\t * Note: The current user must have publishing access.\n\t *\n\t * @param {string} url - shortcode url\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\trenderShortcode( url, query, fn ) {\n\t\tif ( 'string' !== typeof url ) {\n\t\t\tthrow new TypeError( 'expected a url String' );\n\t\t}\n\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\tquery = query || {};\n\t\tquery.shortcode = url;\n\n\t\treturn this.wpcom.req.get( `${ this.path }/shortcodes/render`, query, fn );\n\t}\n\n\t/**\n\t * Get a rendered embed for a site.\n\t *\n\t * Note: The current user must have publishing access.\n\t *\n\t * @param {string} url - embed url\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\trenderEmbed( url, query, fn ) {\n\t\tif ( 'string' !== typeof url ) {\n\t\t\tthrow new TypeError( 'expected an embed String' );\n\t\t}\n\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\tquery = query || {};\n\t\tquery.embed_url = url;\n\n\t\treturn this.wpcom.req.get( `${ this.path }/embeds/render`, query, fn );\n\t}\n\n\t/**\n\t * Mark a referrering domain as spam\n\t *\n\t * @param {string} domain - domain\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tstatsReferrersSpamNew( domain, fn ) {\n\t\tconst path = `${ this.path }/stats/referrers/spam/new`;\n\t\treturn this.wpcom.req.post( path, { domain }, null, fn );\n\t}\n\n\t/**\n\t * Remove referrering domain from spam\n\t *\n\t * @param {string} domain - domain\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tstatsReferrersSpamDelete( domain, fn ) {\n\t\tconst path = `${ this.path }/stats/referrers/spam/delete`;\n\t\treturn this.wpcom.req.post( path, { domain }, null, fn );\n\t}\n\n\t/**\n\t * Get detailed stats about a VideoPress video\n\t *\n\t * @param {string} videoId - video id\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tstatsVideo( videoId, query, fn ) {\n\t\tconst path = `${ this.path }/stats/video/${ videoId }`;\n\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t}\n\n\t/**\n\t * Get detailed stats about a particular post\n\t *\n\t * @param {string} postId - post id\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tstatsPostViews( postId, query, fn ) {\n\t\tconst path = `${ this.path }/stats/post/${ postId }`;\n\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t}\n\n\t/**\n\t * Return a `SiteWordAds` instance.\n\t *\n\t * Example:*\n\t *    // Create a SiteWordAds instance\n\t *\n\t *    const wordAds = wpcom\n\t *      .site( 'my-blog.wordpress.com' )\n\t *      .wordAds();\n\t *\n\t * @returns {SiteWordAds} SiteWordAds instance\n\t */\n\twordAds() {\n\t\treturn new SiteWordAds( this._id, this.wpcom );\n\t}\n}\n\n// add methods in runtime\nruntimeBuilder( Site, siteGetMethods, ( methodParams, ctx ) => {\n\treturn `/sites/${ ctx._id }/${ methodParams.subpath }`;\n} );\n\nexport default Site;\n","import debugFactory from 'debug';\nimport TusUploader from './tus-uploader';\nimport { createReadStream } from './util/fs';\n\nconst debug = debugFactory( 'wpcom:media' );\n\n/**\n * Build a formData object to be sent in a POST request\n *\n * @param  {Array|File} files - array of files\n * @returns {Array} formData array\n */\nfunction buildFormData( files ) {\n\tconst formData = [];\n\tconst isArray = Array.isArray( files );\n\tfiles = isArray ? files : [ files ];\n\n\tlet i;\n\tlet f;\n\tlet k;\n\tlet param;\n\tfor ( i = 0; i < files.length; i++ ) {\n\t\tf = files[ i ];\n\n\t\tif ( 'string' === typeof f ) {\n\t\t\tf = createReadStream( f );\n\t\t}\n\n\t\tconst isStream = !! f._readableState;\n\t\tconst isFile = 'undefined' !== typeof File && f instanceof File;\n\n\t\tdebug( 'isStream: %s', isStream );\n\t\tdebug( 'isFile: %s', isFile );\n\n\t\tif ( ! isFile && ! isStream ) {\n\t\t\t// process file attributes like as `title`, `description`, ...\n\t\t\tfor ( k in f ) {\n\t\t\t\tdebug( 'add %o => %o', k, f[ k ] );\n\t\t\t\tif ( 'file' !== k ) {\n\t\t\t\t\tparam = 'attrs[' + i + '][' + k + ']';\n\t\t\t\t\tformData.push( [ param, f[ k ] ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// set file path\n\t\t\tf = f.file;\n\t\t\tif ( 'string' === typeof f ) {\n\t\t\t\tf = createReadStream( f );\n\t\t\t}\n\t\t}\n\n\t\tformData.push( [ 'media[]', f ] );\n\t}\n\n\treturn formData;\n}\n\n/**\n * Media methods\n *\n * @param {string} id - media id\n * @param {string} sid site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Media( id, sid, wpcom ) {\n\tif ( ! ( this instanceof Media ) ) {\n\t\treturn new Media( id, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._sid = sid;\n\tthis._id = id;\n\n\tif ( ! this._id ) {\n\t\tdebug( 'WARN: media `id` is not defined' );\n\t}\n}\n\n/**\n * Get media\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.get = function ( query = {}, fn ) {\n\tquery.apiVersion = query.apiVersion || '1.2';\n\tconst path = '/sites/' + this._sid + '/media/' + this._id;\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Update media\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.update = function ( query, body, fn ) {\n\tconst params = { path: '/sites/' + this._sid + '/media/' + this._id };\n\treturn this.wpcom.req.put( params, query, body, fn );\n};\n\n/**\n * Edit media\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.edit = function ( query, body, fn ) {\n\tif ( typeof body === 'function' || ! body ) {\n\t\tfn = body;\n\t\tbody = query;\n\t\tquery = {};\n\t}\n\n\tconst params = { path: '/sites/' + this._sid + '/media/' + this._id + '/edit' };\n\n\tif ( body && body.media ) {\n\t\tparams.formData = [ [ 'media', body.media ] ];\n\t\tdelete body.media;\n\n\t\tfor ( const k in body ) {\n\t\t\tparams.formData.push( [ `attrs[${ k }]`, body[ k ] ] );\n\t\t}\n\n\t\tbody = null;\n\t}\n\n\treturn this.wpcom.req.put( params, query, body, fn );\n};\n\n/**\n * Add media file\n *\n * @param {object} [query] - query object parameter\n * @param {string|object|Array} files - files to add\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.addFiles = function ( query, files, fn ) {\n\tif ( undefined === fn ) {\n\t\tif ( undefined === files ) {\n\t\t\tfiles = query;\n\t\t\tquery = {};\n\t\t} else if ( 'function' === typeof files ) {\n\t\t\tfn = files;\n\t\t\tfiles = query;\n\t\t\tquery = {};\n\t\t}\n\t}\n\n\tconst videoFiles = [];\n\tconst isArray = Array.isArray( files );\n\tfiles = isArray ? files : [ files ];\n\n\tfiles = files.filter( ( file ) => {\n\t\tif ( !! file.type && file.type.startsWith( 'video/' ) ) {\n\t\t\tvideoFiles.push( file );\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t} );\n\n\tif ( videoFiles.length ) {\n\t\tconst uploader = new TusUploader( this.wpcom, this._sid );\n\t\treturn uploader.startUpload( videoFiles );\n\t}\n\n\tconst params = {\n\t\tpath: '/sites/' + this._sid + '/media/new',\n\t\tformData: buildFormData( files ),\n\t};\n\n\treturn this.wpcom.req.post( params, query, null, fn );\n};\n\n/**\n * Add media files from URL\n *\n * @param {object} [query] - query object parameter\n * @param {string|Array|object} media - files to add\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.addUrls = function ( query, media, fn ) {\n\tif ( undefined === fn ) {\n\t\tif ( undefined === media ) {\n\t\t\tmedia = query;\n\t\t\tquery = {};\n\t\t} else if ( 'function' === typeof media ) {\n\t\t\tfn = media;\n\t\t\tmedia = query;\n\t\t\tquery = {};\n\t\t}\n\t}\n\n\tconst path = '/sites/' + this._sid + '/media/new';\n\tconst body = { media_urls: [] };\n\n\t// process formData\n\tlet i;\n\tlet m;\n\tlet url;\n\tlet k;\n\n\tmedia = Array.isArray( media ) ? media : [ media ];\n\tfor ( i = 0; i < media.length; i++ ) {\n\t\tm = media[ i ];\n\n\t\tif ( 'string' === typeof m ) {\n\t\t\turl = m;\n\t\t} else {\n\t\t\tif ( ! body.attrs ) {\n\t\t\t\tbody.attrs = [];\n\t\t\t}\n\n\t\t\t// add attributes\n\t\t\tbody.attrs[ i ] = {};\n\t\t\tfor ( k in m ) {\n\t\t\t\tif ( 'url' !== k ) {\n\t\t\t\t\tbody.attrs[ i ][ k ] = m[ k ];\n\t\t\t\t}\n\t\t\t}\n\t\t\turl = m.url;\n\t\t}\n\n\t\t// push url into [media_url]\n\t\tbody.media_urls.push( url );\n\t}\n\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * Delete media\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.delete = Media.prototype.del = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/media/' + this._id + '/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n","/**\n * Module vars\n */\nconst root = '/sites';\n\nclass SitePlugin {\n\t/**\n\t * `SitePlugin` constructor.\n\t *\n\t * @param {string} [slug] - the plugin slug\n\t * @param {number|string} sid - site identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( slug, sid, wpcom ) {\n\t\tif ( ! ( this instanceof SitePlugin ) ) {\n\t\t\treturn new SitePlugin( slug, sid, wpcom );\n\t\t}\n\n\t\tif ( ! slug ) {\n\t\t\tthrow new Error( '`slug` is not correctly defined' );\n\t\t}\n\n\t\tthis._slug = encodeURIComponent( slug );\n\t\tthis._sid = sid;\n\t\tthis.wpcom = wpcom;\n\n\t\tconst path = `${ root }/${ this._sid }/plugins`;\n\t\tthis.pluginPath = `${ path }/${ this._slug }`;\n\t}\n\n\t/**\n\t * Get informtion about the plugin\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( this.pluginPath, query, fn );\n\t}\n\n\t/**\n\t * Update the plugin configuration\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - plugin body object\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( this.pluginPath, query, body, fn );\n\t}\n\n\t/**\n\t * Update the plugin version\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tupdateVersion( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.pluginPath }/update`, query, fn );\n\t}\n\n\t/**\n\t * Install the plugin\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tinstall( query, fn ) {\n\t\tconst body = {\n\t\t\tslug: this._slug,\n\t\t};\n\t\treturn this.wpcom.req.post( `${ root }/${ this._sid }/plugins/install`, query, body, fn );\n\t}\n\n\t/**\n\t * Delete the plugin\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdelete( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.pluginPath }/delete`, query, fn );\n\t}\n\n\t/**\n\t * Activate the plugin\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tactivate( query, fn ) {\n\t\treturn this.update( query, { active: true }, fn );\n\t}\n\n\t/**\n\t * Deactivate the plugin\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdeactivate( query, fn ) {\n\t\treturn this.update( query, { active: false }, fn );\n\t}\n\n\t/**\n\t * Enable plugin autoupdate\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tenableAutoupdate( query, fn ) {\n\t\treturn this.update( query, { autoupdate: true }, fn );\n\t}\n\n\t/**\n\t * Disable plugin autoupdate\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdisableAutoupdate( query, fn ) {\n\t\treturn this.update( query, { autoupdate: false }, fn );\n\t}\n}\n\n/**\n * Expose `SitePlugin` module\n */\nexport default SitePlugin;\n","/**\n * SitePostType class\n */\nexport default class SitePostType {\n\t/**\n\t * Create a SitePostType instance\n\t *\n\t * @param {string} postType - post type\n\t * @param {string} siteId - site id\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( postType, siteId, wpcom ) {\n\t\tif ( ! siteId ) {\n\t\t\tthrow new TypeError( '`siteId` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! postType ) {\n\t\t\tthrow new TypeError( '`postType` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SitePostType ) ) {\n\t\t\treturn new SitePostType( postType, siteId, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\n\t\tthis._siteId = encodeURIComponent( siteId );\n\t\tthis._postType = encodeURIComponent( postType );\n\t\tthis._rootPath = `/sites/${ this._siteId }/post-types/${ this._postType }`;\n\t}\n\n\t/**\n\t * Get a list of taxonomies for the post type\n\t *\n\t * @param {object} query - query object\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\ttaxonomiesList( query, fn ) {\n\t\tconst termsPath = `${ this._rootPath }/taxonomies`;\n\t\treturn this.wpcom.req.get( termsPath, query, fn );\n\t}\n}\n","import debugFactory from 'debug';\nimport sitePostGetMethods from './runtime/site.post.get';\nimport Comment from './site.comment';\nimport Like from './site.post.like';\nimport Reblog from './site.post.reblog';\nimport Subscriber from './site.post.subscriber';\nimport runtimeBuilder from './util/runtime-builder';\n\n/**\n * Module vars\n */\nconst debug = debugFactory( 'wpcom:post' );\nconst root = '/sites';\n\n/**\n * SitePost class\n */\nclass SitePost {\n\t/**\n\t * SitePost methods\n\t *\n\t * @param {string} id - post id\n\t * @param {string} sid site id\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( id, sid, wpcom ) {\n\t\tif ( ! ( this instanceof SitePost ) ) {\n\t\t\treturn new SitePost( id, sid, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis._sid = sid;\n\t\tthis.path = `${ root }/${ this._sid }/posts`;\n\n\t\t// set `id` and/or `slug` properties\n\t\tid = id || {};\n\t\tif ( 'object' !== typeof id ) {\n\t\t\tthis._id = id;\n\t\t} else {\n\t\t\tthis._id = id.id;\n\t\t\tthis._slug = id.slug;\n\t\t}\n\t}\n\n\t/**\n\t * Set post `id`\n\t *\n\t * @param {string} id - site id\n\t */\n\tid( id ) {\n\t\tthis._id = id;\n\t}\n\n\t/**\n\t * Set post `slug`\n\t *\n\t * @param {string} slug - site slug\n\t */\n\tslug( slug ) {\n\t\tthis._slug = slug;\n\t}\n\n\t/**\n\t * Get post url path\n\t *\n\t * @returns {string} post path\n\t */\n\n\tgetPostPath() {\n\t\treturn `${ this.path }/${ this._id }`;\n\t}\n\n\t/**\n\t * Get post\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\tif ( ! this._id && this._slug ) {\n\t\t\treturn this.getBySlug( query, fn );\n\t\t}\n\n\t\treturn this.wpcom.req.get( this.getPostPath(), query, fn );\n\t}\n\n\t/**\n\t * Get post by slug\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tgetBySlug( query, fn ) {\n\t\treturn this.wpcom.req.get( `${ this.path }/slug:${ this._slug }`, query, fn );\n\t}\n\n\t/**\n\t * Add post\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tadd( query, body, fn ) {\n\t\tif ( undefined === fn ) {\n\t\t\tif ( undefined === body ) {\n\t\t\t\tbody = query;\n\t\t\t\tquery = {};\n\t\t\t} else if ( 'function' === typeof body ) {\n\t\t\t\tfn = body;\n\t\t\t\tbody = query;\n\t\t\t\tquery = {};\n\t\t\t}\n\t\t}\n\n\t\treturn this.wpcom.req\n\t\t\t.post( `${ this.path }/new`, query, body )\n\t\t\t.then( ( data ) => {\n\t\t\t\t// update POST object\n\t\t\t\tthis._id = data.ID;\n\t\t\t\tdebug( 'Set post _id: %s', this._id );\n\n\t\t\t\tthis._slug = data.slug;\n\t\t\t\tdebug( 'Set post _slug: %s', this._slug );\n\n\t\t\t\tif ( 'function' === typeof fn ) {\n\t\t\t\t\tfn( null, data );\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.resolve( data );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( ( err ) => {\n\t\t\t\tif ( 'function' === typeof fn ) {\n\t\t\t\t\tfn( err );\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject( err );\n\t\t\t\t}\n\t\t\t} );\n\t}\n\n\t/**\n\t * Edit post\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( this.getPostPath(), query, body, fn );\n\t}\n\n\t/**\n\t * Delete post\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdelete( query, fn ) {\n\t\tconst path = `${ this.getPostPath() }/delete`;\n\t\treturn this.wpcom.req.del( path, query, fn );\n\t}\n\n\t/**\n\t * Del post, alias of Delete\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdel( query, fn ) {\n\t\treturn this.delete( query, fn );\n\t}\n\n\t/**\n\t * Restore post\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\trestore( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.getPostPath() }/restore`, query, null, fn );\n\t}\n\n\t/**\n\t * Search within a site for related posts\n\t *\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\trelated( body, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.getPostPath() }/related`, body, null, fn );\n\t}\n\n\t/**\n\t * Create a `Comment` instance\n\t *\n\t * @param {string} [cid] - comment id\n\t * @returns {Comment} Comment instance\n\t */\n\tcomment( cid ) {\n\t\treturn new Comment( cid, this._id, this._sid, this.wpcom );\n\t}\n\n\t/**\n\t * Return recent comments\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tcomments( query, fn ) {\n\t\tconst comment = new Comment( null, this._id, this._sid, this.wpcom );\n\t\treturn comment.replies( query, fn );\n\t}\n\n\t/**\n\t * Create a `Like` instance\n\t *\n\t * @returns {Like} Like instance\n\t */\n\tlike() {\n\t\treturn new Like( this._id, this._sid, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `Reblog` instance\n\t *\n\t * @returns {Reblog} Reblog instance\n\t */\n\treblog() {\n\t\treturn new Reblog( this._id, this._sid, this.wpcom );\n\t}\n\n\t/**\n\t * Return a `Subscriber` instance.\n\t *\n\t * *Example:*\n\t *    // Create a Subscriber instance of a post\n\t *    var post = wpcom.site( 'en.blog.wordpress.com' ).post( 1234 );\n\t *    var subs = post.subscriber();\n\t *\n\t * @returns {Subscriber} Subscriber instance\n\t */\n\tsubscriber() {\n\t\treturn new Subscriber( this._id, this._sid, this.wpcom );\n\t}\n}\n\n// add methods in runtime\nruntimeBuilder( SitePost, sitePostGetMethods, ( item, ctx ) => {\n\treturn `/sites/${ ctx._sid }/posts/${ ctx._id }/${ item.subpath }`;\n} );\n\nexport default SitePost;\n","/**\n * Like methods\n *\n * @param {string} pid - post id\n * @param {string} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Like( pid, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! pid ) {\n\t\tthrow new Error( '`post id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Like ) ) {\n\t\treturn new Like( pid, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._pid = pid;\n\tthis._sid = sid;\n}\n\n/**\n * Get your Like status for a Post\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n */\nLike.prototype.mine = Like.prototype.state = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/likes/mine';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Like a post\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nLike.prototype.add = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/likes/new';\n\treturn this.wpcom.req.put( path, query, null, fn );\n};\n\n/**\n * Remove your Like from a Post\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n */\nLike.prototype.del = Like.prototype.delete = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/likes/mine/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n","/**\n * Reblog methods\n *\n * @param {string} pid post id\n * @param {string} sid site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Reblog( pid, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! pid ) {\n\t\tthrow new Error( '`post id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Reblog ) ) {\n\t\treturn new Reblog( pid, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._pid = pid;\n\tthis._sid = sid;\n}\n\n/**\n * Get your reblog status for a Post\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nReblog.prototype.mine = Reblog.prototype.state = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/reblogs/mine';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Reblog a post\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nReblog.prototype.add = function ( query, body, fn ) {\n\tif ( 'function' === typeof body ) {\n\t\tfn = body;\n\t\tbody = query;\n\t\tquery = {};\n\t}\n\n\tif ( body && ! body.destination_site_id ) {\n\t\treturn fn( new Error( 'destination_site_id is not defined' ) );\n\t}\n\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/reblogs/new';\n\treturn this.wpcom.req.put( path, query, body, fn );\n};\n\n/**\n * Reblog a post to\n * It's almost an alias of Reblogs#add\n *\n * @param {number|string} dest site id destination\n * @param {string} [note] - post reblog note\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nReblog.prototype.to = function ( dest, note, fn ) {\n\tif ( undefined === fn ) {\n\t\tif ( undefined === note ) {\n\t\t\tnote = null;\n\t\t} else if ( 'function' === typeof note ) {\n\t\t\tfn = note;\n\t\t\tnote = null;\n\t\t}\n\t}\n\n\treturn this.add( { note: note, destination_site_id: dest }, fn );\n};\n","class SitePostSubscriber {\n\t/**\n\t * `SitePostSubscriber` constructor.\n\t *\n\t * @param {string} id - post identifier\n\t * @param {string} sid - site identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( id, sid, wpcom ) {\n\t\tif ( ! sid ) {\n\t\t\tthrow new Error( '`side id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! id ) {\n\t\t\tthrow new Error( '`post id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SitePostSubscriber ) ) {\n\t\t\treturn new SitePostSubscriber( id, sid, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis._id = id;\n\t\tthis._sid = sid;\n\t\tthis.path = `/sites/${ this._sid }/posts/${ this._id }/subscribers`;\n\t}\n\n\t/**\n\t * Get subscriber status for the current user for the Post.\n\t *\n\t *\n\t * *Example:*\n\t *    Get subscriber status for the current user for the Post\n\t *    wpcom\n\t *    .site( 'en.blog.wordpress.com' )\n\t *    .post( 1234 )\n\t *    .subscriber()\n\t *    .mine( function( err, data ) {\n\t *      // subscription data\n\t *    } );\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tmine( query, fn ) {\n\t\treturn this.wpcom.req.get( `${ this.path }/mine`, query, fn );\n\t}\n\n\t/**\n\t * Subscribe the current user to the post.\n\t *\n\t * *Example:*\n\t *    // Subscribe the current user to the post\n\t *    wpcom\n\t *    .site( 'en.blog.wordpress.com' )\n\t *    .post( 1234 )\n\t *    .subscriber()\n\t *    .add( function( err, data ) {\n\t *      // current user has been subscribed to post\n\t *    } );\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tadd( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.path }/new`, query, null, fn );\n\t}\n\n\t/**\n\t * Unsubscribe current user to the post\n\t *\n\t * *Example:*\n\t *    // Unsubscribe current user to the post\n\t *    wpcom\n\t *    .site( 'en.blog.wordpress.com' )\n\t *    .post( 1234 )\n\t *    .subscriber()\n\t *    .del( function( err, data ) {\n\t *      // current user has been unsubscribed to post\n\t *    } );\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdel( query, fn ) {\n\t\treturn this.wpcom.req.del( `${ this.path }/mine/delete`, query, fn );\n\t}\n}\n\n// method alias\nSitePostSubscriber.prototype.state = SitePostSubscriber.prototype.mine;\nSitePostSubscriber.prototype.delete = SitePostSubscriber.prototype.del;\n\nexport default SitePostSubscriber;\n","/**\n * SiteSettings methods\n *\n * @param {string} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nclass SiteSettings {\n\tconstructor( sid, wpcom ) {\n\t\tif ( ! sid ) {\n\t\t\tthrow new Error( '`site id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SiteSettings ) ) {\n\t\t\treturn new SiteSettings( sid, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis._sid = sid;\n\t\tthis.path = `/sites/${ this._sid }/settings`;\n\t}\n\n\t/**\n\t * Get site-settings\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( this.path, query, fn );\n\t}\n\n\t/**\n\t * Get site-settings single option\n\t *\n\t * @param {string} option - option to ask\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tgetOption( option, fn = () => {} ) {\n\t\tconst query = { fields: 'settings' };\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\tthis.wpcom.req.get( this.path, query, ( err, data ) => {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tfn( err );\n\t\t\t\t\treturn reject( err );\n\t\t\t\t}\n\n\t\t\t\tif ( ! data ) {\n\t\t\t\t\tfn();\n\t\t\t\t\treturn resolve();\n\t\t\t\t}\n\n\t\t\t\tconst settings = data.settings;\n\n\t\t\t\tif ( settings && typeof settings[ option ] !== 'undefined' ) {\n\t\t\t\t\tfn( null, settings[ option ] );\n\t\t\t\t\treturn resolve( settings[ option ] );\n\t\t\t\t}\n\n\t\t\t\tfn( null, data );\n\t\t\t\treturn resolve( data );\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Update site-settings\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( this.path, query, body, fn );\n\t}\n\n\t/**\n\t * Set site-settings single option\n\t *\n\t * @param {string} option - option to set\n\t * @param {*} value - value to assing to the given option\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsetOption( option, value, fn ) {\n\t\treturn this.wpcom.req.put( this.path, {}, { [ option ]: value }, fn );\n\t}\n}\n\nexport default SiteSettings;\n","/**\n * Tag methods\n *\n * @param {string} [slug] - tag slug\n * @param {string} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Tag( slug, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Tag ) ) {\n\t\treturn new Tag( slug, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._sid = sid;\n\tthis._slug = slug;\n}\n\n/**\n * Set tag `slug`\n *\n * @param {string} slug - tag slug\n */\nTag.prototype.slug = function ( slug ) {\n\tthis._slug = slug;\n};\n\n/**\n * Get tag\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nTag.prototype.get = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/tags/slug:' + this._slug;\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Add tag\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nTag.prototype.add = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/tags/new';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * Edit tag\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nTag.prototype.update = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/tags/slug:' + this._slug;\n\treturn this.wpcom.req.put( path, query, body, fn );\n};\n\n/**\n * Delete tag\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nTag.prototype.delete = Tag.prototype.del = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/tags/slug:' + this._slug + '/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n","import SiteTaxonomyTerm from './site.taxonomy.term';\n\n/**\n * SiteTaxonomy class\n */\nclass SiteTaxonomy {\n\t/**\n\t * Create a SiteTaxonomy instance\n\t *\n\t * @param {string} taxonomy - taxonomy type\n\t * @param {string} siteId - site id\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( taxonomy, siteId, wpcom ) {\n\t\tif ( ! siteId ) {\n\t\t\tthrow new TypeError( '`siteId` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! taxonomy ) {\n\t\t\tthrow new TypeError( '`taxonomy` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SiteTaxonomy ) ) {\n\t\t\treturn new SiteTaxonomy( taxonomy, siteId, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\n\t\tthis._siteId = encodeURIComponent( siteId );\n\t\tthis._taxonomy = encodeURIComponent( taxonomy );\n\t\tthis._rootPath = `/sites/${ this._siteId }/taxonomies/${ this._taxonomy }`;\n\t}\n\n\t/**\n\t * Get a list of Terms for the Taxonomy\n\t *\n\t * @param {object} [query] - query object\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\ttermsList( query, fn ) {\n\t\tconst termsPath = `${ this._rootPath }/terms`;\n\t\treturn this.wpcom.req.get( termsPath, query, fn );\n\t}\n\n\t/**\n\t * Return `Term` instance\n\t *\n\t * @param {string} [term] - term slug\n\t * @returns {SiteTaxonomyTerm} Term instance\n\t */\n\tterm( term ) {\n\t\treturn new SiteTaxonomyTerm( term, this._taxonomy, this._siteId, this.wpcom );\n\t}\n}\n\nexport default SiteTaxonomy;\n","/**\n * SiteTaxonomyTerm class\n */\n\nclass SiteTaxonomyTerm {\n\t/**\n\t * Create a SiteTaxonomyTerm instance\n\t *\n\t * @param {string} term - term slug\n\t * @param {string} taxonomy - taxonomy type\n\t * @param {string} siteId - site id\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( term, taxonomy, siteId, wpcom ) {\n\t\tif ( ! siteId ) {\n\t\t\tthrow new TypeError( '`siteId` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! taxonomy ) {\n\t\t\tthrow new TypeError( '`taxonomy` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SiteTaxonomyTerm ) ) {\n\t\t\treturn new SiteTaxonomyTerm( term, taxonomy, siteId, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\n\t\tthis._siteId = encodeURIComponent( siteId );\n\t\tthis._taxonomy = encodeURIComponent( taxonomy );\n\t\tthis._term = encodeURIComponent( term );\n\t\tthis._taxonomyPath = `/sites/${ this._siteId }/taxonomies/${ this._taxonomy }/terms`;\n\t}\n\n\t/**\n\t * Get Term details\n\t *\n\t * @param {object} [query] - query parameters\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tget( query, fn ) {\n\t\tif ( ! this._term ) {\n\t\t\tthrow new Error( '`term` is not correctly defined' );\n\t\t}\n\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\tconst path = `${ this._taxonomyPath }/slug:${ this._term }`;\n\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t}\n\n\t/**\n\t * Add new Term\n\t *\n\t * @param {object} [params] - term parameters\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tadd( params, fn ) {\n\t\tif ( ! params || ! params.name ) {\n\t\t\tthrow new Error( '`params.name` is not correctly defined' );\n\t\t}\n\n\t\tconst path = `${ this._taxonomyPath }/new`;\n\n\t\treturn this.wpcom.req.post( path, params, fn );\n\t}\n\n\t/**\n\t * Delete Term\n\t *\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdelete( fn ) {\n\t\tif ( ! this._term ) {\n\t\t\tthrow new Error( '`term` is not correctly defined' );\n\t\t}\n\n\t\tconst path = `${ this._taxonomyPath }/slug:${ this._term }/delete`;\n\n\t\treturn this.wpcom.req.del( path, fn );\n\t}\n\n\t/**\n\t * Update Term\n\t *\n\t * @param {object} [params] - term parameters\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tupdate( params, fn ) {\n\t\tif ( ! this._term ) {\n\t\t\tthrow new Error( '`term` is not correctly defined' );\n\t\t}\n\n\t\tconst path = `${ this._taxonomyPath }/slug:${ this._term }`;\n\t\treturn this.wpcom.req.put( path, params, fn );\n\t}\n}\n\nexport default SiteTaxonomyTerm;\n","/**\n * `SiteWordAdsEarnings` constructor.\n *\n * @param {string} sid - site identifier\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function SiteWordAdsEarnings( sid, wpcom ) {\n\tif ( ! ( this instanceof SiteWordAdsEarnings ) ) {\n\t\treturn new SiteWordAdsEarnings( sid, wpcom );\n\t}\n\n\tthis._sid = sid;\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Get detailed WordAds earnings information about the site.\n *\n * *Example:*\n *    // Get site earnings information\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .earnings()\n *    .get( function( err, data ) {\n *      // `earnings` information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsEarnings.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/sites/' + this._sid + '/wordads/earnings', query, fn );\n};\n","import SiteWordAdsEarnings from './site.wordads.earnings';\nimport SiteWordAdsSettings from './site.wordads.settings';\nimport SiteWordAdsTOS from './site.wordads.tos';\n\n/**\n * `SiteWordAds` constructor.\n *\n * Use a `WPCOM#Me` instance to create a new `SiteWordAds` instance.\n *\n * @param {string} sid - site identifier\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function SiteWordAds( sid, wpcom ) {\n\tif ( ! ( this instanceof SiteWordAds ) ) {\n\t\treturn new SiteWordAds( sid, wpcom );\n\t}\n\n\tthis._sid = sid;\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Return a `SiteWordAdsSettings` instance.\n *\n * *Example:*\n *    // Create a SiteWordAdsSettings instance\n *\n *    var wordAds = wpcom\n *      .site( 'my-blog.wordpress.com' )\n *      .wordAds()\n *      .settings();\n *\n * @returns {SiteWordAdsSettings} site WordAds settings instance\n */\nSiteWordAds.prototype.settings = function () {\n\treturn new SiteWordAdsSettings( this._sid, this.wpcom );\n};\n\n/**\n * Return a `SiteWordAdsEarnings` instance.\n *\n * *Example:*\n *    // Create a SiteWordAdsEarnings instance\n *\n *    var wordAds = wpcom\n *      .site( 'my-blog.wordpress.com' )\n *      .wordAds()\n *      .earnings();\n *\n * @returns {SiteWordAdsEarnings} site WordAds earnings instance\n */\nSiteWordAds.prototype.earnings = function () {\n\treturn new SiteWordAdsEarnings( this._sid, this.wpcom );\n};\n\n/**\n * Return a `SiteWordAdsTOS` instance.\n *\n * *Example:*\n *    // Create a SiteWordAdsTOS instance\n *\n *    var wordAds = wpcom\n *      .site( 'my-blog.wordpress.com' )\n *      .wordAds()\n *      .tos();\n *\n * Return  SiteWordAdsTOS object for the site.\n *\n * @returns {SiteWordAdsTOS} site wordAds TOS instance\n */\nSiteWordAds.prototype.tos = function () {\n\treturn new SiteWordAdsTOS( this._sid, this.wpcom );\n};\n","/**\n * `SiteWordAdsSettings` constructor.\n *\n * @param {string} sid - site identifier\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function SiteWordAdsSettings( sid, wpcom ) {\n\tif ( ! ( this instanceof SiteWordAdsSettings ) ) {\n\t\treturn new SiteWordAdsSettings( sid, wpcom );\n\t}\n\n\tthis._sid = sid;\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Get detailed WordAds settings information about the site.\n *\n * *Example:*\n *    // Get site settings information\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .settings()\n *    .get( function( err, data ) {\n *      // `settings` information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsSettings.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/sites/' + this._sid + '/wordads/settings', query, fn );\n};\n\n/**\n * Update WordAds settings for the site.\n *\n * *Example:*\n *    var settings = {}; // your settings here\n *\n *    // Get site settings information\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .settings()\n *    .update( settings, function( err, data ) {\n *      // data settings information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsSettings.prototype.update = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/wordads/settings';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n","/**\n * `SiteWordAdsTOS` constructor.\n *\n * @param {string} sid - site identifier\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function SiteWordAdsTOS( sid, wpcom ) {\n\tif ( ! ( this instanceof SiteWordAdsTOS ) ) {\n\t\treturn new SiteWordAdsTOS( sid, wpcom );\n\t}\n\n\tthis._sid = sid;\n\tthis.wpcom = wpcom;\n}\n\n/**\n * GET site's WordAds TOS\n *\n * Example:\n *    // Get site TOS information\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .tos()\n *    .get( function( err, data ) {\n *      // `settings` information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsTOS.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/sites/' + this._sid + '/wordads/tos', query, fn );\n};\n\n/**\n * UPDATE site's WordAds TOS\n *\n * Example:\n *    // Update TOS\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .tos()\n *    .update( { tos: 'signed' }, function( err, data ) {\n *      // data settings information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsTOS.prototype.update = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/wordads/tos';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * SIGN site's WordAds TOS\n *\n * Example:\n *    // Sign TOS\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .tos()\n *    .sign( function( err, data ) {\n *      // data settings information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsTOS.prototype.sign = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/wordads/tos';\n\treturn this.wpcom.req.post( path, query, { tos: 'signed' }, fn );\n};\n","/**\n * Module vars\n */\nconst root = '/sites';\n\nclass SiteWPComPlugin {\n\t/**\n\t * `SiteWPComPlugin` constructor.\n\t *\n\t * @param {string} [slug] - the plugin slug\n\t * @param {number|string} sid - site identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( slug, sid, wpcom ) {\n\t\tif ( ! ( this instanceof SiteWPComPlugin ) ) {\n\t\t\treturn new SiteWPComPlugin( slug, sid, wpcom );\n\t\t}\n\n\t\tif ( ! slug ) {\n\t\t\tthrow new Error( '`slug` is not correctly defined' );\n\t\t}\n\n\t\tthis._slug = encodeURIComponent( slug );\n\t\tthis._sid = sid;\n\t\tthis.wpcom = wpcom;\n\n\t\tconst path = `${ root }/${ this._sid }/wpcom-plugins`;\n\t\tthis.pluginPath = `${ path }/${ this._slug }`;\n\t}\n\n\t/**\n\t * Update the plugin configuration\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - plugin body object\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( this.pluginPath, query, body, fn );\n\t}\n\n\t/**\n\t * Activate the plugin\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tactivate( query, fn ) {\n\t\treturn this.update( query, { active: true }, fn );\n\t}\n\n\t/**\n\t * Deactivate the plugin\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdeactivate( query, fn ) {\n\t\treturn this.update( query, { active: false }, fn );\n\t}\n}\n\n/**\n * Expose `SiteWPComPlugin` module\n */\nexport default SiteWPComPlugin;\n","import * as tus from 'tus-js-client';\nimport Media from './site.media';\n\n/**\n * This class is an adapted version of wpcom's TUS uploader use-uploader.js.\n * It enables resumable uploads for videos.\n */\nexport default class TusUploader {\n\tconstructor( wpcom, sid ) {\n\t\tthis.wpcom = wpcom;\n\t\tthis._sid = sid;\n\t}\n\n\tcreateGetJwtRequest = ( key ) => {\n\t\tconst params = {\n\t\t\tpath: '/sites/' + this._sid + '/media/videopress-upload-jwt',\n\t\t\tapiNamespace: 'wpcom/v2',\n\t\t};\n\n\t\tif ( key ) {\n\t\t\tparams.key = key;\n\t\t}\n\n\t\treturn this.wpcom.req.post( params, {}, null, null );\n\t};\n\n\tstartUpload = ( files ) => {\n\t\tconst file = files[ 0 ];\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\tconst uploader = this.resumableUploader( {\n\t\t\t\tonError: ( error ) => reject( error ),\n\t\t\t\tonSuccess: ( args ) => {\n\t\t\t\t\tconst media = new Media( args.mediaId, this._sid, this.wpcom );\n\t\t\t\t\tmedia\n\t\t\t\t\t\t.get()\n\t\t\t\t\t\t.then( ( res ) => resolve( { media: [ res ] } ) )\n\t\t\t\t\t\t.catch( ( err ) => reject( err ) );\n\t\t\t\t},\n\t\t\t\tonProgress: (/*bytesUploaded, bytesTotal*/) => {},\n\t\t\t} );\n\n\t\t\treturn this.createGetJwtRequest().then( ( jwtData ) => uploader( file, jwtData ) );\n\t\t} );\n\t};\n\n\tresumableUploader = ( { onError, onProgress, onSuccess } ) => {\n\t\tconst jwtsForKeys = {};\n\t\t// Keep in sync with wpcom's use-uploader.js\n\t\treturn ( file, data ) => {\n\t\t\tconst upload = new tus.Upload( file, {\n\t\t\t\tonError: onError,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tendpoint: 'https://public-api.wordpress.com/rest/v1.1/video-uploads/' + this._sid + '/',\n\t\t\t\tremoveFingerprintOnSuccess: true,\n\t\t\t\twithCredentials: false,\n\t\t\t\tautoRetry: true,\n\t\t\t\toverridePatchMethod: false,\n\t\t\t\tchunkSize: 10000000, // 10Mb.\n\t\t\t\tallowedFileTypes: [ 'video/*' ],\n\t\t\t\tmetadata: {\n\t\t\t\t\tfilename: file.name,\n\t\t\t\t\tfiletype: file.type,\n\t\t\t\t},\n\t\t\t\tretryDelays: [ 0, 1000, 3000, 5000, 10000 ],\n\t\t\t\tonAfterResponse: ( req, res ) => {\n\t\t\t\t\t// Why is this not showing the x-headers?\n\t\t\t\t\tif ( res.getStatus() >= 400 ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst GUID_HEADER = 'x-videopress-upload-guid';\n\t\t\t\t\tconst MEDIA_ID_HEADER = 'x-videopress-upload-media-id';\n\t\t\t\t\tconst SRC_URL_HEADER = 'x-videopress-upload-src-url';\n\t\t\t\t\tconst guid = res.getHeader( GUID_HEADER );\n\t\t\t\t\tconst mediaId = res.getHeader( MEDIA_ID_HEADER );\n\t\t\t\t\tconst src = res.getHeader( SRC_URL_HEADER );\n\t\t\t\t\tif ( guid && mediaId && src ) {\n\t\t\t\t\t\tonSuccess && onSuccess( { mediaId: Number( mediaId ), guid, src } );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst headerMap = {\n\t\t\t\t\t\t'x-videopress-upload-key-token': 'token',\n\t\t\t\t\t\t'x-videopress-upload-key': 'key',\n\t\t\t\t\t};\n\n\t\t\t\t\tconst tokenData = {};\n\t\t\t\t\tObject.keys( headerMap ).forEach( function ( header ) {\n\t\t\t\t\t\tconst value = res.getHeader( header );\n\t\t\t\t\t\tif ( ! value ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttokenData[ headerMap[ header ] ] = value;\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( tokenData.key && tokenData.token ) {\n\t\t\t\t\t\tjwtsForKeys[ tokenData.key ] = tokenData.token;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonBeforeRequest: ( req ) => {\n\t\t\t\t\t// make ALL requests be either POST or GET to honor the public-api.wordpress.com \"contract\".\n\t\t\t\t\tconst method = req._method;\n\t\t\t\t\tif ( [ 'HEAD', 'OPTIONS' ].indexOf( method ) >= 0 ) {\n\t\t\t\t\t\treq._method = 'GET';\n\t\t\t\t\t\treq.setHeader( 'X-HTTP-Method-Override', method );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( [ 'DELETE', 'PUT', 'PATCH' ].indexOf( method ) >= 0 ) {\n\t\t\t\t\t\treq._method = 'POST';\n\t\t\t\t\t\treq.setHeader( 'X-HTTP-Method-Override', method );\n\t\t\t\t\t}\n\n\t\t\t\t\treq._xhr.open( req._method, req._url, true );\n\t\t\t\t\t// Set the headers again, reopening the xhr resets them.\n\t\t\t\t\tObject.keys( req._headers ).map( function ( headerName ) {\n\t\t\t\t\t\treq.setHeader( headerName, req._headers[ headerName ] );\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( 'POST' === method ) {\n\t\t\t\t\t\tconst hasJWT = !! data.upload_token;\n\t\t\t\t\t\tif ( hasJWT ) {\n\t\t\t\t\t\t\treq.setHeader( 'x-videopress-upload-token', data.upload_token );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow 'should never happen';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( [ 'OPTIONS', 'GET', 'HEAD', 'DELETE', 'PUT', 'PATCH' ].indexOf( method ) >= 0 ) {\n\t\t\t\t\t\tconst url = new URL( req._url );\n\t\t\t\t\t\tconst path = url.pathname;\n\t\t\t\t\t\tconst parts = path.split( '/' );\n\t\t\t\t\t\tconst maybeUploadkey = parts[ parts.length - 1 ];\n\t\t\t\t\t\tif ( jwtsForKeys[ maybeUploadkey ] ) {\n\t\t\t\t\t\t\treq.setHeader( 'x-videopress-upload-token', jwtsForKeys[ maybeUploadkey ] );\n\t\t\t\t\t\t} else if ( 'HEAD' === method ) {\n\t\t\t\t\t\t\treturn this.createGetJwtRequest( maybeUploadkey ).then( ( responseData ) => {\n\t\t\t\t\t\t\t\tjwtsForKeys[ maybeUploadkey ] = responseData.token;\n\t\t\t\t\t\t\t\treq.setHeader( 'x-videopress-upload-token', responseData.token );\n\t\t\t\t\t\t\t\treturn req;\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.resolve( req );\n\t\t\t\t},\n\t\t\t} );\n\n\t\t\tupload.findPreviousUploads().then( function ( previousUploads ) {\n\t\t\t\tif ( previousUploads.length ) {\n\t\t\t\t\tupload.resumeFromPreviousUpload( previousUploads[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\tupload.start();\n\t\t\t} );\n\n\t\t\treturn upload;\n\t\t};\n\t};\n}\n","/**\n * Create a `Users` instance\n *\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Users( wpcom ) {\n\tif ( ! ( this instanceof Users ) ) {\n\t\treturn new Users( wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n}\n\n/**\n * A list of @mention suggestions for the current user\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nUsers.prototype.suggest = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/users/suggest', query, fn );\n};\n","export function createReadStream() {\n\tthrow new Error( 'Cannot call fs functions within the browser' );\n}\n","import debugFactory from 'debug';\n\nconst debug = debugFactory( 'wpcom:pinghub' );\n\n/**\n * Create a `Pinghub` instance\n *\n * @param {object} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Pinghub( wpcom ) {\n\tif ( ! ( this instanceof Pinghub ) ) {\n\t\treturn new Pinghub( wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis.conns = {};\n}\n\n/**\n * Open a websocket to Pinghub\n *\n * @param {string} path - request path\n * @param {Function} fn - callback function\n */\nPinghub.prototype.connect = function ( path, fn ) {\n\tdebug( 'connect', path, fn );\n\tconst pinghub = this;\n\tconst params = {\n\t\taction: 'connect',\n\t\tpath: '/pinghub' + path,\n\t};\n\tconst errorCallback = function () {}; // we want an xhr, not a promise\n\tconst xhr = ( this.conns[ path ] = this.wpcom.req.get( params, errorCallback ) );\n\txhr.onload = function ( e ) {\n\t\tdebug( 'onload', path, e );\n\t\tfn( null, e );\n\t};\n\txhr.onerror =\n\t\txhr.onabort =\n\t\txhr.onclose =\n\t\t\tfunction ( e ) {\n\t\t\t\tdebug( 'onerror', path, e );\n\t\t\t\tpinghub.remove( path );\n\t\t\t\tfn( e, null );\n\t\t\t};\n};\n\n/**\n * Close a websocket connection (unsubscribe)\n *\n * @param {string} path - request path\n */\nPinghub.prototype.disconnect = function ( path ) {\n\tdebug( 'disconnect', path );\n\tconst params = {\n\t\taction: 'disconnect',\n\t\tpath: '/pinghub' + path,\n\t};\n\tconst errorCallback = function () {}; // no promises\n\tthis.wpcom.req.get( params, errorCallback );\n};\n\n/**\n * Remove a dead connection\n *\n * @param {string} path - pinghub channel\n */\nPinghub.prototype.remove = function ( path ) {\n\tdebug( 'remove', path );\n\tdelete this.conns[ path ];\n};\n","import sendRequest from './send-request';\n\n/**\n * Expose `Request` module\n *\n * @param {WPCOM} wpcom - wpcom instance\n */\nexport default function Req( wpcom ) {\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Request methods\n *\n * @param {object|string} params - params object\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nReq.prototype.get = function ( params, query, fn ) {\n\t// `query` is optional\n\tif ( 'function' === typeof query ) {\n\t\tfn = query;\n\t\tquery = {};\n\t}\n\n\treturn sendRequest.call( this.wpcom, params, query, null, fn );\n};\n\n/**\n * Make `update` request\n *\n * @param {object|string} params\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n */\nReq.prototype.post = Req.prototype.put = function ( params, query, body, fn ) {\n\tif ( undefined === fn ) {\n\t\tif ( undefined === body ) {\n\t\t\tbody = query;\n\t\t\tquery = {};\n\t\t} else if ( 'function' === typeof body ) {\n\t\t\tfn = body;\n\t\t\tbody = query;\n\t\t\tquery = {};\n\t\t}\n\t}\n\n\t// params can be a string\n\tparams = 'string' === typeof params ? { path: params } : params;\n\n\t// in v1 endpoints, DELETE and PUT operations use http POST, but for v2 endpoints we must allow this to be overridden\n\tparams.method = params.method || 'post';\n\n\treturn sendRequest.call( this.wpcom, params, query, body, fn );\n};\n\n/**\n * Make a `delete` request\n *\n * @param {object|string} params - params object\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nReq.prototype.del = function ( params, query, fn ) {\n\tif ( 'function' === typeof query ) {\n\t\tfn = query;\n\t\tquery = {};\n\t}\n\n\treturn this.post( params, query, null, fn );\n};\n","import debugFactory from 'debug';\n\n/**\n * Module vars\n */\nconst debug = debugFactory( 'wpcom:runtime' );\n\n/**\n * Build a generic method\n *\n * @param {object} methodParams - method methodParams\n * @param {Function} buildPath - function called to build method path\n * @returns {string} method path\n */\nconst methodBuilder = ( methodParams, buildPath ) => {\n\treturn function ( query, fn ) {\n\t\tconst path = buildPath( methodParams, this );\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t};\n};\n\n/**\n * Add methods to the given Class in the\n * runtime process.\n *\n * @param {*} Class - class to extend\n * @param {Array} list - methods list\n * @param {Function} buildPath - function to build the method endpoint path\n */\nexport default function ( Class, list, buildPath ) {\n\tlist.forEach( ( methodParams ) => {\n\t\tmethodParams = 'object' === typeof methodParams ? methodParams : { name: methodParams };\n\n\t\tdebug( 'Adding %o', methodParams.name );\n\t\tClass.prototype[ methodParams.name ] = methodBuilder( methodParams, buildPath );\n\t} );\n}\n","import debugFactory from 'debug';\nimport qs from 'qs';\n\nconst debug = debugFactory( 'wpcom:send-request' );\nconst debug_res = debugFactory( 'wpcom:send-request:res' );\n\n/**\n * Request to WordPress REST API\n *\n * @param {string|object} params - params object\n * @param {object} [query] - query object parameter\n * @param {object} [body] - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nexport default function sendRequest( params, query, body, fn ) {\n\t// `params` can be just the path ( String )\n\tparams = 'string' === typeof params ? { path: params } : params;\n\n\tdebug( 'sendRequest(%o )', params.path );\n\n\t// set `method` request param\n\tparams.method = ( params.method || 'get' ).toUpperCase();\n\n\t// `query` is optional\n\tif ( 'function' === typeof query ) {\n\t\tfn = query;\n\t\tquery = {};\n\t}\n\n\t// `body` is optional\n\tif ( 'function' === typeof body ) {\n\t\tfn = body;\n\t\tbody = null;\n\t}\n\n\t// query could be `null`\n\tquery = query || {};\n\n\t// Handle special query parameters\n\t// - `apiVersion`\n\tif ( query.apiVersion ) {\n\t\tparams.apiVersion = query.apiVersion;\n\t\tdebug( 'apiVersion: %o', params.apiVersion );\n\t\tdelete query.apiVersion;\n\t} else {\n\t\tparams.apiVersion = this.apiVersion;\n\t}\n\n\t// - `apiNamespace`\n\tif ( query.apiNamespace ) {\n\t\tparams.apiNamespace = query.apiNamespace;\n\t\tdebug( 'apiNamespace: %o', params.apiNamespace );\n\t\tdelete query.apiNamespace;\n\t}\n\n\t// - `proxyOrigin`\n\tif ( query.proxyOrigin ) {\n\t\tparams.proxyOrigin = query.proxyOrigin;\n\t\tdebug( 'proxyOrigin: %o', params.proxyOrigin );\n\t\tdelete query.proxyOrigin;\n\t}\n\n\t// Stringify query object before to send\n\tquery = qs.stringify( query, { arrayFormat: 'brackets' } );\n\n\t// pass `query` and/or `body` to request params\n\tparams.query = query;\n\n\tif ( body ) {\n\t\tparams.body = body;\n\t}\n\tdebug( 'params: %o', params );\n\n\t// if callback is provided, behave traditionally\n\tif ( 'function' === typeof fn ) {\n\t\t// request method\n\t\treturn this.request( params, function ( err, res, headers ) {\n\t\t\tdebug_res( res );\n\t\t\tfn( err, res, headers );\n\t\t} );\n\t}\n\n\t// but if not, return a Promise\n\treturn new Promise( ( resolve, reject ) => {\n\t\tthis.request( params, ( err, res ) => {\n\t\t\tdebug_res( res );\n\t\t\terr ? reject( err ) : resolve( res );\n\t\t} );\n\t} );\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","const iconsThatNeedOffset = [\n\t'gridicons-add-outline',\n\t'gridicons-add',\n\t'gridicons-align-image-center',\n\t'gridicons-align-image-left',\n\t'gridicons-align-image-none',\n\t'gridicons-align-image-right',\n\t'gridicons-attachment',\n\t'gridicons-bold',\n\t'gridicons-bookmark-outline',\n\t'gridicons-bookmark',\n\t'gridicons-calendar',\n\t'gridicons-cart',\n\t'gridicons-create',\n\t'gridicons-custom-post-type',\n\t'gridicons-external',\n\t'gridicons-folder',\n\t'gridicons-heading',\n\t'gridicons-help-outline',\n\t'gridicons-help',\n\t'gridicons-history',\n\t'gridicons-info-outline',\n\t'gridicons-info',\n\t'gridicons-italic',\n\t'gridicons-layout-blocks',\n\t'gridicons-link-break',\n\t'gridicons-link',\n\t'gridicons-list-checkmark',\n\t'gridicons-list-ordered',\n\t'gridicons-list-unordered',\n\t'gridicons-menus',\n\t'gridicons-minus',\n\t'gridicons-my-sites',\n\t'gridicons-notice-outline',\n\t'gridicons-notice',\n\t'gridicons-plus-small',\n\t'gridicons-plus',\n\t'gridicons-popout',\n\t'gridicons-posts',\n\t'gridicons-scheduled',\n\t'gridicons-share-ios',\n\t'gridicons-star-outline',\n\t'gridicons-star',\n\t'gridicons-stats',\n\t'gridicons-status',\n\t'gridicons-thumbs-up',\n\t'gridicons-textcolor',\n\t'gridicons-time',\n\t'gridicons-trophy',\n\t'gridicons-user-circle',\n\t'gridicons-reader-follow',\n\t'gridicons-reader-following'\n];\nconst iconsThatNeedOffsetY = [\n\t'gridicons-align-center',\n\t'gridicons-align-justify',\n\t'gridicons-align-left',\n\t'gridicons-align-right',\n\t'gridicons-arrow-left',\n\t'gridicons-arrow-right',\n\t'gridicons-house',\n\t'gridicons-indent-left',\n\t'gridicons-indent-right',\n\t'gridicons-minus-small',\n\t'gridicons-print',\n\t'gridicons-sign-out',\n\t'gridicons-stats-alt',\n\t'gridicons-trash',\n\t'gridicons-underline',\n\t'gridicons-video-camera'\n];\nconst iconsThatNeedOffsetX = [\n\t'gridicons-arrow-down',\n\t'gridicons-arrow-up',\n\t'gridicons-comment',\n\t'gridicons-clear-formatting',\n\t'gridicons-flag',\n\t'gridicons-menu',\n\t'gridicons-reader',\n\t'gridicons-strikethrough'\n];\n\nmodule.exports = {\n\ticonsThatNeedOffset,\n\ticonsThatNeedOffsetX,\n\ticonsThatNeedOffsetY,\n};\n","'use strict';\n\n(function (global) {\n\n    // minimal symbol polyfill for IE11 and others\n    if (typeof Symbol !== 'function') {\n        var Symbol = function(name) {\n            return name;\n        }\n\n        Symbol.nonNative = true;\n    }\n\n    const STATE_PLAINTEXT = Symbol('plaintext');\n    const STATE_HTML      = Symbol('html');\n    const STATE_COMMENT   = Symbol('comment');\n\n    const ALLOWED_TAGS_REGEX  = /<(\\w*)>/g;\n    const NORMALIZE_TAG_REGEX = /<\\/?([^\\s\\/>]+)/;\n\n    function striptags(html, allowable_tags, tag_replacement) {\n        html            = html || '';\n        allowable_tags  = allowable_tags || [];\n        tag_replacement = tag_replacement || '';\n\n        let context = init_context(allowable_tags, tag_replacement);\n\n        return striptags_internal(html, context);\n    }\n\n    function init_striptags_stream(allowable_tags, tag_replacement) {\n        allowable_tags  = allowable_tags || [];\n        tag_replacement = tag_replacement || '';\n\n        let context = init_context(allowable_tags, tag_replacement);\n\n        return function striptags_stream(html) {\n            return striptags_internal(html || '', context);\n        };\n    }\n\n    striptags.init_streaming_mode = init_striptags_stream;\n\n    function init_context(allowable_tags, tag_replacement) {\n        allowable_tags = parse_allowable_tags(allowable_tags);\n\n        return {\n            allowable_tags : allowable_tags,\n            tag_replacement: tag_replacement,\n\n            state         : STATE_PLAINTEXT,\n            tag_buffer    : '',\n            depth         : 0,\n            in_quote_char : ''\n        };\n    }\n\n    function striptags_internal(html, context) {\n        let allowable_tags  = context.allowable_tags;\n        let tag_replacement = context.tag_replacement;\n\n        let state         = context.state;\n        let tag_buffer    = context.tag_buffer;\n        let depth         = context.depth;\n        let in_quote_char = context.in_quote_char;\n        let output        = '';\n\n        for (let idx = 0, length = html.length; idx < length; idx++) {\n            let char = html[idx];\n\n            if (state === STATE_PLAINTEXT) {\n                switch (char) {\n                    case '<':\n                        state       = STATE_HTML;\n                        tag_buffer += char;\n                        break;\n\n                    default:\n                        output += char;\n                        break;\n                }\n            }\n\n            else if (state === STATE_HTML) {\n                switch (char) {\n                    case '<':\n                        // ignore '<' if inside a quote\n                        if (in_quote_char) {\n                            break;\n                        }\n\n                        // we're seeing a nested '<'\n                        depth++;\n                        break;\n\n                    case '>':\n                        // ignore '>' if inside a quote\n                        if (in_quote_char) {\n                            break;\n                        }\n\n                        // something like this is happening: '<<>>'\n                        if (depth) {\n                            depth--;\n\n                            break;\n                        }\n\n                        // this is closing the tag in tag_buffer\n                        in_quote_char = '';\n                        state         = STATE_PLAINTEXT;\n                        tag_buffer   += '>';\n\n                        if (allowable_tags.has(normalize_tag(tag_buffer))) {\n                            output += tag_buffer;\n                        } else {\n                            output += tag_replacement;\n                        }\n\n                        tag_buffer = '';\n                        break;\n\n                    case '\"':\n                    case '\\'':\n                        // catch both single and double quotes\n\n                        if (char === in_quote_char) {\n                            in_quote_char = '';\n                        } else {\n                            in_quote_char = in_quote_char || char;\n                        }\n\n                        tag_buffer += char;\n                        break;\n\n                    case '-':\n                        if (tag_buffer === '<!-') {\n                            state = STATE_COMMENT;\n                        }\n\n                        tag_buffer += char;\n                        break;\n\n                    case ' ':\n                    case '\\n':\n                        if (tag_buffer === '<') {\n                            state      = STATE_PLAINTEXT;\n                            output    += '< ';\n                            tag_buffer = '';\n\n                            break;\n                        }\n\n                        tag_buffer += char;\n                        break;\n\n                    default:\n                        tag_buffer += char;\n                        break;\n                }\n            }\n\n            else if (state === STATE_COMMENT) {\n                switch (char) {\n                    case '>':\n                        if (tag_buffer.slice(-2) == '--') {\n                            // close the comment\n                            state = STATE_PLAINTEXT;\n                        }\n\n                        tag_buffer = '';\n                        break;\n\n                    default:\n                        tag_buffer += char;\n                        break;\n                }\n            }\n        }\n\n        // save the context for future iterations\n        context.state         = state;\n        context.tag_buffer    = tag_buffer;\n        context.depth         = depth;\n        context.in_quote_char = in_quote_char;\n\n        return output;\n    }\n\n    function parse_allowable_tags(allowable_tags) {\n        let tag_set = new Set();\n\n        if (typeof allowable_tags === 'string') {\n            let match;\n\n            while ((match = ALLOWED_TAGS_REGEX.exec(allowable_tags))) {\n                tag_set.add(match[1]);\n            }\n        }\n\n        else if (!Symbol.nonNative &&\n                 typeof allowable_tags[Symbol.iterator] === 'function') {\n\n            tag_set = new Set(allowable_tags);\n        }\n\n        else if (typeof allowable_tags.forEach === 'function') {\n            // IE11 compatible\n            allowable_tags.forEach(tag_set.add, tag_set);\n        }\n\n        return tag_set;\n    }\n\n    function normalize_tag(tag_buffer) {\n        let match = NORMALIZE_TAG_REGEX.exec(tag_buffer);\n\n        return match ? match[1].toLowerCase() : null;\n    }\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(function module_factory() { return striptags; });\n    }\n\n    else if (typeof module === 'object' && module.exports) {\n        // Node\n        module.exports = striptags;\n    }\n\n    else {\n        // Browser\n        global.striptags = striptags;\n    }\n}(this));\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport isReactNative from './isReactNative';\nimport uriToBlob from './uriToBlob';\nimport isCordova from './isCordova';\nimport readAsByteArray from './readAsByteArray';\n\nvar FileSource = /*#__PURE__*/function () {\n  // Make this.size a method\n  function FileSource(file) {\n    _classCallCheck(this, FileSource);\n\n    this._file = file;\n    this.size = file.size;\n  }\n\n  _createClass(FileSource, [{\n    key: \"slice\",\n    value: function slice(start, end) {\n      // In Apache Cordova applications, a File must be resolved using\n      // FileReader instances, see\n      // https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-file/index.html#read-a-file\n      if (isCordova()) {\n        return readAsByteArray(this._file.slice(start, end));\n      }\n\n      var value = this._file.slice(start, end);\n\n      return Promise.resolve({\n        value: value\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {// Nothing to do here since we don't need to release any resources.\n    }\n  }]);\n\n  return FileSource;\n}();\n\nvar StreamSource = /*#__PURE__*/function () {\n  function StreamSource(reader, chunkSize) {\n    _classCallCheck(this, StreamSource);\n\n    this._chunkSize = chunkSize;\n    this._buffer = undefined;\n    this._bufferOffset = 0;\n    this._reader = reader;\n    this._done = false;\n  }\n\n  _createClass(StreamSource, [{\n    key: \"slice\",\n    value: function slice(start, end) {\n      if (start < this._bufferOffset) {\n        return Promise.reject(new Error(\"Requested data is before the reader's current offset\"));\n      }\n\n      return this._readUntilEnoughDataOrDone(start, end);\n    }\n  }, {\n    key: \"_readUntilEnoughDataOrDone\",\n    value: function _readUntilEnoughDataOrDone(start, end) {\n      var _this = this;\n\n      var hasEnoughData = end <= this._bufferOffset + len(this._buffer);\n\n      if (this._done || hasEnoughData) {\n        var value = this._getDataFromBuffer(start, end);\n\n        var done = value == null ? this._done : false;\n        return Promise.resolve({\n          value: value,\n          done: done\n        });\n      }\n\n      return this._reader.read().then(function (_ref) {\n        var value = _ref.value,\n            done = _ref.done;\n\n        if (done) {\n          _this._done = true;\n        } else if (_this._buffer === undefined) {\n          _this._buffer = value;\n        } else {\n          _this._buffer = concat(_this._buffer, value);\n        }\n\n        return _this._readUntilEnoughDataOrDone(start, end);\n      });\n    }\n  }, {\n    key: \"_getDataFromBuffer\",\n    value: function _getDataFromBuffer(start, end) {\n      // Remove data from buffer before `start`.\n      // Data might be reread from the buffer if an upload fails, so we can only\n      // safely delete data when it comes *before* what is currently being read.\n      if (start > this._bufferOffset) {\n        this._buffer = this._buffer.slice(start - this._bufferOffset);\n        this._bufferOffset = start;\n      } // If the buffer is empty after removing old data, all data has been read.\n\n\n      var hasAllDataBeenRead = len(this._buffer) === 0;\n\n      if (this._done && hasAllDataBeenRead) {\n        return null;\n      } // We already removed data before `start`, so we just return the first\n      // chunk from the buffer.\n\n\n      return this._buffer.slice(0, end - start);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this._reader.cancel) {\n        this._reader.cancel();\n      }\n    }\n  }]);\n\n  return StreamSource;\n}();\n\nfunction len(blobOrArray) {\n  if (blobOrArray === undefined) return 0;\n  if (blobOrArray.size !== undefined) return blobOrArray.size;\n  return blobOrArray.length;\n}\n/*\n  Typed arrays and blobs don't have a concat method.\n  This function helps StreamSource accumulate data to reach chunkSize.\n*/\n\n\nfunction concat(a, b) {\n  if (a.concat) {\n    // Is `a` an Array?\n    return a.concat(b);\n  }\n\n  if (a instanceof Blob) {\n    return new Blob([a, b], {\n      type: a.type\n    });\n  }\n\n  if (a.set) {\n    // Is `a` a typed array?\n    var c = new a.constructor(a.length + b.length);\n    c.set(a);\n    c.set(b, a.length);\n    return c;\n  }\n\n  throw new Error('Unknown data type');\n}\n\nvar FileReader = /*#__PURE__*/function () {\n  function FileReader() {\n    _classCallCheck(this, FileReader);\n  }\n\n  _createClass(FileReader, [{\n    key: \"openFile\",\n    value: function openFile(input, chunkSize) {\n      // In React Native, when user selects a file, instead of a File or Blob,\n      // you usually get a file object {} with a uri property that contains\n      // a local path to the file. We use XMLHttpRequest to fetch\n      // the file blob, before uploading with tus.\n      if (isReactNative() && input && typeof input.uri !== 'undefined') {\n        return uriToBlob(input.uri).then(function (blob) {\n          return new FileSource(blob);\n        })[\"catch\"](function (err) {\n          throw new Error(\"tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. \".concat(err));\n        });\n      } // Since we emulate the Blob type in our tests (not all target browsers\n      // support it), we cannot use `instanceof` for testing whether the input value\n      // can be handled. Instead, we simply check is the slice() function and the\n      // size property are available.\n\n\n      if (typeof input.slice === 'function' && typeof input.size !== 'undefined') {\n        return Promise.resolve(new FileSource(input));\n      }\n\n      if (typeof input.read === 'function') {\n        chunkSize = +chunkSize;\n\n        if (!isFinite(chunkSize)) {\n          return Promise.reject(new Error('cannot create source for stream without a finite value for the `chunkSize` option'));\n        }\n\n        return Promise.resolve(new StreamSource(input, chunkSize));\n      }\n\n      return Promise.reject(new Error('source object may only be an instance of File, Blob, or Reader in this environment'));\n    }\n  }]);\n\n  return FileReader;\n}();\n\nexport { FileReader as default };","import isReactNative from './isReactNative'; // TODO: Differenciate between input types\n\n/**\n * Generate a fingerprint for a file which will be used the store the endpoint\n *\n * @param {File} file\n * @param {Object} options\n * @param {Function} callback\n */\n\nexport default function fingerprint(file, options) {\n  if (isReactNative()) {\n    return Promise.resolve(reactNativeFingerprint(file, options));\n  }\n\n  return Promise.resolve(['tus-br', file.name, file.type, file.size, file.lastModified, options.endpoint].join('-'));\n}\n\nfunction reactNativeFingerprint(file, options) {\n  var exifHash = file.exif ? hashCode(JSON.stringify(file.exif)) : 'noexif';\n  return ['tus-rn', file.name || 'noname', file.size || 'nosize', exifHash, options.endpoint].join('/');\n}\n\nfunction hashCode(str) {\n  // from https://stackoverflow.com/a/8831937/151666\n  var hash = 0;\n\n  if (str.length === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < str.length; i++) {\n    var _char = str.charCodeAt(i);\n\n    hash = (hash << 5) - hash + _char;\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* global window */\nvar XHRHttpStack = /*#__PURE__*/function () {\n  function XHRHttpStack() {\n    _classCallCheck(this, XHRHttpStack);\n  }\n\n  _createClass(XHRHttpStack, [{\n    key: \"createRequest\",\n    value: function createRequest(method, url) {\n      return new Request(method, url);\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return 'XHRHttpStack';\n    }\n  }]);\n\n  return XHRHttpStack;\n}();\n\nexport { XHRHttpStack as default };\n\nvar Request = /*#__PURE__*/function () {\n  function Request(method, url) {\n    _classCallCheck(this, Request);\n\n    this._xhr = new XMLHttpRequest();\n\n    this._xhr.open(method, url, true);\n\n    this._method = method;\n    this._url = url;\n    this._headers = {};\n  }\n\n  _createClass(Request, [{\n    key: \"getMethod\",\n    value: function getMethod() {\n      return this._method;\n    }\n  }, {\n    key: \"getURL\",\n    value: function getURL() {\n      return this._url;\n    }\n  }, {\n    key: \"setHeader\",\n    value: function setHeader(header, value) {\n      this._xhr.setRequestHeader(header, value);\n\n      this._headers[header] = value;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(header) {\n      return this._headers[header];\n    }\n  }, {\n    key: \"setProgressHandler\",\n    value: function setProgressHandler(progressHandler) {\n      // Test support for progress events before attaching an event listener\n      if (!('upload' in this._xhr)) {\n        return;\n      }\n\n      this._xhr.upload.onprogress = function (e) {\n        if (!e.lengthComputable) {\n          return;\n        }\n\n        progressHandler(e.loaded);\n      };\n    }\n  }, {\n    key: \"send\",\n    value: function send() {\n      var _this = this;\n\n      var body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      return new Promise(function (resolve, reject) {\n        _this._xhr.onload = function () {\n          resolve(new Response(_this._xhr));\n        };\n\n        _this._xhr.onerror = function (err) {\n          reject(err);\n        };\n\n        _this._xhr.send(body);\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._xhr.abort();\n\n      return Promise.resolve();\n    }\n  }, {\n    key: \"getUnderlyingObject\",\n    value: function getUnderlyingObject() {\n      return this._xhr;\n    }\n  }]);\n\n  return Request;\n}();\n\nvar Response = /*#__PURE__*/function () {\n  function Response(xhr) {\n    _classCallCheck(this, Response);\n\n    this._xhr = xhr;\n  }\n\n  _createClass(Response, [{\n    key: \"getStatus\",\n    value: function getStatus() {\n      return this._xhr.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(header) {\n      return this._xhr.getResponseHeader(header);\n    }\n  }, {\n    key: \"getBody\",\n    value: function getBody() {\n      return this._xhr.responseText;\n    }\n  }, {\n    key: \"getUnderlyingObject\",\n    value: function getUnderlyingObject() {\n      return this._xhr;\n    }\n  }]);\n\n  return Response;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* global window */\nimport BaseUpload from '../upload';\nimport NoopUrlStorage from '../noopUrlStorage';\nimport { enableDebugLog } from '../logger';\nimport { canStoreURLs, WebStorageUrlStorage } from './urlStorage';\nimport HttpStack from './httpStack';\nimport FileReader from './fileReader';\nimport fingerprint from './fingerprint';\n\nvar defaultOptions = _objectSpread({}, BaseUpload.defaultOptions, {\n  httpStack: new HttpStack(),\n  fileReader: new FileReader(),\n  urlStorage: canStoreURLs ? new WebStorageUrlStorage() : new NoopUrlStorage(),\n  fingerprint: fingerprint\n});\n\nvar Upload = /*#__PURE__*/function (_BaseUpload) {\n  _inherits(Upload, _BaseUpload);\n\n  var _super = _createSuper(Upload);\n\n  function Upload() {\n    var file = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Upload);\n\n    options = _objectSpread({}, defaultOptions, {}, options);\n    return _super.call(this, file, options);\n  }\n\n  _createClass(Upload, null, [{\n    key: \"terminate\",\n    value: function terminate(url, options, cb) {\n      options = _objectSpread({}, defaultOptions, {}, options);\n      return BaseUpload.terminate(url, options, cb);\n    }\n  }]);\n\n  return Upload;\n}(BaseUpload);\n\nvar _window = window,\n    XMLHttpRequest = _window.XMLHttpRequest,\n    Blob = _window.Blob;\nvar isSupported = XMLHttpRequest && Blob && typeof Blob.prototype.slice === 'function';\nexport { Upload, canStoreURLs, defaultOptions, isSupported, enableDebugLog, HttpStack };","var isCordova = function isCordova() {\n  return typeof window != 'undefined' && (typeof window.PhoneGap != 'undefined' || typeof window.Cordova != 'undefined' || typeof window.cordova != 'undefined');\n};\n\nexport default isCordova;","var isReactNative = function isReactNative() {\n  return typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative';\n};\n\nexport default isReactNative;","/**\n * readAsByteArray converts a File object to a Uint8Array.\n * This function is only used on the Apache Cordova platform.\n * See https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-file/index.html#read-a-file\n */\nexport default function readAsByteArray(chunk) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      var value = new Uint8Array(reader.result);\n      resolve({\n        value: value\n      });\n    };\n\n    reader.onerror = function (err) {\n      reject(err);\n    };\n\n    reader.readAsArrayBuffer(chunk);\n  });\n}","/**\n * uriToBlob resolves a URI to a Blob object. This is used for\n * React Native to retrieve a file (identified by a file://\n * URI) as a blob.\n */\nexport default function uriToBlob(uri) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.responseType = 'blob';\n\n    xhr.onload = function () {\n      var blob = xhr.response;\n      resolve(blob);\n    };\n\n    xhr.onerror = function (err) {\n      reject(err);\n    };\n\n    xhr.open('GET', uri);\n    xhr.send();\n  });\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* global window, localStorage */\nvar hasStorage = false;\n\ntry {\n  hasStorage = 'localStorage' in window; // Attempt to store and read entries from the local storage to detect Private\n  // Mode on Safari on iOS (see #49)\n\n  var key = 'tusSupport';\n  localStorage.setItem(key, localStorage.getItem(key));\n} catch (e) {\n  // If we try to access localStorage inside a sandboxed iframe, a SecurityError\n  // is thrown. When in private mode on iOS Safari, a QuotaExceededError is\n  // thrown (see #49)\n  if (e.code === e.SECURITY_ERR || e.code === e.QUOTA_EXCEEDED_ERR) {\n    hasStorage = false;\n  } else {\n    throw e;\n  }\n}\n\nexport var canStoreURLs = hasStorage;\nexport var WebStorageUrlStorage = /*#__PURE__*/function () {\n  function WebStorageUrlStorage() {\n    _classCallCheck(this, WebStorageUrlStorage);\n  }\n\n  _createClass(WebStorageUrlStorage, [{\n    key: \"findAllUploads\",\n    value: function findAllUploads() {\n      var results = this._findEntries('tus::');\n\n      return Promise.resolve(results);\n    }\n  }, {\n    key: \"findUploadsByFingerprint\",\n    value: function findUploadsByFingerprint(fingerprint) {\n      var results = this._findEntries(\"tus::\".concat(fingerprint, \"::\"));\n\n      return Promise.resolve(results);\n    }\n  }, {\n    key: \"removeUpload\",\n    value: function removeUpload(urlStorageKey) {\n      localStorage.removeItem(urlStorageKey);\n      return Promise.resolve();\n    }\n  }, {\n    key: \"addUpload\",\n    value: function addUpload(fingerprint, upload) {\n      var id = Math.round(Math.random() * 1e12);\n      var key = \"tus::\".concat(fingerprint, \"::\").concat(id);\n      localStorage.setItem(key, JSON.stringify(upload));\n      return Promise.resolve(key);\n    }\n  }, {\n    key: \"_findEntries\",\n    value: function _findEntries(prefix) {\n      var results = [];\n\n      for (var i = 0; i < localStorage.length; i++) {\n        var _key = localStorage.key(i);\n\n        if (_key.indexOf(prefix) !== 0) continue;\n\n        try {\n          var upload = JSON.parse(localStorage.getItem(_key));\n          upload.urlStorageKey = _key;\n          results.push(upload);\n        } catch (e) {// The JSON parse error is intentionally ignored here, so a malformed\n          // entry in the storage cannot prevent an upload.\n        }\n      }\n\n      return results;\n    }\n  }]);\n\n  return WebStorageUrlStorage;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar DetailedError = /*#__PURE__*/function (_Error) {\n  _inherits(DetailedError, _Error);\n\n  var _super = _createSuper(DetailedError);\n\n  function DetailedError(message) {\n    var _this;\n\n    var causingErr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var req = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var res = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, DetailedError);\n\n    _this = _super.call(this, message);\n    _this.originalRequest = req;\n    _this.originalResponse = res;\n    _this.causingError = causingErr;\n\n    if (causingErr != null) {\n      message += \", caused by \".concat(causingErr.toString());\n    }\n\n    if (req != null) {\n      var requestId = req.getHeader('X-Request-ID') || 'n/a';\n      var method = req.getMethod();\n      var url = req.getURL();\n      var status = res ? res.getStatus() : 'n/a';\n      var body = res ? res.getBody() || '' : 'n/a';\n      message += \", originated from request (method: \".concat(method, \", url: \").concat(url, \", response code: \").concat(status, \", response text: \").concat(body, \", request id: \").concat(requestId, \")\");\n    }\n\n    _this.message = message;\n    return _this;\n  }\n\n  return DetailedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nexport default DetailedError;","/* eslint no-console: \"off\" */\nvar isEnabled = false;\nexport function enableDebugLog() {\n  isEnabled = true;\n}\nexport function log(msg) {\n  if (!isEnabled) return;\n  console.log(msg);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* eslint no-unused-vars: \"off\" */\nvar NoopUrlStorage = /*#__PURE__*/function () {\n  function NoopUrlStorage() {\n    _classCallCheck(this, NoopUrlStorage);\n  }\n\n  _createClass(NoopUrlStorage, [{\n    key: \"listAllUploads\",\n    value: function listAllUploads() {\n      return Promise.resolve([]);\n    }\n  }, {\n    key: \"findUploadsByFingerprint\",\n    value: function findUploadsByFingerprint(fingerprint) {\n      return Promise.resolve([]);\n    }\n  }, {\n    key: \"removeUpload\",\n    value: function removeUpload(urlStorageKey) {\n      return Promise.resolve();\n    }\n  }, {\n    key: \"addUpload\",\n    value: function addUpload(fingerprint, upload) {\n      return Promise.resolve(null);\n    }\n  }]);\n\n  return NoopUrlStorage;\n}();\n\nexport { NoopUrlStorage as default };","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* global window */\nimport { Base64 } from 'js-base64';\nimport URL from 'url-parse';\nimport DetailedError from './error';\nimport { log } from './logger';\nimport uuid from './uuid';\nvar defaultOptions = {\n  endpoint: null,\n  uploadUrl: null,\n  metadata: {},\n  fingerprint: null,\n  uploadSize: null,\n  onProgress: null,\n  onChunkComplete: null,\n  onSuccess: null,\n  onError: null,\n  _onUploadUrlAvailable: null,\n  overridePatchMethod: false,\n  headers: {},\n  addRequestId: false,\n  onBeforeRequest: null,\n  onAfterResponse: null,\n  onShouldRetry: null,\n  chunkSize: Infinity,\n  retryDelays: [0, 1000, 3000, 5000],\n  parallelUploads: 1,\n  storeFingerprintForResuming: true,\n  removeFingerprintOnSuccess: false,\n  uploadLengthDeferred: false,\n  uploadDataDuringCreation: false,\n  urlStorage: null,\n  fileReader: null,\n  httpStack: null\n};\n\nvar BaseUpload = /*#__PURE__*/function () {\n  function BaseUpload(file, options) {\n    _classCallCheck(this, BaseUpload);\n\n    // Warn about removed options from previous versions\n    if ('resume' in options) {\n      console.log('tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead.'); // eslint-disable-line no-console\n    } // The default options will already be added from the wrapper classes.\n\n\n    this.options = options; // The storage module used to store URLs\n\n    this._urlStorage = this.options.urlStorage; // The underlying File/Blob object\n\n    this.file = file; // The URL against which the file will be uploaded\n\n    this.url = null; // The underlying request object for the current PATCH request\n\n    this._req = null; // The fingerpinrt for the current file (set after start())\n\n    this._fingerprint = null; // The key that the URL storage returned when saving an URL with a fingerprint,\n\n    this._urlStorageKey = null; // The offset used in the current PATCH request\n\n    this._offset = null; // True if the current PATCH request has been aborted\n\n    this._aborted = false; // The file's size in bytes\n\n    this._size = null; // The Source object which will wrap around the given file and provides us\n    // with a unified interface for getting its size and slice chunks from its\n    // content allowing us to easily handle Files, Blobs, Buffers and Streams.\n\n    this._source = null; // The current count of attempts which have been made. Zero indicates none.\n\n    this._retryAttempt = 0; // The timeout's ID which is used to delay the next retry\n\n    this._retryTimeout = null; // The offset of the remote upload before the latest attempt was started.\n\n    this._offsetBeforeRetry = 0; // An array of BaseUpload instances which are used for uploading the different\n    // parts, if the parallelUploads option is used.\n\n    this._parallelUploads = null; // An array of upload URLs which are used for uploading the different\n    // parts, if the parallelUploads option is used.\n\n    this._parallelUploadUrls = null;\n  }\n  /**\n   * Use the Termination extension to delete an upload from the server by sending a DELETE\n   * request to the specified upload URL. This is only possible if the server supports the\n   * Termination extension. If the `options.retryDelays` property is set, the method will\n   * also retry if an error ocurrs.\n   *\n   * @param {String} url The upload's URL which will be terminated.\n   * @param {object} options Optional options for influencing HTTP requests.\n   * @return {Promise} The Promise will be resolved/rejected when the requests finish.\n   */\n\n\n  _createClass(BaseUpload, [{\n    key: \"findPreviousUploads\",\n    value: function findPreviousUploads() {\n      var _this = this;\n\n      return this.options.fingerprint(this.file, this.options).then(function (fingerprint) {\n        return _this._urlStorage.findUploadsByFingerprint(fingerprint);\n      });\n    }\n  }, {\n    key: \"resumeFromPreviousUpload\",\n    value: function resumeFromPreviousUpload(previousUpload) {\n      this.url = previousUpload.uploadUrl || null;\n      this._parallelUploadUrls = previousUpload.parallelUploadUrls || null;\n      this._urlStorageKey = previousUpload.urlStorageKey;\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this2 = this;\n\n      var file = this.file;\n\n      if (!file) {\n        this._emitError(new Error('tus: no file or stream to upload provided'));\n\n        return;\n      }\n\n      if (!this.options.endpoint && !this.options.uploadUrl) {\n        this._emitError(new Error('tus: neither an endpoint or an upload URL is provided'));\n\n        return;\n      }\n\n      var retryDelays = this.options.retryDelays;\n\n      if (retryDelays != null && Object.prototype.toString.call(retryDelays) !== '[object Array]') {\n        this._emitError(new Error('tus: the `retryDelays` option must either be an array or null'));\n\n        return;\n      }\n\n      if (this.options.parallelUploads > 1) {\n        // Test which options are incompatible with parallel uploads.\n        ['uploadUrl', 'uploadSize', 'uploadLengthDeferred'].forEach(function (optionName) {\n          if (_this2.options[optionName]) {\n            _this2._emitError(new Error(\"tus: cannot use the \".concat(optionName, \" option when parallelUploads is enabled\")));\n          }\n        });\n      }\n\n      this.options.fingerprint(file, this.options).then(function (fingerprint) {\n        if (fingerprint == null) {\n          log('No fingerprint was calculated meaning that the upload cannot be stored in the URL storage.');\n        } else {\n          log(\"Calculated fingerprint: \".concat(fingerprint));\n        }\n\n        _this2._fingerprint = fingerprint;\n\n        if (_this2._source) {\n          return _this2._source;\n        }\n\n        return _this2.options.fileReader.openFile(file, _this2.options.chunkSize);\n      }).then(function (source) {\n        _this2._source = source; // If the upload was configured to use multiple requests or if we resume from\n        // an upload which used multiple requests, we start a parallel upload.\n\n        if (_this2.options.parallelUploads > 1 || _this2._parallelUploadUrls != null) {\n          _this2._startParallelUpload();\n        } else {\n          _this2._startSingleUpload();\n        }\n      })[\"catch\"](function (err) {\n        _this2._emitError(err);\n      });\n    }\n    /**\n     * Initiate the uploading procedure for a parallelized upload, where one file is split into\n     * multiple request which are run in parallel.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_startParallelUpload\",\n    value: function _startParallelUpload() {\n      var _this3 = this;\n\n      var totalSize = this._size = this._source.size;\n      var totalProgress = 0;\n      this._parallelUploads = [];\n      var partCount = this._parallelUploadUrls != null ? this._parallelUploadUrls.length : this.options.parallelUploads; // The input file will be split into multiple slices which are uploaded in separate\n      // requests. Here we generate the start and end position for the slices.\n\n      var parts = splitSizeIntoParts(this._source.size, partCount, this._parallelUploadUrls); // Create an empty list for storing the upload URLs\n\n      this._parallelUploadUrls = new Array(parts.length); // Generate a promise for each slice that will be resolve if the respective\n      // upload is completed.\n\n      var uploads = parts.map(function (part, index) {\n        var lastPartProgress = 0;\n        return _this3._source.slice(part.start, part.end).then(function (_ref) {\n          var value = _ref.value;\n          return new Promise(function (resolve, reject) {\n            // Merge with the user supplied options but overwrite some values.\n            var options = _objectSpread({}, _this3.options, {\n              // If available, the partial upload should be resumed from a previous URL.\n              uploadUrl: part.uploadUrl || null,\n              // We take manually care of resuming for partial uploads, so they should\n              // not be stored in the URL storage.\n              storeFingerprintForResuming: false,\n              removeFingerprintOnSuccess: false,\n              // Reset the parallelUploads option to not cause recursion.\n              parallelUploads: 1,\n              metadata: {},\n              // Add the header to indicate the this is a partial upload.\n              headers: _objectSpread({}, _this3.options.headers, {\n                'Upload-Concat': 'partial'\n              }),\n              // Reject or resolve the promise if the upload errors or completes.\n              onSuccess: resolve,\n              onError: reject,\n              // Based in the progress for this partial upload, calculate the progress\n              // for the entire final upload.\n              onProgress: function onProgress(newPartProgress) {\n                totalProgress = totalProgress - lastPartProgress + newPartProgress;\n                lastPartProgress = newPartProgress;\n\n                _this3._emitProgress(totalProgress, totalSize);\n              },\n              // Wait until every partial upload has an upload URL, so we can add\n              // them to the URL storage.\n              _onUploadUrlAvailable: function _onUploadUrlAvailable() {\n                _this3._parallelUploadUrls[index] = upload.url; // Test if all uploads have received an URL\n\n                if (_this3._parallelUploadUrls.filter(function (u) {\n                  return !!u;\n                }).length === parts.length) {\n                  _this3._saveUploadInUrlStorage();\n                }\n              }\n            });\n\n            var upload = new BaseUpload(value, options);\n            upload.start(); // Store the upload in an array, so we can later abort them if necessary.\n\n            _this3._parallelUploads.push(upload);\n          });\n        });\n      });\n      var req; // Wait until all partial uploads are finished and we can send the POST request for\n      // creating the final upload.\n\n      Promise.all(uploads).then(function () {\n        req = _this3._openRequest('POST', _this3.options.endpoint);\n        req.setHeader('Upload-Concat', \"final;\".concat(_this3._parallelUploadUrls.join(' '))); // Add metadata if values have been added\n\n        var metadata = encodeMetadata(_this3.options.metadata);\n\n        if (metadata !== '') {\n          req.setHeader('Upload-Metadata', metadata);\n        }\n\n        return _this3._sendRequest(req, null);\n      }).then(function (res) {\n        if (!inStatusCategory(res.getStatus(), 200)) {\n          _this3._emitHttpError(req, res, 'tus: unexpected response while creating upload');\n\n          return;\n        }\n\n        var location = res.getHeader('Location');\n\n        if (location == null) {\n          _this3._emitHttpError(req, res, 'tus: invalid or missing Location header');\n\n          return;\n        }\n\n        _this3.url = resolveUrl(_this3.options.endpoint, location);\n        log(\"Created upload at \".concat(_this3.url));\n\n        _this3._emitSuccess();\n      })[\"catch\"](function (err) {\n        _this3._emitError(err);\n      });\n    }\n    /**\n     * Initiate the uploading procedure for a non-parallel upload. Here the entire file is\n     * uploaded in a sequential matter.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_startSingleUpload\",\n    value: function _startSingleUpload() {\n      // First, we look at the uploadLengthDeferred option.\n      // Next, we check if the caller has supplied a manual upload size.\n      // Finally, we try to use the calculated size from the source object.\n      if (this.options.uploadLengthDeferred) {\n        this._size = null;\n      } else if (this.options.uploadSize != null) {\n        this._size = +this.options.uploadSize;\n\n        if (isNaN(this._size)) {\n          this._emitError(new Error('tus: cannot convert `uploadSize` option into a number'));\n\n          return;\n        }\n      } else {\n        this._size = this._source.size;\n\n        if (this._size == null) {\n          this._emitError(new Error(\"tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option\"));\n\n          return;\n        }\n      } // Reset the aborted flag when the upload is started or else the\n      // _performUpload will stop before sending a request if the upload has been\n      // aborted previously.\n\n\n      this._aborted = false; // The upload had been started previously and we should reuse this URL.\n\n      if (this.url != null) {\n        log(\"Resuming upload from previous URL: \".concat(this.url));\n\n        this._resumeUpload();\n\n        return;\n      } // A URL has manually been specified, so we try to resume\n\n\n      if (this.options.uploadUrl != null) {\n        log(\"Resuming upload from provided URL: \".concat(this.options.url));\n        this.url = this.options.uploadUrl;\n\n        this._resumeUpload();\n\n        return;\n      } // An upload has not started for the file yet, so we start a new one\n\n\n      log('Creating a new upload');\n\n      this._createUpload();\n    }\n    /**\n     * Abort any running request and stop the current upload. After abort is called, no event\n     * handler will be invoked anymore. You can use the `start` method to resume the upload\n     * again.\n     * If `shouldTerminate` is true, the `terminate` function will be called to remove the\n     * current upload from the server.\n     *\n     * @param {boolean} shouldTerminate True if the upload should be deleted from the server.\n     * @return {Promise} The Promise will be resolved/rejected when the requests finish.\n     */\n\n  }, {\n    key: \"abort\",\n    value: function abort(shouldTerminate) {\n      var _this4 = this;\n\n      // Count the number of arguments to see if a callback is being provided in the old style required by tus-js-client 1.x, then throw an error if it is.\n      // `arguments` is a JavaScript built-in variable that contains all of the function's arguments.\n      if (arguments.length > 1 && typeof arguments[1] === 'function') {\n        throw new Error('tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead');\n      } // Stop any parallel partial uploads, that have been started in _startParallelUploads.\n\n\n      if (this._parallelUploads != null) {\n        this._parallelUploads.forEach(function (upload) {\n          upload.abort(shouldTerminate);\n        });\n      } // Stop any current running request.\n\n\n      if (this._req !== null) {\n        this._req.abort();\n\n        this._source.close();\n      }\n\n      this._aborted = true; // Stop any timeout used for initiating a retry.\n\n      if (this._retryTimeout != null) {\n        clearTimeout(this._retryTimeout);\n        this._retryTimeout = null;\n      }\n\n      if (!shouldTerminate || this.url == null) {\n        return Promise.resolve();\n      }\n\n      return BaseUpload.terminate(this.url, this.options) // Remove entry from the URL storage since the upload URL is no longer valid.\n      .then(function () {\n        return _this4._removeFromUrlStorage();\n      });\n    }\n  }, {\n    key: \"_emitHttpError\",\n    value: function _emitHttpError(req, res, message, causingErr) {\n      this._emitError(new DetailedError(message, causingErr, req, res));\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(err) {\n      var _this5 = this;\n\n      // Do not emit errors, e.g. from aborted HTTP requests, if the upload has been stopped.\n      if (this._aborted) return; // Check if we should retry, when enabled, before sending the error to the user.\n\n      if (this.options.retryDelays != null) {\n        // We will reset the attempt counter if\n        // - we were already able to connect to the server (offset != null) and\n        // - we were able to upload a small chunk of data to the server\n        var shouldResetDelays = this._offset != null && this._offset > this._offsetBeforeRetry;\n\n        if (shouldResetDelays) {\n          this._retryAttempt = 0;\n        }\n\n        if (shouldRetry(err, this._retryAttempt, this.options)) {\n          var delay = this.options.retryDelays[this._retryAttempt++];\n          this._offsetBeforeRetry = this._offset;\n          this._retryTimeout = setTimeout(function () {\n            _this5.start();\n          }, delay);\n          return;\n        }\n      }\n\n      if (typeof this.options.onError === 'function') {\n        this.options.onError(err);\n      } else {\n        throw err;\n      }\n    }\n    /**\n     * Publishes notification if the upload has been successfully completed.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_emitSuccess\",\n    value: function _emitSuccess() {\n      if (this.options.removeFingerprintOnSuccess) {\n        // Remove stored fingerprint and corresponding endpoint. This causes\n        // new uploads of the same file to be treated as a different file.\n        this._removeFromUrlStorage();\n      }\n\n      if (typeof this.options.onSuccess === 'function') {\n        this.options.onSuccess();\n      }\n    }\n    /**\n     * Publishes notification when data has been sent to the server. This\n     * data may not have been accepted by the server yet.\n     *\n     * @param {number} bytesSent  Number of bytes sent to the server.\n     * @param {number} bytesTotal Total number of bytes to be sent to the server.\n     * @api private\n     */\n\n  }, {\n    key: \"_emitProgress\",\n    value: function _emitProgress(bytesSent, bytesTotal) {\n      if (typeof this.options.onProgress === 'function') {\n        this.options.onProgress(bytesSent, bytesTotal);\n      }\n    }\n    /**\n     * Publishes notification when a chunk of data has been sent to the server\n     * and accepted by the server.\n     * @param {number} chunkSize  Size of the chunk that was accepted by the server.\n     * @param {number} bytesAccepted Total number of bytes that have been\n     *                                accepted by the server.\n     * @param {number} bytesTotal Total number of bytes to be sent to the server.\n     * @api private\n     */\n\n  }, {\n    key: \"_emitChunkComplete\",\n    value: function _emitChunkComplete(chunkSize, bytesAccepted, bytesTotal) {\n      if (typeof this.options.onChunkComplete === 'function') {\n        this.options.onChunkComplete(chunkSize, bytesAccepted, bytesTotal);\n      }\n    }\n    /**\n     * Create a new upload using the creation extension by sending a POST\n     * request to the endpoint. After successful creation the file will be\n     * uploaded\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_createUpload\",\n    value: function _createUpload() {\n      var _this6 = this;\n\n      if (!this.options.endpoint) {\n        this._emitError(new Error('tus: unable to create upload because no endpoint is provided'));\n\n        return;\n      }\n\n      var req = this._openRequest('POST', this.options.endpoint);\n\n      if (this.options.uploadLengthDeferred) {\n        req.setHeader('Upload-Defer-Length', 1);\n      } else {\n        req.setHeader('Upload-Length', this._size);\n      } // Add metadata if values have been added\n\n\n      var metadata = encodeMetadata(this.options.metadata);\n\n      if (metadata !== '') {\n        req.setHeader('Upload-Metadata', metadata);\n      }\n\n      var promise;\n\n      if (this.options.uploadDataDuringCreation && !this.options.uploadLengthDeferred) {\n        this._offset = 0;\n        promise = this._addChunkToRequest(req);\n      } else {\n        promise = this._sendRequest(req, null);\n      }\n\n      promise.then(function (res) {\n        if (!inStatusCategory(res.getStatus(), 200)) {\n          _this6._emitHttpError(req, res, 'tus: unexpected response while creating upload');\n\n          return;\n        }\n\n        var location = res.getHeader('Location');\n\n        if (location == null) {\n          _this6._emitHttpError(req, res, 'tus: invalid or missing Location header');\n\n          return;\n        }\n\n        _this6.url = resolveUrl(_this6.options.endpoint, location);\n        log(\"Created upload at \".concat(_this6.url));\n\n        if (typeof _this6.options._onUploadUrlAvailable === 'function') {\n          _this6.options._onUploadUrlAvailable();\n        }\n\n        if (_this6._size === 0) {\n          // Nothing to upload and file was successfully created\n          _this6._emitSuccess();\n\n          _this6._source.close();\n\n          return;\n        }\n\n        _this6._saveUploadInUrlStorage();\n\n        if (_this6.options.uploadDataDuringCreation) {\n          _this6._handleUploadResponse(req, res);\n        } else {\n          _this6._offset = 0;\n\n          _this6._performUpload();\n        }\n      })[\"catch\"](function (err) {\n        _this6._emitHttpError(req, null, 'tus: failed to create upload', err);\n      });\n    }\n    /*\n     * Try to resume an existing upload. First a HEAD request will be sent\n     * to retrieve the offset. If the request fails a new upload will be\n     * created. In the case of a successful response the file will be uploaded.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_resumeUpload\",\n    value: function _resumeUpload() {\n      var _this7 = this;\n\n      var req = this._openRequest('HEAD', this.url);\n\n      var promise = this._sendRequest(req, null);\n\n      promise.then(function (res) {\n        var status = res.getStatus();\n\n        if (!inStatusCategory(status, 200)) {\n          if (inStatusCategory(status, 400)) {\n            // Remove stored fingerprint and corresponding endpoint,\n            // on client errors since the file can not be found\n            _this7._removeFromUrlStorage();\n          } // If the upload is locked (indicated by the 423 Locked status code), we\n          // emit an error instead of directly starting a new upload. This way the\n          // retry logic can catch the error and will retry the upload. An upload\n          // is usually locked for a short period of time and will be available\n          // afterwards.\n\n\n          if (status === 423) {\n            _this7._emitHttpError(req, res, 'tus: upload is currently locked; retry later');\n\n            return;\n          }\n\n          if (!_this7.options.endpoint) {\n            // Don't attempt to create a new upload if no endpoint is provided.\n            _this7._emitHttpError(req, res, 'tus: unable to resume upload (new upload cannot be created without an endpoint)');\n\n            return;\n          } // Try to create a new upload\n\n\n          _this7.url = null;\n\n          _this7._createUpload();\n\n          return;\n        }\n\n        var offset = parseInt(res.getHeader('Upload-Offset'), 10);\n\n        if (isNaN(offset)) {\n          _this7._emitHttpError(req, res, 'tus: invalid or missing offset value');\n\n          return;\n        }\n\n        var length = parseInt(res.getHeader('Upload-Length'), 10);\n\n        if (isNaN(length) && !_this7.options.uploadLengthDeferred) {\n          _this7._emitHttpError(req, res, 'tus: invalid or missing length value');\n\n          return;\n        }\n\n        if (typeof _this7.options._onUploadUrlAvailable === 'function') {\n          _this7.options._onUploadUrlAvailable();\n        } // Upload has already been completed and we do not need to send additional\n        // data to the server\n\n\n        if (offset === length) {\n          _this7._emitProgress(length, length);\n\n          _this7._emitSuccess();\n\n          return;\n        }\n\n        _this7._offset = offset;\n\n        _this7._performUpload();\n      })[\"catch\"](function (err) {\n        _this7._emitHttpError(req, null, 'tus: failed to resume upload', err);\n      });\n    }\n    /**\n     * Start uploading the file using PATCH requests. The file will be divided\n     * into chunks as specified in the chunkSize option. During the upload\n     * the onProgress event handler may be invoked multiple times.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_performUpload\",\n    value: function _performUpload() {\n      var _this8 = this;\n\n      // If the upload has been aborted, we will not send the next PATCH request.\n      // This is important if the abort method was called during a callback, such\n      // as onChunkComplete or onProgress.\n      if (this._aborted) {\n        return;\n      }\n\n      var req; // Some browser and servers may not support the PATCH method. For those\n      // cases, you can tell tus-js-client to use a POST request with the\n      // X-HTTP-Method-Override header for simulating a PATCH request.\n\n      if (this.options.overridePatchMethod) {\n        req = this._openRequest('POST', this.url);\n        req.setHeader('X-HTTP-Method-Override', 'PATCH');\n      } else {\n        req = this._openRequest('PATCH', this.url);\n      }\n\n      req.setHeader('Upload-Offset', this._offset);\n\n      var promise = this._addChunkToRequest(req);\n\n      promise.then(function (res) {\n        if (!inStatusCategory(res.getStatus(), 200)) {\n          _this8._emitHttpError(req, res, 'tus: unexpected response while uploading chunk');\n\n          return;\n        }\n\n        _this8._handleUploadResponse(req, res);\n      })[\"catch\"](function (err) {\n        // Don't emit an error if the upload was aborted manually\n        if (_this8._aborted) {\n          return;\n        }\n\n        _this8._emitHttpError(req, null, \"tus: failed to upload chunk at offset \".concat(_this8._offset), err);\n      });\n    }\n    /**\n     * _addChunktoRequest reads a chunk from the source and sends it using the\n     * supplied request object. It will not handle the response.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_addChunkToRequest\",\n    value: function _addChunkToRequest(req) {\n      var _this9 = this;\n\n      var start = this._offset;\n      var end = this._offset + this.options.chunkSize;\n      req.setProgressHandler(function (bytesSent) {\n        _this9._emitProgress(start + bytesSent, _this9._size);\n      });\n      req.setHeader('Content-Type', 'application/offset+octet-stream'); // The specified chunkSize may be Infinity or the calcluated end position\n      // may exceed the file's size. In both cases, we limit the end position to\n      // the input's total size for simpler calculations and correctness.\n\n      if ((end === Infinity || end > this._size) && !this.options.uploadLengthDeferred) {\n        end = this._size;\n      }\n\n      return this._source.slice(start, end).then(function (_ref2) {\n        var value = _ref2.value,\n            done = _ref2.done;\n\n        // If the upload length is deferred, the upload size was not specified during\n        // upload creation. So, if the file reader is done reading, we know the total\n        // upload size and can tell the tus server.\n        if (_this9.options.uploadLengthDeferred && done) {\n          _this9._size = _this9._offset + (value && value.size ? value.size : 0);\n          req.setHeader('Upload-Length', _this9._size);\n        }\n\n        if (value === null) {\n          return _this9._sendRequest(req);\n        }\n\n        _this9._emitProgress(_this9._offset, _this9._size);\n\n        return _this9._sendRequest(req, value);\n      });\n    }\n    /**\n     * _handleUploadResponse is used by requests that haven been sent using _addChunkToRequest\n     * and already have received a response.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_handleUploadResponse\",\n    value: function _handleUploadResponse(req, res) {\n      var offset = parseInt(res.getHeader('Upload-Offset'), 10);\n\n      if (isNaN(offset)) {\n        this._emitHttpError(req, res, 'tus: invalid or missing offset value');\n\n        return;\n      }\n\n      this._emitProgress(offset, this._size);\n\n      this._emitChunkComplete(offset - this._offset, offset, this._size);\n\n      this._offset = offset;\n\n      if (offset == this._size) {\n        // Yay, finally done :)\n        this._emitSuccess();\n\n        this._source.close();\n\n        return;\n      }\n\n      this._performUpload();\n    }\n    /**\n     * Create a new HTTP request object with the given method and URL.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_openRequest\",\n    value: function _openRequest(method, url) {\n      var req = openRequest(method, url, this.options);\n      this._req = req;\n      return req;\n    }\n    /**\n     * Remove the entry in the URL storage, if it has been saved before.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_removeFromUrlStorage\",\n    value: function _removeFromUrlStorage() {\n      var _this10 = this;\n\n      if (!this._urlStorageKey) return;\n\n      this._urlStorage.removeUpload(this._urlStorageKey)[\"catch\"](function (err) {\n        _this10._emitError(err);\n      });\n\n      this._urlStorageKey = null;\n    }\n    /**\n     * Add the upload URL to the URL storage, if possible.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_saveUploadInUrlStorage\",\n    value: function _saveUploadInUrlStorage() {\n      var _this11 = this;\n\n      // Only if a fingerprint was calculated for the input (i.e. not a stream), we can store the upload URL.\n      if (!this.options.storeFingerprintForResuming || !this._fingerprint) {\n        return;\n      }\n\n      var storedUpload = {\n        size: this._size,\n        metadata: this.options.metadata,\n        creationTime: new Date().toString()\n      };\n\n      if (this._parallelUploads) {\n        // Save multiple URLs if the parallelUploads option is used ...\n        storedUpload.parallelUploadUrls = this._parallelUploadUrls;\n      } else {\n        // ... otherwise we just save the one available URL.\n        storedUpload.uploadUrl = this.url;\n      }\n\n      this._urlStorage.addUpload(this._fingerprint, storedUpload).then(function (urlStorageKey) {\n        return _this11._urlStorageKey = urlStorageKey;\n      })[\"catch\"](function (err) {\n        _this11._emitError(err);\n      });\n    }\n    /**\n     * Send a request with the provided body.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_sendRequest\",\n    value: function _sendRequest(req) {\n      var body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      return sendRequest(req, body, this.options);\n    }\n  }], [{\n    key: \"terminate\",\n    value: function terminate(url, options) {\n      // Count the number of arguments to see if a callback is being provided as the last\n      // argument in the old style required by tus-js-client 1.x, then throw an error if it is.\n      // `arguments` is a JavaScript built-in variable that contains all of the function's arguments.\n      if (arguments.length > 1 && typeof arguments[arguments.length - 1] === 'function') {\n        throw new Error('tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead');\n      } // Note that in order for the trick above to work, a default value cannot be set for `options`,\n      // so the check below replaces the old default `{}`.\n\n\n      if (options === undefined) {\n        options = {};\n      }\n\n      var req = openRequest('DELETE', url, options);\n      return sendRequest(req, null, options).then(function (res) {\n        // A 204 response indicates a successfull request\n        if (res.getStatus() === 204) {\n          return;\n        }\n\n        throw new DetailedError('tus: unexpected response while terminating upload', null, req, res);\n      })[\"catch\"](function (err) {\n        if (!(err instanceof DetailedError)) {\n          err = new DetailedError('tus: failed to terminate upload', err, req, null);\n        }\n\n        if (!shouldRetry(err, 0, options)) {\n          throw err;\n        } // Instead of keeping track of the retry attempts, we remove the first element from the delays\n        // array. If the array is empty, all retry attempts are used up and we will bubble up the error.\n        // We recursively call the terminate function will removing elements from the retryDelays array.\n\n\n        var delay = options.retryDelays[0];\n        var remainingDelays = options.retryDelays.slice(1);\n\n        var newOptions = _objectSpread({}, options, {\n          retryDelays: remainingDelays\n        });\n\n        return new Promise(function (resolve) {\n          return setTimeout(resolve, delay);\n        }).then(function () {\n          return BaseUpload.terminate(url, newOptions);\n        });\n      });\n    }\n  }]);\n\n  return BaseUpload;\n}();\n\nfunction encodeMetadata(metadata) {\n  var encoded = [];\n\n  for (var key in metadata) {\n    encoded.push(\"\".concat(key, \" \").concat(Base64.encode(metadata[key])));\n  }\n\n  return encoded.join(',');\n}\n/**\n * Checks whether a given status is in the range of the expected category.\n * For example, only a status between 200 and 299 will satisfy the category 200.\n *\n * @api private\n */\n\n\nfunction inStatusCategory(status, category) {\n  return status >= category && status < category + 100;\n}\n/**\n * Create a new HTTP request with the specified method and URL.\n * The necessary headers that are included in every request\n * will be added, including the request ID.\n *\n * @api private\n */\n\n\nfunction openRequest(method, url, options) {\n  var req = options.httpStack.createRequest(method, url);\n  req.setHeader('Tus-Resumable', '1.0.0');\n  var headers = options.headers || {};\n\n  for (var name in headers) {\n    req.setHeader(name, headers[name]);\n  }\n\n  if (options.addRequestId) {\n    var requestId = uuid();\n    req.setHeader('X-Request-ID', requestId);\n  }\n\n  return req;\n}\n/**\n * Send a request with the provided body while invoking the onBeforeRequest\n * and onAfterResponse callbacks.\n *\n * @api private\n */\n\n\nfunction sendRequest(req, body, options) {\n  var onBeforeRequestPromise = typeof options.onBeforeRequest === 'function' ? Promise.resolve(options.onBeforeRequest(req)) : Promise.resolve();\n  return onBeforeRequestPromise.then(function () {\n    return req.send(body).then(function (res) {\n      var onAfterResponsePromise = typeof options.onAfterResponse === 'function' ? Promise.resolve(options.onAfterResponse(req, res)) : Promise.resolve();\n      return onAfterResponsePromise.then(function () {\n        return res;\n      });\n    });\n  });\n}\n/**\n * Checks whether the browser running this code has internet access.\n * This function will always return true in the node.js environment\n *\n * @api private\n */\n\n\nfunction isOnline() {\n  var online = true;\n\n  if (typeof window !== 'undefined' && 'navigator' in window && window.navigator.onLine === false) {\n    online = false;\n  }\n\n  return online;\n}\n/**\n * Checks whether or not it is ok to retry a request.\n * @param {Error} err the error returned from the last request\n * @param {number} retryAttempt the number of times the request has already been retried\n * @param {object} options tus Upload options\n *\n * @api private\n */\n\n\nfunction shouldRetry(err, retryAttempt, options) {\n  // We only attempt a retry if\n  // - retryDelays option is set\n  // - we didn't exceed the maxium number of retries, yet, and\n  // - this error was caused by a request or it's response and\n  // - the error is server error (i.e. not a status 4xx except a 409 or 423) or\n  // a onShouldRetry is specified and returns true\n  // - the browser does not indicate that we are offline\n  if (options.retryDelays == null || retryAttempt >= options.retryDelays.length || err.originalRequest == null) {\n    return false;\n  }\n\n  if (options && typeof options.onShouldRetry === 'function') {\n    return options.onShouldRetry(err, retryAttempt, options);\n  }\n\n  var status = err.originalResponse ? err.originalResponse.getStatus() : 0;\n  return (!inStatusCategory(status, 400) || status === 409 || status === 423) && isOnline();\n}\n/**\n * Resolve a relative link given the origin as source. For example,\n * if a HTTP request to http://example.com/files/ returns a Location\n * header with the value /upload/abc, the resolved URL will be:\n * http://example.com/upload/abc\n */\n\n\nfunction resolveUrl(origin, link) {\n  return new URL(link, origin).toString();\n}\n/**\n * Calculate the start and end positions for the parts if an upload\n * is split into multiple parallel requests.\n *\n * @param {number} totalSize The byte size of the upload, which will be split.\n * @param {number} partCount The number in how many parts the upload will be split.\n * @param {string[]} previousUrls The upload URLs for previous parts.\n * @return {object[]}\n * @api private\n */\n\n\nfunction splitSizeIntoParts(totalSize, partCount, previousUrls) {\n  var partSize = Math.floor(totalSize / partCount);\n  var parts = [];\n\n  for (var i = 0; i < partCount; i++) {\n    parts.push({\n      start: partSize * i,\n      end: partSize * (i + 1)\n    });\n  }\n\n  parts[partCount - 1].end = totalSize; // Attach URLs from previous uploads, if available.\n\n  if (previousUrls) {\n    parts.forEach(function (part, index) {\n      part.uploadUrl = previousUrls[index] || null;\n    });\n  }\n\n  return parts;\n}\n\nBaseUpload.defaultOptions = defaultOptions;\nexport default BaseUpload;","/**\n * Generate a UUID v4 based on random numbers. We intentioanlly use the less\n * secure Math.random function here since the more secure crypto.getRandomNumbers\n * is not available on all platforms.\n * This is not a problem for us since we use the UUID only for generating a\n * request ID, so we can correlate server logs to client errors.\n *\n * This function is taken from following site:\n * https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n *\n * @return {string} The generate UUID\n */\nexport default function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}","'use strict';\nvar camelCase = require('camelcase');\n\nmodule.exports = function () {\n\tvar cased = camelCase.apply(camelCase, arguments);\n\treturn cased.charAt(0).toUpperCase() + cased.slice(1);\n};\n","'use strict';\nmodule.exports = function () {\n\tvar str = [].map.call(arguments, function (str) {\n\t\treturn str.trim();\n\t}).filter(function (str) {\n\t\treturn str.length;\n\t}).join('-');\n\n\tif (!str.length) {\n\t\treturn '';\n\t}\n\n\tif (str.length === 1 || !(/[_.\\- ]+/).test(str) ) {\n\t\tif (str[0] === str[0].toLowerCase() && str.slice(1) !== str.slice(1).toLowerCase()) {\n\t\t\treturn str;\n\t\t}\n\n\t\treturn str.toLowerCase();\n\t}\n\n\treturn str\n\t.replace(/^[_.\\- ]+/, '')\n\t.toLowerCase()\n\t.replace(/[_.\\- ]+(\\w|$)/g, function (m, p1) {\n\t\treturn p1.toUpperCase();\n\t});\n};\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , controlOrWhitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , port = /:\\d+$/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/;\n\n/**\n * Remove control characters and whitespace from the beginning of a string.\n *\n * @param {Object|String} str String to trim.\n * @returns {String} A new string representing `str` stripped of control\n *     characters and whitespace from its beginning.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(controlOrWhitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (port.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {\n    host += ':';\n  }\n\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nisSharedArrayBufferToString.working = (\n  typeof SharedArrayBuffer !== 'undefined' &&\n  isSharedArrayBufferToString(new SharedArrayBuffer())\n);\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBuffer;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasSymbols = require('has-symbols')();\nvar hasToStringTag = hasSymbols && typeof Symbol.toStringTag === 'symbol';\n\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tif (typeof global[typedArray] === 'function') {\n\t\t\tvar arr = new global[typedArray]();\n\t\t\tif (!(Symbol.toStringTag in arr)) {\n\t\t\t\tthrow new EvalError('this engine has support for Symbol.toStringTag, but ' + typedArray + ' does not have the property! Please report this.');\n\t\t\t}\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar foundName = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!foundName) {\n\t\t\ttry {\n\t\t\t\tvar name = getter.call(value);\n\t\t\t\tif (name === typedArray) {\n\t\t\t\t\tfoundName = name;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\treturn foundName;\n};\n\nvar isTypedArray = require('is-typed-array');\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!isTypedArray(value)) { return false; }\n\tif (!hasToStringTag) { return $slice($toString(value), 8, -1); }\n\treturn tryTypedArrays(value);\n};\n","var uppercamelcase = require('uppercamelcase');\nvar statusCodes = require('builtin-status-codes');\n\nmodule.exports = WPError;\n\nfunction WPError () {\n  var self = new Error();\n\n  for (var i = 0; i < arguments.length; i++) {\n    process(self, arguments[i]);\n  }\n\n  if (typeof Error.captureStackTrace === 'function') {\n    Error.captureStackTrace(self, WPError);\n  }\n\n  return self;\n}\n\nfunction process ( self, data ) {\n  if ( ! data ) { \n    return;\n  }\n  \n  if (typeof data === 'number') {\n    setStatusCode( self, data );\n\n  } else {\n    // assume it's a plain 'ol Object with some props to copy over\n    if ( data.status_code ) {\n      setStatusCode( self, data.status_code );\n    }\n\n    if ( data.error ) {\n      self.name = toName( data.error );\n    }\n\n    if ( data.error_description ) {\n      self.message = data.error_description;\n    }\n\n    var errors = data.errors;\n    if ( errors ) {\n      var first = errors.length ? errors[0] : errors;\n      process( self, first );\n    }\n\n    for ( var i in data ) {\n      self[i] = data[i];\n    }\n\n    if ( self.status && ( data.method || data.path ) ) {\n      setStatusCodeMessage( self );\n    }\n  }\n}\n\nfunction setStatusCode ( self, code ) {\n  self.name = toName( statusCodes[ code ] );\n  self.status = self.statusCode = code;\n  setStatusCodeMessage( self );\n}\n\nfunction setStatusCodeMessage ( self ) {\n  var code = self.status;\n  var method = self.method;\n  var path = self.path;\n\n  var m = code + ' status code';\n  var extended = method || path;\n\n  if ( extended ) m += ' for \"';\n  if ( method ) m += method;\n  if ( extended ) m += ' ';\n  if ( path ) m += path;\n  if ( extended ) m += '\"';\n\n  self.message = m;\n}\n\nfunction toName ( str ) {\n  return uppercamelcase( String(str).replace(/error$/i, ''), 'error' );\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"lodash\"];","module.exports = window[\"moment\"];","module.exports = window[\"wp\"][\"a11y\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"dataControls\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"isShallowEqual\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"reactI18n\"];","module.exports = window[\"wp\"][\"warning\"];","'use strict';\n\nvar filter = require('array-filter');\n\nmodule.exports = function availableTypedArrays() {\n\treturn filter([\n\t\t'BigInt64Array',\n\t\t'BigUint64Array',\n\t\t'Float32Array',\n\t\t'Float64Array',\n\t\t'Int16Array',\n\t\t'Int32Array',\n\t\t'Int8Array',\n\t\t'Uint16Array',\n\t\t'Uint32Array',\n\t\t'Uint8Array',\n\t\t'Uint8ClampedArray'\n\t], function (typedArray) {\n\t\treturn typeof global[typedArray] === 'function';\n\t});\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.miniCssF = (\n\t\t\tfunction(originalFn) { return function(chunkId) {\n\t\tvar isCssRtlEnabled = document.dir === 'rtl';\n\t\tvar originalUrl = originalFn(chunkId);\n\t\treturn isCssRtlEnabled ? originalUrl.replace(\".css\",\".rtl.css\") : originalUrl;\n}; }\n\t\t)(__webpack_require__.miniCssF)","var inProgress = {};\nvar dataWebpackPrefix = \"EditingToolkit:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + ({\"361\":\"wpcom-xhr-request\",\"474\":\"lib-analytics-ad-tracking-record-alias-in-floodlight\",\"583\":\"async-load-calypso-lib-happychat-connection\",\"874\":\"lib-analytics-signup\"}[chunkId] || chunkId) + \".js\";\n};","// This function allow to reference all chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + \"help-center\" + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t342: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebpack\"] = self[\"webpackChunkwebpack\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import './src/config';\nimport { HelpCenter } from '@automattic/data-stores';\nimport './src/help-center';\n\nHelpCenter.register();\n"],"names":["compile","expression","terms","variables","OPERATORS","a","b","c","evaluate","postfix","i","j","args","getOperatorResult","term","value","stack","length","Array","pop","apply","earlyReturn","hasOwnProperty","push","pluralForms","n","PRECEDENCE","OPENERS","TERMINATORS","PATTERN","match","operator","element","substr","index","trim","indexOf","concat","reverse","sprintf","string","isArray","arguments","replace","name","precision","type","undefined","parseFloat","parseInt","toFixed","chevronUp","createElement","SVG","viewBox","xmlns","Path","d","closeSmall","lineSolid","width","height","fill","PinnedItems","_ref","scope","props","Fill","Slot","_ref2","className","fills","isEmpty","setSingleEnableItem","itemType","item","enableComplementaryArea","area","disableComplementaryArea","setMultipleEnableItem","isEnable","pinItem","itemId","unpinItem","toggleFeature","featureName","select","dispatch","currentValue","isFeatureActive","setFeatureValue","setFeatureDefaults","defaults","STORE_NAME","createReduxStore","reducer","actions","selectors","persist","__experimentalUseThunks","registerStore","preferenceDefaults","combineReducers","features","state","action","preferences","enableItems","singleEnableItems","multipleEnableItems","get","currentTypeState","currentScopeState","getActiveComplementaryArea","getSingleEnableItem","isItemPinned","isMultipleEnabledItemEnabled","_state$preferences$fe","_state$preferenceDefa","featureValue","module","exports","arr","fn","self","filter","TypeError","ret","hasOwn","call","val","Object","prototype","GetIntrinsic","callBind","$indexOf","allowMissing","intrinsic","bind","$apply","$call","$reflectApply","$gOPD","$defineProperty","$max","e","originalFunction","func","desc","configurable","applyBind","classNames","classes","arg","argType","inner","toString","key","join","default","toVal","mix","k","y","str","tmp","x","parse","options","obj","opt","pairs","split","pairSplitRegExp","dec","decode","pair","eq_idx","slice","tryDecode","serialize","enc","encode","fieldContentRegExp","test","maxAge","isNaN","isFinite","Math","floor","domain","path","expires","toUTCString","httpOnly","secure","sameSite","toLowerCase","decodeURIComponent","encodeURIComponent","global","isCallable","tryToString","argument","String","isObject","ArrayBuffer","DataView","NAME","Constructor","Prototype","NATIVE_ARRAY_BUFFER","DESCRIPTORS","classof","createNonEnumerableProperty","redefine","defineProperty","isPrototypeOf","getPrototypeOf","setPrototypeOf","wellKnownSymbol","uid","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","TO_STRING_TAG","TYPED_ARRAY_TAG","TYPED_ARRAY_CONSTRUCTOR","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isTypedArray","it","klass","Function","this","aTypedArray","aTypedArrayConstructor","C","exportTypedArrayMethod","KEY","property","forced","ARRAY","TypedArrayConstructor","error","exportTypedArrayStaticMethod","isView","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","O","includes","uncurryThis","stringSlice","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tag","result","tryGet","callee","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","target","source","keys","f","getOwnPropertyDescriptor","fails","F","constructor","createPropertyDescriptor","object","bitmap","enumerable","writable","document","EXISTS","userAgent","process","getBuiltIn","version","Deno","versions","v8","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","sham","exec","FunctionPrototype","Reflect","aCallable","that","getDescriptor","PROPER","CONFIGURABLE","aFunction","namespace","method","V","P","check","globalThis","window","toObject","propertyIsEnumerable","store","functionToString","inspectSource","set","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","TYPE","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","USE_SYMBOL_AS_UID","$Symbol","toLength","V8_VERSION","getOwnPropertySymbols","symbol","Symbol","IE8_DOM_DEFINE","anObject","toPropertyKey","Attributes","propertyIsEnumerableModule","$getOwnPropertyDescriptor","internalObjectKeys","getOwnPropertyNames","CORRECT_PROTOTYPE_GETTER","IE_PROTO","names","$propertyIsEnumerable","NASHORN_BUG","aPossiblePrototype","setter","CORRECT_SETTER","proto","__proto__","input","pref","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","InternalStateModule","CONFIGURABLE_FUNCTION_NAME","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","SHARED","IS_PURE","mode","copyright","location","defer","channel","port","html","arraySlice","IS_IOS","IS_NODE","setImmediate","clear","clearImmediate","Dispatch","MessageChannel","counter","queue","ONREADYSTATECHANGE","run","id","runner","listener","event","post","postMessage","protocol","host","nextTick","now","port2","port1","onmessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","toIntegerOrInfinity","max","min","integer","IndexedObject","requireObjectCoercible","ceil","number","toPositiveInteger","RangeError","BYTES","offset","isSymbol","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","random","NATIVE_SYMBOL","iterator","WellKnownSymbolsStore","symbolFor","createWellKnownSymbol","withoutSetter","description","ArrayBufferViewCore","toOffset","arrayLike","src","len","$","task","table","poly","crcDirect","l","temp","crc","crcTable","append","makeTable","direct","map","charCodeAt","deepFreeze","o","freeze","forEach","prop","isFrozen","ReflectOwnKeys","R","ReflectApply","receiver","NumberIsNaN","Number","EventEmitter","init","once","emitter","Promise","resolve","reject","eventListener","errorListener","removeListener","err","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","_addListener","prepend","m","events","existing","warning","create","newListener","emit","unshift","warned","w","Error","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","copy","setMaxListeners","getMaxListeners","doError","er","message","context","handler","listeners","addListener","on","prependListener","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","rawListeners","eventNames","opts","cmp","cycles","node","aobj","bobj","seen","stringify","toJSON","JSON","out","seenIndex","sort","splice","ctx","ERROR_MESSAGE","toStr","funcType","bound","binder","boundLength","boundArgs","Empty","implementation","util","isProperty","INDENT_START","INDENT_END","RESERVED","RESERVED_MAP","isVariable","formats","s","genfun","lines","indent","vars","spaces","pushLine","line","fmt","format","sym","toFunction","vals","gen","valid","$SyntaxError","SyntaxError","$Function","$TypeError","getEvalledConstructor","expressionSyntax","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","hasSymbols","getProto","needsEval","INTRINSICS","AggregateError","Atomics","BigInt","Boolean","Date","decodeURI","encodeURI","eval","EvalError","FinalizationRegistry","Map","Proxy","ReferenceError","RegExp","Set","SharedArrayBuffer","URIError","WeakRef","WeakSet","doEval","LEGACY_ALIASES","$concat","$spliceApply","$replace","$strSlice","rePropName","reEscapeChar","stringToPath","first","last","quote","subString","getBaseIntrinsic","alias","intrinsicName","parts","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","part","url","getSrc","vimeo","vimeoPipe","vine","matches","youtube","shortcode","stripParameters","inlinev","parameterv","parameterwebp","embedreg","attrreg","videopress","idRegex","service","origSymbol","hasSymbolSham","symObj","syms","utils","assert","BlockHash","pending","pendingTotal","blockSize","outSize","hmacStrength","padLength","endian","_delta8","_delta32","update","msg","toArray","r","join32","_update","digest","_pad","_digest","bytes","res","t","common","shaCommon","rotl32","sum32","sum32_5","ft_1","sha1_K","SHA1","h","W","inherits","start","toHex32","split32","sum32_4","ch32","maj32","s0_256","s1_256","g0_256","g1_256","sha256_K","SHA256","g","T1","T2","rotr32","z","p32","isSurrogatePair","htonl","zero2","word","zero8","p","toHex","end","sum32_3","sum64","buf","pos","ah","al","bh","lo","hi","sum64_hi","bl","sum64_lo","sum64_4_hi","ch","cl","dh","dl","carry","sum64_4_lo","sum64_5_hi","eh","sum64_5_lo","rotr64_hi","num","rotr64_lo","shr64_hi","shr64_lo","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","KNOWN_STATICS","caller","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","Memo","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","for","q","v","u","$$typeof","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","Fragment","Lazy","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","ctor","superCtor","super_","TempCtor","hasToStringTag","toStringTag","isStandardArguments","isLegacyArguments","supportsStandardArguments","fnToStr","isFnRegex","generatorFunc","getGeneratorFunc","GeneratorFunction","reIpv4FirstPass","reSubnetString","reForwardSlash","reZone","reBadCharacters","reBadAddress","validate4","n0","n1","n2","n3","validate6","withoutSubnet","hasSubnet","withoutZone","lastPartSeparator","lastIndexOf","address","substring","halves","validate","createIpValidator","reEmailWhitespace","reHostnameFirstPass","reHostnamePart","rePhoneFirstPass","rePhoneDoubleSpace","rePhoneGlobalSpace","digits","genobj","jsonpointer","xtend","types","unique","array","isMultipleOf","multipleOf","factor","pow","round","testLimitedRegex","maxLength","schema","cache","root","reporter","fmts","verbose","greedy","allocated","gensym","formatName","field","pattern","replacer","_","reversePatterns","patterns","genloop","visit","schemaPath","properties","tuple","items","required","additionalItems","req","uniqueItems","maxItems","enum","some","dependencies","deps","additionalProperties","additionalProp","patternProperties","$ref","sub","additionalSchemas","ptr","reduce","other","fragment","schemas","not","prev","allOf","sch","anyOf","oneOf","passes","maxProperties","minProperties","minItems","minLength","minimum","exclusiveMinimum","maximum","exclusiveMaximum","errors","availableTypedArrays","callBound","$toString","typedArrays","$slice","toStrTags","gOPD","typedArray","superProto","anyTrue","getter","tryTypedArrays","fromUint8Array","_Base64","Base64","b64chars","b64tab","bin","charAt","fromCharCode","cb_utob","cc","re_utob","utob","cb_encode","ccc","padlen","ord","btoa","_encode","mkUriSafe","b64","m0","urisafe","a0","a1","a2","toUint8Array","re_btou","cb_btou","cccc","btou","cb_decode","chars","_atob","atob","_decode","_fromURI","from","noConflict","VERSION","fromBase64","toBase64","noEnum","extendString","factory","hasExcape","escapeMatcher","escapeReplacer","untilde","compilePointer","pointer","hasNextPart","Infinity","oldValue","compiled","LRU","head","tail","remove","_unlink","next","peek","_checkAge","modified","evict","equal","plural","ms","msAbs","isPlural","long","abs","fmtLong","fmtShort","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","weakMapHas","weakSetHas","weakRefDeref","deref","booleanValueOf","objectToString","bigIntValueOf","gOPS","symToString","hasShammedSymbols","isEnumerable","gPO","inspectCustom","inspectSymbol","wrapQuotes","defaultStyle","quoteChar","quoteStyle","inspect_","depth","maxStringLength","customInspect","inspectString","maxDepth","baseIndent","base","getIndent","inspect","noIndent","newOpts","nameOf","arrObjKeys","symString","markBoxed","HTMLElement","nodeName","getAttribute","attrs","attributes","childNodes","xs","singleLineValues","indentedJoin","isError","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","isBigInt","isBoolean","isString","isDate","isRegExp","ys","isPlainObject","protoTag","stringTag","remaining","trailer","lowbyte","toUpperCase","size","entries","lineJoiner","isArr","symMap","isarray","pathToRegexp_1","pathToRegexp","parse_1","compile_1","tokensToFunction_1","tokensToFunction","tokensToRegExp_1","tokensToRegExp","PATH_REGEXP","tokens","escaped","prefix","capture","group","suffix","asterisk","repeat","optional","delimiter","escapeGroup","token","segment","escapeString","attachKeys","re","flags","sensitive","regexpToRegexp","groups","arrayToRegexp","stringToRegexp","strict","route","lastToken","endsWithSlash","loaded","hasDocument","hasWindow","hasHistory","history","hasProcess","clickEvent","ontouchstart","isLocation","Page","callbacks","exits","current","_decodeURLComponents","_base","_strict","_running","_hashbang","clickHandler","_onpopstate","createPage","pageInstance","pageFn","page","stop","show","back","redirect","exit","configure","sameOrigin","Context","Route","middleware","unhandled","handled","_window","_getBase","hash","pathname","search","canonicalPath","href","escapeRegExp","_page","hashbang","pageBase","title","querystring","_decodeURLEncodedURIComponent","params","globalPage","regexp","decodeURLComponents","_popstate","popstate","_click","click","removeEventListener","loc","enable","prevContext","pushState","to","inst","save","nextExit","nextEnter","_which","metaKey","ctrlKey","shiftKey","defaultPrevented","eventPath","composedPath","parentNode","svg","hasAttribute","link","_samePath","baseVal","orig","preventDefault","readyState","which","button","_toURL","URL","anc","hostname","replaceState","qsIndex","page_js","default_1","NativeProgressEvent","ProgressEvent","useNative","createEvent","initEvent","lengthComputable","total","createEventObject","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","bool","any","arrayOf","elementType","instanceOf","objectOf","oneOfType","shape","exact","checkPropTypes","PropTypes","percentTwenties","Format","formatters","RFC1738","RFC3986","allowDots","allowPrototypes","allowSparse","arrayLimit","charset","charsetSentinel","comma","decoder","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","plainObjects","strictNullHandling","$0","numberStr","parseArrayValue","parseKeys","givenKey","valuesParsed","child","parent","chain","leaf","cleanRoot","parseObject","normalizeParseOptions","tempObj","cleanStr","limit","skipIndex","bracketEqualsPos","maybeMap","encodedVal","combine","parseValues","newObj","merge","compact","getSideChannel","arrayPrefixGenerators","brackets","indices","pushToArray","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","encoder","encodeValuesOnly","formatter","serializeDate","date","skipNulls","generateArrayPrefix","sideChannel","isBuffer","objKeys","values","keyPrefix","valueSideChannel","normalizeStringifyOptions","arrayFormat","joined","hexTable","arrayToObject","assign","acc","refs","compacted","compactQueue","strWithoutPlus","unescape","defaultEncoder","kind","escape","mapped","mergeTarget","targetItem","query","parser","_typeof","_DraggableCore","React","nodeInterop","__esModule","_getRequireWildcardCache","hasPropertyDescriptor","_interopRequireWildcard","_propTypes","_interopRequireDefault","_reactDom","_clsx2","_domFns","_positionFns","_shims","_log","_excluded","cacheBabelInterop","cacheNodeInterop","_extends","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","enumerableOnly","symbols","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_slicedToArray","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","done","_iterableToArrayLimit","minLen","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","arr2","_defineProperties","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","construct","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","Draggable","_React$Component","subClass","superClass","_inherits","protoProps","staticProps","_super","_this","instance","_classCallCheck","coreData","onStart","createDraggableData","setState","dragging","dragged","uiData","newState","bounds","slackX","slackY","_getBoundPosition2","getBoundPosition","newStateX","newStateY","deltaX","deltaY","onDrag","onStop","_this$props$position","defaultPosition","prevPropsPosition","isElementSVG","SVGElement","findDOMNode","_this$props$nodeRef$c","_this$props","_this$props$nodeRef","nodeRef","_clsx","_this$props2","children","axis","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","positionOffset","draggableCoreProps","scale","style","svgTransform","draggable","validPosition","transformOpts","canDragX","canDragY","createSVGTransform","createCSSTransform","onDragStart","onDragStop","cloneElement","Children","only","transform","Component","left","right","top","bottom","dontSetMe","eventsFor","move","dragEventFor","DraggableCore","_len","_key","lastX","NaN","lastY","touchIdentifier","onMouseDown","allowAnyClick","thisNode","ownerDocument","body","disabled","defaultView","Node","handle","matchesSelectorAndParentsTo","cancel","getTouchIdentifier","getControlPosition","coreEvent","createCoreData","mounted","enableUserSelectHack","addUserSelectStyles","addEvent","handleDrag","handleDragStop","grid","_snapToGrid2","snapToGrid","MouseEvent","initMouseEvent","removeUserSelectStyles","removeEvent","handleDragStart","onTouchStart","passive","onMouseUp","onTouchEnd","offsetParent","nodeType","_require","matchesSelector","selector","baseNode","inputOptions","attachEvent","detachEvent","outerHeight","clientHeight","computedStyle","getComputedStyle","int","borderTopWidth","borderBottomWidth","outerWidth","clientWidth","borderLeftWidth","borderRightWidth","innerHeight","paddingTop","paddingBottom","innerWidth","paddingLeft","paddingRight","offsetXYFromParent","evt","offsetParentRect","getBoundingClientRect","clientX","scrollLeft","clientY","scrollTop","controlPos","translation","getTranslation","_getPrefix","browserPrefixToKey","getTouch","identifier","targetTouches","findInArray","changedTouches","doc","styleEl","getElementById","innerHTML","getElementsByTagName","addClassName","removeClassName","selection","empty","getSelection","removeAllRanges","matchesSelectorFunc","isFunction","unitSuffix","defaultX","defaultY","classList","add","getPrefix","browserPrefixToStyle","prefixes","_window$document","_window$document$docu","documentElement","shouldCapitalize","kebabToTitleCase","_default","cloneBounds","boundNode","ownerWindow","querySelector","boundNodeEl","nodeStyle","boundNodeStyle","offsetLeft","marginLeft","offsetTop","marginTop","marginRight","marginBottom","isNum","pendingX","pendingY","draggableCore","touchObj","isStart","callback","FocusManager","_Subscribable","_proto","onSubscribe","setDefaultEventListener","setEventListener","setup","focused","setFocused","onFocus","isFocused","visibilityState","focusManager","infiniteQueryBehavior","onFetch","fetchFn","_context$fetchOptions","_context$fetchOptions2","_context$fetchOptions3","_context$fetchOptions4","_context$state$data","_context$state$data2","promise","refetchPage","fetchOptions","meta","fetchMore","pageParam","isFetchingNextPage","direction","isFetchingPreviousPage","oldPages","pages","oldPageParams","pageParams","abortController","abortSignal","signal","newPageParams","cancelled","queryFn","buildNewPages","param","previous","fetchPage","manual","queryFnContext","queryKey","queryFnResult","then","getNextPageParam","_manual","_param","getPreviousPageParam","shouldFetchFirstPage","_loop","_param2","finalPromise","abort","logger","log","getLogger","setLogger","newLogger","Mutation","config","defaultOptions","mutationId","mutationCache","observers","failureCount","isPaused","status","addObserver","observer","removeObserver","retryer","catch","continue","execute","restored","onMutate","executeMutation","onSuccess","onSettled","onError","_this$options$retry","_this2","mutationFn","onFail","onPause","onContinue","retry","retryDelay","_this3","onMutationUpdate","notify","MutationCache","mutations","build","client","mutation","defaultMutationOptions","mutationKey","getMutationDefaults","getAll","find","filters","findAll","resumePausedMutations","onOnline","pausedMutations","NotifyManager","transactions","notifyFn","batchNotifyFn","batch","flush","schedule","batchCalls","setNotifyFunction","setBatchNotifyFunction","notifyManager","OnlineManager","online","setOnline","isOnline","navigator","onLine","onlineManager","Query","abortSignalConsumed","setOptions","queryHash","initialState","getDefaultState","scheduleGc","_this$options$cacheTi","cacheTime","setDefaultOptions","clearGcTimeout","gcTimeout","optionalRemove","clearTimeout","isFetching","setData","updater","_this$options$isDataE","_this$options","prevData","isDataEqual","structuralSharing","dataUpdatedAt","updatedAt","setStateOptions","_this$retryer","destroy","silent","reset","isActive","enabled","isStale","isInvalidated","getCurrentResult","isStaleByTime","staleTime","_this$retryer2","shouldFetchOnWindowFocus","refetch","_this$retryer3","shouldFetchOnReconnect","isTransportCancelable","revert","cancelRetry","getObserversCount","invalidate","fetch","_this$options$behavio","_abortController$abor","cancelRefetch","_this$options$behavio2","behavior","revertState","fetchMeta","onQueryUpdate","initialData","initialDataUpdatedAt","hasData","dataUpdateCount","errorUpdateCount","errorUpdatedAt","fetchFailureCount","_action$meta","_action$dataUpdatedAt","QueryCache","queries","queriesMap","_options$queryHash","defaultQueryOptions","getQueryDefaults","queryInMap","arg1","arg2","_this4","_this5","QueryClient","queryCache","queryDefaults","mutationDefaults","mount","unsubscribeFocus","unsubscribeOnline","unmount","_this$unsubscribeFocu","_this$unsubscribeOnli","fetching","isMutating","getQueryData","_this$queryCache$find","getQueriesData","queryKeyOrFilters","getQueryCache","setQueryData","parsedOptions","defaultedOptions","setQueriesData","getQueryState","_this$queryCache$find2","removeQueries","resetQueries","arg3","_parseFilterArgs3","refetchFilters","active","refetchQueries","cancelQueries","_parseFilterArgs4","_parseFilterArgs4$","cancelOptions","promises","all","invalidateQueries","_ref3","_filters$refetchActiv","_filters$refetchInact","_parseFilterArgs5","refetchActive","inactive","refetchInactive","_this6","_parseFilterArgs6","throwOnError","fetchQuery","prefetchQuery","fetchInfiniteQuery","prefetchInfiniteQuery","cancelMutations","_this7","getMutationCache","getDefaultOptions","setQueryDefaults","_this$queryDefaults$f","setMutationDefaults","_this$mutationDefault","_defaulted","defaultQueryObserverOptions","QueryObserver","trackedProps","previousSelectError","bindMethods","currentQuery","shouldFetchOnMount","executeFetch","updateTimers","onUnsubscribe","refetchOnReconnect","refetchOnWindowFocus","clearTimers","notifyOptions","prevOptions","prevQuery","updateQuery","hasListeners","shouldFetchOptionally","updateResult","updateStaleTimeout","nextRefetchInterval","computeRefetchInterval","currentRefetchInterval","updateRefetchInterval","getOptimisticResult","createResult","currentResult","trackResult","trackedResult","typedKey","getNextResult","unsubscribe","subscribe","getCurrentQuery","fetchOptimistic","clearStaleTimeout","timeout","staleTimeoutId","_this$options$refetch","refetchInterval","nextInterval","clearRefetchInterval","refetchIntervalId","setInterval","refetchIntervalInBackground","clearInterval","prevResult","prevResultState","currentResultState","prevResultOptions","currentResultOptions","queryChange","queryInitialState","currentQueryInitialState","prevQueryResult","previousQueryResult","isPreviousData","isPlaceholderData","optimisticResults","fetchOnMount","fetchOptionally","keepPreviousData","isSuccess","selectError","placeholderData","isLoading","isIdle","isFetched","isFetchedAfterMount","isRefetching","isLoadingError","isRefetchError","shouldNotifyListeners","notifyOnChangeProps","notifyOnChangePropsExclusions","includedProps","changed","isIncluded","isExcluded","defaultNotifyOptions","_this8","retryOnMount","shouldLoadOnMount","refetchOnMount","shouldRefetchOnMount","suspense","defaultRetryDelay","isCancelable","CancelledError","isCancelledError","Retryer","cancelFn","continueFn","promiseResolve","promiseReject","isResolved","outerResolve","outerReject","promiseOrValue","_unused","_config$retry","_config$retryDelay","delay","shouldRetry","continueResolve","Subscribable","isServer","noop","functionalUpdate","isValidTimeout","ensureQueryKeyArray","timeUntilStale","parseQueryArgs","isQueryKey","parseFilterArgs","matchQuery","predicate","stale","hashQueryKeyByOptions","partialMatchKey","queryStatusFilter","mapQueryStatusFilter","matchMutation","hashQueryKey","queryKeyHashFn","asArray","partialDeepEqual","replaceEqualDeep","aSize","bItems","bSize","equalItems","shallowEqualObjects","hasObjectPrototype","prot","sleep","scheduleMicrotask","getAbortController","AbortController","defaultContext","QueryClientSharingContext","getQueryClientContext","contextSharing","ReactQueryClientContext","useQueryClient","queryClient","QueryClientProvider","_ref$contextSharing","Provider","createValue","_isReset","clearReset","isReset","QueryErrorResetBoundaryContext","useQueryErrorResetBoundary","unstable_batchedUpdates","useBaseQuery","Observer","mountedRef","forceUpdate","errorResetBoundary","useErrorBoundary","useQuery","shouldThrowError","_useErrorBoundary","ReactReduxContext","contextValue","useMemo","subscription","onStateChange","notifyNestedSubs","previousState","getState","trySubscribe","tryUnsubscribe","_excluded2","EMPTY_ARRAY","NO_SUBSCRIPTION_ARRAY","storeStateUpdatesReducer","updateCount","payload","useIsomorphicLayoutEffectWithArgs","effectFunc","effectArgs","captureWrapperProps","lastWrapperProps","lastChildProps","renderIsScheduled","wrapperProps","actualChildProps","childPropsFromStoreUpdate","subscribeUpdates","shouldHandleStateChanges","childPropsSelector","forceComponentUpdateDispatch","didUnsubscribe","lastThrownError","checkForUpdates","newChildProps","latestStoreState","initStateUpdates","connectAdvanced","selectorFactory","_ref2$getDisplayName","getDisplayName","_ref2$methodName","methodName","_ref2$renderCountProp","renderCountProp","_ref2$shouldHandleSta","_ref2$storeKey","storeKey","_ref2$forwardRef","withRef","forwardRef","_ref2$context","connectOptions","WrappedComponent","wrappedComponentName","selectorFactoryOptions","pure","usePureOnlyMemo","ConnectFunction","_useMemo","reactReduxForwardedRef","propsContext","ContextToUse","Consumer","useContext","didStoreComeFromProps","createChildSelector","_useMemo2","overriddenContextValue","_useReducer","useReducer","previousStateUpdateResult","useRef","renderedWrappedComponent","ref","Connect","forwarded","factories","strictEqual","createConnect","_temp","_ref$connectHOC","connectHOC","_ref$mapStateToPropsF","mapStateToPropsFactories","_ref$mapDispatchToPro","mapDispatchToPropsFactories","_ref$mergePropsFactor","mergePropsFactories","_ref$selectorFactory","mapStateToProps","mapDispatchToProps","mergeProps","_ref3$pure","_ref3$areStatesEqual","areStatesEqual","_ref3$areOwnPropsEqua","areOwnPropsEqual","_ref3$areStatePropsEq","areStatePropsEqual","_ref3$areMergedPropsE","areMergedPropsEqual","extraOptions","initMapStateToProps","initMapDispatchToProps","initMergeProps","defaultMergeProps","stateProps","dispatchProps","ownProps","mergedProps","hasRunOnce","nextMergedProps","wrapMergePropsFunc","impureFinalPropsSelectorFactory","pureFinalPropsSelectorFactory","hasRunAtLeastOnce","handleSubsequentCalls","nextState","nextOwnProps","nextStateProps","statePropsChanged","propsChanged","stateChanged","dependsOnOwnProps","finalPropsSelectorFactory","wrapMapToPropsConstant","getConstant","constant","constantSelector","getDependsOnOwnProps","mapToProps","wrapMapToPropsFunc","proxy","stateOrDispatch","createDispatchHook","useStore","useDispatch","useReduxContext","refEquality","createSelectorHook","equalityFn","_useReduxContext","selectedState","contextSub","forceRender","latestSubscriptionCallbackError","latestSelector","latestSelectedState","storeState","newSelectedState","newStoreState","_newSelectedState","useSelectorWithStoreAndSubscription","useDebugValue","useSelector","createStoreHook","nullListeners","createSubscription","parentSub","handleChangeWrapper","addNestedSub","isSubscribed","createListenerCollection","getListeners","setBatch","newBatch","getBatch","bindActionCreators","actionCreators","boundActionCreators","actionCreator","is","shallowEqual","objA","objB","keysA","keysB","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","createThunkMiddleware","extraArgument","thunk","withExtraArgument","formatProdErrorMessage","code","$$observable","observable","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","replaceReducer","nextReducer","outerSubscribe","observeState","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","hasChanged","previousStateForKey","nextStateForKey","compose","funcs","applyMiddleware","middlewares","_dispatch","middlewareAPI","pool","startdenom","significance","overflow","mask","oldRandom","ARC4","keylen","me","S","flatten","typ","mixkey","seed","smear","stringseed","tostring","autoseed","crypto","getRandomValues","plugins","screen","use_entropy","entropy","arc4","resetGlobal","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","curr","$wm","$m","$o","objects","listGet","listHas","listSet","engine","storages","rx_one","rx_two","rx_three","rx_four","rx_escapable","rx_dangerous","gap","rep","this_value","lastIndex","holder","partial","mind","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","space","text","reviver","walk","pluck","each","isList","storeAPI","optionalDefaultValue","storage","read","_namespacePrefix","_deserialize","write","_serialize","namespacedKey","_namespaceRegexp","clearAll","hasNamespace","addPlugin","plugin","_addPlugin","namespacePrefix","namespaceRegexp","_privateStoreProps","_testStorage","testStr","ok","_assignPluginFnProp","pluginFnProp","oldFn","super_fn","newFnArgs","strVal","defaultVal","_addStorage","seenPlugin","pluginProperties","addStorage","_console","_warn","raw","props1","props2","etc","assignProps1","assignProps2","assignArgsList","make_create","Global","_has","regexpStr","cookie","cookies","kvp","localStorage","getItem","setItem","removeItem","memoryStorage","globalStorage","unfixedKey","disable","fixedKey","fixKey","_withStorageEl","storageEl","setAttribute","storageName","XMLDocument","attr","removeAttribute","load","addBehavior","storageOwner","storageContainer","ActiveXObject","open","close","frames","storeFunction","_makeIEStorageElFunction","forbiddenCharsRegex","sessionStorage","DEFAULT_OPTIONS","contextDelimiter","onMissingKey","Tannin","getPluralForm","pf","plural_forms","getPluralExpression","dcnpgettext","singular","entry","configData","env_id","i18n_default_locale_slug","google_analytics_key","client_slug","twemoji_cdn_url","happychat_url","site_filter","sections","enable_all_sections","livechat_support_locales","upwork_support_locales","jetpack_support_blog","wpcom_support_blog","gutenboarding_url","happychat","signup_url","discover_blog_id","discover_feed_id","env","NODE_DEBUG","rootReducer","currentUser","sites","consoleDispatcher","addReducerEnhancer","thunkMiddleware","analyticsMiddleware","happychatMiddleware","setStore","setSection","setSelectedSiteId","_currentSiteId","rawCurrentUserFetch","filterUserObject","user","setCurrentUser","initializeAnalytics","getSuperProps","requestHappychatEligibility","Content","selectedArticle","setSelectedArticle","setFooterContent","siteId","setHelpCenterFooter","HelpCenterComponent","isDesktop","useMediaQuery","useSelect","isHelpCenterShown","setShowHelpCenter","useState","footerContent","Button","cx","onClick","icon","newItems","content","headerText","handleClose","registerPlugin","getAdminSections","createSelector","siteSlug","getSiteSlug","translate","synonyms","getCustomizerUrl","googleMailService","getGoogleMailServiceFamily","comment","onboardingUrl","filterListBySearchTerm","searchTerm","collection","searchTermWords","searchRegex","exactMatches","partialMatches","synonymMatches","getLocaleSlug","RESULT_ARTICLE","RESULT_TOUR","RESULT_VIDEO","VIEW_CONTACT","VIEW_RICH_RESULT","SUPPORT_BLOG_ID","SUPPORT_TYPE_CONTEXTUAL_HELP","SUPPORT_TYPE_API_HELP","SUPPORT_TYPE_ADMIN_SECTION","SELL_INTENT","defaultFallbackLinks","localizeUrl","post_id","bloggerFallbackLinks","contextLinksForSection","stats","sharing","home","account","security","purchases","media","people","settings","themes","theme","plans","intent","reader","help","comments","hosting","checkout","domains","videosForSection","customizer","toursForSection","tour","getContextResults","section","siteIntent","fallbackLinks","video","links","useMobileBreakpoint","searchQuery","setSearchQuery","activeSecondaryView","setActiveSecondaryView","secondaryViewRef","openSecondaryView","secondaryViewKey","recordTracksEvent","contentTitle","focus","openResultView","closeSecondaryView","openContactView","setAdminSection","onSelectResource","onSearch","isVisible","onSelect","onAdminSectionSelect","openAdminInNewTab","closeContactPage","handleBackButton","renderSecondaryView","InlineHelpContactPageButton","__","useI18n","borderless","backgroundColor","placeholderLines","postId","tracksData","search_query","result_url","Flex","justify","FlexItem","blogId","articleUrl","debug","debugFactory","InlineHelpSearchCard","placeholder","cardRef","useTranslate","isSearching","useHelpSearchQuery","inputElement","searchInput","timerId","searching","initialValue","inputQuery","delaySearch","debounceSpeak","priority","debounce","speak","loadingSpeak","resultsSpeak","errorSpeak","HelpSearchResults","externalLinks","hasPurchases","hasCancelableUserPurchases","sectionName","getSectionName","isPurchasesSection","useSiteOption","rawContextualResults","adminResults","getAdminHelpResults","contextualResults","filterManagePurchaseLink","searchData","searchResults","wordpress_support_links","hasAPIResults","renderHelpLink","external","search_term","onLinkClickHandler","rel","preventWidows","decodeEntities","renderSearchResultsSection","results","condition","resultsLabel","PlaceholderLines","getPostKey","DialogContent","postKey","supportArticleAlternates","useSupportArticleAlternatesQuery","blog_id","page_id","useSupportArticleAlternatePostKey","getPostByKey","site_ID","shouldQueryReaderPost","anchorId","scrollIntoView","dangerouslySetInnerHTML","__html","SupportArticleHeader","QueryReaderPost","isPostKeyLike","_state","fetchPost","componentDidMount","maybeFetch","componentDidUpdate","connect","QueryReaderSite","shouldFetch","shouldSiteBeFetched","requestSite","getRecentSites","getPreference","QueryAll","isRequestingSites","requestSites","requestSingle","isRequestingSite","QuerySingle","QueryPrimaryAndRecent","primarySiteId","getPrimarySiteId","recentSiteIds","siteIds","hasAllSitesList","requestPrimaryAndRecent","QuerySites","allSites","primaryAndRecent","request","userId","getCurrentUserId","isFetchingUserPurchases","hasLoaded","hasLoadedUserPurchasesFromServer","fetchUserPurchases","embedsToLookFor","embedInstagram","domNode","instgrm","Embeds","loadAndRun","embedTwitter","twttr","widgets","fb","tumblrLoader","removeScript","querySelectorAll","loadScript","jetpackSlideshowSettings","spinner","SLIDESHOW_URLS","SPINNER","slideshowCSSPresent","cssUrl","loadCSS","CSS","warningElements","getElementsByClassName","jQuery","cycle","createSlideshow","CYCLE_JS","loadjQueryDependentScriptDesktopWrapper","storyLink","cacheBustQuery","getTime","JS","processEmbeds","embedSelector","nodes","nodeNeedsProcessing","loaders","scriptUrl","loader","triggerJQueryLoadEvent","trigger","JetpackSlideshow","EmbedContainer","PureComponent","ReactDom","ExternalLink","classnames","showIconFirst","omit","iconComponent","iconClassName","iconSize","FormTextInput","currentTextField","inputRef","selectOnFocus","onChange","oldProps","updateValueIfNeeded","isValid","textFieldRef","SearchCard","keyListener","methodToCall","Search","super","openIcon","overlay","requestAnimationFrame","getScrollLeft","createTextRange","range","inputStyle","rangeRect","clientLeft","blur","keyword","onBlur","hasFocus","isOpen","gaRecordEvent","analyticsGroup","pinned","onSearchClose","isMobile","closeSearch","scrollOverlay","onKeyDown","setValue","onSearchOpen","instanceId","uuid","autoFocus","closeListener","openListener","UNSAFE_componentWillReceiveProps","nextProps","delayTimeout","prevProps","prevState","onSearchChange","searchValue","i18n","textOnly","inputLabel","enableOpenIcon","isOpenUnpinnedOrQueried","autocorrect","disableAutocorrect","autoComplete","autoCorrect","spellCheck","searchClass","additionalClasses","dir","fitsContainer","hideOpenIcon","fadeDivClass","inputClass","role","setOpenIconRef","openSearch","tabIndex","describedBy","setSearchInputRef","onKeyUp","keyUp","keyDown","autoCapitalize","overlayStyling","renderStylingDiv","closeButton","setOverlayRef","hideClose","TranslatableString","Spinner","fontSize","checkType","chainedCheckType","queryOptions","wpcom","include_post_id","locale","getCurrentLocaleSlug","wp","isDefaultLocale","isGoogleAnalyticsEnabled","isFloodlightEnabled","isFacebookEnabled","isBingEnabled","isGeminiEnabled","isWpcomGoogleAdsGtagEnabled","isQuantcastEnabled","isOutbrainEnabled","isPinterestEnabled","isIconMediaEnabled","isTwitterEnabled","isLinkedinEnabled","isCriteoEnabled","isQuoraEnabled","isAdRollEnabled","FACEBOOK_TRACKING_SCRIPT_URL","GOOGLE_GTAG_SCRIPT_URL","BING_TRACKING_SCRIPT_URL","CRITEO_TRACKING_SCRIPT_URL","YAHOO_GEMINI_AUDIENCE_BUILDING_PIXEL_URL","ICON_MEDIA_RETARGETING_PIXEL_URL","ICON_MEDIA_SIGNUP_PIXEL_URL","ADROLL_PAGEVIEW_PIXEL_URL_1","ADROLL_PAGEVIEW_PIXEL_URL_2","ADROLL_PURCHASE_PIXEL_URL_1","ADROLL_PURCHASE_PIXEL_URL_2","TWITTER_TRACKING_SCRIPT_URL","LINKED_IN_SCRIPT_URL","QUORA_SCRIPT_URL","OUTBRAIN_SCRIPT_URL","PINTEREST_SCRIPT_URL","TRACKING_IDS","bingInit","criteo","dcmFloodlightAdvertiserId","facebookInit","facebookJetpackInit","fullStory","fullStoryJetpack","linkedInPartnerId","outbrainAdvId","pinterestInit","quantcast","quoraPixelId","twitterPixelId","wpcomGoogleAnalyticsGtag","wpcomFloodlightGtag","wpcomGoogleAdsGtag","wpcomGoogleAdsGtagSignupStart","wpcomGoogleAdsGtagRegistration","wpcomGoogleAdsGtagSignup","wpcomGoogleAdsGtagAddToCart","wpcomGoogleAdsGtagPurchase","jetpackGoogleAnalyticsGtag","jetpackGoogleAdsGtagPurchase","DCM_FLOODLIGHT_SESSION_COOKIE_NAME","DCM_FLOODLIGHT_SESSION_LENGTH_IN_SECONDS","recordParamsInFloodlightGtag","isAdTrackingAllowed","finalParams","floodlightUserParams","allow_custom_scripts","gtag","getCurrentUser","anonymousUserId","getTracksAnonymousUserId","u4","hashedPii","ID","u5","recordPageViewInFloodlight","urlPath","sessionId","existingSessionId","newSessionId","floodlightSessionId","session_id","u6","u7","send_to","setupGoogleAnalyticsGtag","setupGtag","isGoogleAnalyticsAllowed","getDoNotTrack","isPiiUrl","mayWeTrackCurrentUserGdpr","getGoogleAnalyticsDefaultConfig","user_id","anonymize_ip","transport_type","sendBeacon","use_amp_client_id","custom_map","dimension3","linker","isJetpackCloud","accept_incoming","fireGoogleAnalyticsPageView","pageTitle","useJetpackGoogleAnalytics","page_path","page_title","fireGoogleAnalyticsEvent","category","label","event_category","event_label","loadTrackingScripts","setLoadResult","loadResult","attemptLoad","async","scripts","enabledGtags","getTrackingScriptsToLoad","hasError","advancedMatching","em","email","fbq","initFacebook","bingConfig","ti","uetq","UET","twq","qp","pintrk","initLoadedTrackingScripts","dataLayer","lastRetargetTime","retarget","refreshCountryCodeCookieGdpr","qacct","_qevents","adRoll","trackPageview","nowTimestamp","obApi","Image","facebookEvents","callMethod","_fbq","disablePushState","setupFacebookGlobal","criteo_q","exe","setupTwitterGlobal","_linkedin_data_partner_id","quoraPixel","setupQuoraGlobal","api","marketerId","setupOutbrainGlobal","setupPinterestGlobal","trackPurchase","trackCustomFacebookConversionEvent","trackCustomAdWordsRemarketingEvent","fullStoryDebug","fullStoryScriptLoaded","retargetFullStory","maybeAddFullStoryScript","FS","restart","maybeIdentifyUser","recordFullStoryEvent","_props","suffixPropsAccordingToSpec","isE2ETest","_fs_debug","_fs_host","_fs_script","_fs_org","_fs_namespace","_api","crossOrigin","insertBefore","identify","setUserVars","anonymize","shutdown","consent","identifyAccount","acctId","clearUserCookie","setVars","_w","_v","gaDebug","initialized","initialize","parameters","send_page_view","gaRecordPageView","makeGoogleAnalyticsTrackingFunction","debugText","hotjarDebug","hotJarScriptLoaded","addHotJarScript","hj","_hjSettings","hjid","hjsv","debugModule","superProps","initializeCalypsoAnalytics","mod","recordAliasInFloodlight","mcDebug","bumpStat","uriComponent","buildQuerystring","bumpStatWithPageView","buildQuerystringNoPrefix","recordPageView","device_type","resolveDeviceTypeByViewPort","recordTracksPageViewWithPageParams","safeGoogleAnalyticsPageView","referRecordPageView","saveCouponQueryArgument","updateQueryParamsTracking","retargetAdTrackers","processQueue","queueDebug","modules","signup","runTrigger","moduleName","addToQueue","newItem","referrer","parsedUrl","urlParseAmpCompatible","affiliateId","searchParams","campaignId","subId","trackAffiliateReferral","ALLOWED_URL_PARAMS","VALID_UTM_SOURCE_CAMPAIGN","isValidAndAllowedUrlParamValue","isValidUtmSourceOrCampaign","isValidOtherUrlParamValue","setUtmCookie","sanitizedQuery","URLSearchParams","validEntries","pushEventToTracksQueue","sanitizedQueryString","reduxStore","eventProperties","environment","environment_id","site_count","getCurrentUserSiteCount","site_id_label","selectedSite","shouldReportOmitBlogId","getSelectedSite","blog_lang","lang","jetpack","site_plan_id","plan","product_id","referDebug","allowedEventProps","headers","Accept","affiliate_id","campaign_id","sub_id","response","credentials","json","pick","success","tracksEvents","eventName","analyticsEvents","_eventName","_eventProperties","baseRecordTracksEvent","recordTracksPageView","baseRecordTracksPageView","setTracksOptOut","isOptingOut","isUrlExcludedForPerformance","GDPR_COUNTRIES","isCountryInGdprZone","countryCode","forbiddenPiiPatterns","forbiddenPiiPatternsEnc","excludedRoutes","sensitive_pixel_option","country_code","refreshCountryCodeCookieGdprRequest","country_short","requestCountryCode","setCountryCodeCookie","couponCode","coupons","couponsJson","MARKETING_COUPONS_KEY","SITE_FRAGMENT_REGEX","urlSafeBase64DecodeString","decodeMap","tk_amp","keyValMap","parseAmpEncodedParams","memoryStore","clearStorage","shouldBypass","shouldDisableIDB","DB_NAME","SANITY_TEST_KEY","isAffectedSafari","IDBKeyRange","lowerBound","webkitAudioContext","PointerEvent","supportsIDB","indexedDB","testValue","idbSet","idbGet","getDB","onerror","onsuccess","db","errorEvent","kebabCase","onversionchange","onupgradeneeded","createObjectStore","transaction","objectStore","oncomplete","onabort","idbGetAll","openCursor","cursor","primaryKey","idbWriteCount","idbWriteBlock","deleteRequest","deleteDatabase","idbRemove","oStore","put","_idbSafariReset","finally","idbSafariReset","bypassClear","createHTMLDocument","decoded","textContent","wordsToKeep","preventWidowsInPart","reverseSpaceRegex","spacesToSubstitute","substituted","retVal","elements","idx","isValidElement","partArray","stripHTML","stripTags","GSUITE_PRODUCT_FAMILY","GOOGLE_WORKSPACE_PRODUCT_FAMILY","productSlug","isGSuiteProductSlug","buildConnection","connection","getConnection","createConnection","forwardMethod","conn","send","jetpackCloudEnvironments","loadjQueryDependentScript","logToLogstash","lastArgs","lastResult","every","memoizeLast","TOKEN_NAME","getToken","isDiscover","discoverFormat","pickFormat","slug","is_discover","discover_format","detectImage","image","imageUrl","imageShouldBeExcludedFromCandidacy","urlPart","edgeLength","isTrackingPixel","isCandidateForContentImage","deduceImageWidthAndHeight","maxWidthPhotonishURL","READER_CONTENT_WIDTH","mediaType","getAutoplayIframe","iframe","getEmbedMetadata","autoplayIframe","cloneNode","outerHTML","getEmbedType","detectMedia","dom","contentMedia","iframeIsAllowed","aspectRatio","detectEmbed","content_media","content_embeds","content_images","featured_image","pollLinkSelectors","detectPolls","noscripts","noscript","firstChild","pollLink","domForHtml","pollId","replaceChild","detectSurveys","surveys","survey","surveyDetails","surveyDomain","surveySlug","disableAutoPlayOnMedia","autoplay","disableAutoPlayOnEmbeds","embed","urlParts","getUrlParts","returnVal","stripAutoPlays","getUrlFromParts","linkJetpackCarousels","galleries","gallery","permalink","extra","img","attachmentId","makeEmbedsSafe","iframes","startsWith","hostName","iframeHost","trustedHost","endsWith","doesNotNeedSandbox","is_external","is_jetpack","embeds","makeImageSafe","maxWidth","imgSource","imgSourceParts","postUrlParts","resolveRelativePath","safeSource","safeImageURL","provideProtocol","hasAttributes","removeUnwantedAttributes","imageShouldBeRemovedFromContent","images","makeContentLinksSafe","safeLinkRe","thingsToRemove","removeElement","sanitizeContent","ep","matcher","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","removeContentStyles","allowedMarkupSelector","styled","tagName","firstElementIsBreakline","formatExcerpt","striptags","stripLeadingBreaklines","betterExcerpt","createBetterExcerpt","strippedDom","buildStrippedDom","content_no_html","better_excerpt","better_excerpt_no_html","shorterExcerpt","lastSpace","short_excerpt","DEFAULT_FIELDS","fields","author","avatar_URL","tags","keepValidImages","minWidth","minHeight","imageFilter","safeImageUrl","makeLinksSafe","short_URL","makeSiteIDSafeForAPI","site_id","normalized_site_id","pickCanonicalImage","canonicalImage","thumbIsLikelyImage","post_thumbnail","uri","candidateImage","isCandidateForCanonicalImage","canonical_image","isImageLargeEnoughForFeature","imageIsTallEnough","imageIsWideEnough","isCandidateForFeature","pickCanonicalMedia","isUrlLikelyAnImage","canonical_media","canonicalMedia","pickPrimaryTag","primary_tag","maxBy","post_count","preventWidowFormatting","safeImagePropertiesForWidth","makeImageURLSafe","featured_media","attachments","attachment","mime_type","stripHtml","convertImageToObject","returnObj","naturalWidth","naturalHeight","complete","fetched","waitForImagesToLoad","knownImages","imagesToCheck","checkAndRememberDimensions","knownDimensions","att","imagesLoaded","take","imageForURL","onload","imagesInOrder","createDomTransformRunner","transforms","memo","dataset","origSize","DOMParser","parseFromString","parsed","iframeSrc","allowedHost","withoutQuery","ext","baseURL","basePath","resolvedPath","IMAGE_SCALE_FACTOR","devicePixelRatio","SERVICE_HOSTNAME_PATTERNS","photon","gravatar","imageURL","urlType","determineUrlType","delete","sizeParam","sortedKeys","sortedParams","extendedUrl","safeLink","thumb","createPurchaseObject","purchase","amount","attachedToPurchaseId","attached_to_purchase_id","billPeriodDays","bill_period_days","mostRecentRenewDate","most_recent_renew_date","canDisableAutoRenew","can_disable_auto_renew","canExplicitRenew","can_explicit_renew","costToUnbundle","cost_to_unbundle","costToUnbundleText","cost_to_unbundle_display","price_text","currencyCode","currency_code","currencySymbol","currency_symbol","domainRegistrationAgreementUrl","domain_registration_agreement_url","blogCreatedDate","blog_created_date","expiryDate","expiry_date","expiryStatus","camelCase","expiry_status","iapPurchaseManagementLink","iap_purchase_management_link","includedDomain","included_domain","includedDomainPurchaseAmount","included_domain_purchase_amount","introductoryOffer","introductory_offer","costPerInterval","cost_per_interval","endDate","end_date","intervalCount","interval_count","intervalUnit","interval_unit","isWithinPeriod","is_within_period","transitionAfterRenewalCount","transition_after_renewal_count","isNextRenewalUsingOffer","is_next_renewal_using_offer","remainingRenewalsUsingOffer","remaining_renewals_using_offer","shouldProrateWhenOfferEnds","should_prorate_when_offer_ends","isNextRenewalProrated","is_next_renewal_prorated","is_cancelable","isDomainRegistration","is_domain_registration","isLocked","is_locked","isInAppPurchase","is_iap_purchase","isRechargeable","is_rechargable","isRefundable","is_refundable","isRenewable","is_renewable","isRenewal","is_renewal","priceText","partnerName","partner_name","partnerSlug","partner_slug","partnerKeyId","partner_key_id","payment","payment_name","payment_type","payment_country_code","countryName","payment_country_name","storedDetailsId","stored_details_id","pendingTransfer","pending_transfer","productId","productName","product_name","product_slug","totalRefundAmount","total_refund_amount","totalRefundText","total_refund_text","refundAmount","refund_amount","refundOptions","refund_options","refundText","refund_text","refundPeriodInDays","refund_period_in_days","regularPriceText","regular_price_text","renewDate","renew_date","saleAmount","sale_amount","siteName","blogname","subscribedDate","subscribed_date","subscriptionStatus","subscription_status","tagLine","tag_line","taxAmount","tax_amount","taxText","tax_text","purchaseRenewalQuantity","renewal_price_tier_usage_quantity","creditCard","payment_card_id","payment_card_type","processor","payment_card_processor","payment_details","payment_expiry","createPurchasesArray","dataTransferObject","DELETE_PATCH_KEY","itemsCache","ALL_ITEMS_KEY","QueryManager","itemKey","revisedItem","itemA","itemB","keyA","keyB","getItems","itemKeys","QueryKey","cacheForItems","resultForAllKeys","resultForItemKeys","getItemsForKeys","getFound","removeItems","receive","patch","nextItems","receivedItem","receivedItemKey","mergedItem","mergeItem","isEqual","clone","receivedQueryKey","isModified","nextQueries","isNewlyReceivedQueryKey","receivedItemKeys","nextQueryReceivedItemKeys","nextQueryFound","mergeQuery","difference","found","nextReceivedQuery","queryDetails","isReceivedQueryKey","dontShareQueryResultsWhenQueriesAreDifferent","shouldAdjustFoundCount","needsSort","updatedItem","OMIT_NULL_VALUES","DEFAULT_QUERY","omitBy","prunedQuery","stableQuery","sortBy","fromEntries","DEFAULT_PAGINATED_QUERY","PAGINATION_QUERY_KEYS","pageCache","PaginatedQueryManager","dataIgnoringPage","getItemsIgnoringPage","DefaultQuery","perPage","pageKey","pageResult","getPaginatedItems","includeFiller","getNumberOfPages","modifiedOptions","nextManager","hasQueryPaginationKeys","startOffset","nextQuery","pageItemKeys","modifiedNextQuery","cloneDeep","previousQuery","PaginatedQueryKey","DEFAULT_POST_QUERY","http_envelope","pretty","order","order_by","sticky","PostQueryManager","queryWithDefaults","queryDate","moment","comparison","taxonomy","slugs","valueLowercase","postA","postB","discussion","localeCompare","PostQueryKey","isDefaultOrNullQueryValue","queryManagerSchema","withQueryManager","prevManager","REGEX_EXEMPT_URL","origin","REGEXP_A8C_HOST","SIZE_PARAMS","addQueryArgs","URL_TYPE","pickBy","newSearch","serializedSearch","urlWithoutHttpRegex","withoutHttp","urlToSlug","relativePath","allowedKeys","requiredKeys","decodedKeys","getComputedAttributes","primaryBlogUrl","primary_blog_url","primarySiteSlug","localeSlug","language","localeVariant","locale_variant","getLogoutUrl","userData","subdomain","logout_URL","clearStore","wpcomOAuthWrapper","oauthToken","wpcomXhrWrapper","wpcomProxyRequest","metaAPI","accessAllUsersBlogs","wpcomSupport","injectLocalization","injectGuestSandboxTicketHandler","GUEST_TICKET_LOCALFORAGE_KEY","getTicket","ticket","store_sandbox_ticket","existingTicket","createdDate","deleteOldTicket","queryObject","guest_ticket","originalRequest","localized","localeQueryParam","apiNamespace","_locale","addLocaleQueryParam","supportUser","supportToken","tokenErrorCallback","addSupportParams","support_user","_support_token","setSupportUserToken","newUser","newToken","newTokenErrorCallback","addSupportData","WPCOMOAuthWrapper","reqHandler","loadToken","wpcomFactory","isTokenLoaded","authToken","_token","xhr","PANEL_MAPPINGS","fonts","identity","amp","menus","homepage","jetpack_search","getCustomizerFocus","panel","contentWidth","keyForPost","feed_ID","feed_item_ID","feedId","keysAreEqual","isGap","keyToString","isCombination","postIds","isRecommendationBlock","allowedTracksRailcarEventNames","pageViewForPost","blogUrl","isPrivate","blog","priv","sameXPost","postKey1","postKey2","xPostMetadata","ANALYTICS_EVENT_RECORD","ANALYTICS_PAGE_VIEW_RECORD","ANALYTICS_STAT_BUMP","ANALYTICS_TRACKING_ON","ANALYTICS_TRACKS_OPT_OUT","APP_BANNER_TOGGLE_VISIBILITY","APP_BANNER_DISMISSED","APPLY_STORED_STATE","CURRENT_USER_RECEIVE","CURRENT_USER_SET_EMAIL_VERIFIED","DOMAIN_CONTACT_INFO_DISCLOSE","DOMAIN_CONTACT_INFO_DISCLOSE_FAILURE","DOMAIN_CONTACT_INFO_DISCLOSE_SUCCESS","DOMAIN_CONTACT_INFO_REDACT","DOMAIN_CONTACT_INFO_REDACT_FAILURE","DOMAIN_CONTACT_INFO_REDACT_SUCCESS","DOMAIN_PRIVACY_DISABLE","DOMAIN_PRIVACY_DISABLE_FAILURE","DOMAIN_PRIVACY_DISABLE_SUCCESS","DOMAIN_PRIVACY_ENABLE","DOMAIN_PRIVACY_ENABLE_FAILURE","DOMAIN_PRIVACY_ENABLE_SUCCESS","EDITOR_START","EDITOR_STOP","EMAIL_VERIFY_REQUEST","EMAIL_VERIFY_REQUEST_FAILURE","EMAIL_VERIFY_REQUEST_SUCCESS","EMAIL_VERIFY_STATE_RESET","GUIDED_TOUR_UPDATE","HAPPYCHAT_BLUR","HAPPYCHAT_FOCUS","HAPPYCHAT_IO_INIT","HAPPYCHAT_IO_RECEIVE_ACCEPT","HAPPYCHAT_IO_RECEIVE_CONNECT","HAPPYCHAT_IO_RECEIVE_DISCONNECT","HAPPYCHAT_IO_RECEIVE_ERROR","HAPPYCHAT_IO_RECEIVE_INIT","HAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT","HAPPYCHAT_IO_RECEIVE_MESSAGE","HAPPYCHAT_IO_RECEIVE_MESSAGE_OPTIMISTIC","HAPPYCHAT_IO_RECEIVE_MESSAGE_UPDATE","HAPPYCHAT_IO_RECEIVE_RECONNECTING","HAPPYCHAT_IO_RECEIVE_STATUS","HAPPYCHAT_IO_RECEIVE_TOKEN","HAPPYCHAT_IO_RECEIVE_UNAUTHORIZED","HAPPYCHAT_IO_REQUEST_TRANSCRIPT","HAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE","HAPPYCHAT_IO_SEND_MESSAGE_EVENT","HAPPYCHAT_IO_SEND_MESSAGE_LOG","HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE","HAPPYCHAT_IO_SEND_MESSAGE_USERINFO","HAPPYCHAT_IO_SEND_PREFERENCES","HAPPYCHAT_IO_SEND_TYPING","HAPPYCHAT_IO_SET_CUSTOM_FIELDS","HAPPYCHAT_MINIMIZING","HAPPYCHAT_OPEN","HAPPYCHAT_SET_CURRENT_MESSAGE","HAPPYCHAT_SET_USER_CONFIG","HELP_CENTER_VISIBLE","JETPACK_DISCONNECT_RECEIVE","LAYOUT_FOCUS_SET","LAYOUT_NEXT_FOCUS_ACTIVATE","LAYOUT_NEXT_FOCUS_SET","LOCALE_SET","MASTERBAR_TOGGLE_VISIBILITY","MEDIA_DELETE","MEDIA_MODAL_VIEW_SET","NOTICE_CREATE","NOTICE_REMOVE","NOTIFICATIONS_PANEL_TOGGLE","POST_COUNTS_RECEIVE","POST_COUNTS_REQUEST","POST_COUNTS_REQUEST_FAILURE","POST_COUNTS_REQUEST_SUCCESS","POST_COUNTS_RESET_INTERNAL_STATE","POST_DELETE","POST_DELETE_FAILURE","POST_DELETE_SUCCESS","POST_EDIT","POST_LIKE","POST_LIKES_ADD_LIKER","POST_LIKES_RECEIVE","POST_LIKES_REMOVE_LIKER","POST_LIKES_REQUEST","POST_REQUEST","POST_REQUEST_FAILURE","POST_REQUEST_SUCCESS","POST_RESTORE","POST_RESTORE_FAILURE","POST_REVISION_AUTHORS_RECEIVE","POST_REVISIONS_DIALOG_CLOSE","POST_REVISIONS_DIALOG_OPEN","POST_REVISIONS_DIFF_SPLIT_VIEW","POST_REVISIONS_DIFF_UNIFY_VIEW","POST_REVISIONS_RECEIVE","POST_REVISIONS_SELECT","POST_SAVE","POST_SAVE_SUCCESS","POST_TYPE_LIST_SHARE_PANEL_HIDE","POST_TYPE_LIST_SHARE_PANEL_TOGGLE","POST_UNLIKE","POSTS_RECEIVE","POSTS_REQUEST","POSTS_REQUEST_FAILURE","POSTS_REQUEST_SUCCESS","PREFERENCES_FETCH","PREFERENCES_FETCH_FAILURE","PREFERENCES_FETCH_SUCCESS","PREFERENCES_RECEIVE","PREFERENCES_SAVE_SUCCESS","PREFERENCES_SET","PREVIEW_URL_CLEAR","PREVIEW_URL_SET","PURCHASE_REMOVE_COMPLETED","PURCHASE_REMOVE_FAILED","PURCHASES_REMOVE","PURCHASES_SITE_FETCH","PURCHASES_SITE_FETCH_COMPLETED","PURCHASES_SITE_FETCH_FAILED","PURCHASES_SITE_RESET_STATE","PURCHASES_USER_FETCH","PURCHASES_USER_FETCH_COMPLETED","PURCHASES_USER_FETCH_FAILED","ROUTE_SET","SECTION_LOADING_SET","SECTION_SET","SELECTED_SITE_SET","SITE_CONNECTION_STATUS_RECEIVE","SITE_CONNECTION_STATUS_REQUEST","SITE_CONNECTION_STATUS_REQUEST_FAILURE","SITE_CONNECTION_STATUS_REQUEST_SUCCESS","SITE_DELETE_RECEIVE","SITE_DOMAINS_RECEIVE","SITE_DOMAINS_REQUEST","SITE_DOMAINS_REQUEST_FAILURE","SITE_DOMAINS_REQUEST_SUCCESS","SITE_FEATURES_FETCH","SITE_FEATURES_FETCH_COMPLETED","SITE_FEATURES_FETCH_FAILED","SITE_FRONT_PAGE_UPDATE","SITE_INTRO_OFFER_RECEIVE","SITE_INTRO_OFFER_REQUEST","SITE_INTRO_OFFER_REQUEST_FAILURE","SITE_INTRO_OFFER_REQUEST_SUCCESS","SITE_MIGRATION_STATUS_UPDATE","SITE_PLANS_FETCH","SITE_PLANS_FETCH_COMPLETED","SITE_PLANS_FETCH_FAILED","SITE_PLANS_REMOVE","SITE_PLUGIN_UPDATED","SITE_PRODUCTS_FETCH","SITE_PRODUCTS_FETCH_COMPLETED","SITE_PRODUCTS_FETCH_FAILED","SITE_RECEIVE","SITE_REQUEST","SITE_REQUEST_FAILURE","SITE_REQUEST_SUCCESS","SITE_SETTINGS_RECEIVE","SITE_SETTINGS_UPDATE","SITES_BLOG_STICKER_ADD","SITES_BLOG_STICKER_LIST_RECEIVE","SITES_BLOG_STICKER_REMOVE","SITES_RECEIVE","SITES_REQUEST","SITES_REQUEST_FAILURE","SITES_REQUEST_SUCCESS","WORDADS_SITE_APPROVE_REQUEST_SUCCESS","WPCOM_HTTP_REQUEST","concatHandlers","mergeHandlers","handlers","mergeWith","initializations","addReducerToStore","getStoredState","storageKey","normalizedKey","normalizeKey","previousReducer","addReducer","storedState","recordEvent","analytics","eventServices","ga","tracks","adwords","pageViewServices","dispatcher","statBump","trackingTool","errorMessage","withSchemaValidation","idSchema","flagsSchema","active_flags","areCapabilitiesEqual","capA","capB","capabilities","capabilitiesSchema","site","lasagnaJwt","lasagnaSchema","lasagna_jwt","email_verified","verified","emailVerification","edit_pages","edit_posts","edit_others_posts","edit_others_pages","delete_posts","delete_others_posts","edit_theme_options","edit_users","list_users","manage_categories","manage_options","promote_users","publish_posts","upload_files","delete_users","remove_users","view_stats","createCurrentUserSelector","otherwise","registeredHandlers","registeredNames","registerHandlers","doBypassDataLayer","doBypass","bypassDataLayer","extendAction","http","apiVersion","formData","onFailure","onProgress","onStreamRecord","noRetry","maxAttempts","getData","getError","getProgress","dispatchRequest","keyedReducer","lastUpdated","pendingSince","requestKey","fullAction","deterministicStringify","getRequestKey","getRequestStatus","requestAction","fromApi","progress","record","getStreamRecord","createRequestAction","READER_SITE_REQUEST","retryPolicy","receiveReaderSiteRequestSuccess","receiveReaderSiteRequestFailure","newLike","mine","iLike","i_like","likes","receiveLikes","likeCount","liker","removeLiker","like","like_count","deleteMine","addLiker","unlike","maybeUpscaleTimePrecision","time","lastActivityTimestamp","timelineEvent","avatarURL","isEdited","revisions","isOptimistic","files","timestamp","getEventTimestamp","timelineSortCmp","sortTimeline","timeline","timelineSchema","withPersistence","forOperator","findIndex","messages","picture","HAPPYCHAT_MAX_STORED_MESSAGES","HAPPYCHAT_CHAT_STATUS_DEFAULT","receiveConnect","receiveDisconnect","receiveToken","receiveInit","receiveUnauthorized","receiveReconnecting","receiveAccept","isAvailable","receiveLocalizedSupport","receiveMessage","receiveMessageOptimistic","receiveMessageUpdate","receiveStatus","receiveError","receiveTranscript","requestTranscript","sendEvent","HAPPYCHAT_MESSAGE_TYPES","event_type","setChatCustomFields","fieldData","localizedSupport","HAPPYCHAT_CONNECTION_STATUS_UNINITIALIZED","HAPPYCHAT_CONNECTION_STATUS_CONNECTING","HAPPYCHAT_CONNECTION_STATUS_CONNECTED","HAPPYCHAT_CONNECTION_STATUS_DISCONNECTED","HAPPYCHAT_CONNECTION_STATUS_RECONNECTING","CUSTOMER_EVENT","CUSTOMER_INFO","LOG","HAPPYCHAT_CHAT_STATUS_ASSIGNED","registerReducer","eventMessage","auth","howCanWeHelp","howYouFeel","isHappychatClientConnected","isHappychatChatAssigned","combinedReducer","chat","ui","withStorageKey","getHappychatConnectionStatus","lostFocusAt","currentMessage","isMinimizing","configuration","setHappychatUserConfig","errorNotice","severity","geoLocation","geoLocationSchema","country_long","city","isEligible","isEligibleSchema","isUserEligible","availability","availabilitySchema","supportLevel","supportLevelSchema","region","precancellation","presale","getSelectedSiteId","createNotice","noticeOptions","notice","showDismiss","noticeId","isPersistent","displayOnNextPage","nextNotice","lastTimeShown","counts","currentUserId","postStatuses","getPostStatusKey","transitionPostStateToStatus","postStatusKey","postStatus","subKeys","authorId","subKey","subKeyCounts","countsSchema","posts","postType","requesting","postsReducer","itemReducer","itemSchema","login","site_visible","hasLiker","itemsSchema","global_ID","globalId","findKey","queriesSchema","normalizedPosts","normalizePostForState","postsBySiteId","sitePosts","mapValues","deserialize","persisted","findItemKey","allSitesQueries","allSitesQueriesSchema","siteRequests","queryRequests","serializedQuery","getSerializedPostsQuery","edits","memoState","postEditsLog","saveMarker","markerIndex","postEdits","mergePostEdits","newEditsLog","unappliedPostEdits","isAuthorEqual","isDateEqual","isDiscussionEqual","getFeaturedImageId","isStatusEqual","isTermsEqual","unappliedMetadataEdits","getUnappliedMetadataEdits","appendToPostEditsLog","savedPost","newPostId","mapKeys","users","diffs","diffsFromServer","isInteger","sitePostState","mergedRevisions","filteredDiffs","diff","keyBy","revisionId","isDialogVisible","diffView","authors","newPostEdits","lastEdits","getNormalizedPostsQuery","normalizedQuery","localAuthorEdit","savedAuthor","localDateEdit","savedDate","localDiscussionEdits","savedDiscussion","localStatusEdit","savedStatus","localTermEdits","savedTerms","termsArray","isHierarchical","normalizedEditedTerms","normalizedSavedTerms","xor","mergeMetadataEdits","nextEdits","newEdits","edit","mergedEdits","objValue","srcValue","savedMetadata","savedRecord","operation","isUnappliedMetadataEdit","recursiveUnset","remainingPath","normalizedPost","categories","DEFAULT_PREFERENCE_VALUES","recentSites","mediaScale","colorScheme","homeQuickLinksToggleStatus","preferencesReducer","remoteValues","remoteValuesSchema","localValues","removed","rest","lastFetchedTimestamp","tourName","finished","dismissedAt","scan","restore","lastCountDate","definitions","dismissiblePrompt","dismissedCount","reviewed","validFrom","PURCHASES_FETCH_ERROR_MESSAGE","purchasesReducer","isFetchingSitePurchases","hasLoadedSitePurchasesFromServer","updatePurchases","existingPurchases","newPurchases","removeMissingPurchasesByPredicate","overwriteExistingPurchases","getPurchases","getUserPurchases","READER_CONVERSATION_FOLLOW","READER_CONVERSATION_MUTE","READER_CONVERSATION_UPDATE_FOLLOW_STATUS","READER_DISMISS_POST","READER_DISMISS_SITE","READER_FEED_REQUEST","READER_FEED_REQUEST_FAILURE","READER_FEED_REQUEST_SUCCESS","READER_FEED_SEARCH_RECEIVE","READER_FOLLOW","READER_FOLLOW_ERROR","READER_FOLLOWS_RECEIVE","READER_FOLLOWS_SYNC_COMPLETE","READER_FOLLOWS_SYNC_START","READER_LIST_CREATE","READER_LIST_DELETE","READER_LIST_FOLLOW_RECEIVE","READER_LIST_ITEM_ADD_FEED_RECEIVE","READER_LIST_ITEM_DELETE_FEED","READER_LIST_ITEM_DELETE_SITE","READER_LIST_ITEM_DELETE_TAG","READER_LIST_ITEMS_RECEIVE","READER_LIST_REQUEST","READER_LIST_REQUEST_FAILURE","READER_LIST_REQUEST_SUCCESS","READER_LIST_UNFOLLOW_RECEIVE","READER_LIST_UPDATE","READER_LIST_UPDATE_FAILURE","READER_LIST_UPDATE_SUCCESS","READER_LISTS_RECEIVE","READER_LISTS_REQUEST","READER_ORGANIZATIONS_RECEIVE","READER_ORGANIZATIONS_REQUEST","READER_POST_SEEN","READER_POSTS_RECEIVE","READER_RECOMMENDED_SITES_RECEIVE","READER_RELATED_POSTS_RECEIVE","READER_RELATED_POSTS_REQUEST","READER_RELATED_POSTS_REQUEST_FAILURE","READER_RELATED_POSTS_REQUEST_SUCCESS","READER_SEEN_MARK_ALL_AS_SEEN_RECEIVE","READER_SEEN_MARK_AS_SEEN_RECEIVE","READER_SEEN_MARK_AS_UNSEEN_RECEIVE","READER_SITE_BLOCK","READER_SITE_BLOCKS_RECEIVE","READER_SITE_BLOCKS_REQUEST","READER_SITE_REQUEST_FAILURE","READER_SITE_REQUEST_SUCCESS","READER_SITE_UNBLOCK","READER_STREAMS_PAGE_RECEIVE","READER_STREAMS_PAGE_REQUEST","READER_STREAMS_SELECT_ITEM","READER_STREAMS_SELECT_NEXT_ITEM","READER_STREAMS_SELECT_PREV_ITEM","READER_STREAMS_SHOW_UPDATES","READER_STREAMS_UPDATES_RECEIVE","READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL","READER_SUBSCRIBE_TO_NEW_POST_EMAIL","READER_SUBSCRIBE_TO_NEW_POST_NOTIFICATIONS","READER_TAG_IMAGES_RECEIVE","READER_TAG_IMAGES_REQUEST","READER_TAG_IMAGES_REQUEST_FAILURE","READER_TAG_IMAGES_REQUEST_SUCCESS","READER_TAGS_RECEIVE","READER_THUMBNAIL_RECEIVE","READER_UNFOLLOW","READER_UNFOLLOW_TAG_RECEIVE","READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL","READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL","READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS","READER_UPDATE_NEW_POST_EMAIL_SUBSCRIPTION","CONVERSATION_FOLLOW_STATUS","following","not_following","muting","stateKey","followStatus","is_following_conversation","uniqBy","feeds","handleRequestFailure","is_error","handleRequestSuccess","feed","blog_ID","feed_URL","is_following","subscribers_count","last_update","organization_id","unseen_count","adaptFeed","existingEntry","globalIds","feedIds","lastFetched","queuedRequests","updateEmailSubscription","follow","currentFollowState","newProps","send_posts","send_comments","deliveryFrequency","post_delivery_frequency","newFollowState","prepareComparableUrl","delivery_methods","notification","updateNotificationSubscription","urlKey","feedUrl","newValues","actualFeedUrl","alias_feed_URLs","existingNotificationState","currentFollow","follows","keyedNewFollows","newFollow","incomingSite","seenSubscriptions","feedUrls","itemsCount","totalCount","lastSyncTime","date_subscribed","last_updated","is_owner","site_icon","preparedUrl","untrailingslashit","readerReducer","lists","listId","removeItemBy","newList","subscribedLists","subscriptionsSchema","followedListId","unfollowedListId","listItems","currentItems","tag_ID","tagId","isCreatingList","isRequestingList","isRequestingLists","isUpdatingList","owner","is_public","isRequesting","sites_count","trackRailcarRender","railcar","fetchForKey","readerContentWidth","content_width","require","hideRejections","receivePosts","toReload","toProcess","partition","reloadPost","runFastRules","runSlowRules","processedPosts","requestsInFlight","removeKey","receiveErrorForPostKey","UNCLASSIFIED","PHOTO_ONLY","LARGE_BANNER","ONE_LINER","LANDSCAPE_BANNER","PORTRAIT_BANNER","GALLERY","VIDEO","THUMBNAIL","CANONICAL_IN_CONTENT","FEATURED_VIDEO","X_POST","imageIsBigEnoughForGallery","GALLERY_MIN_IMAGE_WIDTH","MIN_IMAGE_HEIGHT","classifyPost","imagesForGallery","displayType","DISPLAY_TYPES","GALLERY_MIN_IMAGES","PHOTO_ONLY_MIN_WIDTH","getCharacterCount","PHOTO_ONLY_MAX_CHARACTER_COUNT","hasShortContent","display_type","fastPostNormalizationRules","flow","makeSiteIdSafeForApi","safeImageProperties","withContentDom","removeStyles","removeElementsBySelector","makeImagesSafe","addDiscoverProperties","slowSyncRules","MIN_IMAGE_WIDTH","is_seen","getPostMapByPostKey","treeSelect","postKeys","postMap","getCacheKey","pagingOffset","conversations","feedSearches","recommendedSites","relatedPosts","siteBlocks","siteDismissals","streams","thumbnails","organizations","setStateForKey","is_blocked","newBlocks","currentPage","lastPage","inflightPages","statusCode","is_mapped_domain","wpcom_url","unmapped_url","is_redirect","readerSitesSchema","sitesSchema","DAY_IN_MILLIS","isNotQueued","isMissing","getSite","takeWhile","takeRightWhile","PENDING_ITEMS_DEFAULT","streamReducer","streamItems","newXPosts","beforeGap","afterGap","nextGap","isSame","combineXPosts","accuState","streamItem","accuItem","indexToRemove","updatedState","pendingItems","maxDate","minDate","isSameOrBefore","isAfter","selected","isPoll","pageHandle","accumulator","lastPostKey","xPostUrls","resetFollowingData","allTagsUnfollowed","isFollowing","removedTag","embedUrl","thumbnailUrl","currentAddReducer","reducerRegistrationQueue","clearReducers","getRawSite","getSitesItems","EMPTY_SITES","SerializationResult","addRootResult","reducerKey","addResult","addKeyResult","resultState","resultKey","siteFilter","site_visibility","include_domain_only","site_activity","SITE_REQUEST_FIELDS","SITE_REQUEST_OPTIONS","siteFragment","doRequest","forceWpcom","force","receiveSite","stickers","stickerName","sticker","createRequestingReducer","modifySiteDomainObjectImmutable","modifyDomainProperties","targetDomain","domainIndex","newDomains","privateDomain","contactInfoDisclosed","updatingPrivacy","aftermarketAuction","autoRenewalDate","autoRenewing","canSetAsPrimary","currentUserCanManage","canManageDnsRecords","canManageNameServers","canUpdateContactInfo","cannotManageDnsRecordsReason","cannotManageNameServersReason","cannotUpdateContactInfoReason","expired","expiry","expirySoon","googleAppsSubscription","titanMailSubscription","hasRegistration","hasWpcomNameservers","hasZone","isPendingIcannVerification","isPendingRenewal","isPremium","isPrimary","isSubdomain","isWPCOMDomain","manualTransferRequired","partnerDomain","pendingRegistration","pendingRegistrationTime","pointsToWpcom","registrar","registrationDate","subscriptionId","supportsDomainConnect","supportsGdprConsentManagement","transferStartDate","transferEndDate","initialSiteState","hasLoadedFromServer","updateSiteState","featuresReducer","optionName","selectedSiteId","getSiteOption","requestStatus","RequestStatus","payloadIntroOffer","discount_percentage","formatted_price","ineligible_reason","raw_price","discountPercentage","formattedPrice","ineligibleReason","rawPrice","mapResponseObject","createIntroOfferMap","products","prevSite","wordads","initialNextState","THEME_ACTIVATE_SUCCESS","themeStylesheet","theme_slug","nextSite","blog_public","is_private","isComingSoon","wpcom_public_coming_soon","wpcom_coming_soon","is_coming_soon","mediaId","media_id","mediaIds","siteIconId","siteUpdates","updates","frontPageOptions","migrationStatus","lastModified","siteMigrationMeta","site_migration","newMeta","last_modified","hasAllSitesListSchema","requestingAll","introOffers","blogStickers","ico","visible","is_vip","is_multisite","product_name_short","user_is_owner","is_free","single_user_site","jp_version","translations","wordpress","wp_version","canJetpackSiteAutoUpdateFiles","isJetpackSite","canJetpackSiteUpdateFiles","fileModDisabled","isJetpackSiteSecondaryNetworkSite","returnUrl","guide","return","adminUrl","getSiteAdminUrl","getJetpackComputedAttributes","canAutoupdateFiles","canUpdateFiles","isMainNetworkSite","isJetpackSiteMainNetworkSite","isSecondaryNetworkSite","sitesItems","siteUrlSansProtocol","jetpackSite","getSiteComputedAttributes","computedAttributes","getSiteDomain","getSiteOptions","getSiteTitle","isSiteConflicting","EMPTY_OPTIONS","getSiteCache","siteIdOrSlug","rawSite","getSiteBySlug","cachedSite","clearCache","unmappedUrl","mainNetworkSite","getSiteCollisions","THEMES_REQUEST_SUCCESS","relevantAnalyticsEvents","relevantTypes","isRelevantAction","checks","newAction","maybeAdd","upgradeIntent","layoutFocus","view","postIdWithActiveSharePanel","postGlobalId","currentPreviewSiteId","currentPreviewUrl","siteSelectionInitialized","actionLog","appBannerVisibility","appBannerDismissed","helpCenterVisible","isSectionLoading","isNotificationsOpen","masterbarVisibility","mediaModal","postTypeList","preview","getSection","nextCreator","nextStore","subReducer","getCurrentReducer","keyPath","oldItemState","newItemState","itemValue","serializedValue","combined","prevStateForKey","applyStoredState","serialized","serializeState","deserializeState","origReducer","restKeys","existingReducer","newReducer","reduceRight","subreducer","subkey","newCombinedReducer","getStorageKeys","isValidSerializedState","serializedInitialState","getInitialState","debugInfo","validator","isValidStateWithSchema","persistingReducer","wrappedReducer","mostRecentUrlPath","pathCounter","getPageViewParams","last_pageview_path_with_count","this_pageview_path_with_count","EVENT_NAME_EXCEPTIONS","_superProps","_loadTracksResult","getUrlParameter","checkForBlockedTracks","_ut","_ui","tk_ai","randomBytes","randomBytesLength","times","createRandomId","_tkq","identifyUser","username","superProperties","do_not_track","build_timestamp","BUILD_TIMESTAMP","urlParams","utmParamEntries","utmParams","pageViewParams","_currentUser","hashPii","doNotTrack","sha256","readerFollowingSource","boom_analytics_key","google_recaptcha_site_key","desktop","electron","desktopOverride","CALYPSO_LIVE_REGEX","applyFlags","flagsString","modificationMethod","flagRaw","flag","session","configApi","createConfig","isEnabled","enabledFeatures","GSUITE_BASIC_SLUG","GSUITE_BUSINESS_SLUG","originalType","BASE_URL","EMPTY_URL","password","URL_PART_KEYS","pickUrlParts","include","pickedUrl","pathParts","BASE_HOSTNAME","INVALID","PATH_RELATIVE","ABSOLUTE","SCHEME_RELATIVE","PATH_ABSOLUTE","plain","primary","scary","busy","isAnchor","anchorProps","cleanAnchorProps","buttonProps","cleanButtonProps","ButtonWithForwardedRef","Card","forwardedRef","displayAsLink","highlight","elementClass","ForwardedRefCard","Gridicon","otherProps","isModulo18","iconName","iconClass","iconsThatNeedOffset","iconsThatNeedOffsetX","iconsThatNeedOffsetY","xlinkHref","spritePath","ScreenReaderText","STORE_KEY","register","controls","showHelpCenter","isMinimized","setIsMinimized","setIsVisible","animationProps","animation","onAnimationEnd","header","containerContent","onMinimize","onMaximize","onDismiss","CardBody","CardFooter","CardHeader","fontWeight","portalParent","createPortal","cy","stroke","strokeWidth","createContext","I18N","decimal_point_translation_key","thousands_sep_translation_key","domain_key","translationLookup","hashCache","throwErrors","simpleArguments","normalizeTranslateArguments","original","single","getTranslationFromTannin","tannin","lookup","defaultLocaleSlug","defaultPluralForms","numberFormatSettings","textDirection","componentUpdateHooks","translateHooks","stateObserver","numberFormat","decimals","decPoint","decimal_point","thousandsSep","thousands_sep","setLocale","localeData","keyHash","hashLength","lookupPrefix","sha1","generateLookup","variableHashLengthPos","minHashLength","maxHashLength","momentjs_locale","getLocale","getLocaleVariant","isRtl","addTranslations","hasTranslation","sprintfArgs","errorMethod","components","interpolateComponents","mixedString","hook","reRenderTranslations","registerComponentUpdateHook","registerTranslateHook","number_format","dec_point","prec","sep","toFixedFix","I18NContext","setCounter","bindTranslate","localeContext","getWpI18nLocaleSlug","TARGET_LOCALES","lowerCaseLocale","mapWpI18nLangToLocaleSlug","useLocale","fromProvider","providerHasLocale","fromWpI18n","setWpLocale","createHigherOrderComponent","InnerComponent","localesWithBlog","localesWithPrivacyPolicy","localesWithCookiePolicy","localesToSubdomains","br","zh","kr","supportSiteLocales","forumLocales","magnificentNonEnLocales","jetpackComLocales","INVALID_URL","getDefaultLocale","setLocalizedUrlHost","validLocales","setLocalizedWpComPath","limitPathMatch","prefixOrSuffixLocalizedUrlPath","prefixOrSuffix","prefixLocalizedUrlPath","urlLocalizationMapping","isLoggedIn","suffixLocalizedUrlPath","fullUrl","firstPathSegment","useLocalizeUrl","providerLocale","useCallback","buildChildren","openComponent","openIndex","closeIndex","openToken","nestLevel","getCloseIndex","grandChildren","clonedOpenComponent","siblings","interpolate","tokenize","identifyToken","callbacksForURLsInProgress","getCallbacksMap","addScriptCallback","callbacksMap","executeCallbacks","callbacksForUrl","cb","handleRequestError","createScriptElement","script","attachToHead","loadPromise","mappings","letterboxing","removeLetterboxing","PARSE_BASE_HOST","wasSecure","photonUrl","formattedUrl","isSecure","crc32","rng","server","serverFromUrlParts","DEFAULT_GET_DEPENDANTS","DEFAULT_GET_CACHE_KEY","makeSelectorFromArray","dependants","dependant","getDependants","memoizedSelector","memoize","lastDependants","getDependantsFn","currentDependants","isShallowEqual","isThunk","newDispatch","extraArgs","defaultGetCacheKey","getDependents","cachedSelector","dependents","leafCache","insertDependentKey","NULLISH_KEY","currentIndex","weakMapKey","existingMap","newMap","useBreakpoint","breakpoint","isWithinBreakpoint","subscribeIsWithinBreakpoint","MOBILE_BREAKPOINT","isBreakpointActive","DESKTOP_BREAKPOINT","SERVER_WIDTH","matchMedia","addListenerFunctions","createMediaQueryList","mediaQueryLists","getMediaQueryList","mediaQueryList","wrappedListener","proxyOrigin","postStrings","supportsFileConstructor","File","buffered","requests","supportsProgress","FormData","makeRequest","originalParams","install","uuidv4","supports_args","supports_error_obj","supports_progress","XMLHttpRequest","called","xhrOnLoad","xhrOnError","submitRequest","rej","chrome","getFileValue","patchFileObjects","contentWindow","isFile","fileContents","display","upload","download","callbackId","prog","dispatchEvent","onprogress","contentType","WPError","WPCOM","Request","pinghub","Pinghub","Me","Domains","domainId","Domain","Site","Users","Plans","Batch","freshlyPressed","sendRequest","timer","cancelTimeout","race","urls","DomainDns","_domain","_subpath","setDefaultARecords","DomainEmail","_email","forward","destination","mailbox","del","_id","isMappable","canRedirect","emailForwards","nameserversList","updateNameservers","nameservers","dnsList","googleAppsList","resendICANN","dns","mappingSetupInfo","mappingStatus","updateConnectionModeAndGetMappingStatus","suggestions","suggestionsExamples","supportedCountries","supportedStates","MeConnectedApp","appId","billingHistory","postsList","connectedApps","keyringConnections","publicizeConnections","MeSettings","connectedApp","publicizeConnection","MePublicizeConnection","twoStep","MeTwoStep","keyringConnection","MeKeyringConnection","KeyringConnection","keyId","PublicizeConnection","connectionId","profileLinks","MeProfileLinks","MeSettingsPassword","ProfileLinks","sms","MeTwoStepSMS","subpath","Category","sid","_sid","_slug","Comment","cid","pid","_cid","_pid","replies","reply","commentLike","likesList","CommentLike","SiteCreditVouchers","serviceType","SiteDomain","getPrimary","setPrimary","getRedirect","setRedirect","Follow","unfollow","Post","addPost","deletePost","Media","addMediaFiles","addFiles","addMediaUrls","addUrls","deleteMedia","SitePlugin","wpcomPlugin","SiteWPComPlugin","Tag","SiteTaxonomy","creditVouchers","SitePostType","SiteSettings","postCounts","renderShortcode","renderEmbed","embed_url","statsReferrersSpamNew","statsReferrersSpamDelete","statsVideo","videoId","statsPostViews","wordAds","SiteWordAds","runtimeBuilder","siteGetMethods","methodParams","buildFormData","createReadStream","isStream","_readableState","file","videoFiles","TusUploader","startUpload","media_urls","pluginPath","updateVersion","activate","deactivate","enableAutoupdate","autoupdate","disableAutoupdate","_siteId","_postType","_rootPath","taxonomiesList","termsPath","SitePost","getPostPath","getBySlug","related","Like","reblog","Reblog","subscriber","Subscriber","sitePostGetMethods","destination_site_id","dest","note","SitePostSubscriber","getOption","option","setOption","_taxonomy","termsList","SiteTaxonomyTerm","_term","_taxonomyPath","SiteWordAdsEarnings","SiteWordAdsSettings","earnings","tos","SiteWordAdsTOS","sign","uploader","resumableUploader","createGetJwtRequest","jwtData","jwtsForKeys","tus","endpoint","removeFingerprintOnSuccess","withCredentials","autoRetry","overridePatchMethod","chunkSize","allowedFileTypes","filename","filetype","retryDelays","onAfterResponse","getStatus","guid","getHeader","headerMap","tokenData","onBeforeRequest","_method","setHeader","_xhr","_url","_headers","headerName","upload_token","maybeUploadkey","responseData","findPreviousUploads","previousUploads","resumeFromPreviousUpload","suggest","conns","onclose","disconnect","Req","methodBuilder","buildPath","Class","debug_res","qs","formatArgs","useColors","humanize","color","lastC","namespaces","DEBUG","__nwjs","WebkitAppearance","firebug","exception","$1","localstorage","colors","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","coerce","logFn","selectColor","extend","newDebug","toNamespace","skips","nonNative","STATE_PLAINTEXT","STATE_HTML","STATE_COMMENT","ALLOWED_TAGS_REGEX","NORMALIZE_TAG_REGEX","allowable_tags","tag_replacement","striptags_internal","init_context","tag_set","parse_allowable_tags","tag_buffer","in_quote_char","output","char","normalize_tag","init_streaming_mode","define","_createClass","FileSource","_file","StreamSource","_chunkSize","_buffer","_bufferOffset","_reader","_done","_readUntilEnoughDataOrDone","hasEnoughData","_getDataFromBuffer","Blob","hasAllDataBeenRead","blobOrArray","FileReader","blob","fingerprint","exifHash","exif","hashCode","reactNativeFingerprint","XHRHttpStack","setRequestHeader","progressHandler","Response","getResponseHeader","responseText","httpStack","fileReader","urlStorage","Upload","_BaseUpload","PhoneGap","Cordova","cordova","product","readAsByteArray","chunk","readAsArrayBuffer","uriToBlob","responseType","hasStorage","SECURITY_ERR","QUOTA_EXCEEDED_ERR","canStoreURLs","WebStorageUrlStorage","_findEntries","urlStorageKey","_wrapNativeSuper","_cache","Wrapper","_construct","Parent","DetailedError","_Error","causingErr","originalResponse","causingError","requestId","getURL","getBody","NoopUrlStorage","uploadUrl","uploadSize","onChunkComplete","_onUploadUrlAvailable","addRequestId","onShouldRetry","parallelUploads","storeFingerprintForResuming","uploadLengthDeferred","uploadDataDuringCreation","BaseUpload","_urlStorage","_req","_fingerprint","_urlStorageKey","_offset","_aborted","_size","_source","_retryAttempt","_retryTimeout","_offsetBeforeRetry","_parallelUploads","_parallelUploadUrls","findUploadsByFingerprint","previousUpload","parallelUploadUrls","_emitError","openFile","_startParallelUpload","_startSingleUpload","totalSize","totalProgress","partCount","previousUrls","partSize","splitSizeIntoParts","uploads","lastPartProgress","newPartProgress","_emitProgress","_saveUploadInUrlStorage","_openRequest","encodeMetadata","_sendRequest","inStatusCategory","resolveUrl","_emitSuccess","_emitHttpError","_resumeUpload","_createUpload","shouldTerminate","terminate","_removeFromUrlStorage","bytesSent","bytesTotal","bytesAccepted","_addChunkToRequest","_handleUploadResponse","_performUpload","_this9","setProgressHandler","_emitChunkComplete","openRequest","_this10","removeUpload","_this11","storedUpload","creationTime","addUpload","remainingDelays","newOptions","encoded","createRequest","retryAttempt","cased","p1","controlOrWhitespace","CRHTLF","slashes","protocolre","windowsDriveLetter","trimLeft","rules","isSpecial","ignore","lolcation","finaldestination","Url","scheme","extractProtocol","forwardSlashes","otherSlashes","slashesCount","relative","extracted","instruction","instructions","up","ins","readUInt8","isArgumentsObject","isGeneratorFunction","whichTypedArray","BigIntSupported","SymbolSupported","ObjectToString","numberValue","stringValue","booleanValue","bigIntValue","symbolValue","checkBoxedPrimitive","prototypeValueOf","isMapToString","isSetToString","isWeakMapToString","isWeakSetToString","isArrayBufferToString","isArrayBuffer","working","isDataViewToString","isDataView","isSharedArrayBufferToString","isSharedArrayBuffer","isNumberObject","isStringObject","isBooleanObject","isBigIntObject","isSymbolObject","isPromise","isArrayBufferView","isUint8Array","isUint8ClampedArray","isUint16Array","isUint32Array","isInt8Array","isInt16Array","isInt32Array","isFloat32Array","isFloat64Array","isBigInt64Array","isBigUint64Array","isAsyncFunction","isMapIterator","isSetIterator","isGeneratorObject","isWebAssemblyCompiledModule","isBoxedPrimitive","isAnyArrayBuffer","descriptors","formatRegExp","isNull","deprecate","noDeprecation","throwDeprecation","traceDeprecation","trace","debugs","debugEnvRegex","debugEnv","stylize","stylizeNoColor","showHidden","_extend","isUndefined","stylizeWithColor","formatValue","styleType","styles","recurseTimes","primitive","formatPrimitive","visibleKeys","arrayToHash","formatError","braces","formatProperty","formatArray","cur","numLinesEst","reduceToSingleString","ar","pad","debuglog","isNullOrUndefined","isNativeError","isPrimitive","months","getHours","getMinutes","getSeconds","getDate","getMonth","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","promisify","custom","callbackify","callbackified","maybeCb","rnds8","msCrypto","byteToHex","rnds","foundName","uppercamelcase","statusCodes","setStatusCode","status_code","toName","error_description","setStatusCodeMessage","extended","captureStackTrace","_inheritsLoose","_objectSpread2","__webpack_module_cache__","originalFn","inProgress","dataWebpackPrefix","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","chunkId","miniCssF","isCssRtlEnabled","originalUrl","needAttach","nc","onScriptComplete","doneFns","currentScript","installedChunks","installedChunkData","errorType","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","HelpCenter"],"sourceRoot":""}