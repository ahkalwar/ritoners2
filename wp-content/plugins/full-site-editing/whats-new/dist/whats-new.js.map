{"version":3,"file":"whats-new.js","mappings":"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","sources":["webpack://EditingToolkit/../../node_modules/builtin-status-codes/browser.js","webpack://EditingToolkit/../../node_modules/call-bind/callBound.js","webpack://EditingToolkit/../../node_modules/call-bind/index.js","webpack://EditingToolkit/../../node_modules/cookie/index.js","webpack://EditingToolkit/../../node_modules/events/events.js","webpack://EditingToolkit/../../node_modules/function-bind/implementation.js","webpack://EditingToolkit/../../node_modules/function-bind/index.js","webpack://EditingToolkit/../../node_modules/get-intrinsic/index.js","webpack://EditingToolkit/../../node_modules/has-symbols/index.js","webpack://EditingToolkit/../../node_modules/has-symbols/shams.js","webpack://EditingToolkit/../../node_modules/has/src/index.js","webpack://EditingToolkit/../../node_modules/hash.js/lib/hash/common.js","webpack://EditingToolkit/../../node_modules/hash.js/lib/hash/sha/256.js","webpack://EditingToolkit/../../node_modules/hash.js/lib/hash/sha/common.js","webpack://EditingToolkit/../../node_modules/hash.js/lib/hash/utils.js","webpack://EditingToolkit/../../node_modules/inherits/inherits_browser.js","webpack://EditingToolkit/../../node_modules/js-base64/base64.js","webpack://EditingToolkit/../../node_modules/minimalistic-assert/index.js","webpack://EditingToolkit/../../node_modules/ms/index.js","webpack://EditingToolkit/../../node_modules/object-inspect/index.js","webpack://EditingToolkit/../../node_modules/progress-event/index.js","webpack://EditingToolkit/../../node_modules/qs/lib/formats.js","webpack://EditingToolkit/../../node_modules/qs/lib/index.js","webpack://EditingToolkit/../../node_modules/qs/lib/parse.js","webpack://EditingToolkit/../../node_modules/qs/lib/stringify.js","webpack://EditingToolkit/../../node_modules/qs/lib/utils.js","webpack://EditingToolkit/../../node_modules/querystringify/index.js","webpack://EditingToolkit/../../node_modules/requires-port/index.js","webpack://EditingToolkit/../../node_modules/side-channel/index.js","webpack://EditingToolkit/./editing-toolkit-plugin/whats-new/src/public-path.js","webpack://EditingToolkit/./editing-toolkit-plugin/whats-new/src/store.js","webpack://EditingToolkit/./editing-toolkit-plugin/whats-new/src/whats-new.js","webpack://EditingToolkit/../../packages/calypso-analytics/src/page-view-params.ts","webpack://EditingToolkit/../../packages/calypso-analytics/src/tracks.ts","webpack://EditingToolkit/../../packages/calypso-analytics/src/utils/debug.ts","webpack://EditingToolkit/../../packages/i18n-utils/src/locale-context.tsx","webpack://EditingToolkit/../../packages/load-script/src/callback-handler.js","webpack://EditingToolkit/../../packages/load-script/src/dom-operations.js","webpack://EditingToolkit/../../packages/load-script/src/index.js","webpack://EditingToolkit/../../packages/whats-new/src/index.js","webpack://EditingToolkit/../../packages/whats-new/src/whats-new-page.js","webpack://EditingToolkit/../../packages/wpcom-proxy-request/src/index.js","webpack://EditingToolkit/../../packages/wpcom.js/src/index.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/batch.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/domain.dns.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/domain.email.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/domain.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/domains.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.connected-application.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.keyring-connection.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.publicize-connection.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.settings.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.settings.password.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.settings.profile-links.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.two-step.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/me.two-step.sms.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/plans.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/runtime/site.get.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/runtime/site.post.get.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.category.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.comment.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.comment.like.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.credit-vouchers.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.domain.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.follow.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.media.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.plugin.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.post-type.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.post.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.post.like.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.post.reblog.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.post.subscriber.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.settings.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.tag.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.taxonomy.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.taxonomy.term.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.wordads.earnings.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.wordads.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.wordads.settings.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.wordads.tos.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/site.wpcom-plugin.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/tus-uploader.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/users.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/util/fs-browser.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/util/pinghub.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/util/request.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/util/runtime-builder.js","webpack://EditingToolkit/../../packages/wpcom.js/src/lib/util/send-request.js","webpack://EditingToolkit/../../node_modules/debug/src/browser.js","webpack://EditingToolkit/../../node_modules/debug/src/common.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/fileReader.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/fingerprint.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/httpStack.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/index.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/isCordova.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/isReactNative.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/readAsByteArray.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/uriToBlob.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/browser/urlStorage.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/error.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/logger.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/noopUrlStorage.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/upload.js","webpack://EditingToolkit/../../node_modules/tus-js-client/lib.esm/uuid.js","webpack://EditingToolkit/../../node_modules/uppercamelcase/index.js","webpack://EditingToolkit/../../node_modules/uppercamelcase/node_modules/camelcase/index.js","webpack://EditingToolkit/../../node_modules/url-parse/index.js","webpack://EditingToolkit/../../node_modules/uuid/dist/esm-browser/regex.js","webpack://EditingToolkit/../../node_modules/uuid/dist/esm-browser/rng.js","webpack://EditingToolkit/../../node_modules/uuid/dist/esm-browser/stringify.js","webpack://EditingToolkit/../../node_modules/uuid/dist/esm-browser/v4.js","webpack://EditingToolkit/../../node_modules/uuid/dist/esm-browser/validate.js","webpack://EditingToolkit/../../node_modules/wp-error/index.js","webpack://EditingToolkit/external window \"React\"","webpack://EditingToolkit/external window \"lodash\"","webpack://EditingToolkit/external window [\"wp\",\"components\"]","webpack://EditingToolkit/external window [\"wp\",\"compose\"]","webpack://EditingToolkit/external window [\"wp\",\"data\"]","webpack://EditingToolkit/external window [\"wp\",\"element\"]","webpack://EditingToolkit/external window [\"wp\",\"i18n\"]","webpack://EditingToolkit/external window [\"wp\",\"plugins\"]","webpack://EditingToolkit/external window [\"wp\",\"reactI18n\"]","webpack://EditingToolkit/../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://EditingToolkit/../../node_modules/@babel/runtime/helpers/esm/extends.js","webpack://EditingToolkit/webpack/bootstrap","webpack://EditingToolkit/webpack/runtime/compat get default export","webpack://EditingToolkit/webpack/runtime/define property getters","webpack://EditingToolkit/webpack/runtime/global","webpack://EditingToolkit/webpack/runtime/hasOwnProperty shorthand","webpack://EditingToolkit/webpack/runtime/make namespace object","webpack://EditingToolkit/webpack/runtime/publicPath"],"sourcesContent":["module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar utils = require('./utils');\nvar assert = require('minimalistic-assert');\n\nfunction BlockHash() {\n  this.pending = null;\n  this.pendingTotal = 0;\n  this.blockSize = this.constructor.blockSize;\n  this.outSize = this.constructor.outSize;\n  this.hmacStrength = this.constructor.hmacStrength;\n  this.padLength = this.constructor.padLength / 8;\n  this.endian = 'big';\n\n  this._delta8 = this.blockSize / 8;\n  this._delta32 = this.blockSize / 32;\n}\nexports.BlockHash = BlockHash;\n\nBlockHash.prototype.update = function update(msg, enc) {\n  // Convert message to array, pad it, and join into 32bit blocks\n  msg = utils.toArray(msg, enc);\n  if (!this.pending)\n    this.pending = msg;\n  else\n    this.pending = this.pending.concat(msg);\n  this.pendingTotal += msg.length;\n\n  // Enough data, try updating\n  if (this.pending.length >= this._delta8) {\n    msg = this.pending;\n\n    // Process pending data in blocks\n    var r = msg.length % this._delta8;\n    this.pending = msg.slice(msg.length - r, msg.length);\n    if (this.pending.length === 0)\n      this.pending = null;\n\n    msg = utils.join32(msg, 0, msg.length - r, this.endian);\n    for (var i = 0; i < msg.length; i += this._delta32)\n      this._update(msg, i, i + this._delta32);\n  }\n\n  return this;\n};\n\nBlockHash.prototype.digest = function digest(enc) {\n  this.update(this._pad());\n  assert(this.pending === null);\n\n  return this._digest(enc);\n};\n\nBlockHash.prototype._pad = function pad() {\n  var len = this.pendingTotal;\n  var bytes = this._delta8;\n  var k = bytes - ((len + this.padLength) % bytes);\n  var res = new Array(k + this.padLength);\n  res[0] = 0x80;\n  for (var i = 1; i < k; i++)\n    res[i] = 0;\n\n  // Append length\n  len <<= 3;\n  if (this.endian === 'big') {\n    for (var t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = len & 0xff;\n  } else {\n    res[i++] = len & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n\n    for (t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n  }\n\n  return res;\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar shaCommon = require('./common');\nvar assert = require('minimalistic-assert');\n\nvar sum32 = utils.sum32;\nvar sum32_4 = utils.sum32_4;\nvar sum32_5 = utils.sum32_5;\nvar ch32 = shaCommon.ch32;\nvar maj32 = shaCommon.maj32;\nvar s0_256 = shaCommon.s0_256;\nvar s1_256 = shaCommon.s1_256;\nvar g0_256 = shaCommon.g0_256;\nvar g1_256 = shaCommon.g1_256;\n\nvar BlockHash = common.BlockHash;\n\nvar sha256_K = [\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,\n  0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,\n  0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n  0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,\n  0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,\n  0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,\n  0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,\n  0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n  0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n];\n\nfunction SHA256() {\n  if (!(this instanceof SHA256))\n    return new SHA256();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a,\n    0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n  ];\n  this.k = sha256_K;\n  this.W = new Array(64);\n}\nutils.inherits(SHA256, BlockHash);\nmodule.exports = SHA256;\n\nSHA256.blockSize = 512;\nSHA256.outSize = 256;\nSHA256.hmacStrength = 192;\nSHA256.padLength = 64;\n\nSHA256.prototype._update = function _update(msg, start) {\n  var W = this.W;\n\n  for (var i = 0; i < 16; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i++)\n    W[i] = sum32_4(g1_256(W[i - 2]), W[i - 7], g0_256(W[i - 15]), W[i - 16]);\n\n  var a = this.h[0];\n  var b = this.h[1];\n  var c = this.h[2];\n  var d = this.h[3];\n  var e = this.h[4];\n  var f = this.h[5];\n  var g = this.h[6];\n  var h = this.h[7];\n\n  assert(this.k.length === W.length);\n  for (i = 0; i < W.length; i++) {\n    var T1 = sum32_5(h, s1_256(e), ch32(e, f, g), this.k[i], W[i]);\n    var T2 = sum32(s0_256(a), maj32(a, b, c));\n    h = g;\n    g = f;\n    f = e;\n    e = sum32(d, T1);\n    d = c;\n    c = b;\n    b = a;\n    a = sum32(T1, T2);\n  }\n\n  this.h[0] = sum32(this.h[0], a);\n  this.h[1] = sum32(this.h[1], b);\n  this.h[2] = sum32(this.h[2], c);\n  this.h[3] = sum32(this.h[3], d);\n  this.h[4] = sum32(this.h[4], e);\n  this.h[5] = sum32(this.h[5], f);\n  this.h[6] = sum32(this.h[6], g);\n  this.h[7] = sum32(this.h[7], h);\n};\n\nSHA256.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar rotr32 = utils.rotr32;\n\nfunction ft_1(s, x, y, z) {\n  if (s === 0)\n    return ch32(x, y, z);\n  if (s === 1 || s === 3)\n    return p32(x, y, z);\n  if (s === 2)\n    return maj32(x, y, z);\n}\nexports.ft_1 = ft_1;\n\nfunction ch32(x, y, z) {\n  return (x & y) ^ ((~x) & z);\n}\nexports.ch32 = ch32;\n\nfunction maj32(x, y, z) {\n  return (x & y) ^ (x & z) ^ (y & z);\n}\nexports.maj32 = maj32;\n\nfunction p32(x, y, z) {\n  return x ^ y ^ z;\n}\nexports.p32 = p32;\n\nfunction s0_256(x) {\n  return rotr32(x, 2) ^ rotr32(x, 13) ^ rotr32(x, 22);\n}\nexports.s0_256 = s0_256;\n\nfunction s1_256(x) {\n  return rotr32(x, 6) ^ rotr32(x, 11) ^ rotr32(x, 25);\n}\nexports.s1_256 = s1_256;\n\nfunction g0_256(x) {\n  return rotr32(x, 7) ^ rotr32(x, 18) ^ (x >>> 3);\n}\nexports.g0_256 = g0_256;\n\nfunction g1_256(x) {\n  return rotr32(x, 17) ^ rotr32(x, 19) ^ (x >>> 10);\n}\nexports.g1_256 = g1_256;\n","'use strict';\n\nvar assert = require('minimalistic-assert');\nvar inherits = require('inherits');\n\nexports.inherits = inherits;\n\nfunction isSurrogatePair(msg, i) {\n  if ((msg.charCodeAt(i) & 0xFC00) !== 0xD800) {\n    return false;\n  }\n  if (i < 0 || i + 1 >= msg.length) {\n    return false;\n  }\n  return (msg.charCodeAt(i + 1) & 0xFC00) === 0xDC00;\n}\n\nfunction toArray(msg, enc) {\n  if (Array.isArray(msg))\n    return msg.slice();\n  if (!msg)\n    return [];\n  var res = [];\n  if (typeof msg === 'string') {\n    if (!enc) {\n      // Inspired by stringToUtf8ByteArray() in closure-library by Google\n      // https://github.com/google/closure-library/blob/8598d87242af59aac233270742c8984e2b2bdbe0/closure/goog/crypt/crypt.js#L117-L143\n      // Apache License 2.0\n      // https://github.com/google/closure-library/blob/master/LICENSE\n      var p = 0;\n      for (var i = 0; i < msg.length; i++) {\n        var c = msg.charCodeAt(i);\n        if (c < 128) {\n          res[p++] = c;\n        } else if (c < 2048) {\n          res[p++] = (c >> 6) | 192;\n          res[p++] = (c & 63) | 128;\n        } else if (isSurrogatePair(msg, i)) {\n          c = 0x10000 + ((c & 0x03FF) << 10) + (msg.charCodeAt(++i) & 0x03FF);\n          res[p++] = (c >> 18) | 240;\n          res[p++] = ((c >> 12) & 63) | 128;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        } else {\n          res[p++] = (c >> 12) | 224;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        }\n      }\n    } else if (enc === 'hex') {\n      msg = msg.replace(/[^a-z0-9]+/ig, '');\n      if (msg.length % 2 !== 0)\n        msg = '0' + msg;\n      for (i = 0; i < msg.length; i += 2)\n        res.push(parseInt(msg[i] + msg[i + 1], 16));\n    }\n  } else {\n    for (i = 0; i < msg.length; i++)\n      res[i] = msg[i] | 0;\n  }\n  return res;\n}\nexports.toArray = toArray;\n\nfunction toHex(msg) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++)\n    res += zero2(msg[i].toString(16));\n  return res;\n}\nexports.toHex = toHex;\n\nfunction htonl(w) {\n  var res = (w >>> 24) |\n            ((w >>> 8) & 0xff00) |\n            ((w << 8) & 0xff0000) |\n            ((w & 0xff) << 24);\n  return res >>> 0;\n}\nexports.htonl = htonl;\n\nfunction toHex32(msg, endian) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++) {\n    var w = msg[i];\n    if (endian === 'little')\n      w = htonl(w);\n    res += zero8(w.toString(16));\n  }\n  return res;\n}\nexports.toHex32 = toHex32;\n\nfunction zero2(word) {\n  if (word.length === 1)\n    return '0' + word;\n  else\n    return word;\n}\nexports.zero2 = zero2;\n\nfunction zero8(word) {\n  if (word.length === 7)\n    return '0' + word;\n  else if (word.length === 6)\n    return '00' + word;\n  else if (word.length === 5)\n    return '000' + word;\n  else if (word.length === 4)\n    return '0000' + word;\n  else if (word.length === 3)\n    return '00000' + word;\n  else if (word.length === 2)\n    return '000000' + word;\n  else if (word.length === 1)\n    return '0000000' + word;\n  else\n    return word;\n}\nexports.zero8 = zero8;\n\nfunction join32(msg, start, end, endian) {\n  var len = end - start;\n  assert(len % 4 === 0);\n  var res = new Array(len / 4);\n  for (var i = 0, k = start; i < res.length; i++, k += 4) {\n    var w;\n    if (endian === 'big')\n      w = (msg[k] << 24) | (msg[k + 1] << 16) | (msg[k + 2] << 8) | msg[k + 3];\n    else\n      w = (msg[k + 3] << 24) | (msg[k + 2] << 16) | (msg[k + 1] << 8) | msg[k];\n    res[i] = w >>> 0;\n  }\n  return res;\n}\nexports.join32 = join32;\n\nfunction split32(msg, endian) {\n  var res = new Array(msg.length * 4);\n  for (var i = 0, k = 0; i < msg.length; i++, k += 4) {\n    var m = msg[i];\n    if (endian === 'big') {\n      res[k] = m >>> 24;\n      res[k + 1] = (m >>> 16) & 0xff;\n      res[k + 2] = (m >>> 8) & 0xff;\n      res[k + 3] = m & 0xff;\n    } else {\n      res[k + 3] = m >>> 24;\n      res[k + 2] = (m >>> 16) & 0xff;\n      res[k + 1] = (m >>> 8) & 0xff;\n      res[k] = m & 0xff;\n    }\n  }\n  return res;\n}\nexports.split32 = split32;\n\nfunction rotr32(w, b) {\n  return (w >>> b) | (w << (32 - b));\n}\nexports.rotr32 = rotr32;\n\nfunction rotl32(w, b) {\n  return (w << b) | (w >>> (32 - b));\n}\nexports.rotl32 = rotl32;\n\nfunction sum32(a, b) {\n  return (a + b) >>> 0;\n}\nexports.sum32 = sum32;\n\nfunction sum32_3(a, b, c) {\n  return (a + b + c) >>> 0;\n}\nexports.sum32_3 = sum32_3;\n\nfunction sum32_4(a, b, c, d) {\n  return (a + b + c + d) >>> 0;\n}\nexports.sum32_4 = sum32_4;\n\nfunction sum32_5(a, b, c, d, e) {\n  return (a + b + c + d + e) >>> 0;\n}\nexports.sum32_5 = sum32_5;\n\nfunction sum64(buf, pos, ah, al) {\n  var bh = buf[pos];\n  var bl = buf[pos + 1];\n\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  buf[pos] = hi >>> 0;\n  buf[pos + 1] = lo;\n}\nexports.sum64 = sum64;\n\nfunction sum64_hi(ah, al, bh, bl) {\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  return hi >>> 0;\n}\nexports.sum64_hi = sum64_hi;\n\nfunction sum64_lo(ah, al, bh, bl) {\n  var lo = al + bl;\n  return lo >>> 0;\n}\nexports.sum64_lo = sum64_lo;\n\nfunction sum64_4_hi(ah, al, bh, bl, ch, cl, dh, dl) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + carry;\n  return hi >>> 0;\n}\nexports.sum64_4_hi = sum64_4_hi;\n\nfunction sum64_4_lo(ah, al, bh, bl, ch, cl, dh, dl) {\n  var lo = al + bl + cl + dl;\n  return lo >>> 0;\n}\nexports.sum64_4_lo = sum64_4_lo;\n\nfunction sum64_5_hi(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n  lo = (lo + el) >>> 0;\n  carry += lo < el ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + eh + carry;\n  return hi >>> 0;\n}\nexports.sum64_5_hi = sum64_5_hi;\n\nfunction sum64_5_lo(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var lo = al + bl + cl + dl + el;\n\n  return lo >>> 0;\n}\nexports.sum64_5_lo = sum64_5_lo;\n\nfunction rotr64_hi(ah, al, num) {\n  var r = (al << (32 - num)) | (ah >>> num);\n  return r >>> 0;\n}\nexports.rotr64_hi = rotr64_hi;\n\nfunction rotr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.rotr64_lo = rotr64_lo;\n\nfunction shr64_hi(ah, al, num) {\n  return ah >>> num;\n}\nexports.shr64_hi = shr64_hi;\n\nfunction shr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.shr64_lo = shr64_lo;\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.6.4\";\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa && typeof global.btoa == 'function'\n        ? function(b){ return global.btoa(b) } : function(b) {\n        if (b.match(/[^\\x00-\\xFF]/)) throw new RangeError(\n            'The string contains invalid characters.'\n        );\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = function(u) {\n        return btoa(utob(String(u)));\n    };\n    var mkUriSafe = function (b64) {\n        return b64.replace(/[+\\/]/g, function(m0) {\n            return m0 == '+' ? '-' : '_';\n        }).replace(/=/g, '');\n    };\n    var encode = function(u, urisafe) {\n        return urisafe ? mkUriSafe(_encode(u)) : _encode(u);\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    var fromUint8Array;\n    if (global.Uint8Array) fromUint8Array = function(a, urisafe) {\n        // return btoa(fromCharCode.apply(null, a));\n        var b64 = '';\n        for (var i = 0, l = a.length; i < l; i += 3) {\n            var a0 = a[i], a1 = a[i+1], a2 = a[i+2];\n            var ord = a0 << 16 | a1 << 8 | a2;\n            b64 +=    b64chars.charAt( ord >>> 18)\n                +     b64chars.charAt((ord >>> 12) & 63)\n                + ( typeof a1 != 'undefined'\n                    ? b64chars.charAt((ord >>>  6) & 63) : '=')\n                + ( typeof a2 != 'undefined'\n                    ? b64chars.charAt( ord         & 63) : '=');\n        }\n        return urisafe ? mkUriSafe(b64) : b64;\n    };\n    // decoder stuff\n    var re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob && typeof global.atob == 'function'\n        ? function(a){ return global.atob(a) } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = function(a) { return btou(_atob(a)) };\n    var _fromURI = function(a) {\n        return String(a).replace(/[-_]/g, function(m0) {\n            return m0 == '-' ? '+' : '/'\n        }).replace(/[^A-Za-z0-9\\+\\/]/g, '');\n    };\n    var decode = function(a){\n        return _decode(_fromURI(a));\n    };\n    var toUint8Array;\n    if (global.Uint8Array) toUint8Array = function(a) {\n        return Uint8Array.from(atob(_fromURI(a)), function(c) {\n            return c.charCodeAt(0);\n        });\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        fromUint8Array: fromUint8Array,\n        toUint8Array: toUint8Array\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n","module.exports = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar match = String.prototype.match;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nvar inspectCustom = require('./util.inspect').custom;\nvar inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;\nvar toStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag !== 'undefined' ? Symbol.toStringTag : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('options \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        return String(obj);\n    }\n    if (typeof obj === 'bigint') {\n        return String(obj) + 'n';\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = seen.slice();\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function') {\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + keys.join(', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? String(obj).replace(/^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + String(obj.nodeName).toLowerCase();\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + String(obj.nodeName).toLowerCase() + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + xs.join(', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + parts.join(', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {\n            return obj[inspectSymbol]();\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        mapForEach.call(obj, function (value, key) {\n            mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        setForEach.call(obj, function (value) {\n            setParts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? toStr(obj).slice(8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + [].concat(stringTag || [], protoTag || []).join(': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + ys.join(', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return String(s).replace(/\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString(str.slice(0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = str.replace(/(['\\\\])/g, '\\\\$1').replace(/[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + n.toString(16).toUpperCase();\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : entries.join(', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = Array(opts.indent + 1).join(' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: Array(depth + 1).join(baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + xs.join(',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ((/[^\\w$]/).test(key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","\nvar NativeProgressEvent = global.ProgressEvent;\nvar useNative = !!NativeProgressEvent;\n\ntry {\n  (function () {\n    var p = new NativeProgressEvent('loaded');\n    useNative = 'loaded' === p.type;\n    p = null;\n  })();\n} catch (e) {\n  useNative = false;\n}\n\n/**\n * Cross-browser `ProgressEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/ProgressEvent.ProgressEvent\n *\n * @public\n */\n\nmodule.exports = useNative ? NativeProgressEvent :\n\n// IE >= 9\n'function' === typeof document.createEvent ? function ProgressEvent (type, props) {\n  var e = document.createEvent('Event');\n  e.initEvent(type, false, false);\n  if (props) {\n    e.lengthComputable = Boolean(props.lengthComputable);\n    e.loaded = Number(props.loaded) || 0;\n    e.total = Number(props.total) || 0;\n  } else {\n    e.lengthComputable = false;\n    e.loaded = e.total = 0;\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction ProgressEvent (type, props) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (props) {\n    e.lengthComputable = Boolean(props.lengthComputable);\n    e.loaded = Number(props.loaded) || 0;\n    e.total = Number(props.total) || 0;\n  } else {\n    e.lengthComputable = false;\n    e.loaded = e.total = 0;\n  }\n  return e;\n}\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    if (sideChannel.has(object)) {\n        throw new RangeError('Cyclic object value');\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = typeof key === 'object' && key.value !== undefined ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, true);\n        var valueSideChannel = getSideChannel();\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","/* exported __webpack_public_path__ */\n/* global __webpack_public_path__ */\n\n/**\n * Dynamically set WebPack's publicPath so that split assets can be found.\n *\n * @see https://webpack.js.org/guides/public-path/#on-the-fly\n */\nif ( typeof window === 'object' && window.whatsNewAssetsUrl ) {\n\t// eslint-disable-next-line no-global-assign\n\t__webpack_public_path__ = window.whatsNewAssetsUrl;\n}\n","import { registerStore } from '@wordpress/data';\n\nconst DEFAULT_STATE = {\n\twhatsNew: false,\n};\n\nconst actions = {\n\ttoggleWhatsNew: () => ( {\n\t\ttype: 'TOGGLE_FEATURE',\n\t} ),\n};\n\nconst selectors = {\n\tisWhatsNewActive: ( state ) => state.whatsNew,\n};\n\nfunction reducer( state = DEFAULT_STATE, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'TOGGLE_FEATURE':\n\t\t\treturn {\n\t\t\t\twhatsNew: ! state.whatsNew,\n\t\t\t};\n\t}\n\treturn state;\n}\n\nregisterStore( 'automattic/whats-new', {\n\treducer,\n\tactions,\n\tselectors,\n} );\n","/*** THIS MUST BE THE FIRST THING EVALUATED IN THIS SCRIPT *****/\nimport './public-path';\n\nimport { recordTracksEvent } from '@automattic/calypso-analytics';\nimport WhatsNewGuide from '@automattic/whats-new';\nimport { Fill, MenuItem } from '@wordpress/components';\nimport { useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { registerPlugin } from '@wordpress/plugins';\nimport { useState } from 'react';\n\nfunction WhatsNewMenuItem() {\n\tconst [ showGuide, setShowGuide ] = useState( false );\n\tconst openWhatsNew = () => setShowGuide( true );\n\tconst closeWhatsNew = () => setShowGuide( false );\n\n\t// Record Tracks event if user opens What's New\n\tuseEffect( () => {\n\t\tif ( showGuide ) {\n\t\t\trecordTracksEvent( 'calypso_block_editor_whats_new_open' );\n\t\t}\n\t}, [ showGuide ] );\n\n\treturn (\n\t\t<>\n\t\t\t<Fill name=\"ToolsMoreMenuGroup\">\n\t\t\t\t<MenuItem onClick={ openWhatsNew }>{ __( \"What's new\", 'full-site-editing' ) }</MenuItem>\n\t\t\t</Fill>\n\t\t\t{ showGuide && <WhatsNewGuide onClose={ closeWhatsNew } /> }\n\t\t</>\n\t);\n}\n\nexport default WhatsNewMenuItem;\n\nregisterPlugin( 'whats-new', {\n\trender() {\n\t\treturn <WhatsNewMenuItem />;\n\t},\n} );\n","// We use this module state to track url paths submitted to recordTracksPageView\n// `lib/analytics/index.js` also reuses it for timing.record\nlet mostRecentUrlPath: string | null = null;\n\n// pathCounter is used to keep track of the order of calypso_page_view Tracks events.\nlet pathCounter = 0;\n\nif ( typeof window !== 'undefined' ) {\n\twindow.addEventListener( 'popstate', function () {\n\t\t// throw away our URL value if the user used the back/forward buttons\n\t\tmostRecentUrlPath = null;\n\t} );\n}\n\ninterface PageViewParams {\n\tlast_pageview_path_with_count: string;\n\tthis_pageview_path_with_count: string;\n}\n\nexport function getPageViewParams( urlPath: string ): PageViewParams {\n\tconst params = {\n\t\tlast_pageview_path_with_count: `${ mostRecentUrlPath }(${ pathCounter.toString() })`,\n\t\tthis_pageview_path_with_count: `${ urlPath }(${ pathCounter + 1 })`,\n\t};\n\t// Record this path.\n\tmostRecentUrlPath = urlPath;\n\tpathCounter++;\n\treturn params;\n}\n\n/**\n * Gets the url path which was set on the last call to getPageViewParams() and stored in module state\n * mostRecentUrlPath will be null if the page was refreshed or getPageViewParams() has not been called\n */\nexport function getMostRecentUrlPath(): string | null {\n\treturn mostRecentUrlPath;\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { EventEmitter } from 'events';\nimport { loadScript } from '@automattic/load-script';\nimport cookie from 'cookie';\nimport { includes, omitBy, times } from 'lodash';\nimport { getPageViewParams } from './page-view-params';\nimport { getCurrentUser, setCurrentUser } from './utils/current-user';\nimport debug from './utils/debug';\nimport getDoNotTrack from './utils/do-not-track';\n\ndeclare global {\n\tinterface Window {\n\t\t_tkq: Array< Array< any > >;\n\t}\n}\ndeclare const window: undefined | ( Window & { BUILD_TIMESTAMP?: number } );\n\n/**\n * Tracks uses a bunch of special query params that should not be used as property name\n * See internal Nosara repo?\n */\nconst TRACKS_SPECIAL_PROPS_NAMES = [ 'geo', 'message', 'request', 'geocity', 'ip' ];\nconst EVENT_NAME_EXCEPTIONS = [\n\t'a8c_cookie_banner_ok',\n\t// WooCommerce Onboarding / Connection Flow.\n\t'wcadmin_storeprofiler_create_jetpack_account',\n\t'wcadmin_storeprofiler_connect_store',\n\t'wcadmin_storeprofiler_login_jetpack_account',\n\t'wcadmin_storeprofiler_payment_login',\n\t'wcadmin_storeprofiler_payment_create_account',\n\t// Checkout\n\t'calypso_checkout_switch_to_p_24',\n\t'calypso_checkout_composite_p24_submit_clicked',\n];\nlet _superProps: any; // Added to all Tracks events.\nlet _loadTracksResult = Promise.resolve(); // default value for non-BOM environments.\n\nif ( typeof document !== 'undefined' ) {\n\t_loadTracksResult = loadScript( '//stats.wp.com/w.js?63' );\n}\n\nfunction createRandomId( randomBytesLength = 9 ): string {\n\tif ( typeof window === 'undefined' ) {\n\t\treturn '';\n\t}\n\t// 9 * 4/3 = 12\n\t// this is to avoid getting padding of a random byte string when it is base64 encoded\n\tlet randomBytes: any;\n\n\tif ( window.crypto && window.crypto.getRandomValues ) {\n\t\trandomBytes = new Uint8Array( randomBytesLength );\n\t\twindow.crypto.getRandomValues( randomBytes );\n\t} else {\n\t\trandomBytes = times( randomBytesLength, () => Math.floor( Math.random() * 256 ) );\n\t}\n\n\treturn window.btoa( String.fromCharCode( ...randomBytes ) );\n}\n\nfunction getUrlParameter( name: string ): string {\n\tif ( typeof window === 'undefined' ) {\n\t\treturn '';\n\t}\n\tname = name.replace( /[[]/g, '\\\\[' ).replace( /[\\]]/g, '\\\\]' );\n\tconst regex = new RegExp( '[\\\\?&]' + name + '=([^&#]*)' );\n\tconst results = regex.exec( window.location.search );\n\treturn results === null ? '' : decodeURIComponent( results[ 1 ].replace( /\\+/g, ' ' ) );\n}\n\nfunction checkForBlockedTracks(): Promise< void > {\n\t// Proceed only after the tracks script load finished and failed.\n\t// Calling this function from `initialize` ensures current user is set.\n\t// This detects stats blocking, and identifies by `getCurrentUser()`, URL, or cookie.\n\treturn _loadTracksResult.catch( () => {\n\t\tlet _ut;\n\t\tlet _ui;\n\t\tconst currentUser = getCurrentUser();\n\t\tif ( currentUser && currentUser.ID ) {\n\t\t\t_ut = 'wpcom:user_id';\n\t\t\t_ui = currentUser.ID;\n\t\t} else {\n\t\t\t_ut = getUrlParameter( '_ut' ) || 'anon';\n\t\t\t_ui = getUrlParameter( '_ui' );\n\t\t\tif ( ! _ui ) {\n\t\t\t\tconst cookies = cookie.parse( document.cookie );\n\t\t\t\tif ( cookies.tk_ai ) {\n\t\t\t\t\t_ui = cookies.tk_ai;\n\t\t\t\t} else {\n\t\t\t\t\tconst randomIdLength = 18; // 18 * 4/3 = 24 (base64 encoded chars).\n\t\t\t\t\t_ui = createRandomId( randomIdLength );\n\t\t\t\t\tdocument.cookie = cookie.serialize( 'tk_ai', _ui );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdebug( 'Loading /nostats.js', { _ut, _ui } );\n\t\treturn loadScript(\n\t\t\t'/nostats.js?_ut=' + encodeURIComponent( _ut ) + '&_ui=' + encodeURIComponent( _ui )\n\t\t);\n\t} );\n}\n\n/**\n * Returns a promise that marks whether and when the external Tracks script loads.\n */\nexport function getTracksLoadPromise() {\n\treturn _loadTracksResult;\n}\n\nexport function pushEventToTracksQueue( args: Array< any > ) {\n\tif ( typeof window !== 'undefined' ) {\n\t\twindow._tkq = window._tkq || [];\n\t\twindow._tkq.push( args );\n\t}\n}\n\nexport const analyticsEvents: EventEmitter = new EventEmitter();\n\n/**\n * Returns the anoymous id stored in the `tk_ai` cookie\n *\n * @returns The Tracks anonymous user id\n */\nexport function getTracksAnonymousUserId(): string {\n\tconst cookies = cookie.parse( document.cookie );\n\n\treturn cookies.tk_ai;\n}\n\nexport function initializeAnalytics(\n\tcurrentUser: any | undefined,\n\tsuperProps: any\n): Promise< void > {\n\t// Update super props.\n\tif ( 'function' === typeof superProps ) {\n\t\tdebug( 'superProps', superProps );\n\t\t_superProps = superProps;\n\t}\n\n\t// Identify current user.\n\tif ( 'object' === typeof currentUser ) {\n\t\tdebug( 'identifyUser', currentUser );\n\t\tidentifyUser( currentUser );\n\t}\n\n\t// Tracks blocked?\n\tdebug( 'checkForBlockedTracks' );\n\treturn checkForBlockedTracks();\n}\n\nexport function identifyUser( userData: any ): any {\n\t// Ensure object.\n\tif ( 'object' !== typeof userData ) {\n\t\tdebug( 'Invalid userData.', userData );\n\t\treturn; // Not possible.\n\t}\n\n\t// Set current user.\n\tconst currentUser = setCurrentUser( userData );\n\tif ( ! currentUser ) {\n\t\tdebug( 'Insufficient userData.', userData );\n\t\treturn; // Not possible.\n\t}\n\n\t// Tracks user identification.\n\tdebug( 'Tracks identifyUser.', currentUser );\n\tpushEventToTracksQueue( [ 'identifyUser', currentUser.ID, currentUser.username ] );\n}\n\nexport function recordTracksEvent( eventName: string, eventProperties?: any ) {\n\teventProperties = eventProperties || {};\n\n\tif ( process.env.NODE_ENV !== 'production' && typeof console !== 'undefined' ) {\n\t\tif (\n\t\t\t! /^calypso(?:_[a-z0-9]+){2,}$/.test( eventName ) &&\n\t\t\t! includes( EVENT_NAME_EXCEPTIONS, eventName )\n\t\t) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error(\n\t\t\t\t'Tracks: Event `%s` will be ignored because it does not match /^calypso(?:_[a-z0-9]+){2,}$/ and is ' +\n\t\t\t\t\t'not a listed exception. Please use a compliant event name.',\n\t\t\t\teventName\n\t\t\t);\n\t\t}\n\n\t\tfor ( const key in eventProperties ) {\n\t\t\tif ( eventProperties[ key ] !== null && typeof eventProperties[ key ] === 'object' ) {\n\t\t\t\tconst errorMessage =\n\t\t\t\t\t`Tracks: Unable to record event \"${ eventName }\" because nested ` +\n\t\t\t\t\t`properties are not supported by Tracks. Check '${ key }' on`;\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error( errorMessage, eventProperties );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! /^[a-z_][a-z0-9_]*$/.test( key ) ) {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Tracks: Event `%s` will be rejected because property name `%s` does not match /^[a-z_][a-z0-9_]*$/. ' +\n\t\t\t\t\t\t'Please use a compliant property name.',\n\t\t\t\t\teventName,\n\t\t\t\t\tkey\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif ( TRACKS_SPECIAL_PROPS_NAMES.indexOf( key ) !== -1 ) {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"Tracks: Event property `%s` will be overwritten because it uses one of Tracks' internal prop name: %s. \" +\n\t\t\t\t\t\t'Please use another property name.',\n\t\t\t\t\tkey,\n\t\t\t\t\tTRACKS_SPECIAL_PROPS_NAMES.join( ', ' )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tdebug( 'Record event \"%s\" called with props %o', eventName, eventProperties );\n\n\tif ( ! eventName.startsWith( 'calypso_' ) && ! includes( EVENT_NAME_EXCEPTIONS, eventName ) ) {\n\t\tdebug( '- Event name must be prefixed by \"calypso_\" or added to `EVENT_NAME_EXCEPTIONS`' );\n\t\treturn;\n\t}\n\n\tif ( _superProps ) {\n\t\tconst superProperties = _superProps( eventProperties );\n\t\teventProperties = { ...eventProperties, ...superProperties }; // assign to a new object so we don't modify the argument\n\t}\n\n\t// Remove properties that have an undefined value\n\t// This allows a caller to easily remove properties from the recorded set by setting them to undefined\n\teventProperties = omitBy( eventProperties, ( prop ) => typeof prop === 'undefined' );\n\n\tdebug( 'Recording event \"%s\" with actual props %o', eventName, eventProperties );\n\n\tpushEventToTracksQueue( [ 'recordEvent', eventName, eventProperties ] );\n\tanalyticsEvents.emit( 'record-event', eventName, eventProperties );\n}\n\nexport function recordTracksPageView( urlPath: string, params: any ) {\n\tdebug( 'Recording pageview in tracks.', urlPath, params );\n\n\tlet eventProperties = {\n\t\tdo_not_track: getDoNotTrack() ? 1 : 0,\n\t\tpath: urlPath,\n\t};\n\n\t// Add calypso build timestamp if set\n\tconst build_timestamp = typeof window !== 'undefined' && window.BUILD_TIMESTAMP;\n\tif ( build_timestamp ) {\n\t\teventProperties = Object.assign( eventProperties, { build_timestamp } );\n\t}\n\n\t// add optional path params\n\tif ( params ) {\n\t\teventProperties = Object.assign( eventProperties, params );\n\t}\n\n\t// Record all `utm` marketing parameters as event properties on the page view event\n\t// so we can analyze their performance with our analytics tools\n\tif ( typeof window !== 'undefined' && window.location ) {\n\t\tconst urlParams = new URL( window.location.href ).searchParams;\n\t\tconst utmParamEntries =\n\t\t\turlParams &&\n\t\t\tArray.from( urlParams.entries() ).filter( ( [ key ] ) => key.startsWith( 'utm_' ) );\n\t\tconst utmParams = utmParamEntries ? Object.fromEntries( utmParamEntries ) : {};\n\n\t\teventProperties = Object.assign( eventProperties, utmParams );\n\t}\n\n\trecordTracksEvent( 'calypso_page_view', eventProperties );\n}\n\nexport function recordTracksPageViewWithPageParams( urlPath: string, params?: any ) {\n\tconst pageViewParams = getPageViewParams( urlPath );\n\trecordTracksPageView( urlPath, Object.assign( params || {}, pageViewParams ) );\n}\n","import debugFactory from 'debug';\n\n/**\n * Module variables\n */\nexport default debugFactory( 'calypso:analytics' );\n","import { createHigherOrderComponent } from '@wordpress/compose';\nimport * as i18n from '@wordpress/i18n';\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport * as React from 'react';\nimport type { Locale } from './locales';\n\nexport const localeContext = createContext< string | null >( null );\n\ninterface Props {\n\tlocaleSlug: string;\n}\n\nexport const LocaleProvider: React.FC< Props > = ( { children, localeSlug } ) => (\n\t<localeContext.Provider value={ localeSlug }>{ children }</localeContext.Provider>\n);\n\n/**\n * Returns locale slug\n *\n * @param {string} locale locale to be converted e.g. \"en_US\".\n * @returns locale string e.g. \"en\"\n */\nfunction mapWpI18nLangToLocaleSlug( locale: Locale = '' ): Locale {\n\tif ( ! locale ) {\n\t\treturn '';\n\t}\n\n\tconst TARGET_LOCALES = [ 'pt_br', 'pt-br', 'zh_tw', 'zh-tw', 'zh_cn', 'zh-cn', 'zh_sg', 'zh-sg' ];\n\tconst lowerCaseLocale = locale.toLowerCase();\n\tconst formattedLocale = TARGET_LOCALES.includes( lowerCaseLocale )\n\t\t? lowerCaseLocale.replace( '_', '-' )\n\t\t: lowerCaseLocale.replace( /([-_].*)$/i, '' );\n\n\treturn formattedLocale || 'en';\n}\n\n/**\n * Get the current locale slug from the @wordpress/i18n locale data\n */\nfunction getWpI18nLocaleSlug(): string | undefined {\n\tconst language = i18n.getLocaleData ? i18n.getLocaleData()?.[ '' ]?.language : '';\n\n\treturn mapWpI18nLangToLocaleSlug( language );\n}\n\n/**\n * React hook providing the current locale slug. If `<LocaleProvider>` hasn't\n * been defined in the component tree then it will fall back to using the\n * data from `@wordpress/i18n` to determine the current locale slug.\n *\n * @example\n *\n * import { useLocale } from '@automattic/i18n-utils';\n * function MyComponent() {\n *   const locale = useLocale();\n *   return <div>The current locale is: { locale }</div>;\n * }\n */\nexport function useLocale(): string {\n\tconst fromProvider = useContext( localeContext );\n\tconst providerHasLocale = !! fromProvider;\n\n\tconst [ fromWpI18n, setWpLocale ] = useState( getWpI18nLocaleSlug() );\n\n\tuseEffect( () => {\n\t\t// If the <LocaleProvider> has been used further up the component tree\n\t\t// then we don't want to subscribe to any defaultI18n changes.\n\t\tif ( providerHasLocale ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetWpLocale( getWpI18nLocaleSlug() );\n\n\t\treturn i18n.subscribe( () => {\n\t\t\tsetWpLocale( getWpI18nLocaleSlug() );\n\t\t} );\n\t}, [ providerHasLocale ] );\n\n\treturn fromProvider || fromWpI18n || 'en';\n}\n\n/**\n * HoC providing the current locale slug supplied to `<LocaleProvider>`.\n *\n * @param InnerComponent Component that will receive `locale` as a prop\n * @returns Component enhanced with locale\n * @example\n *\n * import { withLocale } from '@automattic/i18n-utils';\n * function MyComponent( { locale } ) {\n *   return <div>The current locale is: { locale }</div>;\n * }\n * export default withLocale( MyComponent );\n */\nexport const withLocale = createHigherOrderComponent< { locale: string }, any >(\n\t( InnerComponent ) => {\n\t\treturn ( props ) => {\n\t\t\tconst locale = useLocale();\n\t\t\treturn <InnerComponent locale={ locale } { ...props } />;\n\t\t};\n\t},\n\t'withLocale'\n);\n","import debugFactory from 'debug';\nconst debug = debugFactory( 'lib/load-script/callback-handler' );\n\n/**\n * Module variables\n */\nconst callbacksForURLsInProgress = new Map();\n\nexport function getCallbacksMap() {\n\treturn callbacksForURLsInProgress;\n}\n\nexport function isLoading( url ) {\n\treturn getCallbacksMap().has( url );\n}\n\nexport function addScriptCallback( url, callback ) {\n\tconst callbacksMap = getCallbacksMap();\n\tif ( isLoading( url ) ) {\n\t\tdebug( `Adding a callback for an existing script from \"${ url }\"` );\n\t\tcallbacksMap.get( url ).add( callback );\n\t} else {\n\t\tdebug( `Adding a callback for a new script from \"${ url }\"` );\n\t\tcallbacksMap.set( url, new Set( [ callback ] ) );\n\t}\n}\n\nexport function removeScriptCallback( url, callback ) {\n\tdebug( `Removing a known callback for a script from \"${ url }\"` );\n\n\tif ( ! isLoading( url ) ) {\n\t\treturn;\n\t}\n\n\tconst callbacksMap = getCallbacksMap();\n\tconst callbacksAtUrl = callbacksMap.get( url );\n\tcallbacksAtUrl.delete( callback );\n\n\tif ( callbacksAtUrl.size === 0 ) {\n\t\tcallbacksMap.delete( url );\n\t}\n}\n\nexport function removeScriptCallbacks( url ) {\n\tdebug( `Removing all callbacks for a script from \"${ url }\"` );\n\tgetCallbacksMap().delete( url );\n}\n\nexport function removeAllScriptCallbacks() {\n\tdebug( 'Removing all callbacks for scripts from all URLs' );\n\tgetCallbacksMap().clear();\n}\n\nexport function executeCallbacks( url, error = null ) {\n\tconst callbacksMap = getCallbacksMap();\n\tconst callbacksForUrl = callbacksMap.get( url );\n\n\tif ( callbacksForUrl ) {\n\t\tconst debugMessage =\n\t\t\t`Executing callbacks for \"${ url }\"` +\n\t\t\t( error === null ? ' with success' : ` with error \"${ error }\"` );\n\t\tdebug( debugMessage );\n\n\t\tcallbacksForUrl.forEach( ( cb ) => {\n\t\t\tif ( typeof cb === 'function' ) {\n\t\t\t\tcb( error );\n\t\t\t}\n\t\t} );\n\n\t\tcallbacksMap.delete( url );\n\t}\n}\n\nexport function handleRequestSuccess() {\n\tconst url = this.getAttribute( 'src' );\n\tdebug( `Handling successful request for \"${ url }\"` );\n\texecuteCallbacks( url );\n\tthis.onload = null;\n}\n\nexport function handleRequestError() {\n\tconst url = this.getAttribute( 'src' );\n\tdebug( `Handling failed request for \"${ url }\"` );\n\texecuteCallbacks( url, new Error( `Failed to load script \"${ url }\"` ) );\n\tthis.onerror = null;\n}\n","import debugFactory from 'debug';\nimport { handleRequestError, handleRequestSuccess } from './callback-handler';\n\nconst debug = debugFactory( 'lib/load-script/dom-operations' );\n\nexport function createScriptElement( url ) {\n\tdebug( `Creating script element for \"${ url }\"` );\n\tconst script = document.createElement( 'script' );\n\tscript.src = url;\n\tscript.type = 'text/javascript';\n\tscript.async = true;\n\tscript.onload = handleRequestSuccess;\n\tscript.onerror = handleRequestError;\n\treturn script;\n}\n\nexport function attachToHead( element ) {\n\tdebug( 'Attaching element to head' );\n\tdocument.head.appendChild( element );\n}\n","/**\n * A little module for loading a external script\n *\n */\n\nimport debugFactory from 'debug';\nimport { addScriptCallback, isLoading } from './callback-handler';\nimport { createScriptElement, attachToHead } from './dom-operations';\n\nconst debug = debugFactory( 'package/load-script' );\n\n// NOTE: This exists for compatibility.\nexport { removeScriptCallback } from './callback-handler';\n\n/**\n * Module variables\n */\nexport const JQUERY_URL = 'https://s0.wp.com/wp-includes/js/jquery/jquery.js';\n\n//\n// loadScript and loadjQueryDependentScript\n//\n\nexport function loadScript( url, callback ) {\n\t// If this script is not currently being loaded, create a script element and attach to document head.\n\tconst shouldLoadScript = ! isLoading( url );\n\tif ( shouldLoadScript ) {\n\t\t// the onload/onerror callbacks are guaranteed to be called asynchronously, so it's ok to first\n\t\t// add the element and only then attach callbacks, as long as it happens in one event loop tick.\n\t\tattachToHead( createScriptElement( url ) );\n\t}\n\n\t// if callback is provided, behave traditionally\n\tif ( typeof callback === 'function' ) {\n\t\taddScriptCallback( url, callback );\n\t\treturn;\n\t}\n\n\t// but if not, return a Promise\n\treturn new Promise( ( resolve, reject ) => {\n\t\taddScriptCallback( url, ( error ) => {\n\t\t\tif ( error === null ) {\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\treject( error );\n\t\t\t}\n\t\t} );\n\t} );\n}\n\nexport function loadjQueryDependentScript( url, callback ) {\n\tdebug( `Loading a jQuery dependent script from \"${ url }\"` );\n\n\tif ( window.jQuery ) {\n\t\tdebug( `jQuery found on window, skipping jQuery script loading for \"${ url }\"` );\n\t\treturn loadScript( url, callback );\n\t}\n\n\tconst loadPromise = loadScript( JQUERY_URL ).then( () => loadScript( url ) );\n\n\t// if callback is provided, call it on resolution\n\tif ( typeof callback === 'function' ) {\n\t\tloadPromise.then(\n\t\t\t() => callback( null ),\n\t\t\t( error ) => callback( error )\n\t\t);\n\t\treturn;\n\t}\n\n\t// if not, return the Promise\n\treturn loadPromise;\n}\n","import { useLocale } from '@automattic/i18n-utils';\nimport { Guide } from '@wordpress/components';\nimport { useI18n } from '@wordpress/react-i18n';\nimport { useEffect, useState } from 'react';\nimport wpcom from 'wpcom';\nimport proxyRequest from 'wpcom-proxy-request';\nimport WhatsNewPage from './whats-new-page';\nimport './style.scss';\n\nconst WhatsNewGuide = ( { onClose } ) => {\n\tconst [ whatsNewData, setWhatsNewData ] = useState( null );\n\tconst __ = useI18n().__;\n\tconst locale = useLocale();\n\n\t// Load What's New list on first site load\n\tuseEffect( () => {\n\t\tconst proxiedWpcom = wpcom();\n\t\tproxiedWpcom.request = proxyRequest;\n\t\tproxiedWpcom.req\n\t\t\t.get( { path: `/whats-new/list?_locale=${ locale }`, apiNamespace: 'wpcom/v2' } )\n\t\t\t.then( ( returnedList ) => {\n\t\t\t\tsetWhatsNewData( returnedList );\n\t\t\t} );\n\t}, [ locale ] );\n\n\tif ( ! whatsNewData ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Guide\n\t\t\t// eslint-disable-next-line wpcalypso/jsx-classname-namespace\n\t\t\tclassName=\"whats-new-guide__main\"\n\t\t\tcontentLabel={ __( \"What's New at WordPress.com\", __i18n_text_domain__ ) }\n\t\t\tfinishButtonText={ __( 'Close', __i18n_text_domain__ ) }\n\t\t\tonFinish={ onClose }\n\t\t>\n\t\t\t{ whatsNewData.map( ( page, index ) => (\n\t\t\t\t<WhatsNewPage\n\t\t\t\t\tpageNumber={ index + 1 }\n\t\t\t\t\tisLastPage={ index === whatsNewData.length - 1 }\n\t\t\t\t\tdescription={ page.description }\n\t\t\t\t\theading={ page.heading }\n\t\t\t\t\timageSrc={ page.imageSrc }\n\t\t\t\t\tlink={ page.link }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</Guide>\n\t);\n};\n\nexport default WhatsNewGuide;\n","import { recordTracksEvent } from '@automattic/calypso-analytics';\nimport { Button, GuidePage } from '@wordpress/components';\nimport { useI18n } from '@wordpress/react-i18n';\nimport { useEffect } from 'react';\n\nfunction WhatsNewPage( { description, heading, imageSrc, isLastPage, link, pageNumber } ) {\n\tconst __ = useI18n().__;\n\n\tuseEffect( () => {\n\t\trecordTracksEvent( 'wpcom_whats_new_slide_view', {\n\t\t\tslide_number: pageNumber,\n\t\t\tis_last_slide: isLastPage,\n\t\t} );\n\t}, [ isLastPage, pageNumber ] );\n\n\treturn (\n\t\t<GuidePage className=\"whats-new-page__container\">\n\t\t\t<div className=\"whats-new-page__text\">\n\t\t\t\t{ heading && <h1 className=\"whats-new-page__heading\">{ heading }</h1> }\n\t\t\t\t<div className=\"whats-new-page__description\">\n\t\t\t\t\t{ description && <p>{ description }</p> }\n\t\t\t\t\t{ link && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"whats-new-page__link\"\n\t\t\t\t\t\t\thref={ link }\n\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\tisLink\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Learn more', __i18n_text_domain__ ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"whats-new-page__visual\">\n\t\t\t\t{ imageSrc && (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ imageSrc }\n\t\t\t\t\t\talt={ description }\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\tclassName={ 'whats-new-page__image' }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</GuidePage>\n\t);\n}\n\nexport default WhatsNewPage;\n","import debugFactory from 'debug';\nimport ProgressEvent from 'progress-event';\nimport { v4 as uuidv4 } from 'uuid';\nimport WPError from 'wp-error';\n\n/**\n * debug instance\n */\nconst debug = debugFactory( 'wpcom-proxy-request' );\n\n/**\n * WordPress.com REST API base endpoint.\n */\nconst proxyOrigin = 'https://public-api.wordpress.com';\n\n/**\n * \"Origin\" of the current HTML page.\n */\nconst origin = window.location.protocol + '//' + window.location.host;\n\nlet onStreamRecord = null;\n\n/**\n * Detecting support for the structured clone algorithm. IE8 and 9, and Firefox\n * 6.0 and below only support strings as postMessage's message. This browsers\n * will try to use the toString method.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\n * https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/The_structured_clone_algorithm\n * https://github.com/Modernizr/Modernizr/issues/388#issuecomment-31127462\n */\nconst postStrings = ( () => {\n\tlet r = false;\n\ttry {\n\t\twindow.postMessage(\n\t\t\t{\n\t\t\t\ttoString: function () {\n\t\t\t\t\tr = true;\n\t\t\t\t},\n\t\t\t},\n\t\t\t'*'\n\t\t);\n\t} catch ( e ) {\n\t\t/* empty */\n\t}\n\treturn r;\n} )();\n\n/**\n * Test if the browser supports constructing a new `File` object. Not present on Edge and IE.\n */\nconst supportsFileConstructor = ( () => {\n\ttry {\n\t\t// eslint-disable-next-line no-new\n\t\tnew window.File( [ 'a' ], 'test.jpg', { type: 'image/jpeg' } );\n\t\treturn true;\n\t} catch ( e ) {\n\t\treturn false;\n\t}\n} )();\n\n/**\n * Reference to the <iframe> DOM element.\n * Gets set in the install() function.\n */\nlet iframe = null;\n\n/**\n * Set to `true` upon the iframe's \"load\" event.\n */\nlet loaded = false;\n\n/**\n * Array of buffered API requests. Added to when API requests are done before the\n * proxy <iframe> is \"loaded\", and fulfilled once the \"load\" DOM event on the\n * iframe occurs.\n */\nlet buffered;\n\n/**\n * In-flight API request XMLHttpRequest dummy \"proxy\" instances.\n */\nconst requests = {};\n\n/**\n * Are HTML5 XMLHttpRequest2 \"progress\" events supported?\n * See: http://goo.gl/xxYf6D\n */\nconst supportsProgress = !! window.ProgressEvent && !! window.FormData;\n\ndebug( 'using \"origin\": %o', origin );\n\n/**\n * Performs a \"proxied REST API request\". This happens by calling\n * `iframe.postMessage()` on the proxy iframe instance, which from there\n * takes care of WordPress.com user authentication (via the currently\n * logged-in user's cookies).\n *\n * @param {object} originalParams - request parameters\n * @param {Function} [fn] - callback response\n * @returns {window.XMLHttpRequest} XMLHttpRequest instance\n */\nconst makeRequest = ( originalParams, fn ) => {\n\tconst params = Object.assign( {}, originalParams );\n\n\tdebug( 'request(%o)', params );\n\n\t// inject the <iframe> upon the first proxied API request\n\tif ( ! iframe ) {\n\t\tinstall();\n\t}\n\n\t// generate a uuid for this API request\n\tconst id = uuidv4();\n\tparams.callback = id;\n\tparams.supports_args = true; // supports receiving variable amount of arguments\n\tparams.supports_error_obj = true; // better Error object info\n\tparams.supports_progress = supportsProgress; // supports receiving XHR \"progress\" events\n\n\t// force uppercase \"method\" since that's what the <iframe> is expecting\n\tparams.method = String( params.method || 'GET' ).toUpperCase();\n\n\tdebug( 'params object: %o', params );\n\n\tconst xhr = new window.XMLHttpRequest();\n\txhr.params = params;\n\n\t// store the `XMLHttpRequest` instance so that \"onmessage\" can access it again\n\trequests[ id ] = xhr;\n\n\tif ( 'function' === typeof fn ) {\n\t\t// a callback function was provided\n\t\tlet called = false;\n\t\tconst xhrOnLoad = ( e ) => {\n\t\t\tif ( called ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcalled = true;\n\t\t\tconst body = e.response || xhr.response;\n\t\t\tdebug( 'body: ', body );\n\t\t\tdebug( 'headers: ', e.headers );\n\t\t\tfn( null, body, e.headers );\n\t\t};\n\t\tconst xhrOnError = ( e ) => {\n\t\t\tif ( called ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcalled = true;\n\t\t\tconst error = e.error || e.err || e;\n\t\t\tdebug( 'error: ', error );\n\t\t\tdebug( 'headers: ', e.headers );\n\t\t\tfn( error, null, e.headers );\n\t\t};\n\n\t\txhr.addEventListener( 'load', xhrOnLoad );\n\t\txhr.addEventListener( 'abort', xhrOnError );\n\t\txhr.addEventListener( 'error', xhrOnError );\n\t}\n\n\tif ( 'function' === typeof params.onStreamRecord ) {\n\t\t// remove onStreamRecord param, which can’t be cloned\n\t\tonStreamRecord = params.onStreamRecord;\n\t\tdelete params.onStreamRecord;\n\n\t\t// FIXME @azabani implement stream mode processing\n\t\t// Hint: port the algorithm from wpcom-xhr-request@1.2.0 to /public.api/rest-proxy/provider-\n\t\t// v2.0.js in rWP, then plumb stream records from onmessage below to onStreamRecord (or add\n\t\t// the XMLHttpRequest#response to ondownloadprogress there, then parse the chunks here).\n\t}\n\n\tif ( loaded ) {\n\t\tsubmitRequest( params );\n\t} else {\n\t\tdebug( 'buffering API request since proxying <iframe> is not yet loaded' );\n\t\tbuffered.push( params );\n\t}\n\n\treturn xhr;\n};\n\n/**\n * Performs a \"proxied REST API request\". This happens by calling\n * `iframe.postMessage()` on the proxy iframe instance, which from there\n * takes care of WordPress.com user authentication (via the currently\n * logged-in user's cookies).\n *\n * If no function is specified as second parameter, a promise is returned.\n *\n * @param {object} originalParams - request parameters\n * @param {Function} [fn] - callback response\n * @returns {window.XMLHttpRequest|Promise} XMLHttpRequest instance or Promise\n */\nconst request = ( originalParams, fn ) => {\n\t// if callback is provided, behave traditionally\n\tif ( 'function' === typeof fn ) {\n\t\t// request method\n\t\treturn makeRequest( originalParams, fn );\n\t}\n\n\t// but if not, return a Promise\n\treturn new Promise( ( res, rej ) => {\n\t\tmakeRequest( originalParams, ( err, response ) => {\n\t\t\terr ? rej( err ) : res( response );\n\t\t} );\n\t} );\n};\n\n/**\n * Set proxy to \"access all users' blogs\" mode.\n */\nexport function requestAllBlogsAccess() {\n\treturn request( { metaAPI: { accessAllUsersBlogs: true } } );\n}\n\n/**\n * Calls the `postMessage()` function on the <iframe>.\n *\n * @param {object} params\n */\n\nfunction submitRequest( params ) {\n\tdebug( 'sending API request to proxy <iframe> %o', params );\n\n\t// `formData` needs to be patched if it contains `File` objects to work around\n\t// a Chrome bug. See `patchFileObjects` description for more details.\n\tif ( params.formData ) {\n\t\tpatchFileObjects( params.formData );\n\t}\n\n\tiframe.contentWindow.postMessage( postStrings ? JSON.stringify( params ) : params, proxyOrigin );\n}\n\n/**\n * Returns `true` if `v` is a DOM File instance, `false` otherwise.\n *\n * @param {any} v - instance to analyze\n * @returns {boolean} `true` if `v` is a DOM File instance\n */\nfunction isFile( v ) {\n\treturn v && Object.prototype.toString.call( v ) === '[object File]';\n}\n\n/*\n * Find a `File` object in a form data value. It can be either the value itself, or\n * in a `fileContents` property of the value.\n */\nfunction getFileValue( v ) {\n\tif ( isFile( v ) ) {\n\t\treturn v;\n\t}\n\n\tif ( typeof v === 'object' && isFile( v.fileContents ) ) {\n\t\treturn v.fileContents;\n\t}\n\n\treturn null;\n}\n\n/**\n * Finds all `File` instances in `formData` and creates a new `File` instance whose storage is\n * forced to be a `Blob` instead of being backed by a file on disk. That works around a bug in\n * Chrome where `File` instances with `has_backing_file` flag cannot be sent over a process\n * boundary when site isolation is on.\n *\n * @see https://bugs.chromium.org/p/chromium/issues/detail?id=866805\n * @see https://bugs.chromium.org/p/chromium/issues/detail?id=631877\n *\n * @param {Array} formData Form data to patch\n */\nfunction patchFileObjects( formData ) {\n\t// There are several landmines to avoid when making file uploads work on all browsers:\n\t// - the `new File()` constructor trick breaks file uploads on Safari 10 in a way that's\n\t//   impossible to detect: it will send empty files in the multipart/form-data body.\n\t//   Therefore we need to detect Chrome.\n\t// - IE11 and Edge don't support the `new File()` constructor at all. It will throw exception,\n\t//   so it's detectable by the `supportsFileConstructor` code.\n\t// - `window.chrome` exists also on Edge (!), `window.chrome.webstore` is only in Chrome and\n\t//   not in other Chromium based browsers (which have the site isolation bug, too).\n\tif ( ! window.chrome || ! supportsFileConstructor ) {\n\t\treturn;\n\t}\n\n\tfor ( let i = 0; i < formData.length; i++ ) {\n\t\tconst val = getFileValue( formData[ i ][ 1 ] );\n\t\tif ( val ) {\n\t\t\tformData[ i ][ 1 ] = new window.File( [ val ], val.name, { type: val.type } );\n\t\t}\n\t}\n}\n\n/**\n * Injects the proxy <iframe> instance in the <body> of the current\n * HTML page.\n */\n\nfunction install() {\n\tdebug( 'install()' );\n\tif ( iframe ) {\n\t\tuninstall();\n\t}\n\n\tbuffered = [];\n\n\t// listen to messages sent to `window`\n\twindow.addEventListener( 'message', onmessage );\n\n\t// create the <iframe>\n\tiframe = document.createElement( 'iframe' );\n\n\t// set `src` and hide the iframe\n\tiframe.src = proxyOrigin + '/wp-admin/rest-proxy/?v=2.0#' + origin;\n\tiframe.style.display = 'none';\n\n\t// inject the <iframe> into the <body>\n\tdocument.body.appendChild( iframe );\n}\n\n/**\n * Reloads the proxy iframe.\n */\nconst reloadProxy = () => {\n\tinstall();\n};\n\n/**\n * Removes the <iframe> proxy instance from the <body> of the page.\n */\nfunction uninstall() {\n\tdebug( 'uninstall()' );\n\twindow.removeEventListener( 'message', onmessage );\n\tdocument.body.removeChild( iframe );\n\tloaded = false;\n\tiframe = null;\n}\n\n/**\n * The proxy <iframe> instance's \"load\" event callback function.\n */\n\nfunction onload() {\n\tdebug( 'proxy <iframe> \"load\" event' );\n\tloaded = true;\n\n\t// flush any buffered API calls\n\tif ( buffered ) {\n\t\tfor ( let i = 0; i < buffered.length; i++ ) {\n\t\t\tsubmitRequest( buffered[ i ] );\n\t\t}\n\t\tbuffered = null;\n\t}\n}\n\n/**\n * The main `window` object's \"message\" event callback function.\n *\n * @param {window.Event} e\n */\n\nfunction onmessage( e ) {\n\tdebug( 'onmessage' );\n\n\t// Filter out messages from different origins\n\tif ( e.origin !== proxyOrigin ) {\n\t\tdebug( 'ignoring message... %o !== %o', e.origin, proxyOrigin );\n\t\treturn;\n\t}\n\n\t// Filter out messages from different iframes\n\tif ( e.source !== iframe.contentWindow ) {\n\t\tdebug( 'ignoring message... iframe elements do not match' );\n\t\treturn;\n\t}\n\n\tlet { data } = e;\n\tif ( ! data ) {\n\t\treturn debug( 'no `data`, bailing' );\n\t}\n\n\t// Once the iframe is loaded, we can start using it.\n\tif ( data === 'ready' ) {\n\t\tonload();\n\t\treturn;\n\t}\n\n\tif ( postStrings && 'string' === typeof data ) {\n\t\tdata = JSON.parse( data );\n\t}\n\n\t// check if we're receiving a \"progress\" event\n\tif ( data.upload || data.download ) {\n\t\treturn onprogress( data );\n\t}\n\n\tif ( ! data.length ) {\n\t\treturn debug( \"`e.data` doesn't appear to be an Array, bailing...\" );\n\t}\n\n\t// first get the `xhr` instance that we're interested in\n\tconst id = data[ data.length - 1 ];\n\tif ( ! ( id in requests ) ) {\n\t\treturn debug( 'bailing, no matching request with callback: %o', id );\n\t}\n\n\tconst xhr = requests[ id ];\n\n\t// Build `error` and `body` object from the `data` object\n\tconst { params } = xhr;\n\n\tconst body = data[ 0 ];\n\tlet statusCode = data[ 1 ];\n\tconst headers = data[ 2 ];\n\n\t// We don't want to delete requests while we're processing stream messages\n\tif ( statusCode === 207 ) {\n\t\t// 207 is a signal from rest-proxy. It means, \"this isn't the final\n\t\t// response to the query.\" The proxy supports WebSocket connections\n\t\t// by invoking the original success callback for each message received.\n\t} else {\n\t\t// this is the final response to this query\n\t\tdelete requests[ id ];\n\t}\n\n\tif ( ! params.metaAPI ) {\n\t\tdebug( 'got %o status code for URL: %o', statusCode, params.path );\n\t} else {\n\t\tstatusCode = body === 'metaAPIupdated' ? 200 : 500;\n\t}\n\n\tif ( typeof headers === 'object' ) {\n\t\t// add statusCode into headers object\n\t\theaders.status = statusCode;\n\n\t\tif ( shouldProcessInStreamMode( headers[ 'Content-Type' ] ) ) {\n\t\t\tif ( statusCode === 207 ) {\n\t\t\t\tonStreamRecord( body );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( statusCode && 2 === Math.floor( statusCode / 100 ) ) {\n\t\t// 2xx status code, success\n\t\tresolve( xhr, body, headers );\n\t} else {\n\t\t// any other status code is a failure\n\t\tconst wpe = WPError( params, statusCode, body );\n\t\treject( xhr, wpe, headers );\n\t}\n}\n\n/**\n * Returns true iff stream mode processing is required (see wpcom-xhr-request@1.2.0).\n *\n * @param {string} contentType response Content-Type header value\n */\nfunction shouldProcessInStreamMode( contentType ) {\n\treturn /^application[/]x-ndjson($|;)/.test( contentType );\n}\n\n/**\n * Handles a \"progress\" event being proxied back from the iframe page.\n *\n * @param {object} data\n */\n\nfunction onprogress( data ) {\n\tdebug( 'got \"progress\" event: %o', data );\n\tconst xhr = requests[ data.callbackId ];\n\tif ( xhr ) {\n\t\tconst prog = new ProgressEvent( 'progress', data );\n\t\tconst target = data.upload ? xhr.upload : xhr;\n\t\ttarget.dispatchEvent( prog );\n\t}\n}\n\n/**\n * Emits the \"load\" event on the `xhr`.\n *\n * @param {window.XMLHttpRequest} xhr\n * @param {object} body\n */\n\nfunction resolve( xhr, body, headers ) {\n\tconst e = new ProgressEvent( 'load' );\n\te.data = e.body = e.response = body;\n\te.headers = headers;\n\txhr.dispatchEvent( e );\n}\n\n/**\n * Emits the \"error\" event on the `xhr`.\n *\n * @param {window.XMLHttpRequest} xhr\n * @param {Error} err\n */\n\nfunction reject( xhr, err, headers ) {\n\tconst e = new ProgressEvent( 'error' );\n\te.error = e.err = err;\n\te.headers = headers;\n\txhr.dispatchEvent( e );\n}\n\n/**\n * Export `request` function.\n */\nexport default request;\nexport { reloadProxy };\n","import debugModule from 'debug';\nimport Batch from './lib/batch';\nimport Domain from './lib/domain';\nimport Domains from './lib/domains';\nimport Me from './lib/me';\nimport Plans from './lib/plans';\nimport Site from './lib/site';\nimport Users from './lib/users';\nimport Pinghub from './lib/util/pinghub';\nimport Request from './lib/util/request';\nimport sendRequest from './lib/util/send-request';\n\n/**\n * Local module constants\n */\nconst debug = debugModule( 'wpcom' );\nconst DEFAULT_ASYNC_TIMEOUT = 30000;\n\n/**\n * XMLHttpRequest (and CORS) API access method.\n *\n * API authentication is done via an (optional) access `token`,\n * which needs to be retrieved via OAuth.\n *\n * Request Handler is optional and XHR is defined as default.\n *\n * @param {string} [token] - OAuth API access token\n * @param {Function} [reqHandler] - function Request Handler\n * @returns {WPCOM} wpcom instance\n */\nexport default function WPCOM( token, reqHandler ) {\n\tif ( ! ( this instanceof WPCOM ) ) {\n\t\treturn new WPCOM( token, reqHandler );\n\t}\n\n\t// `token` is optional\n\tif ( 'function' === typeof token ) {\n\t\treqHandler = token;\n\t\ttoken = null;\n\t}\n\n\tif ( token ) {\n\t\tdebug( 'Token defined: %s…', token.substring( 0, 6 ) );\n\t\tthis.token = token;\n\t}\n\n\tconst noHandler = ( params, fn ) => {\n\t\tdebug( 'No request handler. Failing.' );\n\t\tfn( new Error( 'No request handler provided' ) );\n\t};\n\n\tthis.request = reqHandler || noHandler;\n\n\t// Add Req instance\n\tthis.req = new Request( this );\n\n\t// Add Pinghub instance\n\tthis.pinghub = new Pinghub( this );\n\n\t// Default api version;\n\tthis.apiVersion = '1.1';\n}\n\n/**\n * Return `Me` object instance\n *\n * @returns {Me} Me instance\n */\nWPCOM.prototype.me = function () {\n\treturn new Me( this );\n};\n\n/**\n * Return `Domains` object instance\n *\n * @returns {Domains} Domains instance\n */\nWPCOM.prototype.domains = function () {\n\treturn new Domains( this );\n};\n\n/**\n * Return `Domain` object instance\n *\n * @param {string} domainId - domain identifier\n * @returns {Domain} Domain instance\n */\nWPCOM.prototype.domain = function ( domainId ) {\n\treturn new Domain( domainId, this );\n};\n\n/**\n * Return `Site` object instance\n *\n * @param {string} id - site identifier\n * @returns {Site} Site instance\n */\nWPCOM.prototype.site = function ( id ) {\n\treturn new Site( id, this );\n};\n\n/**\n * Return `Users` object instance\n *\n * @returns {Users} Users instance\n */\nWPCOM.prototype.users = function () {\n\treturn new Users( this );\n};\n\n/**\n * Return `Plans` object instance\n *\n * @returns {Plans} Plans instance\n */\nWPCOM.prototype.plans = function () {\n\treturn new Plans( this );\n};\n\n/**\n * Return `Batch` object instance\n *\n * @returns {Batch} Batch instance\n */\nWPCOM.prototype.batch = function () {\n\treturn new Batch( this );\n};\n\n/**\n * List Freshly Pressed Posts\n *\n * @param {object} [query] - query object\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nWPCOM.prototype.freshlyPressed = function ( query, fn ) {\n\treturn this.req.get( '/freshly-pressed', query, fn );\n};\n\n// Expose send-request\n// TODO: use `this.req` instead of this method\nWPCOM.prototype.sendRequest = function ( params, query, body, fn ) {\n\tconst msg = 'WARN! Don use `sendRequest() anymore. Use `this.req` method.';\n\n\t/* eslint-disable no-console */\n\tif ( console && console.warn ) {\n\t\tconsole.warn( msg );\n\t} else {\n\t\tconsole.log( msg );\n\t}\n\t/* eslint-enable no-console */\n\n\treturn sendRequest.call( this, params, query, body, fn );\n};\n\n/**\n * Re-export all the class types.\n */\nWPCOM.Batch = Batch;\nWPCOM.Domain = Domain;\nWPCOM.Domains = Domains;\nWPCOM.Me = Me;\nWPCOM.Pinghub = Pinghub;\nWPCOM.Plans = Plans;\nWPCOM.Request = Request;\nWPCOM.Site = Site;\nWPCOM.Users = Users;\n\nif ( ! Promise.prototype.timeout ) {\n\t/**\n\t * Returns a new promise with a deadline\n\t *\n\t * After the timeout interval, the promise will\n\t * reject. If the actual promise settles before\n\t * the deadline, the timer is cancelled.\n\t *\n\t * @param {number} delay how many ms to wait\n\t * @returns {Promise} promise\n\t */\n\tPromise.prototype.timeout = function ( delay = DEFAULT_ASYNC_TIMEOUT ) {\n\t\tlet timer;\n\n\t\tconst timeout = new Promise( ( resolve, reject ) => {\n\t\t\ttimer = setTimeout( () => {\n\t\t\t\treject( new Error( 'Action timed out while waiting for response.' ) );\n\t\t\t}, delay );\n\t\t} );\n\n\t\tconst cancelTimeout = () => {\n\t\t\tclearTimeout( timer );\n\t\t\treturn this;\n\t\t};\n\n\t\treturn Promise.race( [ this.then( cancelTimeout ).catch( cancelTimeout ), timeout ] );\n\t};\n}\n","class Batch {\n\t/**\n\t * Create a `Batch` instance\n\t *\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof Batch ) ) {\n\t\t\treturn new Batch( wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis.urls = [];\n\t}\n\n\t/**\n\t * Add url to batch requests\n\t *\n\t * @param {string} url - endpoint url\n\t * @returns {Batch} batch instance\n\t */\n\tadd( url ) {\n\t\tthis.urls.push( url );\n\t\treturn this;\n\t}\n\n\t/**\n\t * Run the batch request\n\t *\n\t * @param {object} [query] - optional query parameter\n\t * @param {Function} fn - callback\n\t * @returns {Promise} Promise\n\t */\n\trun( query = {}, fn ) {\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\t// add urls to query object\n\t\tquery.urls = this.urls;\n\n\t\treturn this.wpcom.req.get( '/batch', query, fn );\n\t}\n}\n\n/**\n * Expose `Batch` module\n */\nexport default Batch;\n","const root = '/domains/';\n\nclass DomainDns {\n\t/**\n\t * `DomainDns` constructor.\n\t *\n\t * @param {string} domainId - domain identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( domainId, wpcom ) {\n\t\tif ( ! ( this instanceof DomainDns ) ) {\n\t\t\treturn new DomainDns( domainId, wpcom );\n\t\t}\n\n\t\tthis._domain = domainId;\n\t\tthis._subpath = root + this._domain + '/dns';\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Adds a DNS record\n\t *\n\t * @param {object} record - record\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tadd( record, query, fn ) {\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\treturn this.wpcom.req.post( this._subpath + '/add', query, record, fn );\n\t}\n\n\t/**\n\t * Delete a DNS record\n\t *\n\t * @param {string} record - record\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdelete( record, query, fn ) {\n\t\treturn this.wpcom.req.post( this._subpath + '/delete', query, record, fn );\n\t}\n\n\t/**\n\t * Sets the default A records also deleting any A and AAAA custom records.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tsetDefaultARecords( query, fn ) {\n\t\treturn this.wpcom.req.post( this._subpath + '/set-default-a-records', query, null, fn );\n\t}\n}\n\n/**\n * Expose `DomainDns` module\n */\nexport default DomainDns;\n","const root = '/domains/';\n\nclass DomainEmail {\n\t/**\n\t * `DomainEmail` constructor.\n\t *\n\t * @param {string} [email] - email\n\t * @param {string} domainId - domain identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( email, domainId, wpcom ) {\n\t\tif ( ! ( this instanceof DomainEmail ) ) {\n\t\t\treturn new DomainEmail( email, domainId, wpcom );\n\t\t}\n\n\t\tif ( email ) {\n\t\t\tthis._email = email;\n\t\t}\n\n\t\tthis._domain = domainId;\n\t\tthis._subpath = root + this._domain + '/email/';\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Update the email forwards/configuration for a domain.\n\t *\n\t * @param {string} destination - the email address to forward email to.\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tforward( destination, query, fn ) {\n\t\tconst body = { destination: destination };\n\t\treturn this.wpcom.req.post( this._subpath + this._email, query, body, fn );\n\t}\n\n\t/**\n\t * Create an email forward for the domain\n\t * if it has enough licenses.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\n\tadd( mailbox, destination, query, fn ) {\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\tconst body = {\n\t\t\tmailbox: mailbox,\n\t\t\tdestination: destination,\n\t\t};\n\n\t\treturn this.wpcom.req.post( this._subpath + 'new', query, body, fn );\n\t}\n\n\t/**\n\t * Delete an email forward for the domain\n\t *\n\t * @param {string} mailbox - mailbox to alter\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdelete( mailbox, query, fn ) {\n\t\treturn this.wpcom.req.del( this._subpath + mailbox + '/delete', query, fn );\n\t}\n}\n\n/**\n * Expose `DomainEmail` module\n */\nexport default DomainEmail;\n","import DomainDns from './domain.dns';\nimport DomainEmail from './domain.email';\n\nconst root = '/domains/';\n\nclass Domain {\n\t/**\n\t * `Domain` constructor.\n\t *\n\t * @param {string} id - domain identifier\n\t * @param wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( id, wpcom ) {\n\t\tif ( ! ( this instanceof Domain ) ) {\n\t\t\treturn new Domain( id, wpcom );\n\t\t}\n\t\tthis._id = id;\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get the status of the domain\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tstatus( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/status', query, fn );\n\t}\n\n\t/**\n\t * Check if the given domain is available\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tisAvailable( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/is-available', query, fn );\n\t}\n\n\t/**\n\t * Check if the given domain name can be mapped to\n\t * a WordPress blog.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tisMappable( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/is-mappable', query, fn );\n\t}\n\n\t/**\n\t * Check if the given domain name can be used for site redirect.\n\t *\n\t * @param {string} siteId - site id of the site to check\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tcanRedirect( siteId, query, fn ) {\n\t\tconst path = root + siteId + '/' + this._id + '/can-redirect';\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t}\n\n\t/**\n\t * Get the email forwards/configuration for a domain.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\temailForwards( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/email', query, fn );\n\t}\n\n\t/**\n\t * Get a list of the nameservers for the domain\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tnameserversList( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/nameservers', query, fn );\n\t}\n\n\t/**\n\t * Update the nameservers for the domain\n\t *\n\t * @param {Array} nameservers - nameservers list\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tupdateNameservers( nameservers, query, fn ) {\n\t\tconst body = { nameservers: nameservers };\n\t\treturn this.wpcom.req.post( root + this._id + '/nameservers', query, body, fn );\n\t}\n\n\t/**\n\t * Get a list of the DNS records for the domain\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdnsList( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/dns', query, fn );\n\t}\n\n\t/**\n\t * Get a list of all Google Apps accounts for the domain\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tgoogleAppsList( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/google-apps', query, fn );\n\t}\n\n\t/**\n\t * Resend the ICANN verification email for the domain\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tresendICANN( query, fn ) {\n\t\treturn this.wpcom.req.post( root + this._id + '/resend-icann', query, fn );\n\t}\n\n\t/**\n\t * Return `DomainEmail` instance\n\t *\n\t * @param {string} [email] - email identifier\n\t * @returns {DomainEmail} DomainEmail instance\n\t */\n\temail( email ) {\n\t\treturn new DomainEmail( email, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Return `DomainDns` instance\n\t *\n\t * @returns {DomainDns} DomainDns instance\n\t */\n\tdns() {\n\t\treturn new DomainDns( this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Gets info needed to provide mapping setup instructions for a domain.\n\t *\n\t * @param {string} siteId - site id the domain will be mapped to\n\t * @param {object} query - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tmappingSetupInfo( siteId, query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/mapping-setup-info/' + siteId, query, fn );\n\t}\n\n\t/**\n\t * Gets the mapping status for a domain.\n\t *\n\t * @param {object} query - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tmappingStatus( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id + '/mapping-status', query, fn );\n\t}\n\n\t/**\n\t * Update the connection mode used to connect this domain and retrieve its mapping status.\n\t *\n\t * @param {string} mode - connection mode used to connect this domain (can be \"suggested\" or \"advanced\")\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tupdateConnectionModeAndGetMappingStatus( mode, query, fn ) {\n\t\tconst body = { mode };\n\t\treturn this.wpcom.req.post( root + this._id + '/mapping-status', query, body, fn );\n\t}\n}\n\n/**\n * Expose `Domain` module\n */\nexport default Domain;\n","const root = '/domains/';\n\nclass Domains {\n\t/**\n\t * `Domains` constructor.\n\t *\n\t * @param wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof Domains ) ) {\n\t\t\treturn new Domains( wpcom );\n\t\t}\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get a list of suggested domain names that are available for\n\t * registration based on a given term or domain name.\n\t *\n\t * @param {string|object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsuggestions( query, fn ) {\n\t\tif ( 'string' === typeof query ) {\n\t\t\tquery = { query: query };\n\t\t}\n\t\treturn this.wpcom.req.get( root + 'suggestions', query, fn );\n\t}\n\n\t/**\n\t * GET example domain suggestions\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsuggestionsExamples( query, fn ) {\n\t\treturn this.wpcom.req.get( root + 'suggestions/examples', query, fn );\n\t}\n\n\t/**\n\t * Get a localized list of supported countries for domain registrations.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsupportedCountries( query, fn ) {\n\t\treturn this.wpcom.req.get( root + 'supported-countries', query, fn );\n\t}\n\n\t/**\n\t * Get a localized list of supported states for domain registrations.\n\t *\n\t * @param {string} countryCode - country code ISO 3166-1 alpha-2 identifier\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsupportedStates( countryCode, query, fn ) {\n\t\tconst path = root + 'supported-states/' + countryCode;\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t}\n}\n\n/**\n * Expose `Domains` module\n */\nexport default Domains;\n","const root = '/me/connected-applications/';\n\nexport default class MeConnectedApp {\n\t/**\n\t * `MeConnectedApp` constructor.\n\t *\n\t * @param {string} appId - application identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( appId, wpcom ) {\n\t\tif ( ! ( this instanceof MeConnectedApp ) ) {\n\t\t\treturn new MeConnectedApp( appId, wpcom );\n\t\t}\n\t\tthis._id = appId;\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get one of current user's connected applications.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id, query, fn );\n\t}\n\n\t/**\n\t * Delete the app of the  current user\n\t * through of the given appId\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdelete( query, fn ) {\n\t\treturn this.wpcom.req.del( root + this._id + '/delete', query, fn );\n\t}\n}\n","import MeConnectedApp from './me.connected-application';\nimport MeKeyringConnection from './me.keyring-connection';\nimport MePublicizeConnection from './me.publicize-connection';\nimport MeSettings from './me.settings';\nimport MeTwoStep from './me.two-step';\n\n/**\n * Create `Me` instance\n *\n * @param {object} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Me( wpcom ) {\n\tif ( ! ( this instanceof Me ) ) {\n\t\treturn new Me( wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Meta data about auth token's User\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me', query, fn );\n};\n\n/**\n * Get user billing history.\n *\n * @param {object} [query] - query object parameter\n * @param {Function} [fn] - callback function\n * @returns {Function} request handler\n */\nMe.prototype.billingHistory = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/billing-history', query, fn );\n};\n\n/**\n * Get a list of posts of from the user's blogs\n *\n * *Example:*\n *    // Get posts list\n *    wpcom\n *    .me()\n *    .postsList( function( err, data ) {\n *      // posts list data object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.postsList = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/posts', query, fn );\n};\n\n/**\n * A list of the current user's sites\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.sites = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/sites', query, fn );\n};\n\n/**\n * List the currently authorized user's likes\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.likes = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/likes', query, fn );\n};\n\n/**\n * Get current user's connected applications.\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.connectedApps = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/connected-applications', query, fn );\n};\n\n/**\n * Get a list of all the keyring connections\n * associated with the current user\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.keyringConnections = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/connections', query, fn );\n};\n\n/**\n * Get a list of publicize connections\n * that the current user has set up.\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMe.prototype.publicizeConnections = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/publicize-connections', query, fn );\n};\n\n/**\n * Return a `MeSettings` instance.\n *\n * @returns {MeSettings} MeSettings instance\n */\nMe.prototype.settings = function () {\n\treturn new MeSettings( this.wpcom );\n};\n\n/**\n * Return a `MeConnectedApp` instance.\n *\n * @param {string} id - app id\n * @returns {MeConnectedApp} Me ConnectedApp instance\n */\nMe.prototype.connectedApp = function ( id ) {\n\treturn new MeConnectedApp( id, this.wpcom );\n};\n\n/**\n * Return a `MePublicizeConnection` instance.\n *\n * @param {string} id - connection id\n * @returns {MePublicizeConnection} MeSettings instance\n */\nMe.prototype.publicizeConnection = function ( id ) {\n\treturn new MePublicizeConnection( id, this.wpcom );\n};\n\n/**\n * Return a `MeTwoStep` instance.\n *\n * @returns {MeTwoStep} MeTwoStep instance\n */\nMe.prototype.twoStep = function () {\n\treturn new MeTwoStep( this.wpcom );\n};\n\n/**\n * Return a `MeKeyringConnection` instance.\n *\n * @param {string} id - connection id\n * @returns {MeKeyringConnection} MeKeyringConnection instance\n */\nMe.prototype.keyringConnection = function ( id ) {\n\treturn new MeKeyringConnection( id, this.wpcom );\n};\n","const root = '/me/connections/';\n\nexport default class KeyringConnection {\n\t/**\n\t * `KeyringConnection` constructor.\n\t *\n\t * @param {string} keyId - the connection ID to take action on.\n\t * @param {object} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( keyId, wpcom ) {\n\t\tif ( ! ( this instanceof KeyringConnection ) ) {\n\t\t\treturn new KeyringConnection( keyId, wpcom );\n\t\t}\n\t\tthis._id = keyId;\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get a single Keyring connection that the current user has setup.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get(\n\t\t\t{\n\t\t\t\tpath: root + this._id,\n\t\t\t\tapiNamespace: 'wpcom/v2',\n\t\t\t},\n\t\t\tquery,\n\t\t\tfn\n\t\t);\n\t}\n\n\t/**\n\t * Delete the Keyring connection (and associated token) with the\n\t * provided ID. Also deletes all associated publicize connections.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdelete( query, fn ) {\n\t\treturn this.wpcom.req.get(\n\t\t\t{\n\t\t\t\tpath: root + this._id,\n\t\t\t\tapiNamespace: 'wpcom/v2',\n\t\t\t\tmethod: 'DELETE',\n\t\t\t},\n\t\t\tquery,\n\t\t\tfn\n\t\t);\n\t}\n}\n","const root = '/me/publicize-connections/';\n\nexport default class PublicizeConnection {\n\t/**\n\t * `PublicizeConnection` constructor.\n\t *\n\t * @param {string} connectionId - application identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( connectionId, wpcom ) {\n\t\tif ( ! ( this instanceof PublicizeConnection ) ) {\n\t\t\treturn new PublicizeConnection( connectionId, wpcom );\n\t\t}\n\t\tthis._id = connectionId;\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get a single publicize connection that the current user has set up.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( root + this._id, query, fn );\n\t}\n\n\t/**\n\t * Add a publicize connection belonging to the current user.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tadd( query, body, fn ) {\n\t\treturn this.wpcom.req.post( root + 'new', query, body, fn );\n\t}\n\n\t/**\n\t * Update a publicize connection belonging to the current user.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( root + this._id, query, body, fn );\n\t}\n\n\t/**\n\t * Delete the app of the  current user\n\t * through of the given connectionId\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdelete( query, fn ) {\n\t\treturn this.wpcom.req.del( root + this._id + '/delete', query, fn );\n\t}\n}\n","import MeSettingsPassword from './me.settings.password';\nimport MeProfileLinks from './me.settings.profile-links';\n\n/**\n * `MeSettings` constructor.\n *\n * Use a `WPCOM#Me` instance to create a new `MeSettings` instance.\n *\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function MeSettings( wpcom ) {\n\tif ( ! ( this instanceof MeSettings ) ) {\n\t\treturn new MeSettings( wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Get settings for the current user.\n *\n * *Example:*\n *    // Get settings for the current user\n *    wpcom\n *    .me()\n *    .settings()\n *    .get( function( err, data ) {\n *      // user settings data object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMeSettings.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/me/settings', query, fn );\n};\n\n/**\n * Update settings of the current user\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMeSettings.prototype.update = function ( query, body, fn ) {\n\treturn this.wpcom.req.put( '/me/settings/', query, body, fn );\n};\n\n/**\n * Return `MeProfileLinks` instance\n *\n * *Example:*\n *    // Create a MeProfileLinks instance\n *    var profile_links = wpcom.me().settings().profileLinks();\n *\n * @returns {MeProfileLinks} MeProfileLinks instance\n */\nMeSettings.prototype.profileLinks = function () {\n\treturn new MeProfileLinks( this.wpcom );\n};\n\n/**\n * Return `MeSettingsPassword` instance\n *\n * @returns {MeSettingsPassword} MeSettingsPassword instance\n */\nMeSettings.prototype.password = function () {\n\treturn new MeSettingsPassword( this.wpcom );\n};\n","const root = '/me/settings/password/';\n\nexport default class MeSettingsPassword {\n\t/**\n\t * `MeSettingsPassword` constructor.\n\t *\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof MeSettingsPassword ) ) {\n\t\t\treturn new MeSettingsPassword( wpcom );\n\t\t}\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Verify strength of a user's new password.\n\t *\n\t * @param {string} password - the users's potential new password\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tvalidate( password, query, fn ) {\n\t\treturn this.wpcom.req.post( root + 'validate', query, { password: password }, fn );\n\t}\n}\n","/**\n * Endpoint root\n */\nconst root = '/me/settings/profile-links';\n\n/**\n * `ProfileLinks` constructor.\n *\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function ProfileLinks( wpcom ) {\n\tif ( ! ( this instanceof ProfileLinks ) ) {\n\t\treturn new ProfileLinks( wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Get profile links of the current user.\n *\n * *Example:*\n *   // Get profile links of the current user\n *    wpcom\n *    .me()\n *    .settings()\n *    .profileLinks()\n *    .get( function( err, data ) {\n *      // profile links data\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nProfileLinks.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( root, query, fn );\n};\n\n// Create `mine` alias\nProfileLinks.prototype.mine = ProfileLinks.prototype.get;\n\n/**\n * Add a profile link to current user.\n *\n * *Example:*\n *    // Add profile link to current user\n *    wpcom\n *    .me()\n *    .settings()\n *    .profileLinks()\n *    .add( {\n *      title: \"WordPress Blog\",\n *      value: \"en.blog.wordpress.com\"\n *    }, function( err, data ) {\n *      // profile has been added\n *    } );\n *\n * @param {Array|object} links - profile links\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nProfileLinks.prototype.add = function ( links, query, fn ) {\n\t// query object is optional\n\tif ( 'function' === typeof query ) {\n\t\tfn = query;\n\t\tquery = {};\n\t}\n\n\t// links can be Array or an Object\n\tif ( ! ( links instanceof Array ) ) {\n\t\tlinks = [ links ];\n\t}\n\n\t// Set api version 1.2 for this endpoint\n\tquery.apiVersion = '1.2';\n\n\tconst path = root + '/new';\n\treturn this.wpcom.req.post( path, query, { links: links }, fn );\n};\n\n/**\n * Remove your ProfileLinks from a Post.\n *\n * *Example:*\n *    // Remove profile link from current user\n *    wpcom\n *    .me()\n *    .settings()\n *    .profileLinks()\n *    .del( 'example.wordpress.com', function( err, data ) {\n *      // profile has been deleted\n *    } );\n *\n * @param {string} slug - the URL of the profile link\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nProfileLinks.prototype.del = function ( slug, query, fn ) {\n\tconst path = root + '/' + slug + '/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n\n// Create `delete` alias\nProfileLinks.prototype.delete = ProfileLinks.prototype.del;\n","import MeTwoStepSMS from './me.two-step.sms';\n\nconst root = '/me/two-step/';\n\nexport default class MeTwoStep {\n\t/**\n\t * `MeTwoStep` constructor.\n\t *\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof MeTwoStep ) ) {\n\t\t\treturn new MeTwoStep( wpcom );\n\t\t}\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get information about current user's two factor configuration.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( root, query, fn );\n\t}\n\n\t/**\n\t * Return a `MeTwoStepSMS` instance.\n\t *\n\t * @returns {MeTwoStepSMS} MeTwoStepSMS instance\n\t */\n\tsms() {\n\t\treturn new MeTwoStepSMS( this.wpcom );\n\t}\n}\n","const root = '/me/two-step/sms/';\n\nexport default class MeTwoStepSMS {\n\t/**\n\t * `MeTwoStepSMS` constructor.\n\t *\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof MeTwoStepSMS ) ) {\n\t\t\treturn new MeTwoStepSMS( wpcom );\n\t\t}\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Sends a two-step code via SMS to the current user.\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsend( query, fn ) {\n\t\treturn this.wpcom.req.post( root + 'new', query, fn );\n\t}\n}\n","const root = '/plans';\n\nexport default class Plans {\n\t/**\n\t * `Plans` constructor.\n\t *\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( wpcom ) {\n\t\tif ( ! ( this instanceof Plans ) ) {\n\t\t\treturn new Plans( wpcom );\n\t\t}\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get a list of active WordPress.com plans\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tlist( query, fn ) {\n\t\treturn this.wpcom.req.get( root, query, fn );\n\t}\n\n\t/**\n\t * Get a list of features for active WordPress.com plans\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tfeatures( query, fn ) {\n\t\treturn this.wpcom.req.get( `${ root }/features`, query, fn );\n\t}\n}\n","export default [\n\t{ name: 'categoriesList', subpath: 'categories' },\n\t{ name: 'commentsList', subpath: 'comments' },\n\t{ name: 'domainsList', subpath: 'domains' },\n\t{ name: 'embedsList', subpath: 'embeds' },\n\t{ name: 'followsList', subpath: 'follows' },\n\t{ name: 'mediaList', subpath: 'media' },\n\t{ name: 'pageTemplates', subpath: 'page-templates' },\n\t{ name: 'pluginsList', subpath: 'plugins' },\n\t{ name: 'postsList', subpath: 'posts' },\n\t{ name: 'postTypesList', subpath: 'post-types' },\n\t{ name: 'shortcodesList', subpath: 'shortcodes' },\n\t{ name: 'stats', subpath: 'stats' },\n\t{ name: 'statsClicks', subpath: 'stats/clicks' },\n\t{ name: 'statsCommentFollowers', subpath: 'stats/comment-followers' },\n\t{ name: 'statsComments', subpath: 'stats/comments' },\n\t{ name: 'statsCountryViews', subpath: 'stats/country-views' },\n\t{ name: 'statsFollowers', subpath: 'stats/followers' },\n\t{ name: 'statsInsights', subpath: 'stats/insights' },\n\t{ name: 'statsPublicize', subpath: 'stats/publicize' },\n\t{ name: 'statsReferrers', subpath: 'stats/referrers' },\n\t{ name: 'statsSearchTerms', subpath: 'stats/search-terms' },\n\t{ name: 'statsStreak', subpath: 'stats/streak' },\n\t{ name: 'statsSummary', subpath: 'stats/summary' },\n\t{ name: 'statsTags', subpath: 'stats/tags' },\n\t{ name: 'statsTopAuthors', subpath: 'stats/top-authors' },\n\t{ name: 'statsTopPosts', subpath: 'stats/top-posts' },\n\t{ name: 'statsVideoPlays', subpath: 'stats/video-plays' },\n\t{ name: 'statsVisits', subpath: 'stats/visits' },\n\t{ name: 'tagsList', subpath: 'tags' },\n\t{ name: 'usersList', subpath: 'users' },\n\t{ name: 'wpcomPluginsList', subpath: 'wpcom-plugins' },\n];\n","export default [\n\t{ name: 'likesList', subpath: 'likes' },\n\t{ name: 'subscribersList', subpath: 'subscribers' },\n];\n","/**\n * Category methods\n *\n * @param {string} [slug] - category slug\n * @param {string} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Category( slug, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Category ) ) {\n\t\treturn new Category( slug, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._sid = sid;\n\tthis._slug = slug;\n}\n\n/**\n * Set category `slug`\n *\n * @param {string} slug - category slug\n */\nCategory.prototype.slug = function ( slug ) {\n\tthis._slug = slug;\n};\n\n/**\n * Get category\n *\n * @param {object} [query] - query object parameter - query object parameter\n * @param {Function} fn - callback function - callback\n * @returns {Function} request handler\n */\nCategory.prototype.get = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/categories/slug:' + this._slug;\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Add category\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCategory.prototype.add = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/categories/new';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * Edit category\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCategory.prototype.update = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/categories/slug:' + this._slug;\n\treturn this.wpcom.req.put( path, query, body, fn );\n};\n\n/**\n * Delete category\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCategory.prototype.delete = Category.prototype.del = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/categories/slug:' + this._slug + '/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n","import commentLike from './site.comment.like';\n\n/**\n * Comment methods\n *\n * @param {string} [cid] comment id\n * @param {string} [pid] post id\n * @param {string} sid site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Comment( cid, pid, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Comment ) ) {\n\t\treturn new Comment( cid, pid, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._cid = cid;\n\tthis._pid = pid;\n\tthis._sid = sid;\n}\n\n/**\n * Return a single Comment\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.get = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid;\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Return recent comments for a post\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.replies = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/replies/';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Create a comment on a post\n *\n * @param {object} [query] - query object parameter\n * @param {string|object} body - body parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.add = function ( query, body, fn ) {\n\tif ( undefined === fn ) {\n\t\tif ( undefined === body ) {\n\t\t\tbody = query;\n\t\t\tquery = {};\n\t\t} else if ( 'function' === typeof body ) {\n\t\t\tfn = body;\n\t\t\tbody = query;\n\t\t\tquery = {};\n\t\t}\n\t}\n\n\tbody = 'string' === typeof body ? { content: body } : body;\n\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/replies/new';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * Edit a comment\n *\n * @param {object} [query] - query object parameter\n * @param {string|object} body - body parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.update = function ( query, body, fn ) {\n\tif ( 'function' === typeof body ) {\n\t\tfn = body;\n\t\tbody = query;\n\t\tquery = {};\n\t}\n\n\tbody = 'string' === typeof body ? { content: body } : body;\n\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid;\n\treturn this.wpcom.req.put( path, query, body, fn );\n};\n\n/**\n * Create a Comment as a reply to another Comment\n *\n * @param {object} [query] - query object parameter\n * @param {string|object} body - body parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.reply = function ( query, body, fn ) {\n\tif ( 'function' === typeof body ) {\n\t\tfn = body;\n\t\tbody = query;\n\t\tquery = {};\n\t}\n\n\tbody = 'string' === typeof body ? { content: body } : body;\n\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/replies/new';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * Delete a comment\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.del = Comment.prototype.delete = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n\n/**\n * Create a `commentLike` instance\n *\n * @returns {object} CommentLike instance\n */\nComment.prototype.like = function () {\n\treturn commentLike( this._cid, this._sid, this.wpcom );\n};\n\n/**\n * Get comment likes list\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nComment.prototype.likesList = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/likes';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n","/**\n * CommentLike methods\n *\n * @param {string} cid comment id\n * @param {string} sid site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function CommentLike( cid, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! cid ) {\n\t\tthrow new Error( '`comment id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof CommentLike ) ) {\n\t\treturn new CommentLike( cid, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._cid = cid;\n\tthis._sid = sid;\n}\n\n/**\n * Get your Like status for a Comment\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCommentLike.prototype.mine = CommentLike.prototype.state = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/likes/mine';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Like a comment\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCommentLike.prototype.add = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/likes/new';\n\treturn this.wpcom.req.post( path, query, fn );\n};\n\n/**\n * Remove your Like from a Comment\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nCommentLike.prototype.del = CommentLike.prototype.delete = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/comments/' + this._cid + '/likes/mine/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n","/**\n * SiteCreditVouchers methods\n *\n * @param {string} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nclass SiteCreditVouchers {\n\tconstructor( sid, wpcom ) {\n\t\tif ( ! sid ) {\n\t\t\tthrow new Error( '`site id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SiteCreditVouchers ) ) {\n\t\t\treturn new SiteCreditVouchers( sid, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis._sid = sid;\n\t\tthis.path = `/sites/${ this._sid }/vouchers`;\n\t}\n\n\t/**\n\t * Get site vouchers list\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tlist( query = {}, fn ) {\n\t\tquery.apiNamespace = 'wpcom/v2';\n\t\treturn this.wpcom.req.get( this.path, query, fn );\n\t}\n\n\t/**\n\t * Get site voucher\n\t *\n\t * @param {string} serviceType - service type\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( serviceType, query = {}, fn ) {\n\t\tquery.apiNamespace = 'wpcom/v2';\n\t\treturn this.wpcom.req.get( `${ this.path }/${ serviceType }`, query, fn );\n\t}\n\n\t/**\n\t * Assign a new voucher to the site\n\t *\n\t * @param {string} serviceType - service type\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tassign( serviceType, query = {}, fn ) {\n\t\tquery.apiNamespace = 'wpcom/v2';\n\t\treturn this.wpcom.req.post( `${ this.path }/${ serviceType }/assign`, query, {}, fn );\n\t}\n}\n\nexport default SiteCreditVouchers;\n","/**\n * Module vars\n */\nconst root = '/sites';\n\nclass SiteDomain {\n\t/**\n\t * `SiteDomain` constructor.\n\t *\n\t * @param {number|string} id - site identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( id, wpcom ) {\n\t\tif ( ! ( this instanceof SiteDomain ) ) {\n\t\t\treturn new SiteDomain( id, wpcom );\n\t\t}\n\t\tthis._sid = id;\n\t\tthis.path = `${ root }/${ this._sid }/domains`;\n\t\tthis.wpcom = wpcom;\n\t}\n\n\t/**\n\t * Get the primary domain for a site\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tgetPrimary( query, fn ) {\n\t\treturn this.wpcom.req.get( `${ this.path }/primary`, query, fn );\n\t}\n\n\t/**\n\t * Set the primary domain for a site\n\t *\n\t * @param {string} domain - domain to set\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tsetPrimary( domain, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.path }/primary`, {}, { domain }, fn );\n\t}\n\n\t/**\n\t * Get the redirect status for a site\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tgetRedirect( query, fn ) {\n\t\treturn this.wpcom.req.get( `${ this.path }/redirect`, query, fn );\n\t}\n\n\t/**\n\t * Set the redirect location for a site\n\t *\n\t * @param {string|object} location - location to set\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tsetRedirect( location, fn ) {\n\t\tif ( typeof location === 'string' ) {\n\t\t\tlocation = { location };\n\t\t}\n\n\t\treturn this.wpcom.req.put( `${ this.path }/redirect`, {}, location, fn );\n\t}\n}\n\n/**\n * Expose `SiteDomain` module\n */\nexport default SiteDomain;\n","/**\n * Follow\n *\n * @param {string} site_id - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Follow( site_id, wpcom ) {\n\tif ( ! site_id ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Follow ) ) {\n\t\treturn new Follow( site_id, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._sid = site_id;\n}\n\n/**\n * Get the follow status for current\n * user on current blog sites\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nFollow.prototype.mine = Follow.prototype.state = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/follows/mine';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Follow the site\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nFollow.prototype.follow = Follow.prototype.add = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/follows/new';\n\treturn this.wpcom.req.put( path, query, null, fn );\n};\n\n/**\n * Unfollow the site\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nFollow.prototype.unfollow = Follow.prototype.del = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/follows/mine/delete';\n\treturn this.wpcom.req.del( path, query, null, fn );\n};\n","import debugFactory from 'debug';\nimport siteGetMethods from './runtime/site.get';\nimport Category from './site.category';\nimport Comment from './site.comment';\nimport SiteCreditVouchers from './site.credit-vouchers';\nimport SiteDomain from './site.domain';\nimport Follow from './site.follow';\nimport Media from './site.media';\nimport SitePlugin from './site.plugin';\nimport Post from './site.post';\nimport SitePostType from './site.post-type';\nimport SiteSettings from './site.settings';\nimport Tag from './site.tag';\nimport SiteTaxonomy from './site.taxonomy';\nimport SiteWordAds from './site.wordads';\nimport SiteWPComPlugin from './site.wpcom-plugin';\nimport runtimeBuilder from './util/runtime-builder';\n\n/**\n * Module vars\n */\nconst debug = debugFactory( 'wpcom:site' );\nconst root = '/sites';\n\n/**\n * Site class\n */\nclass Site {\n\t/**\n\t * Create a Site instance\n\t *\n\t * @param {string} id - site id\n\t * @param wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( id, wpcom ) {\n\t\tif ( ! ( this instanceof Site ) ) {\n\t\t\treturn new Site( id, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\n\t\tdebug( 'set %o site id', id );\n\t\tthis._id = encodeURIComponent( id );\n\t\tthis.path = `${ root }/${ this._id }`;\n\t}\n\n\t/**\n\t * Require site information\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( this.path, query, fn );\n\t}\n\n\t/**\n\t * Create a `Post` instance\n\t *\n\t * @param {string} id - post id\n\t * @returns {Post} Post instance\n\t */\n\tpost( id ) {\n\t\treturn new Post( id, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Add a new blog post\n\t *\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\taddPost( body, fn ) {\n\t\tconst post = new Post( null, this._id, this.wpcom );\n\t\treturn post.add( body, fn );\n\t}\n\n\t/**\n\t * Delete a blog post\n\t *\n\t * @param {string} id - post id\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdeletePost( id, fn ) {\n\t\tconst post = new Post( id, this._id, this.wpcom );\n\t\treturn post.delete( fn );\n\t}\n\n\t/**\n\t * Create a `Media` instance\n\t *\n\t * @param {string} id - post id\n\t * @returns {Media} Media instance\n\t */\n\tmedia( id ) {\n\t\treturn new Media( id, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Add a media from a file\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Array|string} files - media files to add\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\taddMediaFiles( query, files, fn ) {\n\t\tconst media = new Media( null, this._id, this.wpcom );\n\t\treturn media.addFiles( query, files, fn );\n\t}\n\n\t/**\n\t * Add a new media from url\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Array|string} files - media files to add\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\taddMediaUrls( query, files, fn ) {\n\t\tconst media = new Media( null, this._id, this.wpcom );\n\t\treturn media.addUrls( query, files, fn );\n\t}\n\n\t/**\n\t * Delete a blog media\n\t *\n\t * @param {string} id - media id\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tdeleteMedia( id, fn ) {\n\t\tconst media = new Media( id, this._id, this.wpcom );\n\t\treturn media.del( fn );\n\t}\n\n\t/**\n\t * Create a `Comment` instance\n\t *\n\t * @param {string} id - comment id\n\t * @returns {Comment} Comment instance\n\t */\n\tcomment( id ) {\n\t\treturn new Comment( id, null, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `Follow` instance\n\t *\n\t * @returns {Follow} Follow instance\n\t */\n\tfollow() {\n\t\treturn new Follow( this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SitePlugin` instance\n\t *\n\t * @param {string} slug - plugin identifier\n\t * @returns {SitePlugin} SitePlugin instance\n\t */\n\tplugin( slug ) {\n\t\treturn new SitePlugin( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SiteWPComPlugin` instance\n\t *\n\t * @param {string} slug - plugin identifier\n\t * @returns {SiteWPComPlugin} SiteWPComPlugin instance\n\t */\n\twpcomPlugin( slug ) {\n\t\treturn new SiteWPComPlugin( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `Category` instance\n\t * Set `cat` alias\n\t *\n\t * @param {string} [slug] - category slug\n\t * @returns {Category} Category instance\n\t */\n\tcategory( slug ) {\n\t\treturn new Category( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `Tag` instance\n\t *\n\t * @param {string} [slug] - tag slug\n\t * @returns {Tag} Tag instance\n\t */\n\ttag( slug ) {\n\t\treturn new Tag( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `Taxonomy` instance\n\t *\n\t * @param {string} [slug] - taxonomy slug\n\t * @returns {SiteTaxonomy} SiteTaxonomy instance\n\t */\n\ttaxonomy( slug ) {\n\t\treturn new SiteTaxonomy( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SiteCreditVouchers` instance\n\t *\n\t * @returns {SiteCreditVouchers} SiteCreditVouchers instance\n\t */\n\tcreditVouchers() {\n\t\treturn new SiteCreditVouchers( this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SitePostType` instance\n\t *\n\t * @param {string} [slug] - post type slug\n\t * @returns {SitePostType} SitePostType instance\n\t */\n\tpostType( slug ) {\n\t\treturn new SitePostType( slug, this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SiteSettings` instance\n\t *\n\t * @returns {SiteSettings} SiteSettings instance\n\t */\n\tsettings() {\n\t\treturn new SiteSettings( this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `SiteDomain` instance\n\t *\n\t * @returns {SiteDomain} SiteDomain instance\n\t */\n\tdomain() {\n\t\treturn new SiteDomain( this._id, this.wpcom );\n\t}\n\n\t/**\n\t * Get number of posts in the post type groups by post status\n\t *\n\t * Example:*\n\t *   // Get number post of pages\n\t *    wpcom\n\t *    .site( 'my-blog.wordpress.com' )\n\t *    .postCounts( 'page', function( err, data ) {\n\t *      // `counts` data object\n\t *    } );\n\t *\n\t * @param {string} type - post type\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tpostCounts( type = 'post', query, fn ) {\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\treturn this.wpcom.req.get( `${ this.path }/post-counts/${ type }`, query, fn );\n\t}\n\n\t/**\n\t * Get a rendered shortcode for a site.\n\t *\n\t * Note: The current user must have publishing access.\n\t *\n\t * @param {string} url - shortcode url\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\trenderShortcode( url, query, fn ) {\n\t\tif ( 'string' !== typeof url ) {\n\t\t\tthrow new TypeError( 'expected a url String' );\n\t\t}\n\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\tquery = query || {};\n\t\tquery.shortcode = url;\n\n\t\treturn this.wpcom.req.get( `${ this.path }/shortcodes/render`, query, fn );\n\t}\n\n\t/**\n\t * Get a rendered embed for a site.\n\t *\n\t * Note: The current user must have publishing access.\n\t *\n\t * @param {string} url - embed url\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\trenderEmbed( url, query, fn ) {\n\t\tif ( 'string' !== typeof url ) {\n\t\t\tthrow new TypeError( 'expected an embed String' );\n\t\t}\n\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\tquery = query || {};\n\t\tquery.embed_url = url;\n\n\t\treturn this.wpcom.req.get( `${ this.path }/embeds/render`, query, fn );\n\t}\n\n\t/**\n\t * Mark a referrering domain as spam\n\t *\n\t * @param {string} domain - domain\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tstatsReferrersSpamNew( domain, fn ) {\n\t\tconst path = `${ this.path }/stats/referrers/spam/new`;\n\t\treturn this.wpcom.req.post( path, { domain }, null, fn );\n\t}\n\n\t/**\n\t * Remove referrering domain from spam\n\t *\n\t * @param {string} domain - domain\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tstatsReferrersSpamDelete( domain, fn ) {\n\t\tconst path = `${ this.path }/stats/referrers/spam/delete`;\n\t\treturn this.wpcom.req.post( path, { domain }, null, fn );\n\t}\n\n\t/**\n\t * Get detailed stats about a VideoPress video\n\t *\n\t * @param {string} videoId - video id\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tstatsVideo( videoId, query, fn ) {\n\t\tconst path = `${ this.path }/stats/video/${ videoId }`;\n\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t}\n\n\t/**\n\t * Get detailed stats about a particular post\n\t *\n\t * @param {string} postId - post id\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tstatsPostViews( postId, query, fn ) {\n\t\tconst path = `${ this.path }/stats/post/${ postId }`;\n\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t}\n\n\t/**\n\t * Return a `SiteWordAds` instance.\n\t *\n\t * Example:*\n\t *    // Create a SiteWordAds instance\n\t *\n\t *    const wordAds = wpcom\n\t *      .site( 'my-blog.wordpress.com' )\n\t *      .wordAds();\n\t *\n\t * @returns {SiteWordAds} SiteWordAds instance\n\t */\n\twordAds() {\n\t\treturn new SiteWordAds( this._id, this.wpcom );\n\t}\n}\n\n// add methods in runtime\nruntimeBuilder( Site, siteGetMethods, ( methodParams, ctx ) => {\n\treturn `/sites/${ ctx._id }/${ methodParams.subpath }`;\n} );\n\nexport default Site;\n","import debugFactory from 'debug';\nimport TusUploader from './tus-uploader';\nimport { createReadStream } from './util/fs';\n\nconst debug = debugFactory( 'wpcom:media' );\n\n/**\n * Build a formData object to be sent in a POST request\n *\n * @param  {Array|File} files - array of files\n * @returns {Array} formData array\n */\nfunction buildFormData( files ) {\n\tconst formData = [];\n\tconst isArray = Array.isArray( files );\n\tfiles = isArray ? files : [ files ];\n\n\tlet i;\n\tlet f;\n\tlet k;\n\tlet param;\n\tfor ( i = 0; i < files.length; i++ ) {\n\t\tf = files[ i ];\n\n\t\tif ( 'string' === typeof f ) {\n\t\t\tf = createReadStream( f );\n\t\t}\n\n\t\tconst isStream = !! f._readableState;\n\t\tconst isFile = 'undefined' !== typeof File && f instanceof File;\n\n\t\tdebug( 'isStream: %s', isStream );\n\t\tdebug( 'isFile: %s', isFile );\n\n\t\tif ( ! isFile && ! isStream ) {\n\t\t\t// process file attributes like as `title`, `description`, ...\n\t\t\tfor ( k in f ) {\n\t\t\t\tdebug( 'add %o => %o', k, f[ k ] );\n\t\t\t\tif ( 'file' !== k ) {\n\t\t\t\t\tparam = 'attrs[' + i + '][' + k + ']';\n\t\t\t\t\tformData.push( [ param, f[ k ] ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// set file path\n\t\t\tf = f.file;\n\t\t\tif ( 'string' === typeof f ) {\n\t\t\t\tf = createReadStream( f );\n\t\t\t}\n\t\t}\n\n\t\tformData.push( [ 'media[]', f ] );\n\t}\n\n\treturn formData;\n}\n\n/**\n * Media methods\n *\n * @param {string} id - media id\n * @param {string} sid site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Media( id, sid, wpcom ) {\n\tif ( ! ( this instanceof Media ) ) {\n\t\treturn new Media( id, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._sid = sid;\n\tthis._id = id;\n\n\tif ( ! this._id ) {\n\t\tdebug( 'WARN: media `id` is not defined' );\n\t}\n}\n\n/**\n * Get media\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.get = function ( query = {}, fn ) {\n\tquery.apiVersion = query.apiVersion || '1.2';\n\tconst path = '/sites/' + this._sid + '/media/' + this._id;\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Update media\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.update = function ( query, body, fn ) {\n\tconst params = { path: '/sites/' + this._sid + '/media/' + this._id };\n\treturn this.wpcom.req.put( params, query, body, fn );\n};\n\n/**\n * Edit media\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.edit = function ( query, body, fn ) {\n\tif ( typeof body === 'function' || ! body ) {\n\t\tfn = body;\n\t\tbody = query;\n\t\tquery = {};\n\t}\n\n\tconst params = { path: '/sites/' + this._sid + '/media/' + this._id + '/edit' };\n\n\tif ( body && body.media ) {\n\t\tparams.formData = [ [ 'media', body.media ] ];\n\t\tdelete body.media;\n\n\t\tfor ( const k in body ) {\n\t\t\tparams.formData.push( [ `attrs[${ k }]`, body[ k ] ] );\n\t\t}\n\n\t\tbody = null;\n\t}\n\n\treturn this.wpcom.req.put( params, query, body, fn );\n};\n\n/**\n * Add media file\n *\n * @param {object} [query] - query object parameter\n * @param {string|object|Array} files - files to add\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.addFiles = function ( query, files, fn ) {\n\tif ( undefined === fn ) {\n\t\tif ( undefined === files ) {\n\t\t\tfiles = query;\n\t\t\tquery = {};\n\t\t} else if ( 'function' === typeof files ) {\n\t\t\tfn = files;\n\t\t\tfiles = query;\n\t\t\tquery = {};\n\t\t}\n\t}\n\n\tconst videoFiles = [];\n\tconst isArray = Array.isArray( files );\n\tfiles = isArray ? files : [ files ];\n\n\tfiles = files.filter( ( file ) => {\n\t\tif ( !! file.type && file.type.startsWith( 'video/' ) ) {\n\t\t\tvideoFiles.push( file );\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t} );\n\n\tif ( videoFiles.length ) {\n\t\tconst uploader = new TusUploader( this.wpcom, this._sid );\n\t\treturn uploader.startUpload( videoFiles );\n\t}\n\n\tconst params = {\n\t\tpath: '/sites/' + this._sid + '/media/new',\n\t\tformData: buildFormData( files ),\n\t};\n\n\treturn this.wpcom.req.post( params, query, null, fn );\n};\n\n/**\n * Add media files from URL\n *\n * @param {object} [query] - query object parameter\n * @param {string|Array|object} media - files to add\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.addUrls = function ( query, media, fn ) {\n\tif ( undefined === fn ) {\n\t\tif ( undefined === media ) {\n\t\t\tmedia = query;\n\t\t\tquery = {};\n\t\t} else if ( 'function' === typeof media ) {\n\t\t\tfn = media;\n\t\t\tmedia = query;\n\t\t\tquery = {};\n\t\t}\n\t}\n\n\tconst path = '/sites/' + this._sid + '/media/new';\n\tconst body = { media_urls: [] };\n\n\t// process formData\n\tlet i;\n\tlet m;\n\tlet url;\n\tlet k;\n\n\tmedia = Array.isArray( media ) ? media : [ media ];\n\tfor ( i = 0; i < media.length; i++ ) {\n\t\tm = media[ i ];\n\n\t\tif ( 'string' === typeof m ) {\n\t\t\turl = m;\n\t\t} else {\n\t\t\tif ( ! body.attrs ) {\n\t\t\t\tbody.attrs = [];\n\t\t\t}\n\n\t\t\t// add attributes\n\t\t\tbody.attrs[ i ] = {};\n\t\t\tfor ( k in m ) {\n\t\t\t\tif ( 'url' !== k ) {\n\t\t\t\t\tbody.attrs[ i ][ k ] = m[ k ];\n\t\t\t\t}\n\t\t\t}\n\t\t\turl = m.url;\n\t\t}\n\n\t\t// push url into [media_url]\n\t\tbody.media_urls.push( url );\n\t}\n\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * Delete media\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nMedia.prototype.delete = Media.prototype.del = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/media/' + this._id + '/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n","/**\n * Module vars\n */\nconst root = '/sites';\n\nclass SitePlugin {\n\t/**\n\t * `SitePlugin` constructor.\n\t *\n\t * @param {string} [slug] - the plugin slug\n\t * @param {number|string} sid - site identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( slug, sid, wpcom ) {\n\t\tif ( ! ( this instanceof SitePlugin ) ) {\n\t\t\treturn new SitePlugin( slug, sid, wpcom );\n\t\t}\n\n\t\tif ( ! slug ) {\n\t\t\tthrow new Error( '`slug` is not correctly defined' );\n\t\t}\n\n\t\tthis._slug = encodeURIComponent( slug );\n\t\tthis._sid = sid;\n\t\tthis.wpcom = wpcom;\n\n\t\tconst path = `${ root }/${ this._sid }/plugins`;\n\t\tthis.pluginPath = `${ path }/${ this._slug }`;\n\t}\n\n\t/**\n\t * Get informtion about the plugin\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( this.pluginPath, query, fn );\n\t}\n\n\t/**\n\t * Update the plugin configuration\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - plugin body object\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( this.pluginPath, query, body, fn );\n\t}\n\n\t/**\n\t * Update the plugin version\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tupdateVersion( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.pluginPath }/update`, query, fn );\n\t}\n\n\t/**\n\t * Install the plugin\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tinstall( query, fn ) {\n\t\tconst body = {\n\t\t\tslug: this._slug,\n\t\t};\n\t\treturn this.wpcom.req.post( `${ root }/${ this._sid }/plugins/install`, query, body, fn );\n\t}\n\n\t/**\n\t * Delete the plugin\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdelete( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.pluginPath }/delete`, query, fn );\n\t}\n\n\t/**\n\t * Activate the plugin\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tactivate( query, fn ) {\n\t\treturn this.update( query, { active: true }, fn );\n\t}\n\n\t/**\n\t * Deactivate the plugin\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdeactivate( query, fn ) {\n\t\treturn this.update( query, { active: false }, fn );\n\t}\n\n\t/**\n\t * Enable plugin autoupdate\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tenableAutoupdate( query, fn ) {\n\t\treturn this.update( query, { autoupdate: true }, fn );\n\t}\n\n\t/**\n\t * Disable plugin autoupdate\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdisableAutoupdate( query, fn ) {\n\t\treturn this.update( query, { autoupdate: false }, fn );\n\t}\n}\n\n/**\n * Expose `SitePlugin` module\n */\nexport default SitePlugin;\n","/**\n * SitePostType class\n */\nexport default class SitePostType {\n\t/**\n\t * Create a SitePostType instance\n\t *\n\t * @param {string} postType - post type\n\t * @param {string} siteId - site id\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( postType, siteId, wpcom ) {\n\t\tif ( ! siteId ) {\n\t\t\tthrow new TypeError( '`siteId` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! postType ) {\n\t\t\tthrow new TypeError( '`postType` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SitePostType ) ) {\n\t\t\treturn new SitePostType( postType, siteId, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\n\t\tthis._siteId = encodeURIComponent( siteId );\n\t\tthis._postType = encodeURIComponent( postType );\n\t\tthis._rootPath = `/sites/${ this._siteId }/post-types/${ this._postType }`;\n\t}\n\n\t/**\n\t * Get a list of taxonomies for the post type\n\t *\n\t * @param {object} query - query object\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\ttaxonomiesList( query, fn ) {\n\t\tconst termsPath = `${ this._rootPath }/taxonomies`;\n\t\treturn this.wpcom.req.get( termsPath, query, fn );\n\t}\n}\n","import debugFactory from 'debug';\nimport sitePostGetMethods from './runtime/site.post.get';\nimport Comment from './site.comment';\nimport Like from './site.post.like';\nimport Reblog from './site.post.reblog';\nimport Subscriber from './site.post.subscriber';\nimport runtimeBuilder from './util/runtime-builder';\n\n/**\n * Module vars\n */\nconst debug = debugFactory( 'wpcom:post' );\nconst root = '/sites';\n\n/**\n * SitePost class\n */\nclass SitePost {\n\t/**\n\t * SitePost methods\n\t *\n\t * @param {string} id - post id\n\t * @param {string} sid site id\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( id, sid, wpcom ) {\n\t\tif ( ! ( this instanceof SitePost ) ) {\n\t\t\treturn new SitePost( id, sid, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis._sid = sid;\n\t\tthis.path = `${ root }/${ this._sid }/posts`;\n\n\t\t// set `id` and/or `slug` properties\n\t\tid = id || {};\n\t\tif ( 'object' !== typeof id ) {\n\t\t\tthis._id = id;\n\t\t} else {\n\t\t\tthis._id = id.id;\n\t\t\tthis._slug = id.slug;\n\t\t}\n\t}\n\n\t/**\n\t * Set post `id`\n\t *\n\t * @param {string} id - site id\n\t */\n\tid( id ) {\n\t\tthis._id = id;\n\t}\n\n\t/**\n\t * Set post `slug`\n\t *\n\t * @param {string} slug - site slug\n\t */\n\tslug( slug ) {\n\t\tthis._slug = slug;\n\t}\n\n\t/**\n\t * Get post url path\n\t *\n\t * @returns {string} post path\n\t */\n\n\tgetPostPath() {\n\t\treturn `${ this.path }/${ this._id }`;\n\t}\n\n\t/**\n\t * Get post\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\tif ( ! this._id && this._slug ) {\n\t\t\treturn this.getBySlug( query, fn );\n\t\t}\n\n\t\treturn this.wpcom.req.get( this.getPostPath(), query, fn );\n\t}\n\n\t/**\n\t * Get post by slug\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tgetBySlug( query, fn ) {\n\t\treturn this.wpcom.req.get( `${ this.path }/slug:${ this._slug }`, query, fn );\n\t}\n\n\t/**\n\t * Add post\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tadd( query, body, fn ) {\n\t\tif ( undefined === fn ) {\n\t\t\tif ( undefined === body ) {\n\t\t\t\tbody = query;\n\t\t\t\tquery = {};\n\t\t\t} else if ( 'function' === typeof body ) {\n\t\t\t\tfn = body;\n\t\t\t\tbody = query;\n\t\t\t\tquery = {};\n\t\t\t}\n\t\t}\n\n\t\treturn this.wpcom.req\n\t\t\t.post( `${ this.path }/new`, query, body )\n\t\t\t.then( ( data ) => {\n\t\t\t\t// update POST object\n\t\t\t\tthis._id = data.ID;\n\t\t\t\tdebug( 'Set post _id: %s', this._id );\n\n\t\t\t\tthis._slug = data.slug;\n\t\t\t\tdebug( 'Set post _slug: %s', this._slug );\n\n\t\t\t\tif ( 'function' === typeof fn ) {\n\t\t\t\t\tfn( null, data );\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.resolve( data );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( ( err ) => {\n\t\t\t\tif ( 'function' === typeof fn ) {\n\t\t\t\t\tfn( err );\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject( err );\n\t\t\t\t}\n\t\t\t} );\n\t}\n\n\t/**\n\t * Edit post\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( this.getPostPath(), query, body, fn );\n\t}\n\n\t/**\n\t * Delete post\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdelete( query, fn ) {\n\t\tconst path = `${ this.getPostPath() }/delete`;\n\t\treturn this.wpcom.req.del( path, query, fn );\n\t}\n\n\t/**\n\t * Del post, alias of Delete\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdel( query, fn ) {\n\t\treturn this.delete( query, fn );\n\t}\n\n\t/**\n\t * Restore post\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\trestore( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.getPostPath() }/restore`, query, null, fn );\n\t}\n\n\t/**\n\t * Search within a site for related posts\n\t *\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\trelated( body, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.getPostPath() }/related`, body, null, fn );\n\t}\n\n\t/**\n\t * Create a `Comment` instance\n\t *\n\t * @param {string} [cid] - comment id\n\t * @returns {Comment} Comment instance\n\t */\n\tcomment( cid ) {\n\t\treturn new Comment( cid, this._id, this._sid, this.wpcom );\n\t}\n\n\t/**\n\t * Return recent comments\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tcomments( query, fn ) {\n\t\tconst comment = new Comment( null, this._id, this._sid, this.wpcom );\n\t\treturn comment.replies( query, fn );\n\t}\n\n\t/**\n\t * Create a `Like` instance\n\t *\n\t * @returns {Like} Like instance\n\t */\n\tlike() {\n\t\treturn new Like( this._id, this._sid, this.wpcom );\n\t}\n\n\t/**\n\t * Create a `Reblog` instance\n\t *\n\t * @returns {Reblog} Reblog instance\n\t */\n\treblog() {\n\t\treturn new Reblog( this._id, this._sid, this.wpcom );\n\t}\n\n\t/**\n\t * Return a `Subscriber` instance.\n\t *\n\t * *Example:*\n\t *    // Create a Subscriber instance of a post\n\t *    var post = wpcom.site( 'en.blog.wordpress.com' ).post( 1234 );\n\t *    var subs = post.subscriber();\n\t *\n\t * @returns {Subscriber} Subscriber instance\n\t */\n\tsubscriber() {\n\t\treturn new Subscriber( this._id, this._sid, this.wpcom );\n\t}\n}\n\n// add methods in runtime\nruntimeBuilder( SitePost, sitePostGetMethods, ( item, ctx ) => {\n\treturn `/sites/${ ctx._sid }/posts/${ ctx._id }/${ item.subpath }`;\n} );\n\nexport default SitePost;\n","/**\n * Like methods\n *\n * @param {string} pid - post id\n * @param {string} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Like( pid, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! pid ) {\n\t\tthrow new Error( '`post id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Like ) ) {\n\t\treturn new Like( pid, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._pid = pid;\n\tthis._sid = sid;\n}\n\n/**\n * Get your Like status for a Post\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n */\nLike.prototype.mine = Like.prototype.state = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/likes/mine';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Like a post\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nLike.prototype.add = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/likes/new';\n\treturn this.wpcom.req.put( path, query, null, fn );\n};\n\n/**\n * Remove your Like from a Post\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n */\nLike.prototype.del = Like.prototype.delete = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/likes/mine/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n","/**\n * Reblog methods\n *\n * @param {string} pid post id\n * @param {string} sid site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Reblog( pid, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! pid ) {\n\t\tthrow new Error( '`post id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Reblog ) ) {\n\t\treturn new Reblog( pid, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._pid = pid;\n\tthis._sid = sid;\n}\n\n/**\n * Get your reblog status for a Post\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nReblog.prototype.mine = Reblog.prototype.state = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/reblogs/mine';\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Reblog a post\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nReblog.prototype.add = function ( query, body, fn ) {\n\tif ( 'function' === typeof body ) {\n\t\tfn = body;\n\t\tbody = query;\n\t\tquery = {};\n\t}\n\n\tif ( body && ! body.destination_site_id ) {\n\t\treturn fn( new Error( 'destination_site_id is not defined' ) );\n\t}\n\n\tconst path = '/sites/' + this._sid + '/posts/' + this._pid + '/reblogs/new';\n\treturn this.wpcom.req.put( path, query, body, fn );\n};\n\n/**\n * Reblog a post to\n * It's almost an alias of Reblogs#add\n *\n * @param {number|string} dest site id destination\n * @param {string} [note] - post reblog note\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nReblog.prototype.to = function ( dest, note, fn ) {\n\tif ( undefined === fn ) {\n\t\tif ( undefined === note ) {\n\t\t\tnote = null;\n\t\t} else if ( 'function' === typeof note ) {\n\t\t\tfn = note;\n\t\t\tnote = null;\n\t\t}\n\t}\n\n\treturn this.add( { note: note, destination_site_id: dest }, fn );\n};\n","class SitePostSubscriber {\n\t/**\n\t * `SitePostSubscriber` constructor.\n\t *\n\t * @param {string} id - post identifier\n\t * @param {string} sid - site identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( id, sid, wpcom ) {\n\t\tif ( ! sid ) {\n\t\t\tthrow new Error( '`side id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! id ) {\n\t\t\tthrow new Error( '`post id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SitePostSubscriber ) ) {\n\t\t\treturn new SitePostSubscriber( id, sid, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis._id = id;\n\t\tthis._sid = sid;\n\t\tthis.path = `/sites/${ this._sid }/posts/${ this._id }/subscribers`;\n\t}\n\n\t/**\n\t * Get subscriber status for the current user for the Post.\n\t *\n\t *\n\t * *Example:*\n\t *    Get subscriber status for the current user for the Post\n\t *    wpcom\n\t *    .site( 'en.blog.wordpress.com' )\n\t *    .post( 1234 )\n\t *    .subscriber()\n\t *    .mine( function( err, data ) {\n\t *      // subscription data\n\t *    } );\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tmine( query, fn ) {\n\t\treturn this.wpcom.req.get( `${ this.path }/mine`, query, fn );\n\t}\n\n\t/**\n\t * Subscribe the current user to the post.\n\t *\n\t * *Example:*\n\t *    // Subscribe the current user to the post\n\t *    wpcom\n\t *    .site( 'en.blog.wordpress.com' )\n\t *    .post( 1234 )\n\t *    .subscriber()\n\t *    .add( function( err, data ) {\n\t *      // current user has been subscribed to post\n\t *    } );\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tadd( query, fn ) {\n\t\treturn this.wpcom.req.put( `${ this.path }/new`, query, null, fn );\n\t}\n\n\t/**\n\t * Unsubscribe current user to the post\n\t *\n\t * *Example:*\n\t *    // Unsubscribe current user to the post\n\t *    wpcom\n\t *    .site( 'en.blog.wordpress.com' )\n\t *    .post( 1234 )\n\t *    .subscriber()\n\t *    .del( function( err, data ) {\n\t *      // current user has been unsubscribed to post\n\t *    } );\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdel( query, fn ) {\n\t\treturn this.wpcom.req.del( `${ this.path }/mine/delete`, query, fn );\n\t}\n}\n\n// method alias\nSitePostSubscriber.prototype.state = SitePostSubscriber.prototype.mine;\nSitePostSubscriber.prototype.delete = SitePostSubscriber.prototype.del;\n\nexport default SitePostSubscriber;\n","/**\n * SiteSettings methods\n *\n * @param {string} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nclass SiteSettings {\n\tconstructor( sid, wpcom ) {\n\t\tif ( ! sid ) {\n\t\t\tthrow new Error( '`site id` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SiteSettings ) ) {\n\t\t\treturn new SiteSettings( sid, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\t\tthis._sid = sid;\n\t\tthis.path = `/sites/${ this._sid }/settings`;\n\t}\n\n\t/**\n\t * Get site-settings\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tget( query, fn ) {\n\t\treturn this.wpcom.req.get( this.path, query, fn );\n\t}\n\n\t/**\n\t * Get site-settings single option\n\t *\n\t * @param {string} option - option to ask\n\t * @param {Function} [fn] - callback function\n\t * @returns {Function} request handler\n\t */\n\tgetOption( option, fn = () => {} ) {\n\t\tconst query = { fields: 'settings' };\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\tthis.wpcom.req.get( this.path, query, ( err, data ) => {\n\t\t\t\tif ( err ) {\n\t\t\t\t\tfn( err );\n\t\t\t\t\treturn reject( err );\n\t\t\t\t}\n\n\t\t\t\tif ( ! data ) {\n\t\t\t\t\tfn();\n\t\t\t\t\treturn resolve();\n\t\t\t\t}\n\n\t\t\t\tconst settings = data.settings;\n\n\t\t\t\tif ( settings && typeof settings[ option ] !== 'undefined' ) {\n\t\t\t\t\tfn( null, settings[ option ] );\n\t\t\t\t\treturn resolve( settings[ option ] );\n\t\t\t\t}\n\n\t\t\t\tfn( null, data );\n\t\t\t\treturn resolve( data );\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Update site-settings\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - body object parameter\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( this.path, query, body, fn );\n\t}\n\n\t/**\n\t * Set site-settings single option\n\t *\n\t * @param {string} option - option to set\n\t * @param {*} value - value to assing to the given option\n\t * @param {Function} fn - callback function\n\t * @returns {Function} request handler\n\t */\n\tsetOption( option, value, fn ) {\n\t\treturn this.wpcom.req.put( this.path, {}, { [ option ]: value }, fn );\n\t}\n}\n\nexport default SiteSettings;\n","/**\n * Tag methods\n *\n * @param {string} [slug] - tag slug\n * @param {string} sid - site id\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Tag( slug, sid, wpcom ) {\n\tif ( ! sid ) {\n\t\tthrow new Error( '`site id` is not correctly defined' );\n\t}\n\n\tif ( ! ( this instanceof Tag ) ) {\n\t\treturn new Tag( slug, sid, wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis._sid = sid;\n\tthis._slug = slug;\n}\n\n/**\n * Set tag `slug`\n *\n * @param {string} slug - tag slug\n */\nTag.prototype.slug = function ( slug ) {\n\tthis._slug = slug;\n};\n\n/**\n * Get tag\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nTag.prototype.get = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/tags/slug:' + this._slug;\n\treturn this.wpcom.req.get( path, query, fn );\n};\n\n/**\n * Add tag\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nTag.prototype.add = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/tags/new';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * Edit tag\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nTag.prototype.update = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/tags/slug:' + this._slug;\n\treturn this.wpcom.req.put( path, query, body, fn );\n};\n\n/**\n * Delete tag\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nTag.prototype.delete = Tag.prototype.del = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/tags/slug:' + this._slug + '/delete';\n\treturn this.wpcom.req.del( path, query, fn );\n};\n","import SiteTaxonomyTerm from './site.taxonomy.term';\n\n/**\n * SiteTaxonomy class\n */\nclass SiteTaxonomy {\n\t/**\n\t * Create a SiteTaxonomy instance\n\t *\n\t * @param {string} taxonomy - taxonomy type\n\t * @param {string} siteId - site id\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( taxonomy, siteId, wpcom ) {\n\t\tif ( ! siteId ) {\n\t\t\tthrow new TypeError( '`siteId` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! taxonomy ) {\n\t\t\tthrow new TypeError( '`taxonomy` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SiteTaxonomy ) ) {\n\t\t\treturn new SiteTaxonomy( taxonomy, siteId, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\n\t\tthis._siteId = encodeURIComponent( siteId );\n\t\tthis._taxonomy = encodeURIComponent( taxonomy );\n\t\tthis._rootPath = `/sites/${ this._siteId }/taxonomies/${ this._taxonomy }`;\n\t}\n\n\t/**\n\t * Get a list of Terms for the Taxonomy\n\t *\n\t * @param {object} [query] - query object\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\ttermsList( query, fn ) {\n\t\tconst termsPath = `${ this._rootPath }/terms`;\n\t\treturn this.wpcom.req.get( termsPath, query, fn );\n\t}\n\n\t/**\n\t * Return `Term` instance\n\t *\n\t * @param {string} [term] - term slug\n\t * @returns {SiteTaxonomyTerm} Term instance\n\t */\n\tterm( term ) {\n\t\treturn new SiteTaxonomyTerm( term, this._taxonomy, this._siteId, this.wpcom );\n\t}\n}\n\nexport default SiteTaxonomy;\n","/**\n * SiteTaxonomyTerm class\n */\n\nclass SiteTaxonomyTerm {\n\t/**\n\t * Create a SiteTaxonomyTerm instance\n\t *\n\t * @param {string} term - term slug\n\t * @param {string} taxonomy - taxonomy type\n\t * @param {string} siteId - site id\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {null} null\n\t */\n\tconstructor( term, taxonomy, siteId, wpcom ) {\n\t\tif ( ! siteId ) {\n\t\t\tthrow new TypeError( '`siteId` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! taxonomy ) {\n\t\t\tthrow new TypeError( '`taxonomy` is not correctly defined' );\n\t\t}\n\n\t\tif ( ! ( this instanceof SiteTaxonomyTerm ) ) {\n\t\t\treturn new SiteTaxonomyTerm( term, taxonomy, siteId, wpcom );\n\t\t}\n\n\t\tthis.wpcom = wpcom;\n\n\t\tthis._siteId = encodeURIComponent( siteId );\n\t\tthis._taxonomy = encodeURIComponent( taxonomy );\n\t\tthis._term = encodeURIComponent( term );\n\t\tthis._taxonomyPath = `/sites/${ this._siteId }/taxonomies/${ this._taxonomy }/terms`;\n\t}\n\n\t/**\n\t * Get Term details\n\t *\n\t * @param {object} [query] - query parameters\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tget( query, fn ) {\n\t\tif ( ! this._term ) {\n\t\t\tthrow new Error( '`term` is not correctly defined' );\n\t\t}\n\n\t\tif ( 'function' === typeof query ) {\n\t\t\tfn = query;\n\t\t\tquery = {};\n\t\t}\n\n\t\tconst path = `${ this._taxonomyPath }/slug:${ this._term }`;\n\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t}\n\n\t/**\n\t * Add new Term\n\t *\n\t * @param {object} [params] - term parameters\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tadd( params, fn ) {\n\t\tif ( ! params || ! params.name ) {\n\t\t\tthrow new Error( '`params.name` is not correctly defined' );\n\t\t}\n\n\t\tconst path = `${ this._taxonomyPath }/new`;\n\n\t\treturn this.wpcom.req.post( path, params, fn );\n\t}\n\n\t/**\n\t * Delete Term\n\t *\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdelete( fn ) {\n\t\tif ( ! this._term ) {\n\t\t\tthrow new Error( '`term` is not correctly defined' );\n\t\t}\n\n\t\tconst path = `${ this._taxonomyPath }/slug:${ this._term }/delete`;\n\n\t\treturn this.wpcom.req.del( path, fn );\n\t}\n\n\t/**\n\t * Update Term\n\t *\n\t * @param {object} [params] - term parameters\n\t * @param {Function} fn - callback function\n\t * @returns {Promise} Promise\n\t */\n\tupdate( params, fn ) {\n\t\tif ( ! this._term ) {\n\t\t\tthrow new Error( '`term` is not correctly defined' );\n\t\t}\n\n\t\tconst path = `${ this._taxonomyPath }/slug:${ this._term }`;\n\t\treturn this.wpcom.req.put( path, params, fn );\n\t}\n}\n\nexport default SiteTaxonomyTerm;\n","/**\n * `SiteWordAdsEarnings` constructor.\n *\n * @param {string} sid - site identifier\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function SiteWordAdsEarnings( sid, wpcom ) {\n\tif ( ! ( this instanceof SiteWordAdsEarnings ) ) {\n\t\treturn new SiteWordAdsEarnings( sid, wpcom );\n\t}\n\n\tthis._sid = sid;\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Get detailed WordAds earnings information about the site.\n *\n * *Example:*\n *    // Get site earnings information\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .earnings()\n *    .get( function( err, data ) {\n *      // `earnings` information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsEarnings.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/sites/' + this._sid + '/wordads/earnings', query, fn );\n};\n","import SiteWordAdsEarnings from './site.wordads.earnings';\nimport SiteWordAdsSettings from './site.wordads.settings';\nimport SiteWordAdsTOS from './site.wordads.tos';\n\n/**\n * `SiteWordAds` constructor.\n *\n * Use a `WPCOM#Me` instance to create a new `SiteWordAds` instance.\n *\n * @param {string} sid - site identifier\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function SiteWordAds( sid, wpcom ) {\n\tif ( ! ( this instanceof SiteWordAds ) ) {\n\t\treturn new SiteWordAds( sid, wpcom );\n\t}\n\n\tthis._sid = sid;\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Return a `SiteWordAdsSettings` instance.\n *\n * *Example:*\n *    // Create a SiteWordAdsSettings instance\n *\n *    var wordAds = wpcom\n *      .site( 'my-blog.wordpress.com' )\n *      .wordAds()\n *      .settings();\n *\n * @returns {SiteWordAdsSettings} site WordAds settings instance\n */\nSiteWordAds.prototype.settings = function () {\n\treturn new SiteWordAdsSettings( this._sid, this.wpcom );\n};\n\n/**\n * Return a `SiteWordAdsEarnings` instance.\n *\n * *Example:*\n *    // Create a SiteWordAdsEarnings instance\n *\n *    var wordAds = wpcom\n *      .site( 'my-blog.wordpress.com' )\n *      .wordAds()\n *      .earnings();\n *\n * @returns {SiteWordAdsEarnings} site WordAds earnings instance\n */\nSiteWordAds.prototype.earnings = function () {\n\treturn new SiteWordAdsEarnings( this._sid, this.wpcom );\n};\n\n/**\n * Return a `SiteWordAdsTOS` instance.\n *\n * *Example:*\n *    // Create a SiteWordAdsTOS instance\n *\n *    var wordAds = wpcom\n *      .site( 'my-blog.wordpress.com' )\n *      .wordAds()\n *      .tos();\n *\n * Return  SiteWordAdsTOS object for the site.\n *\n * @returns {SiteWordAdsTOS} site wordAds TOS instance\n */\nSiteWordAds.prototype.tos = function () {\n\treturn new SiteWordAdsTOS( this._sid, this.wpcom );\n};\n","/**\n * `SiteWordAdsSettings` constructor.\n *\n * @param {string} sid - site identifier\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function SiteWordAdsSettings( sid, wpcom ) {\n\tif ( ! ( this instanceof SiteWordAdsSettings ) ) {\n\t\treturn new SiteWordAdsSettings( sid, wpcom );\n\t}\n\n\tthis._sid = sid;\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Get detailed WordAds settings information about the site.\n *\n * *Example:*\n *    // Get site settings information\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .settings()\n *    .get( function( err, data ) {\n *      // `settings` information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsSettings.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/sites/' + this._sid + '/wordads/settings', query, fn );\n};\n\n/**\n * Update WordAds settings for the site.\n *\n * *Example:*\n *    var settings = {}; // your settings here\n *\n *    // Get site settings information\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .settings()\n *    .update( settings, function( err, data ) {\n *      // data settings information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsSettings.prototype.update = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/wordads/settings';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n","/**\n * `SiteWordAdsTOS` constructor.\n *\n * @param {string} sid - site identifier\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function SiteWordAdsTOS( sid, wpcom ) {\n\tif ( ! ( this instanceof SiteWordAdsTOS ) ) {\n\t\treturn new SiteWordAdsTOS( sid, wpcom );\n\t}\n\n\tthis._sid = sid;\n\tthis.wpcom = wpcom;\n}\n\n/**\n * GET site's WordAds TOS\n *\n * Example:\n *    // Get site TOS information\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .tos()\n *    .get( function( err, data ) {\n *      // `settings` information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsTOS.prototype.get = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/sites/' + this._sid + '/wordads/tos', query, fn );\n};\n\n/**\n * UPDATE site's WordAds TOS\n *\n * Example:\n *    // Update TOS\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .tos()\n *    .update( { tos: 'signed' }, function( err, data ) {\n *      // data settings information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsTOS.prototype.update = function ( query, body, fn ) {\n\tconst path = '/sites/' + this._sid + '/wordads/tos';\n\treturn this.wpcom.req.post( path, query, body, fn );\n};\n\n/**\n * SIGN site's WordAds TOS\n *\n * Example:\n *    // Sign TOS\n *    wpcom\n *    .site( 'my-blog.wordpress.com' )\n *    .wordAds()\n *    .tos()\n *    .sign( function( err, data ) {\n *      // data settings information object\n *    } );\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nSiteWordAdsTOS.prototype.sign = function ( query, fn ) {\n\tconst path = '/sites/' + this._sid + '/wordads/tos';\n\treturn this.wpcom.req.post( path, query, { tos: 'signed' }, fn );\n};\n","/**\n * Module vars\n */\nconst root = '/sites';\n\nclass SiteWPComPlugin {\n\t/**\n\t * `SiteWPComPlugin` constructor.\n\t *\n\t * @param {string} [slug] - the plugin slug\n\t * @param {number|string} sid - site identifier\n\t * @param {WPCOM} wpcom - wpcom instance\n\t * @returns {undefined} undefined\n\t */\n\tconstructor( slug, sid, wpcom ) {\n\t\tif ( ! ( this instanceof SiteWPComPlugin ) ) {\n\t\t\treturn new SiteWPComPlugin( slug, sid, wpcom );\n\t\t}\n\n\t\tif ( ! slug ) {\n\t\t\tthrow new Error( '`slug` is not correctly defined' );\n\t\t}\n\n\t\tthis._slug = encodeURIComponent( slug );\n\t\tthis._sid = sid;\n\t\tthis.wpcom = wpcom;\n\n\t\tconst path = `${ root }/${ this._sid }/wpcom-plugins`;\n\t\tthis.pluginPath = `${ path }/${ this._slug }`;\n\t}\n\n\t/**\n\t * Update the plugin configuration\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {object} body - plugin body object\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tupdate( query, body, fn ) {\n\t\treturn this.wpcom.req.put( this.pluginPath, query, body, fn );\n\t}\n\n\t/**\n\t * Activate the plugin\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tactivate( query, fn ) {\n\t\treturn this.update( query, { active: true }, fn );\n\t}\n\n\t/**\n\t * Deactivate the plugin\n\t * This method is a shorthand of update()\n\t *\n\t * @param {object} [query] - query object parameter\n\t * @param {Function} [fn] - callback function\n\t * @returns {Promise} Promise\n\t */\n\tdeactivate( query, fn ) {\n\t\treturn this.update( query, { active: false }, fn );\n\t}\n}\n\n/**\n * Expose `SiteWPComPlugin` module\n */\nexport default SiteWPComPlugin;\n","import * as tus from 'tus-js-client';\nimport Media from './site.media';\n\n/**\n * This class is an adapted version of wpcom's TUS uploader use-uploader.js.\n * It enables resumable uploads for videos.\n */\nexport default class TusUploader {\n\tconstructor( wpcom, sid ) {\n\t\tthis.wpcom = wpcom;\n\t\tthis._sid = sid;\n\t}\n\n\tcreateGetJwtRequest = ( key ) => {\n\t\tconst params = {\n\t\t\tpath: '/sites/' + this._sid + '/media/videopress-upload-jwt',\n\t\t\tapiNamespace: 'wpcom/v2',\n\t\t};\n\n\t\tif ( key ) {\n\t\t\tparams.key = key;\n\t\t}\n\n\t\treturn this.wpcom.req.post( params, {}, null, null );\n\t};\n\n\tstartUpload = ( files ) => {\n\t\tconst file = files[ 0 ];\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\tconst uploader = this.resumableUploader( {\n\t\t\t\tonError: ( error ) => reject( error ),\n\t\t\t\tonSuccess: ( args ) => {\n\t\t\t\t\tconst media = new Media( args.mediaId, this._sid, this.wpcom );\n\t\t\t\t\tmedia\n\t\t\t\t\t\t.get()\n\t\t\t\t\t\t.then( ( res ) => resolve( { media: [ res ] } ) )\n\t\t\t\t\t\t.catch( ( err ) => reject( err ) );\n\t\t\t\t},\n\t\t\t\tonProgress: (/*bytesUploaded, bytesTotal*/) => {},\n\t\t\t} );\n\n\t\t\treturn this.createGetJwtRequest().then( ( jwtData ) => uploader( file, jwtData ) );\n\t\t} );\n\t};\n\n\tresumableUploader = ( { onError, onProgress, onSuccess } ) => {\n\t\tconst jwtsForKeys = {};\n\t\t// Keep in sync with wpcom's use-uploader.js\n\t\treturn ( file, data ) => {\n\t\t\tconst upload = new tus.Upload( file, {\n\t\t\t\tonError: onError,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tendpoint: 'https://public-api.wordpress.com/rest/v1.1/video-uploads/' + this._sid + '/',\n\t\t\t\tremoveFingerprintOnSuccess: true,\n\t\t\t\twithCredentials: false,\n\t\t\t\tautoRetry: true,\n\t\t\t\toverridePatchMethod: false,\n\t\t\t\tchunkSize: 10000000, // 10Mb.\n\t\t\t\tallowedFileTypes: [ 'video/*' ],\n\t\t\t\tmetadata: {\n\t\t\t\t\tfilename: file.name,\n\t\t\t\t\tfiletype: file.type,\n\t\t\t\t},\n\t\t\t\tretryDelays: [ 0, 1000, 3000, 5000, 10000 ],\n\t\t\t\tonAfterResponse: ( req, res ) => {\n\t\t\t\t\t// Why is this not showing the x-headers?\n\t\t\t\t\tif ( res.getStatus() >= 400 ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst GUID_HEADER = 'x-videopress-upload-guid';\n\t\t\t\t\tconst MEDIA_ID_HEADER = 'x-videopress-upload-media-id';\n\t\t\t\t\tconst SRC_URL_HEADER = 'x-videopress-upload-src-url';\n\t\t\t\t\tconst guid = res.getHeader( GUID_HEADER );\n\t\t\t\t\tconst mediaId = res.getHeader( MEDIA_ID_HEADER );\n\t\t\t\t\tconst src = res.getHeader( SRC_URL_HEADER );\n\t\t\t\t\tif ( guid && mediaId && src ) {\n\t\t\t\t\t\tonSuccess && onSuccess( { mediaId: Number( mediaId ), guid, src } );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst headerMap = {\n\t\t\t\t\t\t'x-videopress-upload-key-token': 'token',\n\t\t\t\t\t\t'x-videopress-upload-key': 'key',\n\t\t\t\t\t};\n\n\t\t\t\t\tconst tokenData = {};\n\t\t\t\t\tObject.keys( headerMap ).forEach( function ( header ) {\n\t\t\t\t\t\tconst value = res.getHeader( header );\n\t\t\t\t\t\tif ( ! value ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttokenData[ headerMap[ header ] ] = value;\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( tokenData.key && tokenData.token ) {\n\t\t\t\t\t\tjwtsForKeys[ tokenData.key ] = tokenData.token;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonBeforeRequest: ( req ) => {\n\t\t\t\t\t// make ALL requests be either POST or GET to honor the public-api.wordpress.com \"contract\".\n\t\t\t\t\tconst method = req._method;\n\t\t\t\t\tif ( [ 'HEAD', 'OPTIONS' ].indexOf( method ) >= 0 ) {\n\t\t\t\t\t\treq._method = 'GET';\n\t\t\t\t\t\treq.setHeader( 'X-HTTP-Method-Override', method );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( [ 'DELETE', 'PUT', 'PATCH' ].indexOf( method ) >= 0 ) {\n\t\t\t\t\t\treq._method = 'POST';\n\t\t\t\t\t\treq.setHeader( 'X-HTTP-Method-Override', method );\n\t\t\t\t\t}\n\n\t\t\t\t\treq._xhr.open( req._method, req._url, true );\n\t\t\t\t\t// Set the headers again, reopening the xhr resets them.\n\t\t\t\t\tObject.keys( req._headers ).map( function ( headerName ) {\n\t\t\t\t\t\treq.setHeader( headerName, req._headers[ headerName ] );\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( 'POST' === method ) {\n\t\t\t\t\t\tconst hasJWT = !! data.upload_token;\n\t\t\t\t\t\tif ( hasJWT ) {\n\t\t\t\t\t\t\treq.setHeader( 'x-videopress-upload-token', data.upload_token );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow 'should never happen';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( [ 'OPTIONS', 'GET', 'HEAD', 'DELETE', 'PUT', 'PATCH' ].indexOf( method ) >= 0 ) {\n\t\t\t\t\t\tconst url = new URL( req._url );\n\t\t\t\t\t\tconst path = url.pathname;\n\t\t\t\t\t\tconst parts = path.split( '/' );\n\t\t\t\t\t\tconst maybeUploadkey = parts[ parts.length - 1 ];\n\t\t\t\t\t\tif ( jwtsForKeys[ maybeUploadkey ] ) {\n\t\t\t\t\t\t\treq.setHeader( 'x-videopress-upload-token', jwtsForKeys[ maybeUploadkey ] );\n\t\t\t\t\t\t} else if ( 'HEAD' === method ) {\n\t\t\t\t\t\t\treturn this.createGetJwtRequest( maybeUploadkey ).then( ( responseData ) => {\n\t\t\t\t\t\t\t\tjwtsForKeys[ maybeUploadkey ] = responseData.token;\n\t\t\t\t\t\t\t\treq.setHeader( 'x-videopress-upload-token', responseData.token );\n\t\t\t\t\t\t\t\treturn req;\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.resolve( req );\n\t\t\t\t},\n\t\t\t} );\n\n\t\t\tupload.findPreviousUploads().then( function ( previousUploads ) {\n\t\t\t\tif ( previousUploads.length ) {\n\t\t\t\t\tupload.resumeFromPreviousUpload( previousUploads[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\tupload.start();\n\t\t\t} );\n\n\t\t\treturn upload;\n\t\t};\n\t};\n}\n","/**\n * Create a `Users` instance\n *\n * @param {WPCOM} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Users( wpcom ) {\n\tif ( ! ( this instanceof Users ) ) {\n\t\treturn new Users( wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n}\n\n/**\n * A list of @mention suggestions for the current user\n *\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nUsers.prototype.suggest = function ( query, fn ) {\n\treturn this.wpcom.req.get( '/users/suggest', query, fn );\n};\n","export function createReadStream() {\n\tthrow new Error( 'Cannot call fs functions within the browser' );\n}\n","import debugFactory from 'debug';\n\nconst debug = debugFactory( 'wpcom:pinghub' );\n\n/**\n * Create a `Pinghub` instance\n *\n * @param {object} wpcom - wpcom instance\n * @returns {null} null\n */\nexport default function Pinghub( wpcom ) {\n\tif ( ! ( this instanceof Pinghub ) ) {\n\t\treturn new Pinghub( wpcom );\n\t}\n\n\tthis.wpcom = wpcom;\n\tthis.conns = {};\n}\n\n/**\n * Open a websocket to Pinghub\n *\n * @param {string} path - request path\n * @param {Function} fn - callback function\n */\nPinghub.prototype.connect = function ( path, fn ) {\n\tdebug( 'connect', path, fn );\n\tconst pinghub = this;\n\tconst params = {\n\t\taction: 'connect',\n\t\tpath: '/pinghub' + path,\n\t};\n\tconst errorCallback = function () {}; // we want an xhr, not a promise\n\tconst xhr = ( this.conns[ path ] = this.wpcom.req.get( params, errorCallback ) );\n\txhr.onload = function ( e ) {\n\t\tdebug( 'onload', path, e );\n\t\tfn( null, e );\n\t};\n\txhr.onerror =\n\t\txhr.onabort =\n\t\txhr.onclose =\n\t\t\tfunction ( e ) {\n\t\t\t\tdebug( 'onerror', path, e );\n\t\t\t\tpinghub.remove( path );\n\t\t\t\tfn( e, null );\n\t\t\t};\n};\n\n/**\n * Close a websocket connection (unsubscribe)\n *\n * @param {string} path - request path\n */\nPinghub.prototype.disconnect = function ( path ) {\n\tdebug( 'disconnect', path );\n\tconst params = {\n\t\taction: 'disconnect',\n\t\tpath: '/pinghub' + path,\n\t};\n\tconst errorCallback = function () {}; // no promises\n\tthis.wpcom.req.get( params, errorCallback );\n};\n\n/**\n * Remove a dead connection\n *\n * @param {string} path - pinghub channel\n */\nPinghub.prototype.remove = function ( path ) {\n\tdebug( 'remove', path );\n\tdelete this.conns[ path ];\n};\n","import sendRequest from './send-request';\n\n/**\n * Expose `Request` module\n *\n * @param {WPCOM} wpcom - wpcom instance\n */\nexport default function Req( wpcom ) {\n\tthis.wpcom = wpcom;\n}\n\n/**\n * Request methods\n *\n * @param {object|string} params - params object\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nReq.prototype.get = function ( params, query, fn ) {\n\t// `query` is optional\n\tif ( 'function' === typeof query ) {\n\t\tfn = query;\n\t\tquery = {};\n\t}\n\n\treturn sendRequest.call( this.wpcom, params, query, null, fn );\n};\n\n/**\n * Make `update` request\n *\n * @param {object|string} params\n * @param {object} [query] - query object parameter\n * @param {object} body - body object parameter\n * @param {Function} fn - callback function\n */\nReq.prototype.post = Req.prototype.put = function ( params, query, body, fn ) {\n\tif ( undefined === fn ) {\n\t\tif ( undefined === body ) {\n\t\t\tbody = query;\n\t\t\tquery = {};\n\t\t} else if ( 'function' === typeof body ) {\n\t\t\tfn = body;\n\t\t\tbody = query;\n\t\t\tquery = {};\n\t\t}\n\t}\n\n\t// params can be a string\n\tparams = 'string' === typeof params ? { path: params } : params;\n\n\t// in v1 endpoints, DELETE and PUT operations use http POST, but for v2 endpoints we must allow this to be overridden\n\tparams.method = params.method || 'post';\n\n\treturn sendRequest.call( this.wpcom, params, query, body, fn );\n};\n\n/**\n * Make a `delete` request\n *\n * @param {object|string} params - params object\n * @param {object} [query] - query object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nReq.prototype.del = function ( params, query, fn ) {\n\tif ( 'function' === typeof query ) {\n\t\tfn = query;\n\t\tquery = {};\n\t}\n\n\treturn this.post( params, query, null, fn );\n};\n","import debugFactory from 'debug';\n\n/**\n * Module vars\n */\nconst debug = debugFactory( 'wpcom:runtime' );\n\n/**\n * Build a generic method\n *\n * @param {object} methodParams - method methodParams\n * @param {Function} buildPath - function called to build method path\n * @returns {string} method path\n */\nconst methodBuilder = ( methodParams, buildPath ) => {\n\treturn function ( query, fn ) {\n\t\tconst path = buildPath( methodParams, this );\n\t\treturn this.wpcom.req.get( path, query, fn );\n\t};\n};\n\n/**\n * Add methods to the given Class in the\n * runtime process.\n *\n * @param {*} Class - class to extend\n * @param {Array} list - methods list\n * @param {Function} buildPath - function to build the method endpoint path\n */\nexport default function ( Class, list, buildPath ) {\n\tlist.forEach( ( methodParams ) => {\n\t\tmethodParams = 'object' === typeof methodParams ? methodParams : { name: methodParams };\n\n\t\tdebug( 'Adding %o', methodParams.name );\n\t\tClass.prototype[ methodParams.name ] = methodBuilder( methodParams, buildPath );\n\t} );\n}\n","import debugFactory from 'debug';\nimport qs from 'qs';\n\nconst debug = debugFactory( 'wpcom:send-request' );\nconst debug_res = debugFactory( 'wpcom:send-request:res' );\n\n/**\n * Request to WordPress REST API\n *\n * @param {string|object} params - params object\n * @param {object} [query] - query object parameter\n * @param {object} [body] - body object parameter\n * @param {Function} fn - callback function\n * @returns {Function} request handler\n */\nexport default function sendRequest( params, query, body, fn ) {\n\t// `params` can be just the path ( String )\n\tparams = 'string' === typeof params ? { path: params } : params;\n\n\tdebug( 'sendRequest(%o )', params.path );\n\n\t// set `method` request param\n\tparams.method = ( params.method || 'get' ).toUpperCase();\n\n\t// `query` is optional\n\tif ( 'function' === typeof query ) {\n\t\tfn = query;\n\t\tquery = {};\n\t}\n\n\t// `body` is optional\n\tif ( 'function' === typeof body ) {\n\t\tfn = body;\n\t\tbody = null;\n\t}\n\n\t// query could be `null`\n\tquery = query || {};\n\n\t// Handle special query parameters\n\t// - `apiVersion`\n\tif ( query.apiVersion ) {\n\t\tparams.apiVersion = query.apiVersion;\n\t\tdebug( 'apiVersion: %o', params.apiVersion );\n\t\tdelete query.apiVersion;\n\t} else {\n\t\tparams.apiVersion = this.apiVersion;\n\t}\n\n\t// - `apiNamespace`\n\tif ( query.apiNamespace ) {\n\t\tparams.apiNamespace = query.apiNamespace;\n\t\tdebug( 'apiNamespace: %o', params.apiNamespace );\n\t\tdelete query.apiNamespace;\n\t}\n\n\t// - `proxyOrigin`\n\tif ( query.proxyOrigin ) {\n\t\tparams.proxyOrigin = query.proxyOrigin;\n\t\tdebug( 'proxyOrigin: %o', params.proxyOrigin );\n\t\tdelete query.proxyOrigin;\n\t}\n\n\t// Stringify query object before to send\n\tquery = qs.stringify( query, { arrayFormat: 'brackets' } );\n\n\t// pass `query` and/or `body` to request params\n\tparams.query = query;\n\n\tif ( body ) {\n\t\tparams.body = body;\n\t}\n\tdebug( 'params: %o', params );\n\n\t// if callback is provided, behave traditionally\n\tif ( 'function' === typeof fn ) {\n\t\t// request method\n\t\treturn this.request( params, function ( err, res, headers ) {\n\t\t\tdebug_res( res );\n\t\t\tfn( err, res, headers );\n\t\t} );\n\t}\n\n\t// but if not, return a Promise\n\treturn new Promise( ( resolve, reject ) => {\n\t\tthis.request( params, ( err, res ) => {\n\t\t\tdebug_res( res );\n\t\t\terr ? reject( err ) : resolve( res );\n\t\t} );\n\t} );\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport isReactNative from './isReactNative';\nimport uriToBlob from './uriToBlob';\nimport isCordova from './isCordova';\nimport readAsByteArray from './readAsByteArray';\n\nvar FileSource = /*#__PURE__*/function () {\n  // Make this.size a method\n  function FileSource(file) {\n    _classCallCheck(this, FileSource);\n\n    this._file = file;\n    this.size = file.size;\n  }\n\n  _createClass(FileSource, [{\n    key: \"slice\",\n    value: function slice(start, end) {\n      // In Apache Cordova applications, a File must be resolved using\n      // FileReader instances, see\n      // https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-file/index.html#read-a-file\n      if (isCordova()) {\n        return readAsByteArray(this._file.slice(start, end));\n      }\n\n      var value = this._file.slice(start, end);\n\n      return Promise.resolve({\n        value: value\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {// Nothing to do here since we don't need to release any resources.\n    }\n  }]);\n\n  return FileSource;\n}();\n\nvar StreamSource = /*#__PURE__*/function () {\n  function StreamSource(reader, chunkSize) {\n    _classCallCheck(this, StreamSource);\n\n    this._chunkSize = chunkSize;\n    this._buffer = undefined;\n    this._bufferOffset = 0;\n    this._reader = reader;\n    this._done = false;\n  }\n\n  _createClass(StreamSource, [{\n    key: \"slice\",\n    value: function slice(start, end) {\n      if (start < this._bufferOffset) {\n        return Promise.reject(new Error(\"Requested data is before the reader's current offset\"));\n      }\n\n      return this._readUntilEnoughDataOrDone(start, end);\n    }\n  }, {\n    key: \"_readUntilEnoughDataOrDone\",\n    value: function _readUntilEnoughDataOrDone(start, end) {\n      var _this = this;\n\n      var hasEnoughData = end <= this._bufferOffset + len(this._buffer);\n\n      if (this._done || hasEnoughData) {\n        var value = this._getDataFromBuffer(start, end);\n\n        var done = value == null ? this._done : false;\n        return Promise.resolve({\n          value: value,\n          done: done\n        });\n      }\n\n      return this._reader.read().then(function (_ref) {\n        var value = _ref.value,\n            done = _ref.done;\n\n        if (done) {\n          _this._done = true;\n        } else if (_this._buffer === undefined) {\n          _this._buffer = value;\n        } else {\n          _this._buffer = concat(_this._buffer, value);\n        }\n\n        return _this._readUntilEnoughDataOrDone(start, end);\n      });\n    }\n  }, {\n    key: \"_getDataFromBuffer\",\n    value: function _getDataFromBuffer(start, end) {\n      // Remove data from buffer before `start`.\n      // Data might be reread from the buffer if an upload fails, so we can only\n      // safely delete data when it comes *before* what is currently being read.\n      if (start > this._bufferOffset) {\n        this._buffer = this._buffer.slice(start - this._bufferOffset);\n        this._bufferOffset = start;\n      } // If the buffer is empty after removing old data, all data has been read.\n\n\n      var hasAllDataBeenRead = len(this._buffer) === 0;\n\n      if (this._done && hasAllDataBeenRead) {\n        return null;\n      } // We already removed data before `start`, so we just return the first\n      // chunk from the buffer.\n\n\n      return this._buffer.slice(0, end - start);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this._reader.cancel) {\n        this._reader.cancel();\n      }\n    }\n  }]);\n\n  return StreamSource;\n}();\n\nfunction len(blobOrArray) {\n  if (blobOrArray === undefined) return 0;\n  if (blobOrArray.size !== undefined) return blobOrArray.size;\n  return blobOrArray.length;\n}\n/*\n  Typed arrays and blobs don't have a concat method.\n  This function helps StreamSource accumulate data to reach chunkSize.\n*/\n\n\nfunction concat(a, b) {\n  if (a.concat) {\n    // Is `a` an Array?\n    return a.concat(b);\n  }\n\n  if (a instanceof Blob) {\n    return new Blob([a, b], {\n      type: a.type\n    });\n  }\n\n  if (a.set) {\n    // Is `a` a typed array?\n    var c = new a.constructor(a.length + b.length);\n    c.set(a);\n    c.set(b, a.length);\n    return c;\n  }\n\n  throw new Error('Unknown data type');\n}\n\nvar FileReader = /*#__PURE__*/function () {\n  function FileReader() {\n    _classCallCheck(this, FileReader);\n  }\n\n  _createClass(FileReader, [{\n    key: \"openFile\",\n    value: function openFile(input, chunkSize) {\n      // In React Native, when user selects a file, instead of a File or Blob,\n      // you usually get a file object {} with a uri property that contains\n      // a local path to the file. We use XMLHttpRequest to fetch\n      // the file blob, before uploading with tus.\n      if (isReactNative() && input && typeof input.uri !== 'undefined') {\n        return uriToBlob(input.uri).then(function (blob) {\n          return new FileSource(blob);\n        })[\"catch\"](function (err) {\n          throw new Error(\"tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. \".concat(err));\n        });\n      } // Since we emulate the Blob type in our tests (not all target browsers\n      // support it), we cannot use `instanceof` for testing whether the input value\n      // can be handled. Instead, we simply check is the slice() function and the\n      // size property are available.\n\n\n      if (typeof input.slice === 'function' && typeof input.size !== 'undefined') {\n        return Promise.resolve(new FileSource(input));\n      }\n\n      if (typeof input.read === 'function') {\n        chunkSize = +chunkSize;\n\n        if (!isFinite(chunkSize)) {\n          return Promise.reject(new Error('cannot create source for stream without a finite value for the `chunkSize` option'));\n        }\n\n        return Promise.resolve(new StreamSource(input, chunkSize));\n      }\n\n      return Promise.reject(new Error('source object may only be an instance of File, Blob, or Reader in this environment'));\n    }\n  }]);\n\n  return FileReader;\n}();\n\nexport { FileReader as default };","import isReactNative from './isReactNative'; // TODO: Differenciate between input types\n\n/**\n * Generate a fingerprint for a file which will be used the store the endpoint\n *\n * @param {File} file\n * @param {Object} options\n * @param {Function} callback\n */\n\nexport default function fingerprint(file, options) {\n  if (isReactNative()) {\n    return Promise.resolve(reactNativeFingerprint(file, options));\n  }\n\n  return Promise.resolve(['tus-br', file.name, file.type, file.size, file.lastModified, options.endpoint].join('-'));\n}\n\nfunction reactNativeFingerprint(file, options) {\n  var exifHash = file.exif ? hashCode(JSON.stringify(file.exif)) : 'noexif';\n  return ['tus-rn', file.name || 'noname', file.size || 'nosize', exifHash, options.endpoint].join('/');\n}\n\nfunction hashCode(str) {\n  // from https://stackoverflow.com/a/8831937/151666\n  var hash = 0;\n\n  if (str.length === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < str.length; i++) {\n    var _char = str.charCodeAt(i);\n\n    hash = (hash << 5) - hash + _char;\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* global window */\nvar XHRHttpStack = /*#__PURE__*/function () {\n  function XHRHttpStack() {\n    _classCallCheck(this, XHRHttpStack);\n  }\n\n  _createClass(XHRHttpStack, [{\n    key: \"createRequest\",\n    value: function createRequest(method, url) {\n      return new Request(method, url);\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return 'XHRHttpStack';\n    }\n  }]);\n\n  return XHRHttpStack;\n}();\n\nexport { XHRHttpStack as default };\n\nvar Request = /*#__PURE__*/function () {\n  function Request(method, url) {\n    _classCallCheck(this, Request);\n\n    this._xhr = new XMLHttpRequest();\n\n    this._xhr.open(method, url, true);\n\n    this._method = method;\n    this._url = url;\n    this._headers = {};\n  }\n\n  _createClass(Request, [{\n    key: \"getMethod\",\n    value: function getMethod() {\n      return this._method;\n    }\n  }, {\n    key: \"getURL\",\n    value: function getURL() {\n      return this._url;\n    }\n  }, {\n    key: \"setHeader\",\n    value: function setHeader(header, value) {\n      this._xhr.setRequestHeader(header, value);\n\n      this._headers[header] = value;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(header) {\n      return this._headers[header];\n    }\n  }, {\n    key: \"setProgressHandler\",\n    value: function setProgressHandler(progressHandler) {\n      // Test support for progress events before attaching an event listener\n      if (!('upload' in this._xhr)) {\n        return;\n      }\n\n      this._xhr.upload.onprogress = function (e) {\n        if (!e.lengthComputable) {\n          return;\n        }\n\n        progressHandler(e.loaded);\n      };\n    }\n  }, {\n    key: \"send\",\n    value: function send() {\n      var _this = this;\n\n      var body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      return new Promise(function (resolve, reject) {\n        _this._xhr.onload = function () {\n          resolve(new Response(_this._xhr));\n        };\n\n        _this._xhr.onerror = function (err) {\n          reject(err);\n        };\n\n        _this._xhr.send(body);\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._xhr.abort();\n\n      return Promise.resolve();\n    }\n  }, {\n    key: \"getUnderlyingObject\",\n    value: function getUnderlyingObject() {\n      return this._xhr;\n    }\n  }]);\n\n  return Request;\n}();\n\nvar Response = /*#__PURE__*/function () {\n  function Response(xhr) {\n    _classCallCheck(this, Response);\n\n    this._xhr = xhr;\n  }\n\n  _createClass(Response, [{\n    key: \"getStatus\",\n    value: function getStatus() {\n      return this._xhr.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(header) {\n      return this._xhr.getResponseHeader(header);\n    }\n  }, {\n    key: \"getBody\",\n    value: function getBody() {\n      return this._xhr.responseText;\n    }\n  }, {\n    key: \"getUnderlyingObject\",\n    value: function getUnderlyingObject() {\n      return this._xhr;\n    }\n  }]);\n\n  return Response;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* global window */\nimport BaseUpload from '../upload';\nimport NoopUrlStorage from '../noopUrlStorage';\nimport { enableDebugLog } from '../logger';\nimport { canStoreURLs, WebStorageUrlStorage } from './urlStorage';\nimport HttpStack from './httpStack';\nimport FileReader from './fileReader';\nimport fingerprint from './fingerprint';\n\nvar defaultOptions = _objectSpread({}, BaseUpload.defaultOptions, {\n  httpStack: new HttpStack(),\n  fileReader: new FileReader(),\n  urlStorage: canStoreURLs ? new WebStorageUrlStorage() : new NoopUrlStorage(),\n  fingerprint: fingerprint\n});\n\nvar Upload = /*#__PURE__*/function (_BaseUpload) {\n  _inherits(Upload, _BaseUpload);\n\n  var _super = _createSuper(Upload);\n\n  function Upload() {\n    var file = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Upload);\n\n    options = _objectSpread({}, defaultOptions, {}, options);\n    return _super.call(this, file, options);\n  }\n\n  _createClass(Upload, null, [{\n    key: \"terminate\",\n    value: function terminate(url, options, cb) {\n      options = _objectSpread({}, defaultOptions, {}, options);\n      return BaseUpload.terminate(url, options, cb);\n    }\n  }]);\n\n  return Upload;\n}(BaseUpload);\n\nvar _window = window,\n    XMLHttpRequest = _window.XMLHttpRequest,\n    Blob = _window.Blob;\nvar isSupported = XMLHttpRequest && Blob && typeof Blob.prototype.slice === 'function';\nexport { Upload, canStoreURLs, defaultOptions, isSupported, enableDebugLog, HttpStack };","var isCordova = function isCordova() {\n  return typeof window != 'undefined' && (typeof window.PhoneGap != 'undefined' || typeof window.Cordova != 'undefined' || typeof window.cordova != 'undefined');\n};\n\nexport default isCordova;","var isReactNative = function isReactNative() {\n  return typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative';\n};\n\nexport default isReactNative;","/**\n * readAsByteArray converts a File object to a Uint8Array.\n * This function is only used on the Apache Cordova platform.\n * See https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-file/index.html#read-a-file\n */\nexport default function readAsByteArray(chunk) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      var value = new Uint8Array(reader.result);\n      resolve({\n        value: value\n      });\n    };\n\n    reader.onerror = function (err) {\n      reject(err);\n    };\n\n    reader.readAsArrayBuffer(chunk);\n  });\n}","/**\n * uriToBlob resolves a URI to a Blob object. This is used for\n * React Native to retrieve a file (identified by a file://\n * URI) as a blob.\n */\nexport default function uriToBlob(uri) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.responseType = 'blob';\n\n    xhr.onload = function () {\n      var blob = xhr.response;\n      resolve(blob);\n    };\n\n    xhr.onerror = function (err) {\n      reject(err);\n    };\n\n    xhr.open('GET', uri);\n    xhr.send();\n  });\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* global window, localStorage */\nvar hasStorage = false;\n\ntry {\n  hasStorage = 'localStorage' in window; // Attempt to store and read entries from the local storage to detect Private\n  // Mode on Safari on iOS (see #49)\n\n  var key = 'tusSupport';\n  localStorage.setItem(key, localStorage.getItem(key));\n} catch (e) {\n  // If we try to access localStorage inside a sandboxed iframe, a SecurityError\n  // is thrown. When in private mode on iOS Safari, a QuotaExceededError is\n  // thrown (see #49)\n  if (e.code === e.SECURITY_ERR || e.code === e.QUOTA_EXCEEDED_ERR) {\n    hasStorage = false;\n  } else {\n    throw e;\n  }\n}\n\nexport var canStoreURLs = hasStorage;\nexport var WebStorageUrlStorage = /*#__PURE__*/function () {\n  function WebStorageUrlStorage() {\n    _classCallCheck(this, WebStorageUrlStorage);\n  }\n\n  _createClass(WebStorageUrlStorage, [{\n    key: \"findAllUploads\",\n    value: function findAllUploads() {\n      var results = this._findEntries('tus::');\n\n      return Promise.resolve(results);\n    }\n  }, {\n    key: \"findUploadsByFingerprint\",\n    value: function findUploadsByFingerprint(fingerprint) {\n      var results = this._findEntries(\"tus::\".concat(fingerprint, \"::\"));\n\n      return Promise.resolve(results);\n    }\n  }, {\n    key: \"removeUpload\",\n    value: function removeUpload(urlStorageKey) {\n      localStorage.removeItem(urlStorageKey);\n      return Promise.resolve();\n    }\n  }, {\n    key: \"addUpload\",\n    value: function addUpload(fingerprint, upload) {\n      var id = Math.round(Math.random() * 1e12);\n      var key = \"tus::\".concat(fingerprint, \"::\").concat(id);\n      localStorage.setItem(key, JSON.stringify(upload));\n      return Promise.resolve(key);\n    }\n  }, {\n    key: \"_findEntries\",\n    value: function _findEntries(prefix) {\n      var results = [];\n\n      for (var i = 0; i < localStorage.length; i++) {\n        var _key = localStorage.key(i);\n\n        if (_key.indexOf(prefix) !== 0) continue;\n\n        try {\n          var upload = JSON.parse(localStorage.getItem(_key));\n          upload.urlStorageKey = _key;\n          results.push(upload);\n        } catch (e) {// The JSON parse error is intentionally ignored here, so a malformed\n          // entry in the storage cannot prevent an upload.\n        }\n      }\n\n      return results;\n    }\n  }]);\n\n  return WebStorageUrlStorage;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar DetailedError = /*#__PURE__*/function (_Error) {\n  _inherits(DetailedError, _Error);\n\n  var _super = _createSuper(DetailedError);\n\n  function DetailedError(message) {\n    var _this;\n\n    var causingErr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var req = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var res = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, DetailedError);\n\n    _this = _super.call(this, message);\n    _this.originalRequest = req;\n    _this.originalResponse = res;\n    _this.causingError = causingErr;\n\n    if (causingErr != null) {\n      message += \", caused by \".concat(causingErr.toString());\n    }\n\n    if (req != null) {\n      var requestId = req.getHeader('X-Request-ID') || 'n/a';\n      var method = req.getMethod();\n      var url = req.getURL();\n      var status = res ? res.getStatus() : 'n/a';\n      var body = res ? res.getBody() || '' : 'n/a';\n      message += \", originated from request (method: \".concat(method, \", url: \").concat(url, \", response code: \").concat(status, \", response text: \").concat(body, \", request id: \").concat(requestId, \")\");\n    }\n\n    _this.message = message;\n    return _this;\n  }\n\n  return DetailedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nexport default DetailedError;","/* eslint no-console: \"off\" */\nvar isEnabled = false;\nexport function enableDebugLog() {\n  isEnabled = true;\n}\nexport function log(msg) {\n  if (!isEnabled) return;\n  console.log(msg);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* eslint no-unused-vars: \"off\" */\nvar NoopUrlStorage = /*#__PURE__*/function () {\n  function NoopUrlStorage() {\n    _classCallCheck(this, NoopUrlStorage);\n  }\n\n  _createClass(NoopUrlStorage, [{\n    key: \"listAllUploads\",\n    value: function listAllUploads() {\n      return Promise.resolve([]);\n    }\n  }, {\n    key: \"findUploadsByFingerprint\",\n    value: function findUploadsByFingerprint(fingerprint) {\n      return Promise.resolve([]);\n    }\n  }, {\n    key: \"removeUpload\",\n    value: function removeUpload(urlStorageKey) {\n      return Promise.resolve();\n    }\n  }, {\n    key: \"addUpload\",\n    value: function addUpload(fingerprint, upload) {\n      return Promise.resolve(null);\n    }\n  }]);\n\n  return NoopUrlStorage;\n}();\n\nexport { NoopUrlStorage as default };","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* global window */\nimport { Base64 } from 'js-base64';\nimport URL from 'url-parse';\nimport DetailedError from './error';\nimport { log } from './logger';\nimport uuid from './uuid';\nvar defaultOptions = {\n  endpoint: null,\n  uploadUrl: null,\n  metadata: {},\n  fingerprint: null,\n  uploadSize: null,\n  onProgress: null,\n  onChunkComplete: null,\n  onSuccess: null,\n  onError: null,\n  _onUploadUrlAvailable: null,\n  overridePatchMethod: false,\n  headers: {},\n  addRequestId: false,\n  onBeforeRequest: null,\n  onAfterResponse: null,\n  onShouldRetry: null,\n  chunkSize: Infinity,\n  retryDelays: [0, 1000, 3000, 5000],\n  parallelUploads: 1,\n  storeFingerprintForResuming: true,\n  removeFingerprintOnSuccess: false,\n  uploadLengthDeferred: false,\n  uploadDataDuringCreation: false,\n  urlStorage: null,\n  fileReader: null,\n  httpStack: null\n};\n\nvar BaseUpload = /*#__PURE__*/function () {\n  function BaseUpload(file, options) {\n    _classCallCheck(this, BaseUpload);\n\n    // Warn about removed options from previous versions\n    if ('resume' in options) {\n      console.log('tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead.'); // eslint-disable-line no-console\n    } // The default options will already be added from the wrapper classes.\n\n\n    this.options = options; // The storage module used to store URLs\n\n    this._urlStorage = this.options.urlStorage; // The underlying File/Blob object\n\n    this.file = file; // The URL against which the file will be uploaded\n\n    this.url = null; // The underlying request object for the current PATCH request\n\n    this._req = null; // The fingerpinrt for the current file (set after start())\n\n    this._fingerprint = null; // The key that the URL storage returned when saving an URL with a fingerprint,\n\n    this._urlStorageKey = null; // The offset used in the current PATCH request\n\n    this._offset = null; // True if the current PATCH request has been aborted\n\n    this._aborted = false; // The file's size in bytes\n\n    this._size = null; // The Source object which will wrap around the given file and provides us\n    // with a unified interface for getting its size and slice chunks from its\n    // content allowing us to easily handle Files, Blobs, Buffers and Streams.\n\n    this._source = null; // The current count of attempts which have been made. Zero indicates none.\n\n    this._retryAttempt = 0; // The timeout's ID which is used to delay the next retry\n\n    this._retryTimeout = null; // The offset of the remote upload before the latest attempt was started.\n\n    this._offsetBeforeRetry = 0; // An array of BaseUpload instances which are used for uploading the different\n    // parts, if the parallelUploads option is used.\n\n    this._parallelUploads = null; // An array of upload URLs which are used for uploading the different\n    // parts, if the parallelUploads option is used.\n\n    this._parallelUploadUrls = null;\n  }\n  /**\n   * Use the Termination extension to delete an upload from the server by sending a DELETE\n   * request to the specified upload URL. This is only possible if the server supports the\n   * Termination extension. If the `options.retryDelays` property is set, the method will\n   * also retry if an error ocurrs.\n   *\n   * @param {String} url The upload's URL which will be terminated.\n   * @param {object} options Optional options for influencing HTTP requests.\n   * @return {Promise} The Promise will be resolved/rejected when the requests finish.\n   */\n\n\n  _createClass(BaseUpload, [{\n    key: \"findPreviousUploads\",\n    value: function findPreviousUploads() {\n      var _this = this;\n\n      return this.options.fingerprint(this.file, this.options).then(function (fingerprint) {\n        return _this._urlStorage.findUploadsByFingerprint(fingerprint);\n      });\n    }\n  }, {\n    key: \"resumeFromPreviousUpload\",\n    value: function resumeFromPreviousUpload(previousUpload) {\n      this.url = previousUpload.uploadUrl || null;\n      this._parallelUploadUrls = previousUpload.parallelUploadUrls || null;\n      this._urlStorageKey = previousUpload.urlStorageKey;\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this2 = this;\n\n      var file = this.file;\n\n      if (!file) {\n        this._emitError(new Error('tus: no file or stream to upload provided'));\n\n        return;\n      }\n\n      if (!this.options.endpoint && !this.options.uploadUrl) {\n        this._emitError(new Error('tus: neither an endpoint or an upload URL is provided'));\n\n        return;\n      }\n\n      var retryDelays = this.options.retryDelays;\n\n      if (retryDelays != null && Object.prototype.toString.call(retryDelays) !== '[object Array]') {\n        this._emitError(new Error('tus: the `retryDelays` option must either be an array or null'));\n\n        return;\n      }\n\n      if (this.options.parallelUploads > 1) {\n        // Test which options are incompatible with parallel uploads.\n        ['uploadUrl', 'uploadSize', 'uploadLengthDeferred'].forEach(function (optionName) {\n          if (_this2.options[optionName]) {\n            _this2._emitError(new Error(\"tus: cannot use the \".concat(optionName, \" option when parallelUploads is enabled\")));\n          }\n        });\n      }\n\n      this.options.fingerprint(file, this.options).then(function (fingerprint) {\n        if (fingerprint == null) {\n          log('No fingerprint was calculated meaning that the upload cannot be stored in the URL storage.');\n        } else {\n          log(\"Calculated fingerprint: \".concat(fingerprint));\n        }\n\n        _this2._fingerprint = fingerprint;\n\n        if (_this2._source) {\n          return _this2._source;\n        }\n\n        return _this2.options.fileReader.openFile(file, _this2.options.chunkSize);\n      }).then(function (source) {\n        _this2._source = source; // If the upload was configured to use multiple requests or if we resume from\n        // an upload which used multiple requests, we start a parallel upload.\n\n        if (_this2.options.parallelUploads > 1 || _this2._parallelUploadUrls != null) {\n          _this2._startParallelUpload();\n        } else {\n          _this2._startSingleUpload();\n        }\n      })[\"catch\"](function (err) {\n        _this2._emitError(err);\n      });\n    }\n    /**\n     * Initiate the uploading procedure for a parallelized upload, where one file is split into\n     * multiple request which are run in parallel.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_startParallelUpload\",\n    value: function _startParallelUpload() {\n      var _this3 = this;\n\n      var totalSize = this._size = this._source.size;\n      var totalProgress = 0;\n      this._parallelUploads = [];\n      var partCount = this._parallelUploadUrls != null ? this._parallelUploadUrls.length : this.options.parallelUploads; // The input file will be split into multiple slices which are uploaded in separate\n      // requests. Here we generate the start and end position for the slices.\n\n      var parts = splitSizeIntoParts(this._source.size, partCount, this._parallelUploadUrls); // Create an empty list for storing the upload URLs\n\n      this._parallelUploadUrls = new Array(parts.length); // Generate a promise for each slice that will be resolve if the respective\n      // upload is completed.\n\n      var uploads = parts.map(function (part, index) {\n        var lastPartProgress = 0;\n        return _this3._source.slice(part.start, part.end).then(function (_ref) {\n          var value = _ref.value;\n          return new Promise(function (resolve, reject) {\n            // Merge with the user supplied options but overwrite some values.\n            var options = _objectSpread({}, _this3.options, {\n              // If available, the partial upload should be resumed from a previous URL.\n              uploadUrl: part.uploadUrl || null,\n              // We take manually care of resuming for partial uploads, so they should\n              // not be stored in the URL storage.\n              storeFingerprintForResuming: false,\n              removeFingerprintOnSuccess: false,\n              // Reset the parallelUploads option to not cause recursion.\n              parallelUploads: 1,\n              metadata: {},\n              // Add the header to indicate the this is a partial upload.\n              headers: _objectSpread({}, _this3.options.headers, {\n                'Upload-Concat': 'partial'\n              }),\n              // Reject or resolve the promise if the upload errors or completes.\n              onSuccess: resolve,\n              onError: reject,\n              // Based in the progress for this partial upload, calculate the progress\n              // for the entire final upload.\n              onProgress: function onProgress(newPartProgress) {\n                totalProgress = totalProgress - lastPartProgress + newPartProgress;\n                lastPartProgress = newPartProgress;\n\n                _this3._emitProgress(totalProgress, totalSize);\n              },\n              // Wait until every partial upload has an upload URL, so we can add\n              // them to the URL storage.\n              _onUploadUrlAvailable: function _onUploadUrlAvailable() {\n                _this3._parallelUploadUrls[index] = upload.url; // Test if all uploads have received an URL\n\n                if (_this3._parallelUploadUrls.filter(function (u) {\n                  return !!u;\n                }).length === parts.length) {\n                  _this3._saveUploadInUrlStorage();\n                }\n              }\n            });\n\n            var upload = new BaseUpload(value, options);\n            upload.start(); // Store the upload in an array, so we can later abort them if necessary.\n\n            _this3._parallelUploads.push(upload);\n          });\n        });\n      });\n      var req; // Wait until all partial uploads are finished and we can send the POST request for\n      // creating the final upload.\n\n      Promise.all(uploads).then(function () {\n        req = _this3._openRequest('POST', _this3.options.endpoint);\n        req.setHeader('Upload-Concat', \"final;\".concat(_this3._parallelUploadUrls.join(' '))); // Add metadata if values have been added\n\n        var metadata = encodeMetadata(_this3.options.metadata);\n\n        if (metadata !== '') {\n          req.setHeader('Upload-Metadata', metadata);\n        }\n\n        return _this3._sendRequest(req, null);\n      }).then(function (res) {\n        if (!inStatusCategory(res.getStatus(), 200)) {\n          _this3._emitHttpError(req, res, 'tus: unexpected response while creating upload');\n\n          return;\n        }\n\n        var location = res.getHeader('Location');\n\n        if (location == null) {\n          _this3._emitHttpError(req, res, 'tus: invalid or missing Location header');\n\n          return;\n        }\n\n        _this3.url = resolveUrl(_this3.options.endpoint, location);\n        log(\"Created upload at \".concat(_this3.url));\n\n        _this3._emitSuccess();\n      })[\"catch\"](function (err) {\n        _this3._emitError(err);\n      });\n    }\n    /**\n     * Initiate the uploading procedure for a non-parallel upload. Here the entire file is\n     * uploaded in a sequential matter.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_startSingleUpload\",\n    value: function _startSingleUpload() {\n      // First, we look at the uploadLengthDeferred option.\n      // Next, we check if the caller has supplied a manual upload size.\n      // Finally, we try to use the calculated size from the source object.\n      if (this.options.uploadLengthDeferred) {\n        this._size = null;\n      } else if (this.options.uploadSize != null) {\n        this._size = +this.options.uploadSize;\n\n        if (isNaN(this._size)) {\n          this._emitError(new Error('tus: cannot convert `uploadSize` option into a number'));\n\n          return;\n        }\n      } else {\n        this._size = this._source.size;\n\n        if (this._size == null) {\n          this._emitError(new Error(\"tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option\"));\n\n          return;\n        }\n      } // Reset the aborted flag when the upload is started or else the\n      // _performUpload will stop before sending a request if the upload has been\n      // aborted previously.\n\n\n      this._aborted = false; // The upload had been started previously and we should reuse this URL.\n\n      if (this.url != null) {\n        log(\"Resuming upload from previous URL: \".concat(this.url));\n\n        this._resumeUpload();\n\n        return;\n      } // A URL has manually been specified, so we try to resume\n\n\n      if (this.options.uploadUrl != null) {\n        log(\"Resuming upload from provided URL: \".concat(this.options.url));\n        this.url = this.options.uploadUrl;\n\n        this._resumeUpload();\n\n        return;\n      } // An upload has not started for the file yet, so we start a new one\n\n\n      log('Creating a new upload');\n\n      this._createUpload();\n    }\n    /**\n     * Abort any running request and stop the current upload. After abort is called, no event\n     * handler will be invoked anymore. You can use the `start` method to resume the upload\n     * again.\n     * If `shouldTerminate` is true, the `terminate` function will be called to remove the\n     * current upload from the server.\n     *\n     * @param {boolean} shouldTerminate True if the upload should be deleted from the server.\n     * @return {Promise} The Promise will be resolved/rejected when the requests finish.\n     */\n\n  }, {\n    key: \"abort\",\n    value: function abort(shouldTerminate) {\n      var _this4 = this;\n\n      // Count the number of arguments to see if a callback is being provided in the old style required by tus-js-client 1.x, then throw an error if it is.\n      // `arguments` is a JavaScript built-in variable that contains all of the function's arguments.\n      if (arguments.length > 1 && typeof arguments[1] === 'function') {\n        throw new Error('tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead');\n      } // Stop any parallel partial uploads, that have been started in _startParallelUploads.\n\n\n      if (this._parallelUploads != null) {\n        this._parallelUploads.forEach(function (upload) {\n          upload.abort(shouldTerminate);\n        });\n      } // Stop any current running request.\n\n\n      if (this._req !== null) {\n        this._req.abort();\n\n        this._source.close();\n      }\n\n      this._aborted = true; // Stop any timeout used for initiating a retry.\n\n      if (this._retryTimeout != null) {\n        clearTimeout(this._retryTimeout);\n        this._retryTimeout = null;\n      }\n\n      if (!shouldTerminate || this.url == null) {\n        return Promise.resolve();\n      }\n\n      return BaseUpload.terminate(this.url, this.options) // Remove entry from the URL storage since the upload URL is no longer valid.\n      .then(function () {\n        return _this4._removeFromUrlStorage();\n      });\n    }\n  }, {\n    key: \"_emitHttpError\",\n    value: function _emitHttpError(req, res, message, causingErr) {\n      this._emitError(new DetailedError(message, causingErr, req, res));\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(err) {\n      var _this5 = this;\n\n      // Do not emit errors, e.g. from aborted HTTP requests, if the upload has been stopped.\n      if (this._aborted) return; // Check if we should retry, when enabled, before sending the error to the user.\n\n      if (this.options.retryDelays != null) {\n        // We will reset the attempt counter if\n        // - we were already able to connect to the server (offset != null) and\n        // - we were able to upload a small chunk of data to the server\n        var shouldResetDelays = this._offset != null && this._offset > this._offsetBeforeRetry;\n\n        if (shouldResetDelays) {\n          this._retryAttempt = 0;\n        }\n\n        if (shouldRetry(err, this._retryAttempt, this.options)) {\n          var delay = this.options.retryDelays[this._retryAttempt++];\n          this._offsetBeforeRetry = this._offset;\n          this._retryTimeout = setTimeout(function () {\n            _this5.start();\n          }, delay);\n          return;\n        }\n      }\n\n      if (typeof this.options.onError === 'function') {\n        this.options.onError(err);\n      } else {\n        throw err;\n      }\n    }\n    /**\n     * Publishes notification if the upload has been successfully completed.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_emitSuccess\",\n    value: function _emitSuccess() {\n      if (this.options.removeFingerprintOnSuccess) {\n        // Remove stored fingerprint and corresponding endpoint. This causes\n        // new uploads of the same file to be treated as a different file.\n        this._removeFromUrlStorage();\n      }\n\n      if (typeof this.options.onSuccess === 'function') {\n        this.options.onSuccess();\n      }\n    }\n    /**\n     * Publishes notification when data has been sent to the server. This\n     * data may not have been accepted by the server yet.\n     *\n     * @param {number} bytesSent  Number of bytes sent to the server.\n     * @param {number} bytesTotal Total number of bytes to be sent to the server.\n     * @api private\n     */\n\n  }, {\n    key: \"_emitProgress\",\n    value: function _emitProgress(bytesSent, bytesTotal) {\n      if (typeof this.options.onProgress === 'function') {\n        this.options.onProgress(bytesSent, bytesTotal);\n      }\n    }\n    /**\n     * Publishes notification when a chunk of data has been sent to the server\n     * and accepted by the server.\n     * @param {number} chunkSize  Size of the chunk that was accepted by the server.\n     * @param {number} bytesAccepted Total number of bytes that have been\n     *                                accepted by the server.\n     * @param {number} bytesTotal Total number of bytes to be sent to the server.\n     * @api private\n     */\n\n  }, {\n    key: \"_emitChunkComplete\",\n    value: function _emitChunkComplete(chunkSize, bytesAccepted, bytesTotal) {\n      if (typeof this.options.onChunkComplete === 'function') {\n        this.options.onChunkComplete(chunkSize, bytesAccepted, bytesTotal);\n      }\n    }\n    /**\n     * Create a new upload using the creation extension by sending a POST\n     * request to the endpoint. After successful creation the file will be\n     * uploaded\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_createUpload\",\n    value: function _createUpload() {\n      var _this6 = this;\n\n      if (!this.options.endpoint) {\n        this._emitError(new Error('tus: unable to create upload because no endpoint is provided'));\n\n        return;\n      }\n\n      var req = this._openRequest('POST', this.options.endpoint);\n\n      if (this.options.uploadLengthDeferred) {\n        req.setHeader('Upload-Defer-Length', 1);\n      } else {\n        req.setHeader('Upload-Length', this._size);\n      } // Add metadata if values have been added\n\n\n      var metadata = encodeMetadata(this.options.metadata);\n\n      if (metadata !== '') {\n        req.setHeader('Upload-Metadata', metadata);\n      }\n\n      var promise;\n\n      if (this.options.uploadDataDuringCreation && !this.options.uploadLengthDeferred) {\n        this._offset = 0;\n        promise = this._addChunkToRequest(req);\n      } else {\n        promise = this._sendRequest(req, null);\n      }\n\n      promise.then(function (res) {\n        if (!inStatusCategory(res.getStatus(), 200)) {\n          _this6._emitHttpError(req, res, 'tus: unexpected response while creating upload');\n\n          return;\n        }\n\n        var location = res.getHeader('Location');\n\n        if (location == null) {\n          _this6._emitHttpError(req, res, 'tus: invalid or missing Location header');\n\n          return;\n        }\n\n        _this6.url = resolveUrl(_this6.options.endpoint, location);\n        log(\"Created upload at \".concat(_this6.url));\n\n        if (typeof _this6.options._onUploadUrlAvailable === 'function') {\n          _this6.options._onUploadUrlAvailable();\n        }\n\n        if (_this6._size === 0) {\n          // Nothing to upload and file was successfully created\n          _this6._emitSuccess();\n\n          _this6._source.close();\n\n          return;\n        }\n\n        _this6._saveUploadInUrlStorage();\n\n        if (_this6.options.uploadDataDuringCreation) {\n          _this6._handleUploadResponse(req, res);\n        } else {\n          _this6._offset = 0;\n\n          _this6._performUpload();\n        }\n      })[\"catch\"](function (err) {\n        _this6._emitHttpError(req, null, 'tus: failed to create upload', err);\n      });\n    }\n    /*\n     * Try to resume an existing upload. First a HEAD request will be sent\n     * to retrieve the offset. If the request fails a new upload will be\n     * created. In the case of a successful response the file will be uploaded.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_resumeUpload\",\n    value: function _resumeUpload() {\n      var _this7 = this;\n\n      var req = this._openRequest('HEAD', this.url);\n\n      var promise = this._sendRequest(req, null);\n\n      promise.then(function (res) {\n        var status = res.getStatus();\n\n        if (!inStatusCategory(status, 200)) {\n          if (inStatusCategory(status, 400)) {\n            // Remove stored fingerprint and corresponding endpoint,\n            // on client errors since the file can not be found\n            _this7._removeFromUrlStorage();\n          } // If the upload is locked (indicated by the 423 Locked status code), we\n          // emit an error instead of directly starting a new upload. This way the\n          // retry logic can catch the error and will retry the upload. An upload\n          // is usually locked for a short period of time and will be available\n          // afterwards.\n\n\n          if (status === 423) {\n            _this7._emitHttpError(req, res, 'tus: upload is currently locked; retry later');\n\n            return;\n          }\n\n          if (!_this7.options.endpoint) {\n            // Don't attempt to create a new upload if no endpoint is provided.\n            _this7._emitHttpError(req, res, 'tus: unable to resume upload (new upload cannot be created without an endpoint)');\n\n            return;\n          } // Try to create a new upload\n\n\n          _this7.url = null;\n\n          _this7._createUpload();\n\n          return;\n        }\n\n        var offset = parseInt(res.getHeader('Upload-Offset'), 10);\n\n        if (isNaN(offset)) {\n          _this7._emitHttpError(req, res, 'tus: invalid or missing offset value');\n\n          return;\n        }\n\n        var length = parseInt(res.getHeader('Upload-Length'), 10);\n\n        if (isNaN(length) && !_this7.options.uploadLengthDeferred) {\n          _this7._emitHttpError(req, res, 'tus: invalid or missing length value');\n\n          return;\n        }\n\n        if (typeof _this7.options._onUploadUrlAvailable === 'function') {\n          _this7.options._onUploadUrlAvailable();\n        } // Upload has already been completed and we do not need to send additional\n        // data to the server\n\n\n        if (offset === length) {\n          _this7._emitProgress(length, length);\n\n          _this7._emitSuccess();\n\n          return;\n        }\n\n        _this7._offset = offset;\n\n        _this7._performUpload();\n      })[\"catch\"](function (err) {\n        _this7._emitHttpError(req, null, 'tus: failed to resume upload', err);\n      });\n    }\n    /**\n     * Start uploading the file using PATCH requests. The file will be divided\n     * into chunks as specified in the chunkSize option. During the upload\n     * the onProgress event handler may be invoked multiple times.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_performUpload\",\n    value: function _performUpload() {\n      var _this8 = this;\n\n      // If the upload has been aborted, we will not send the next PATCH request.\n      // This is important if the abort method was called during a callback, such\n      // as onChunkComplete or onProgress.\n      if (this._aborted) {\n        return;\n      }\n\n      var req; // Some browser and servers may not support the PATCH method. For those\n      // cases, you can tell tus-js-client to use a POST request with the\n      // X-HTTP-Method-Override header for simulating a PATCH request.\n\n      if (this.options.overridePatchMethod) {\n        req = this._openRequest('POST', this.url);\n        req.setHeader('X-HTTP-Method-Override', 'PATCH');\n      } else {\n        req = this._openRequest('PATCH', this.url);\n      }\n\n      req.setHeader('Upload-Offset', this._offset);\n\n      var promise = this._addChunkToRequest(req);\n\n      promise.then(function (res) {\n        if (!inStatusCategory(res.getStatus(), 200)) {\n          _this8._emitHttpError(req, res, 'tus: unexpected response while uploading chunk');\n\n          return;\n        }\n\n        _this8._handleUploadResponse(req, res);\n      })[\"catch\"](function (err) {\n        // Don't emit an error if the upload was aborted manually\n        if (_this8._aborted) {\n          return;\n        }\n\n        _this8._emitHttpError(req, null, \"tus: failed to upload chunk at offset \".concat(_this8._offset), err);\n      });\n    }\n    /**\n     * _addChunktoRequest reads a chunk from the source and sends it using the\n     * supplied request object. It will not handle the response.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_addChunkToRequest\",\n    value: function _addChunkToRequest(req) {\n      var _this9 = this;\n\n      var start = this._offset;\n      var end = this._offset + this.options.chunkSize;\n      req.setProgressHandler(function (bytesSent) {\n        _this9._emitProgress(start + bytesSent, _this9._size);\n      });\n      req.setHeader('Content-Type', 'application/offset+octet-stream'); // The specified chunkSize may be Infinity or the calcluated end position\n      // may exceed the file's size. In both cases, we limit the end position to\n      // the input's total size for simpler calculations and correctness.\n\n      if ((end === Infinity || end > this._size) && !this.options.uploadLengthDeferred) {\n        end = this._size;\n      }\n\n      return this._source.slice(start, end).then(function (_ref2) {\n        var value = _ref2.value,\n            done = _ref2.done;\n\n        // If the upload length is deferred, the upload size was not specified during\n        // upload creation. So, if the file reader is done reading, we know the total\n        // upload size and can tell the tus server.\n        if (_this9.options.uploadLengthDeferred && done) {\n          _this9._size = _this9._offset + (value && value.size ? value.size : 0);\n          req.setHeader('Upload-Length', _this9._size);\n        }\n\n        if (value === null) {\n          return _this9._sendRequest(req);\n        }\n\n        _this9._emitProgress(_this9._offset, _this9._size);\n\n        return _this9._sendRequest(req, value);\n      });\n    }\n    /**\n     * _handleUploadResponse is used by requests that haven been sent using _addChunkToRequest\n     * and already have received a response.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_handleUploadResponse\",\n    value: function _handleUploadResponse(req, res) {\n      var offset = parseInt(res.getHeader('Upload-Offset'), 10);\n\n      if (isNaN(offset)) {\n        this._emitHttpError(req, res, 'tus: invalid or missing offset value');\n\n        return;\n      }\n\n      this._emitProgress(offset, this._size);\n\n      this._emitChunkComplete(offset - this._offset, offset, this._size);\n\n      this._offset = offset;\n\n      if (offset == this._size) {\n        // Yay, finally done :)\n        this._emitSuccess();\n\n        this._source.close();\n\n        return;\n      }\n\n      this._performUpload();\n    }\n    /**\n     * Create a new HTTP request object with the given method and URL.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_openRequest\",\n    value: function _openRequest(method, url) {\n      var req = openRequest(method, url, this.options);\n      this._req = req;\n      return req;\n    }\n    /**\n     * Remove the entry in the URL storage, if it has been saved before.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_removeFromUrlStorage\",\n    value: function _removeFromUrlStorage() {\n      var _this10 = this;\n\n      if (!this._urlStorageKey) return;\n\n      this._urlStorage.removeUpload(this._urlStorageKey)[\"catch\"](function (err) {\n        _this10._emitError(err);\n      });\n\n      this._urlStorageKey = null;\n    }\n    /**\n     * Add the upload URL to the URL storage, if possible.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_saveUploadInUrlStorage\",\n    value: function _saveUploadInUrlStorage() {\n      var _this11 = this;\n\n      // Only if a fingerprint was calculated for the input (i.e. not a stream), we can store the upload URL.\n      if (!this.options.storeFingerprintForResuming || !this._fingerprint) {\n        return;\n      }\n\n      var storedUpload = {\n        size: this._size,\n        metadata: this.options.metadata,\n        creationTime: new Date().toString()\n      };\n\n      if (this._parallelUploads) {\n        // Save multiple URLs if the parallelUploads option is used ...\n        storedUpload.parallelUploadUrls = this._parallelUploadUrls;\n      } else {\n        // ... otherwise we just save the one available URL.\n        storedUpload.uploadUrl = this.url;\n      }\n\n      this._urlStorage.addUpload(this._fingerprint, storedUpload).then(function (urlStorageKey) {\n        return _this11._urlStorageKey = urlStorageKey;\n      })[\"catch\"](function (err) {\n        _this11._emitError(err);\n      });\n    }\n    /**\n     * Send a request with the provided body.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_sendRequest\",\n    value: function _sendRequest(req) {\n      var body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      return sendRequest(req, body, this.options);\n    }\n  }], [{\n    key: \"terminate\",\n    value: function terminate(url, options) {\n      // Count the number of arguments to see if a callback is being provided as the last\n      // argument in the old style required by tus-js-client 1.x, then throw an error if it is.\n      // `arguments` is a JavaScript built-in variable that contains all of the function's arguments.\n      if (arguments.length > 1 && typeof arguments[arguments.length - 1] === 'function') {\n        throw new Error('tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead');\n      } // Note that in order for the trick above to work, a default value cannot be set for `options`,\n      // so the check below replaces the old default `{}`.\n\n\n      if (options === undefined) {\n        options = {};\n      }\n\n      var req = openRequest('DELETE', url, options);\n      return sendRequest(req, null, options).then(function (res) {\n        // A 204 response indicates a successfull request\n        if (res.getStatus() === 204) {\n          return;\n        }\n\n        throw new DetailedError('tus: unexpected response while terminating upload', null, req, res);\n      })[\"catch\"](function (err) {\n        if (!(err instanceof DetailedError)) {\n          err = new DetailedError('tus: failed to terminate upload', err, req, null);\n        }\n\n        if (!shouldRetry(err, 0, options)) {\n          throw err;\n        } // Instead of keeping track of the retry attempts, we remove the first element from the delays\n        // array. If the array is empty, all retry attempts are used up and we will bubble up the error.\n        // We recursively call the terminate function will removing elements from the retryDelays array.\n\n\n        var delay = options.retryDelays[0];\n        var remainingDelays = options.retryDelays.slice(1);\n\n        var newOptions = _objectSpread({}, options, {\n          retryDelays: remainingDelays\n        });\n\n        return new Promise(function (resolve) {\n          return setTimeout(resolve, delay);\n        }).then(function () {\n          return BaseUpload.terminate(url, newOptions);\n        });\n      });\n    }\n  }]);\n\n  return BaseUpload;\n}();\n\nfunction encodeMetadata(metadata) {\n  var encoded = [];\n\n  for (var key in metadata) {\n    encoded.push(\"\".concat(key, \" \").concat(Base64.encode(metadata[key])));\n  }\n\n  return encoded.join(',');\n}\n/**\n * Checks whether a given status is in the range of the expected category.\n * For example, only a status between 200 and 299 will satisfy the category 200.\n *\n * @api private\n */\n\n\nfunction inStatusCategory(status, category) {\n  return status >= category && status < category + 100;\n}\n/**\n * Create a new HTTP request with the specified method and URL.\n * The necessary headers that are included in every request\n * will be added, including the request ID.\n *\n * @api private\n */\n\n\nfunction openRequest(method, url, options) {\n  var req = options.httpStack.createRequest(method, url);\n  req.setHeader('Tus-Resumable', '1.0.0');\n  var headers = options.headers || {};\n\n  for (var name in headers) {\n    req.setHeader(name, headers[name]);\n  }\n\n  if (options.addRequestId) {\n    var requestId = uuid();\n    req.setHeader('X-Request-ID', requestId);\n  }\n\n  return req;\n}\n/**\n * Send a request with the provided body while invoking the onBeforeRequest\n * and onAfterResponse callbacks.\n *\n * @api private\n */\n\n\nfunction sendRequest(req, body, options) {\n  var onBeforeRequestPromise = typeof options.onBeforeRequest === 'function' ? Promise.resolve(options.onBeforeRequest(req)) : Promise.resolve();\n  return onBeforeRequestPromise.then(function () {\n    return req.send(body).then(function (res) {\n      var onAfterResponsePromise = typeof options.onAfterResponse === 'function' ? Promise.resolve(options.onAfterResponse(req, res)) : Promise.resolve();\n      return onAfterResponsePromise.then(function () {\n        return res;\n      });\n    });\n  });\n}\n/**\n * Checks whether the browser running this code has internet access.\n * This function will always return true in the node.js environment\n *\n * @api private\n */\n\n\nfunction isOnline() {\n  var online = true;\n\n  if (typeof window !== 'undefined' && 'navigator' in window && window.navigator.onLine === false) {\n    online = false;\n  }\n\n  return online;\n}\n/**\n * Checks whether or not it is ok to retry a request.\n * @param {Error} err the error returned from the last request\n * @param {number} retryAttempt the number of times the request has already been retried\n * @param {object} options tus Upload options\n *\n * @api private\n */\n\n\nfunction shouldRetry(err, retryAttempt, options) {\n  // We only attempt a retry if\n  // - retryDelays option is set\n  // - we didn't exceed the maxium number of retries, yet, and\n  // - this error was caused by a request or it's response and\n  // - the error is server error (i.e. not a status 4xx except a 409 or 423) or\n  // a onShouldRetry is specified and returns true\n  // - the browser does not indicate that we are offline\n  if (options.retryDelays == null || retryAttempt >= options.retryDelays.length || err.originalRequest == null) {\n    return false;\n  }\n\n  if (options && typeof options.onShouldRetry === 'function') {\n    return options.onShouldRetry(err, retryAttempt, options);\n  }\n\n  var status = err.originalResponse ? err.originalResponse.getStatus() : 0;\n  return (!inStatusCategory(status, 400) || status === 409 || status === 423) && isOnline();\n}\n/**\n * Resolve a relative link given the origin as source. For example,\n * if a HTTP request to http://example.com/files/ returns a Location\n * header with the value /upload/abc, the resolved URL will be:\n * http://example.com/upload/abc\n */\n\n\nfunction resolveUrl(origin, link) {\n  return new URL(link, origin).toString();\n}\n/**\n * Calculate the start and end positions for the parts if an upload\n * is split into multiple parallel requests.\n *\n * @param {number} totalSize The byte size of the upload, which will be split.\n * @param {number} partCount The number in how many parts the upload will be split.\n * @param {string[]} previousUrls The upload URLs for previous parts.\n * @return {object[]}\n * @api private\n */\n\n\nfunction splitSizeIntoParts(totalSize, partCount, previousUrls) {\n  var partSize = Math.floor(totalSize / partCount);\n  var parts = [];\n\n  for (var i = 0; i < partCount; i++) {\n    parts.push({\n      start: partSize * i,\n      end: partSize * (i + 1)\n    });\n  }\n\n  parts[partCount - 1].end = totalSize; // Attach URLs from previous uploads, if available.\n\n  if (previousUrls) {\n    parts.forEach(function (part, index) {\n      part.uploadUrl = previousUrls[index] || null;\n    });\n  }\n\n  return parts;\n}\n\nBaseUpload.defaultOptions = defaultOptions;\nexport default BaseUpload;","/**\n * Generate a UUID v4 based on random numbers. We intentioanlly use the less\n * secure Math.random function here since the more secure crypto.getRandomNumbers\n * is not available on all platforms.\n * This is not a problem for us since we use the UUID only for generating a\n * request ID, so we can correlate server logs to client errors.\n *\n * This function is taken from following site:\n * https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n *\n * @return {string} The generate UUID\n */\nexport default function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c == 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}","'use strict';\nvar camelCase = require('camelcase');\n\nmodule.exports = function () {\n\tvar cased = camelCase.apply(camelCase, arguments);\n\treturn cased.charAt(0).toUpperCase() + cased.slice(1);\n};\n","'use strict';\nmodule.exports = function () {\n\tvar str = [].map.call(arguments, function (str) {\n\t\treturn str.trim();\n\t}).filter(function (str) {\n\t\treturn str.length;\n\t}).join('-');\n\n\tif (!str.length) {\n\t\treturn '';\n\t}\n\n\tif (str.length === 1 || !(/[_.\\- ]+/).test(str) ) {\n\t\tif (str[0] === str[0].toLowerCase() && str.slice(1) !== str.slice(1).toLowerCase()) {\n\t\t\treturn str;\n\t\t}\n\n\t\treturn str.toLowerCase();\n\t}\n\n\treturn str\n\t.replace(/^[_.\\- ]+/, '')\n\t.toLowerCase()\n\t.replace(/[_.\\- ]+(\\w|$)/g, function (m, p1) {\n\t\treturn p1.toUpperCase();\n\t});\n};\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , controlOrWhitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , port = /:\\d+$/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/;\n\n/**\n * Remove control characters and whitespace from the beginning of a string.\n *\n * @param {Object|String} str String to trim.\n * @returns {String} A new string representing `str` stripped of control\n *     characters and whitespace from its beginning.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(controlOrWhitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (port.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {\n    host += ':';\n  }\n\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","var uppercamelcase = require('uppercamelcase');\nvar statusCodes = require('builtin-status-codes');\n\nmodule.exports = WPError;\n\nfunction WPError () {\n  var self = new Error();\n\n  for (var i = 0; i < arguments.length; i++) {\n    process(self, arguments[i]);\n  }\n\n  if (typeof Error.captureStackTrace === 'function') {\n    Error.captureStackTrace(self, WPError);\n  }\n\n  return self;\n}\n\nfunction process ( self, data ) {\n  if ( ! data ) { \n    return;\n  }\n  \n  if (typeof data === 'number') {\n    setStatusCode( self, data );\n\n  } else {\n    // assume it's a plain 'ol Object with some props to copy over\n    if ( data.status_code ) {\n      setStatusCode( self, data.status_code );\n    }\n\n    if ( data.error ) {\n      self.name = toName( data.error );\n    }\n\n    if ( data.error_description ) {\n      self.message = data.error_description;\n    }\n\n    var errors = data.errors;\n    if ( errors ) {\n      var first = errors.length ? errors[0] : errors;\n      process( self, first );\n    }\n\n    for ( var i in data ) {\n      self[i] = data[i];\n    }\n\n    if ( self.status && ( data.method || data.path ) ) {\n      setStatusCodeMessage( self );\n    }\n  }\n}\n\nfunction setStatusCode ( self, code ) {\n  self.name = toName( statusCodes[ code ] );\n  self.status = self.statusCode = code;\n  setStatusCodeMessage( self );\n}\n\nfunction setStatusCodeMessage ( self ) {\n  var code = self.status;\n  var method = self.method;\n  var path = self.path;\n\n  var m = code + ' status code';\n  var extended = method || path;\n\n  if ( extended ) m += ' for \"';\n  if ( method ) m += method;\n  if ( extended ) m += ' ';\n  if ( path ) m += path;\n  if ( extended ) m += '\"';\n\n  self.message = m;\n}\n\nfunction toName ( str ) {\n  return uppercamelcase( String(str).replace(/error$/i, ''), 'error' );\n}\n","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"wp\"][\"reactI18n\"];","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;"],"names":["module","exports","GetIntrinsic","callBind","$indexOf","name","allowMissing","intrinsic","bind","$apply","$call","$reflectApply","call","$gOPD","$defineProperty","$max","value","e","originalFunction","func","arguments","desc","configurable","length","applyBind","apply","decode","decodeURIComponent","encode","encodeURIComponent","pairSplitRegExp","fieldContentRegExp","tryDecode","str","ReflectOwnKeys","R","Reflect","ReflectApply","target","receiver","args","Function","prototype","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","EventEmitter","init","this","once","emitter","Promise","resolve","reject","eventListener","undefined","errorListener","removeListener","slice","err","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","push","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","on","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","ERROR_MESSAGE","toStr","toString","funcType","bound","binder","result","boundLength","Math","max","boundArgs","join","Empty","implementation","$SyntaxError","SyntaxError","$Function","$TypeError","getEvalledConstructor","expressionSyntax","getOwnPropertyDescriptor","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","hasSymbols","getProto","x","__proto__","needsEval","TypedArray","Uint8Array","INTRINSICS","AggregateError","ArrayBuffer","Symbol","iterator","Atomics","BigInt","Boolean","DataView","Date","decodeURI","encodeURI","eval","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","JSON","Map","parseFloat","parseInt","Proxy","ReferenceError","RegExp","Set","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakRef","WeakSet","doEval","fn","gen","LEGACY_ALIASES","hasOwn","$concat","$spliceApply","splice","$replace","replace","$strSlice","rePropName","reEscapeChar","stringToPath","string","first","last","match","number","quote","subString","getBaseIntrinsic","alias","intrinsicName","parts","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","part","origSymbol","hasSymbolSham","obj","sym","symObj","syms","propertyIsEnumerable","descriptor","hasOwnProperty","utils","assert","BlockHash","pending","pendingTotal","blockSize","constructor","outSize","hmacStrength","padLength","endian","_delta8","_delta32","update","msg","enc","toArray","r","join32","_update","digest","_pad","_digest","bytes","k","res","t","common","shaCommon","sum32","sum32_4","sum32_5","ch32","maj32","s0_256","s1_256","g0_256","g1_256","sha256_K","SHA256","h","W","inherits","start","a","b","c","d","f","g","T1","T2","toHex32","split32","rotr32","y","z","p32","ft_1","s","isSurrogatePair","charCodeAt","htonl","zero2","word","zero8","isArray","p","toHex","end","rotl32","sum32_3","sum64","buf","pos","ah","al","bh","lo","hi","sum64_hi","bl","sum64_lo","sum64_4_hi","ch","cl","dh","dl","carry","sum64_4_lo","sum64_5_hi","eh","el","sum64_5_lo","rotr64_hi","num","rotr64_lo","shr64_hi","shr64_lo","ctor","superCtor","super_","writable","TempCtor","global","self","window","fromUint8Array","_Base64","Base64","version","b64chars","b64tab","bin","l","charAt","fromCharCode","cb_utob","cc","re_utob","utob","u","cb_encode","ccc","padlen","ord","btoa","_encode","mkUriSafe","b64","m0","urisafe","a0","a1","a2","toUint8Array","re_btou","cb_btou","cccc","offset","btou","cb_decode","chars","_atob","atob","_decode","_fromURI","from","noConflict","VERSION","fromBase64","toBase64","noEnum","v","extendString","factory","val","equal","plural","ms","msAbs","isPlural","round","options","exec","toLowerCase","parse","long","abs","fmtLong","fmtShort","stringify","hasMap","mapSizeDescriptor","mapSize","mapForEach","forEach","hasSet","setSizeDescriptor","setSize","setForEach","weakMapHas","has","weakSetHas","weakRefDeref","deref","booleanValueOf","valueOf","objectToString","functionToString","bigIntValueOf","gOPS","symToString","hasShammedSymbols","isEnumerable","gPO","O","inspectCustom","inspectSymbol","isSymbol","toStringTag","wrapQuotes","defaultStyle","opts","quoteChar","quoteStyle","inspect_","depth","seen","maxStringLength","Infinity","customInspect","indent","inspectString","maxDepth","baseIndent","base","prev","getIndent","indexOf","inspect","noIndent","newOpts","nameOf","arrObjKeys","symString","markBoxed","HTMLElement","nodeName","getAttribute","isElement","attrs","attributes","childNodes","xs","singleLineValues","indentedJoin","isError","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","isBigInt","isBoolean","isString","isDate","isRegExp","ys","isPlainObject","protoTag","stringTag","tag","remaining","trailer","lowbyte","toUpperCase","size","entries","lineJoiner","isArr","symMap","test","j","NativeProgressEvent","ProgressEvent","useNative","document","createEvent","props","initEvent","lengthComputable","loaded","total","createEventObject","percentTwenties","Format","formatters","RFC1738","RFC3986","formats","defaults","allowDots","allowPrototypes","allowSparse","arrayLimit","charset","charsetSentinel","comma","decoder","delimiter","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","plainObjects","strictNullHandling","$0","numberStr","parseArrayValue","split","parseKeys","givenKey","valuesParsed","child","segment","parent","chain","leaf","root","cleanRoot","parseObject","normalizeParseOptions","tempObj","cleanStr","limit","skipIndex","bracketEqualsPos","maybeMap","encodedVal","combine","parseValues","newObj","merge","compact","getSideChannel","arrayPrefixGenerators","brackets","prefix","indices","repeat","pushToArray","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","encoder","encodeValuesOnly","format","formatter","serializeDate","date","skipNulls","object","generateArrayPrefix","filter","sort","sideChannel","isBuffer","objKeys","values","keyPrefix","valueSideChannel","normalizeStringifyOptions","arrayFormat","joined","hexTable","array","arrayToObject","source","assign","reduce","acc","queue","o","prop","refs","item","compacted","compactQueue","strWithoutPlus","unescape","defaultEncoder","kind","escape","out","mapped","mergeTarget","targetItem","input","pairs","query","parser","port","protocol","callBound","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","curr","next","$wm","$m","$o","channel","objects","node","listGet","listHas","listSet","whatsNewAssetsUrl","__webpack_public_path__","DEFAULT_STATE","whatsNew","registerStore","reducer","action","actions","toggleWhatsNew","selectors","isWhatsNewActive","WhatsNewMenuItem","showGuide","setShowGuide","useState","useEffect","recordTracksEvent","Fill","MenuItem","onClick","__","onClose","registerPlugin","render","mostRecentUrlPath","addEventListener","EVENT_NAME_EXCEPTIONS","_superProps","_loadTracksResult","pushEventToTracksQueue","_tkq","loadScript","analyticsEvents","eventName","eventProperties","debug","startsWith","includes","superProperties","omitBy","debugFactory","localeContext","createContext","getWpI18nLocaleSlug","locale","TARGET_LOCALES","lowerCaseLocale","mapWpI18nLangToLocaleSlug","i18n","language","useLocale","fromProvider","useContext","providerHasLocale","fromWpI18n","setWpLocale","createHigherOrderComponent","InnerComponent","callbacksForURLsInProgress","getCallbacksMap","isLoading","url","addScriptCallback","callback","callbacksMap","add","executeCallbacks","callbacksForUrl","cb","delete","handleRequestSuccess","onload","handleRequestError","onerror","createScriptElement","script","createElement","src","async","attachToHead","element","head","appendChild","whatsNewData","setWhatsNewData","useI18n","proxiedWpcom","wpcom","request","proxyRequest","req","path","apiNamespace","then","returnedList","Guide","className","contentLabel","__i18n_text_domain__","finishButtonText","onFinish","map","page","pageNumber","isLastPage","description","heading","imageSrc","link","slide_number","is_last_slide","GuidePage","Button","href","isTertiary","isLink","alt","proxyOrigin","origin","location","host","onStreamRecord","postStrings","postMessage","supportsFileConstructor","File","buffered","iframe","requests","supportsProgress","FormData","makeRequest","originalParams","params","install","id","uuidv4","supports_args","supports_error_obj","supports_progress","method","xhr","XMLHttpRequest","called","xhrOnLoad","body","response","headers","xhrOnError","submitRequest","rej","formData","chrome","getFileValue","patchFileObjects","contentWindow","isFile","fileContents","removeEventListener","onmessage","removeChild","style","display","data","upload","download","callbackId","prog","dispatchEvent","onprogress","statusCode","contentType","metaAPI","status","floor","WPError","debugModule","WPCOM","token","reqHandler","substring","Request","pinghub","Pinghub","apiVersion","me","Me","domains","Domains","domain","domainId","Domain","site","Site","users","Users","plans","Plans","batch","Batch","freshlyPressed","sendRequest","log","timeout","timer","delay","setTimeout","cancelTimeout","clearTimeout","race","catch","urls","run","DomainDns","_domain","_subpath","record","post","setDefaultARecords","DomainEmail","email","_email","forward","destination","mailbox","del","_id","isAvailable","isMappable","canRedirect","siteId","emailForwards","nameserversList","updateNameservers","nameservers","dnsList","googleAppsList","resendICANN","dns","mappingSetupInfo","mappingStatus","updateConnectionModeAndGetMappingStatus","mode","suggestions","suggestionsExamples","supportedCountries","supportedStates","countryCode","MeConnectedApp","appId","billingHistory","postsList","sites","likes","connectedApps","keyringConnections","publicizeConnections","settings","MeSettings","connectedApp","publicizeConnection","MePublicizeConnection","twoStep","MeTwoStep","keyringConnection","MeKeyringConnection","KeyringConnection","keyId","PublicizeConnection","connectionId","put","profileLinks","MeProfileLinks","password","MeSettingsPassword","validate","ProfileLinks","mine","links","slug","sms","MeTwoStepSMS","send","features","subpath","Category","sid","_sid","_slug","Comment","cid","pid","_cid","_pid","replies","content","reply","like","commentLike","likesList","CommentLike","SiteCreditVouchers","serviceType","SiteDomain","getPrimary","setPrimary","getRedirect","setRedirect","Follow","site_id","follow","unfollow","Post","addPost","deletePost","media","Media","addMediaFiles","files","addFiles","addMediaUrls","addUrls","deleteMedia","comment","plugin","SitePlugin","wpcomPlugin","SiteWPComPlugin","category","Tag","taxonomy","SiteTaxonomy","creditVouchers","postType","SitePostType","SiteSettings","postCounts","renderShortcode","shortcode","renderEmbed","embed_url","statsReferrersSpamNew","statsReferrersSpamDelete","statsVideo","videoId","statsPostViews","postId","wordAds","SiteWordAds","runtimeBuilder","siteGetMethods","methodParams","ctx","buildFormData","param","createReadStream","isStream","_readableState","file","edit","videoFiles","TusUploader","startUpload","media_urls","pluginPath","updateVersion","activate","active","deactivate","enableAutoupdate","autoupdate","disableAutoupdate","_siteId","_postType","_rootPath","taxonomiesList","termsPath","SitePost","getPostPath","getBySlug","ID","restore","related","comments","Like","reblog","Reblog","subscriber","Subscriber","sitePostGetMethods","destination_site_id","to","dest","note","SitePostSubscriber","getOption","option","fields","setOption","_taxonomy","termsList","term","SiteTaxonomyTerm","_term","_taxonomyPath","SiteWordAdsEarnings","SiteWordAdsSettings","earnings","tos","SiteWordAdsTOS","sign","uploader","resumableUploader","onError","onSuccess","mediaId","onProgress","createGetJwtRequest","jwtData","jwtsForKeys","tus","endpoint","removeFingerprintOnSuccess","withCredentials","autoRetry","overridePatchMethod","chunkSize","allowedFileTypes","metadata","filename","filetype","retryDelays","onAfterResponse","getStatus","guid","getHeader","headerMap","tokenData","header","onBeforeRequest","_method","setHeader","_xhr","open","_url","_headers","headerName","upload_token","URL","pathname","maybeUploadkey","responseData","findPreviousUploads","previousUploads","resumeFromPreviousUpload","suggest","conns","connect","onabort","onclose","remove","disconnect","Req","methodBuilder","buildPath","Class","debug_res","qs","formatArgs","useColors","namespace","humanize","diff","color","lastC","save","namespaces","storage","setItem","removeItem","load","getItem","process","env","DEBUG","__nwjs","navigator","userAgent","documentElement","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","destroy","colors","require","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","coerce","logFn","selectColor","extend","newDebug","toNamespace","regexp","default","stack","disable","names","skips","enable","substr","hash","_classCallCheck","instance","Constructor","_defineProperties","_createClass","protoProps","staticProps","FileSource","_file","StreamSource","reader","_chunkSize","_buffer","_bufferOffset","_reader","_done","_readUntilEnoughDataOrDone","_this","hasEnoughData","_getDataFromBuffer","done","read","_ref","Blob","hasAllDataBeenRead","cancel","blobOrArray","FileReader","uri","blob","fingerprint","exifHash","exif","hashCode","reactNativeFingerprint","lastModified","XHRHttpStack","setRequestHeader","progressHandler","Response","abort","getResponseHeader","responseText","_typeof","_setPrototypeOf","setPrototypeOf","_possibleConstructorReturn","_assertThisInitialized","_isNativeReflectConstruct","construct","sham","_getPrototypeOf","enumerableOnly","symbols","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","defaultOptions","httpStack","fileReader","urlStorage","Upload","_BaseUpload","subClass","superClass","_inherits","Derived","_super","Super","NewTarget","_window","PhoneGap","Cordova","cordova","product","readAsByteArray","chunk","readAsArrayBuffer","uriToBlob","responseType","hasStorage","code","SECURITY_ERR","QUOTA_EXCEEDED_ERR","canStoreURLs","WebStorageUrlStorage","results","_findEntries","urlStorageKey","random","_key","_wrapNativeSuper","_cache","Wrapper","_construct","Parent","DetailedError","_Error","causingErr","originalRequest","originalResponse","causingError","requestId","getMethod","getURL","getBody","isEnabled","NoopUrlStorage","uploadUrl","uploadSize","onChunkComplete","_onUploadUrlAvailable","addRequestId","onShouldRetry","parallelUploads","storeFingerprintForResuming","uploadLengthDeferred","uploadDataDuringCreation","BaseUpload","_urlStorage","_req","_fingerprint","_urlStorageKey","_offset","_aborted","_size","_source","_retryAttempt","_retryTimeout","_offsetBeforeRetry","_parallelUploads","_parallelUploadUrls","findUploadsByFingerprint","previousUpload","parallelUploadUrls","_this2","optionName","_emitError","openFile","_startParallelUpload","_startSingleUpload","_this3","totalSize","totalProgress","partCount","previousUrls","partSize","splitSizeIntoParts","uploads","lastPartProgress","newPartProgress","_emitProgress","_saveUploadInUrlStorage","all","_openRequest","encodeMetadata","_sendRequest","inStatusCategory","resolveUrl","_emitSuccess","_emitHttpError","_resumeUpload","_createUpload","shouldTerminate","_this4","close","terminate","_removeFromUrlStorage","_this5","shouldRetry","bytesSent","bytesTotal","bytesAccepted","_this6","promise","_addChunkToRequest","_handleUploadResponse","_performUpload","_this7","_this8","_this9","setProgressHandler","_ref2","_emitChunkComplete","openRequest","_this10","removeUpload","_this11","storedUpload","creationTime","addUpload","remainingDelays","newOptions","encoded","createRequest","retryAttempt","online","onLine","uuid","camelCase","cased","trim","p1","required","controlOrWhitespace","CRHTLF","slashes","protocolre","windowsDriveLetter","trimLeft","rules","address","isSpecial","NaN","ignore","lolcation","loc","finaldestination","Url","scheme","extractProtocol","rest","forwardSlashes","otherSlashes","slashesCount","relative","extracted","instruction","instructions","lastIndexOf","up","hostname","username","auth","char","ins","getRandomValues","rnds8","rng","crypto","msCrypto","byteToHex","rnds","uppercamelcase","statusCodes","setStatusCode","status_code","toName","error_description","errors","setStatusCodeMessage","extended","captureStackTrace","_extends","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","globalThis","scriptUrl","importScripts","currentScript","scripts","getElementsByTagName"],"sourceRoot":""}