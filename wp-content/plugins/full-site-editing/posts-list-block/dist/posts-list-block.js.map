{"version":3,"file":"posts-list-block.js","mappings":"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","sources":["webpack://EditingToolkit/./editing-toolkit-plugin/posts-list-block/blocks/posts-list/index.js","webpack://EditingToolkit/./editing-toolkit-plugin/posts-list-block/blocks/posts-list/transforms.js","webpack://EditingToolkit/external window [\"wp\",\"blockEditor\"]","webpack://EditingToolkit/external window [\"wp\",\"blocks\"]","webpack://EditingToolkit/external window [\"wp\",\"components\"]","webpack://EditingToolkit/external window [\"wp\",\"data\"]","webpack://EditingToolkit/external window [\"wp\",\"element\"]","webpack://EditingToolkit/external window [\"wp\",\"i18n\"]","webpack://EditingToolkit/webpack/bootstrap","webpack://EditingToolkit/webpack/runtime/compat get default export","webpack://EditingToolkit/webpack/runtime/define property getters","webpack://EditingToolkit/webpack/runtime/hasOwnProperty shorthand","webpack://EditingToolkit/webpack/runtime/make namespace object"],"sourcesContent":["import { InspectorControls } from '@wordpress/block-editor';\nimport {\n\tregisterBlockType,\n\tswitchToBlockType,\n\tgetPossibleBlockTransformations,\n} from '@wordpress/blocks';\nimport { Placeholder, RangeControl, PanelBody, Notice } from '@wordpress/components';\nimport { select, dispatch } from '@wordpress/data';\nimport { Fragment } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport metadata from './block.json';\nimport { transforms, isValidHomepagePostsBlockType } from './transforms';\n\nimport './editor.scss';\nimport './style.scss';\n\nconst icon = (\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t\t<path opacity=\".87\" fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n\t\t<path d=\"M3 5v14h17V5H3zm4 2v2H5V7h2zm-2 6v-2h2v2H5zm0 2h2v2H5v-2zm13 2H9v-2h9v2zm0-4H9v-2h9v2zm0-4H9V7h9v2z\" />\n\t</svg>\n);\n\nregisterBlockType( metadata.name, {\n\ttitle: __( 'Blog Posts Listing', 'full-site-editing' ),\n\tdescription: __( 'Displays your latest Blog Posts.', 'full-site-editing' ),\n\ticon: icon,\n\tcategory: 'layout',\n\tsupports: {\n\t\thtml: false,\n\t\tmultiple: false,\n\t\treusable: false,\n\t\tinserter: false,\n\t},\n\tattributes: metadata.attributes,\n\tedit: ( { attributes, setAttributes, clientId, isSelected } ) => {\n\t\tconst block = select( 'core/block-editor' ).getBlock( clientId );\n\n\t\t// Find if any of possible transformations is into the Homepage Posts block.\n\t\tconst possibleTransforms = getPossibleBlockTransformations( [ block ] );\n\t\tconst homepagePostsTransform = possibleTransforms.find(\n\t\t\t( transform ) => transform && isValidHomepagePostsBlockType( transform.name )\n\t\t);\n\t\tconst canBeUpgraded = !! homepagePostsTransform;\n\n\t\tconst upgradeBlock = () => {\n\t\t\tdispatch( 'core/block-editor' ).replaceBlocks(\n\t\t\t\tblock.clientId,\n\t\t\t\tswitchToBlockType( block, homepagePostsTransform.name )\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{ canBeUpgraded && (\n\t\t\t\t\t<Notice\n\t\t\t\t\t\tactions={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Update Block', 'full-site-editing' ),\n\t\t\t\t\t\t\t\tonClick: upgradeBlock,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tclassName=\"posts-list__notice\"\n\t\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'An improved version of this block is available. Update for a better, more natural way to manage your blog post listings. There may be small visual changes.',\n\t\t\t\t\t\t\t'full-site-editing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Notice>\n\t\t\t\t) }\n\t\t\t\t<Placeholder\n\t\t\t\t\ticon={ icon }\n\t\t\t\t\tlabel={ __( 'Your recent blog posts will be displayed here.', 'full-site-editing' ) }\n\t\t\t\t>\n\t\t\t\t\t{ isSelected ? (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Number of posts to show', 'full-site-editing' ) }\n\t\t\t\t\t\t\tvalue={ attributes.postsPerPage }\n\t\t\t\t\t\t\tonChange={ ( val ) => setAttributes( { postsPerPage: val } ) }\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tmax={ 50 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null }\n\t\t\t\t</Placeholder>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Number of posts', 'full-site-editing' ) }\n\t\t\t\t\t\t\tvalue={ attributes.postsPerPage }\n\t\t\t\t\t\t\tonChange={ ( val ) => setAttributes( { postsPerPage: val } ) }\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tmax={ 50 }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t</Fragment>\n\t\t);\n\t},\n\tsave: () => null,\n\ttransforms,\n} );\n","import { createBlock } from '@wordpress/blocks';\n\nconst HOMEPAGE_POSTS_BLOCK_TYPES = [ 'a8c/blog-posts', 'newspack-blocks/homepage-articles' ];\n\nconst getTransformFunction =\n\t( type ) =>\n\t( { postsPerPage } ) => {\n\t\t// Configure the Newspack block to look as close as possible\n\t\t// to the output of this one.\n\t\treturn createBlock( type, {\n\t\t\tpostsToShow: postsPerPage,\n\t\t\tshowAvatar: false,\n\t\t\tdisplayPostDate: true,\n\t\t\tdisplayPostContent: true,\n\t\t} );\n\t};\n\nexport const isValidHomepagePostsBlockType = ( type ) =>\n\tHOMEPAGE_POSTS_BLOCK_TYPES.indexOf( type ) > -1;\n\nexport const transforms = {\n\tto: HOMEPAGE_POSTS_BLOCK_TYPES.map( ( type ) => ( {\n\t\ttype: 'block',\n\t\tblocks: [ type ],\n\t\ttransform: getTransformFunction( type ),\n\t} ) ),\n};\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["icon","xmlns","width","height","viewBox","opacity","fill","d","registerBlockType","metadata","title","__","description","category","supports","html","multiple","reusable","inserter","attributes","edit","setAttributes","clientId","isSelected","block","select","getBlock","homepagePostsTransform","getPossibleBlockTransformations","find","transform","isValidHomepagePostsBlockType","name","canBeUpgraded","Fragment","Notice","actions","label","onClick","dispatch","replaceBlocks","switchToBlockType","className","isDismissible","Placeholder","RangeControl","value","postsPerPage","onChange","val","min","max","InspectorControls","PanelBody","save","transforms","HOMEPAGE_POSTS_BLOCK_TYPES","getTransformFunction","type","createBlock","postsToShow","showAvatar","displayPostDate","displayPostContent","indexOf","to","map","blocks","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag"],"sourceRoot":""}